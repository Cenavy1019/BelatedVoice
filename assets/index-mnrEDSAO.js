(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(a){const t=Object.create(null);for(const n of a.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&(a.charCodeAt(2)>122||a.charCodeAt(2)<97),isModelListener=a=>a.startsWith("onUpdate:"),extend$1=Object.assign,remove=(a,t)=>{const n=a.indexOf(t);n>-1&&a.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(a,t)=>hasOwnProperty$1.call(a,t),isArray$4=Array.isArray,isMap=a=>toTypeString(a)==="[object Map]",isSet=a=>toTypeString(a)==="[object Set]",isDate=a=>toTypeString(a)==="[object Date]",isFunction$1=a=>typeof a=="function",isString$1=a=>typeof a=="string",isSymbol=a=>typeof a=="symbol",isObject$4=a=>a!==null&&typeof a=="object",isPromise=a=>(isObject$4(a)||isFunction$1(a))&&isFunction$1(a.then)&&isFunction$1(a.catch),objectToString=Object.prototype.toString,toTypeString=a=>objectToString.call(a),toRawType=a=>toTypeString(a).slice(8,-1),isPlainObject=a=>toTypeString(a)==="[object Object]",isIntegerKey=a=>isString$1(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=a=>{const t=Object.create(null);return n=>t[n]||(t[n]=a(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(a=>a.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(a=>a.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(a=>a.charAt(0).toUpperCase()+a.slice(1)),toHandlerKey=cacheStringFunction(a=>a?`on${capitalize(a)}`:""),hasChanged$1=(a,t)=>!Object.is(a,t),invokeArrayFns=(a,...t)=>{for(let n=0;n<a.length;n++)a[n](...t)},def=(a,t,n,o=!1)=>{Object.defineProperty(a,t,{configurable:!0,enumerable:!1,writable:o,value:n})},looseToNumber=a=>{const t=parseFloat(a);return isNaN(t)?a:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(a){if(isArray$4(a)){const t={};for(let n=0;n<a.length;n++){const o=a[n],s=isString$1(o)?parseStringStyle(o):normalizeStyle$1(o);if(s)for(const l in s)t[l]=s[l]}return t}else if(isString$1(a)||isObject$4(a))return a}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(a){const t={};return a.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const o=n.split(propertyDelimiterRE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function normalizeClass(a){let t="";if(isString$1(a))t=a;else if(isArray$4(a))for(let n=0;n<a.length;n++){const o=normalizeClass(a[n]);o&&(t+=o+" ")}else if(isObject$4(a))for(const n in a)a[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(a){return!!a||a===""}function looseCompareArrays(a,t){if(a.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<a.length;o++)n=looseEqual(a[o],t[o]);return n}function looseEqual(a,t){if(a===t)return!0;let n=isDate(a),o=isDate(t);if(n||o)return n&&o?a.getTime()===t.getTime():!1;if(n=isSymbol(a),o=isSymbol(t),n||o)return a===t;if(n=isArray$4(a),o=isArray$4(t),n||o)return n&&o?looseCompareArrays(a,t):!1;if(n=isObject$4(a),o=isObject$4(t),n||o){if(!n||!o)return!1;const s=Object.keys(a).length,l=Object.keys(t).length;if(s!==l)return!1;for(const u in a){const c=a.hasOwnProperty(u),f=t.hasOwnProperty(u);if(c&&!f||!c&&f||!looseEqual(a[u],t[u]))return!1}}return String(a)===String(t)}function looseIndexOf(a,t){return a.findIndex(n=>looseEqual(n,t))}const isRef$1=a=>!!(a&&a.__v_isRef===!0),toDisplayString=a=>isString$1(a)?a:a==null?"":isArray$4(a)||isObject$4(a)&&(a.toString===objectToString||!isFunction$1(a.toString))?isRef$1(a)?toDisplayString(a.value):JSON.stringify(a,replacer,2):String(a),replacer=(a,t)=>isRef$1(t)?replacer(a,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],l)=>(n[stringifySymbol(o,l)+" =>"]=s,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$4(t)&&!isArray$4(t)&&!isPlainObject(t)?String(t):t,stringifySymbol=(a,t="")=>{var n;return isSymbol(a)?`Symbol(${(n=a.description)!=null?n:t})`:a};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function effectScope(a){return new EffectScope(a)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(a,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(a)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(a,t=!1){if(a.flags|=8,t){a.next=batchedComputed,batchedComputed=a;return}a.next=batchedSub,batchedSub=a}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let a;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){a||(a=o)}t=n}}if(a)throw a}function prepareDeps(a){for(let t=a.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(a){let t,n=a.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),removeSub(o),removeDep(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}a.deps=t,a.depsTail=n}function isDirty(a){for(let t=a.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!a._dirty}function refreshComputed(a){if(a.flags&4&&!(a.flags&16)||(a.flags&=-17,a.globalVersion===globalVersion))return;a.globalVersion=globalVersion;const t=a.dep;if(a.flags|=2,t.version>0&&!a.isSSR&&a.deps&&!isDirty(a)){a.flags&=-3;return}const n=activeSub,o=shouldTrack;activeSub=a,shouldTrack=!0;try{prepareDeps(a);const s=a.fn(a._value);(t.version===0||hasChanged$1(s,a._value))&&(a._value=s,t.version++)}catch(s){throw t.version++,s}finally{activeSub=n,shouldTrack=o,cleanupDeps(a),a.flags&=-3}}function removeSub(a,t=!1){const{dep:n,prevSub:o,nextSub:s}=a;if(o&&(o.nextSub=s,a.prevSub=void 0),s&&(s.prevSub=o,a.nextSub=void 0),n.subs===a&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(a){const{prevDep:t,nextDep:n}=a;t&&(t.nextDep=n,a.prevDep=void 0),n&&(n.prevDep=t,a.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const a=trackStack.pop();shouldTrack=a===void 0?!0:a}function cleanupEffect(a){const{cleanup:t}=a;if(a.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=o)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(a){if(a.dep.sc++,a.sub.flags&4){const t=a.dep.computed;if(t&&!a.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)addSub(o)}const n=a.dep.subs;n!==a&&(a.prevSub=n,n&&(n.nextSub=a)),a.dep.subs=a}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(a,t,n){if(shouldTrack&&activeSub){let o=targetMap.get(a);o||targetMap.set(a,o=new Map);let s=o.get(n);s||(o.set(n,s=new Dep),s.map=o,s.key=n),s.track()}}function trigger$2(a,t,n,o,s,l){const u=targetMap.get(a);if(!u){globalVersion++;return}const c=f=>{f&&f.trigger()};if(startBatch(),t==="clear")u.forEach(c);else{const f=isArray$4(a),d=f&&isIntegerKey(n);if(f&&n==="length"){const g=Number(o);u.forEach((y,S)=>{(S==="length"||S===ARRAY_ITERATE_KEY||!isSymbol(S)&&S>=g)&&c(y)})}else switch((n!==void 0||u.has(void 0))&&c(u.get(n)),d&&c(u.get(ARRAY_ITERATE_KEY)),t){case"add":f?d&&c(u.get("length")):(c(u.get(ITERATE_KEY)),isMap(a)&&c(u.get(MAP_KEY_ITERATE_KEY)));break;case"delete":f||(c(u.get(ITERATE_KEY)),isMap(a)&&c(u.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(a)&&c(u.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(a){const t=toRaw(a);return t===a?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(a)?t:t.map(toReactive))}function shallowReadArray(a){return track(a=toRaw(a),"iterate",ARRAY_ITERATE_KEY),a}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,toReactive)},concat(...a){return reactiveReadArray(this).concat(...a.map(t=>isArray$4(t)?reactiveReadArray(t):t))},entries(){return iterator$1(this,"entries",a=>(a[1]=toReactive(a[1]),a))},every(a,t){return apply(this,"every",a,t,void 0,arguments)},filter(a,t){return apply(this,"filter",a,t,n=>n.map(toReactive),arguments)},find(a,t){return apply(this,"find",a,t,toReactive,arguments)},findIndex(a,t){return apply(this,"findIndex",a,t,void 0,arguments)},findLast(a,t){return apply(this,"findLast",a,t,toReactive,arguments)},findLastIndex(a,t){return apply(this,"findLastIndex",a,t,void 0,arguments)},forEach(a,t){return apply(this,"forEach",a,t,void 0,arguments)},includes(...a){return searchProxy(this,"includes",a)},indexOf(...a){return searchProxy(this,"indexOf",a)},join(a){return reactiveReadArray(this).join(a)},lastIndexOf(...a){return searchProxy(this,"lastIndexOf",a)},map(a,t){return apply(this,"map",a,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...a){return noTracking(this,"push",a)},reduce(a,...t){return reduce$1(this,"reduce",a,t)},reduceRight(a,...t){return reduce$1(this,"reduceRight",a,t)},shift(){return noTracking(this,"shift")},some(a,t){return apply(this,"some",a,t,void 0,arguments)},splice(...a){return noTracking(this,"splice",a)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(a){return reactiveReadArray(this).toSorted(a)},toSpliced(...a){return reactiveReadArray(this).toSpliced(...a)},unshift(...a){return noTracking(this,"unshift",a)},values(){return iterator$1(this,"values",toReactive)}};function iterator$1(a,t,n){const o=shallowReadArray(a),s=o[t]();return o!==a&&!isShallow(a)&&(s._next=s.next,s.next=()=>{const l=s._next();return l.value&&(l.value=n(l.value)),l}),s}const arrayProto$1=Array.prototype;function apply(a,t,n,o,s,l){const u=shallowReadArray(a),c=u!==a&&!isShallow(a),f=u[t];if(f!==arrayProto$1[t]){const y=f.apply(a,l);return c?toReactive(y):y}let d=n;u!==a&&(c?d=function(y,S){return n.call(this,toReactive(y),S,a)}:n.length>2&&(d=function(y,S){return n.call(this,y,S,a)}));const g=f.call(u,d,o);return c&&s?s(g):g}function reduce$1(a,t,n,o){const s=shallowReadArray(a);let l=n;return s!==a&&(isShallow(a)?n.length>3&&(l=function(u,c,f){return n.call(this,u,c,f,a)}):l=function(u,c,f){return n.call(this,u,toReactive(c),f,a)}),s[t](l,...o)}function searchProxy(a,t,n){const o=toRaw(a);track(o,"iterate",ARRAY_ITERATE_KEY);const s=o[t](...n);return(s===-1||s===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),o[t](...n)):s}function noTracking(a,t,n=[]){pauseTracking(),startBatch();const o=toRaw(a)[t].apply(a,n);return endBatch(),resetTracking(),o}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(isSymbol));function hasOwnProperty(a){isSymbol(a)||(a=String(a));const t=toRaw(this);return track(t,"has",a),t.hasOwnProperty(a)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return l;if(n==="__v_raw")return o===(s?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const u=isArray$4(t);if(!s){let f;if(u&&(f=arrayInstrumentations[n]))return f;if(n==="hasOwnProperty")return hasOwnProperty}const c=Reflect.get(t,n,isRef(t)?t:o);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(s||track(t,"get",n),l)?c:isRef(c)?u&&isIntegerKey(n)?c:c.value:isObject$4(c)?s?readonly(c):reactive(c):c}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,o,s){let l=t[n];if(!this._isShallow){const f=isReadonly(l);if(!isShallow(o)&&!isReadonly(o)&&(l=toRaw(l),o=toRaw(o)),!isArray$4(t)&&isRef(l)&&!isRef(o))return f?!1:(l.value=o,!0)}const u=isArray$4(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn$1(t,n),c=Reflect.set(t,n,o,isRef(t)?t:s);return t===toRaw(s)&&(u?hasChanged$1(o,l)&&trigger$2(t,"set",n,o):trigger$2(t,"add",n,o)),c}deleteProperty(t,n){const o=hasOwn$1(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&trigger$2(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),o}ownKeys(t){return track(t,"iterate",isArray$4(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=a=>a,getProto=a=>Reflect.getPrototypeOf(a);function createIterableMethod(a,t,n){return function(...o){const s=this.__v_raw,l=toRaw(s),u=isMap(l),c=a==="entries"||a===Symbol.iterator&&u,f=a==="keys"&&u,d=s[a](...o),g=n?toShallow:t?toReadonly:toReactive;return!t&&track(l,"iterate",f?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:S}=d.next();return S?{value:y,done:S}:{value:c?[g(y[0]),g(y[1])]:g(y),done:S}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(a){return function(...t){return a==="delete"?!1:a==="clear"?void 0:this}}function createInstrumentations(a,t){const n={get(s){const l=this.__v_raw,u=toRaw(l),c=toRaw(s);a||(hasChanged$1(s,c)&&track(u,"get",s),track(u,"get",c));const{has:f}=getProto(u),d=t?toShallow:a?toReadonly:toReactive;if(f.call(u,s))return d(l.get(s));if(f.call(u,c))return d(l.get(c));l!==u&&l.get(s)},get size(){const s=this.__v_raw;return!a&&track(toRaw(s),"iterate",ITERATE_KEY),Reflect.get(s,"size",s)},has(s){const l=this.__v_raw,u=toRaw(l),c=toRaw(s);return a||(hasChanged$1(s,c)&&track(u,"has",s),track(u,"has",c)),s===c?l.has(s):l.has(s)||l.has(c)},forEach(s,l){const u=this,c=u.__v_raw,f=toRaw(c),d=t?toShallow:a?toReadonly:toReactive;return!a&&track(f,"iterate",ITERATE_KEY),c.forEach((g,y)=>s.call(l,d(g),d(y),u))}};return extend$1(n,a?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(s){!t&&!isShallow(s)&&!isReadonly(s)&&(s=toRaw(s));const l=toRaw(this);return getProto(l).has.call(l,s)||(l.add(s),trigger$2(l,"add",s,s)),this},set(s,l){!t&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const u=toRaw(this),{has:c,get:f}=getProto(u);let d=c.call(u,s);d||(s=toRaw(s),d=c.call(u,s));const g=f.call(u,s);return u.set(s,l),d?hasChanged$1(l,g)&&trigger$2(u,"set",s,l):trigger$2(u,"add",s,l),this},delete(s){const l=toRaw(this),{has:u,get:c}=getProto(l);let f=u.call(l,s);f||(s=toRaw(s),f=u.call(l,s)),c&&c.call(l,s);const d=l.delete(s);return f&&trigger$2(l,"delete",s,void 0),d},clear(){const s=toRaw(this),l=s.size!==0,u=s.clear();return l&&trigger$2(s,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=createIterableMethod(s,a,t)}),n}function createInstrumentationGetter(a,t){const n=createInstrumentations(a,t);return(o,s,l)=>s==="__v_isReactive"?!a:s==="__v_isReadonly"?a:s==="__v_raw"?o:Reflect.get(hasOwn$1(n,s)&&s in o?n:o,s,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(a){return a.__v_skip||!Object.isExtensible(a)?0:targetTypeMap(toRawType(a))}function reactive(a){return isReadonly(a)?a:createReactiveObject(a,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(a){return createReactiveObject(a,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(a){return createReactiveObject(a,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(a){return createReactiveObject(a,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(a,t,n,o,s){if(!isObject$4(a)||a.__v_raw&&!(t&&a.__v_isReactive))return a;const l=s.get(a);if(l)return l;const u=getTargetType(a);if(u===0)return a;const c=new Proxy(a,u===2?o:n);return s.set(a,c),c}function isReactive(a){return isReadonly(a)?isReactive(a.__v_raw):!!(a&&a.__v_isReactive)}function isReadonly(a){return!!(a&&a.__v_isReadonly)}function isShallow(a){return!!(a&&a.__v_isShallow)}function isProxy(a){return a?!!a.__v_raw:!1}function toRaw(a){const t=a&&a.__v_raw;return t?toRaw(t):a}function markRaw(a){return!hasOwn$1(a,"__v_skip")&&Object.isExtensible(a)&&def(a,"__v_skip",!0),a}const toReactive=a=>isObject$4(a)?reactive(a):a,toReadonly=a=>isObject$4(a)?readonly(a):a;function isRef(a){return a?a.__v_isRef===!0:!1}function ref(a){return createRef(a,!1)}function shallowRef(a){return createRef(a,!0)}function createRef(a,t){return isRef(a)?a:new RefImpl(a,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||isShallow(t)||isReadonly(t);t=o?t:toRaw(t),hasChanged$1(t,n)&&(this._rawValue=t,this._value=o?t:toReactive(t),this.dep.trigger())}}function unref(a){return isRef(a)?a.value:a}function toValue$1(a){return isFunction$1(a)?a():unref(a)}const shallowUnwrapHandlers={get:(a,t,n)=>t==="__v_raw"?a:unref(Reflect.get(a,t,n)),set:(a,t,n,o)=>{const s=a[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(a,t,n,o)}};function proxyRefs(a){return isReactive(a)?a:new Proxy(a,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(a,t,n=!1){let o,s;return isFunction$1(a)?o=a:(o=a.get,s=a.set),new ComputedRefImpl(o,s,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(a,t=!1,n=activeWatcher){if(n){let o=cleanupMap.get(n);o||cleanupMap.set(n,o=[]),o.push(a)}}function watch$1(a,t,n=EMPTY_OBJ$1){const{immediate:o,deep:s,once:l,scheduler:u,augmentJob:c,call:f}=n,d=P=>s?P:isShallow(P)||s===!1||s===0?traverse(P,1):traverse(P);let g,y,S,_,x=!1,b=!1;if(isRef(a)?(y=()=>a.value,x=isShallow(a)):isReactive(a)?(y=()=>d(a),x=!0):isArray$4(a)?(b=!0,x=a.some(P=>isReactive(P)||isShallow(P)),y=()=>a.map(P=>{if(isRef(P))return P.value;if(isReactive(P))return d(P);if(isFunction$1(P))return f?f(P,2):P()})):isFunction$1(a)?t?y=f?()=>f(a,2):a:y=()=>{if(S){pauseTracking();try{S()}finally{resetTracking()}}const P=activeWatcher;activeWatcher=g;try{return f?f(a,3,[_]):a(_)}finally{activeWatcher=P}}:y=NOOP,t&&s){const P=y,M=s===!0?1/0:s;y=()=>traverse(P(),M)}const T=getCurrentScope(),A=()=>{g.stop(),T&&T.active&&remove(T.effects,g)};if(l&&t){const P=t;t=(...M)=>{P(...M),A()}}let C=b?new Array(a.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const E=P=>{if(!(!(g.flags&1)||!g.dirty&&!P))if(t){const M=g.run();if(s||x||(b?M.some((I,D)=>hasChanged$1(I,C[D])):hasChanged$1(M,C))){S&&S();const I=activeWatcher;activeWatcher=g;try{const D=[M,C===INITIAL_WATCHER_VALUE?void 0:b&&C[0]===INITIAL_WATCHER_VALUE?[]:C,_];f?f(t,3,D):t(...D),C=M}finally{activeWatcher=I}}}else g.run()};return c&&c(E),g=new ReactiveEffect(y),g.scheduler=u?()=>u(E,!1):E,_=P=>onWatcherCleanup(P,!1,g),S=g.onStop=()=>{const P=cleanupMap.get(g);if(P){if(f)f(P,4);else for(const M of P)M();cleanupMap.delete(g)}},t?o?E(!0):C=g.run():u?u(E.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function traverse(a,t=1/0,n){if(t<=0||!isObject$4(a)||a.__v_skip||(n=n||new Set,n.has(a)))return a;if(n.add(a),t--,isRef(a))traverse(a.value,t,n);else if(isArray$4(a))for(let o=0;o<a.length;o++)traverse(a[o],t,n);else if(isSet(a)||isMap(a))a.forEach(o=>{traverse(o,t,n)});else if(isPlainObject(a)){for(const o in a)traverse(a[o],t,n);for(const o of Object.getOwnPropertySymbols(a))Object.prototype.propertyIsEnumerable.call(a,o)&&traverse(a[o],t,n)}return a}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(a,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,o=n&&n.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,n,11,[a+t.map(l=>{var u,c;return(c=(u=l.toString)==null?void 0:u.call(l))!=null?c:JSON.stringify(l)}).join(""),n&&n.proxy,s.map(({vnode:l})=>`at <${formatComponentName(n,l.type)}>`).join(`
`),s]);else{const l=[`[Vue warn]: ${a}`,...t];s.length&&l.push(`
`,...formatTrace(s)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let a=stack[stack.length-1];if(!a)return[];const t=[];for(;a;){const n=t[0];n&&n.vnode===a?n.recurseCount++:t.push({vnode:a,recurseCount:0});const o=a.component&&a.component.parent;a=o&&o.vnode}return t}function formatTrace(a){const t=[];return a.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:a,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=a.component?a.component.parent==null:!1,s=` at <${formatComponentName(a.component,a.type,o)}`,l=">"+n;return a.props?[s,...formatProps(a.props),l]:[s+l]}function formatProps(a){const t=[],n=Object.keys(a);return n.slice(0,3).forEach(o=>{t.push(...formatProp(o,a[o]))}),n.length>3&&t.push(" ..."),t}function formatProp(a,t,n){return isString$1(t)?(t=JSON.stringify(t),n?t:[`${a}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${a}=${t}`]:isRef(t)?(t=formatProp(a,toRaw(t.value),!0),n?t:[`${a}=Ref<`,t,">"]):isFunction$1(t)?[`${a}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${a}=`,t])}function callWithErrorHandling(a,t,n,o){try{return o?a(...o):a()}catch(s){handleError(s,t,n)}}function callWithAsyncErrorHandling(a,t,n,o){if(isFunction$1(a)){const s=callWithErrorHandling(a,t,n,o);return s&&isPromise(s)&&s.catch(l=>{handleError(l,t,n)}),s}if(isArray$4(a)){const s=[];for(let l=0;l<a.length;l++)s.push(callWithAsyncErrorHandling(a[l],t,n,o));return s}}function handleError(a,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||EMPTY_OBJ$1;if(t){let c=t.parent;const f=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](a,f,d)===!1)return}c=c.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[a,f,d]),resetTracking();return}}logError$1(a,n,s,o,u)}function logError$1(a,t,n,o=!0,s=!1){if(s)throw a;console.error(a)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(a){const t=currentFlushPromise||resolvedPromise;return a?t.then(this?a.bind(this):a):t}function findInsertionIndex$1(a){let t=flushIndex+1,n=queue.length;for(;t<n;){const o=t+n>>>1,s=queue[o],l=getId$1(s);l<a||l===a&&s.flags&2?t=o+1:n=o}return t}function queueJob(a){if(!(a.flags&1)){const t=getId$1(a),n=queue[queue.length-1];!n||!(a.flags&2)&&t>=getId$1(n)?queue.push(a):queue.splice(findInsertionIndex$1(t),0,a),a.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(a){isArray$4(a)?pendingPostFlushCbs.push(...a):activePostFlushCbs&&a.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,a):a.flags&1||(pendingPostFlushCbs.push(a),a.flags|=1),queueFlush()}function flushPreFlushCbs(a,t,n=flushIndex+1){for(;n<queue.length;n++){const o=queue[n];if(o&&o.flags&2){if(a&&o.id!==a.uid)continue;queue.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function flushPostFlushCbs(a){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,o)=>getId$1(n)-getId$1(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId$1=a=>a.id==null?a.flags&2?-1:1/0:a.id;function flushJobs(a){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(a){const t=currentRenderingInstance;return currentRenderingInstance=a,currentScopeId=a&&a.type.__scopeId||null,t}function withCtx(a,t=currentRenderingInstance,n){if(!t||a._n)return a;const o=(...s)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(t);let u;try{u=a(...s)}finally{setCurrentRenderingInstance(l),o._d&&setBlockTracking(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function withDirectives(a,t){if(currentRenderingInstance===null)return a;const n=getComponentPublicInstance(currentRenderingInstance),o=a.dirs||(a.dirs=[]);for(let s=0;s<t.length;s++){let[l,u,c,f=EMPTY_OBJ$1]=t[s];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(u),o.push({dir:l,instance:n,value:u,oldValue:void 0,arg:c,modifiers:f}))}return a}function invokeDirectiveHook(a,t,n,o){const s=a.dirs,l=t&&t.dirs;for(let u=0;u<s.length;u++){const c=s[u];l&&(c.oldValue=l[u].value);let f=c.dir[o];f&&(pauseTracking(),callWithAsyncErrorHandling(f,n,8,[a.el,c,a,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=a=>a.__isTeleport;function setTransitionHooks(a,t){a.shapeFlag&6&&a.component?(a.transition=t,setTransitionHooks(a.component.subTree,t)):a.shapeFlag&128?(a.ssContent.transition=t.clone(a.ssContent),a.ssFallback.transition=t.clone(a.ssFallback)):a.transition=t}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(a,t){return isFunction$1(a)?extend$1({name:a.name},t,{setup:a}):a}function markAsyncBoundary(a){a.ids=[a.ids[0]+a.ids[2]+++"-",0,0]}function setRef(a,t,n,o,s=!1){if(isArray$4(a)){a.forEach((x,b)=>setRef(x,t&&(isArray$4(t)?t[b]:t),n,o,s));return}if(isAsyncWrapper(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&setRef(a,t,n,o.component.subTree);return}const l=o.shapeFlag&4?getComponentPublicInstance(o.component):o.el,u=s?null:l,{i:c,r:f}=a,d=t&&t.r,g=c.refs===EMPTY_OBJ$1?c.refs={}:c.refs,y=c.setupState,S=toRaw(y),_=y===EMPTY_OBJ$1?()=>!1:x=>hasOwn$1(S,x);if(d!=null&&d!==f&&(isString$1(d)?(g[d]=null,_(d)&&(y[d]=null)):isRef(d)&&(d.value=null)),isFunction$1(f))callWithErrorHandling(f,c,12,[u,g]);else{const x=isString$1(f),b=isRef(f);if(x||b){const T=()=>{if(a.f){const A=x?_(f)?y[f]:g[f]:f.value;s?isArray$4(A)&&remove(A,l):isArray$4(A)?A.includes(l)||A.push(l):x?(g[f]=[l],_(f)&&(y[f]=g[f])):(f.value=[l],a.k&&(g[a.k]=f.value))}else x?(g[f]=u,_(f)&&(y[f]=u)):b&&(f.value=u,a.k&&(g[a.k]=u))};u?(T.id=-1,queuePostRenderEffect(T,n)):T()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=a=>!!a.type.__asyncLoader,isKeepAlive=a=>a.type.__isKeepAlive;function onActivated(a,t){registerKeepAliveHook(a,"a",t)}function onDeactivated(a,t){registerKeepAliveHook(a,"da",t)}function registerKeepAliveHook(a,t,n=currentInstance){const o=a.__wdc||(a.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return a()});if(injectHook(t,o,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,t,n,s),s=s.parent}}function injectToKeepAliveRoot(a,t,n,o){const s=injectHook(t,a,o,!0);onUnmounted(()=>{remove(o[t],s)},n)}function injectHook(a,t,n=currentInstance,o=!1){if(n){const s=n[a]||(n[a]=[]),l=t.__weh||(t.__weh=(...u)=>{pauseTracking();const c=setCurrentInstance(n),f=callWithAsyncErrorHandling(t,n,a,u);return c(),resetTracking(),f});return o?s.unshift(l):s.push(l),l}}const createHook=a=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||a==="sp")&&injectHook(a,(...o)=>t(...o),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(a,t=currentInstance){injectHook("ec",a,t)}const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(a){return isString$1(a)?resolveAsset(COMPONENTS,a,!1)||a:a||NULL_DYNAMIC_COMPONENT}function resolveAsset(a,t,n=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const l=s.type;{const c=getComponentName(l,!1);if(c&&(c===t||c===camelize(t)||c===capitalize(camelize(t))))return l}const u=resolve(s[a]||l[a],t)||resolve(s.appContext[a],t);return!u&&o?l:u}}function resolve(a,t){return a&&(a[t]||a[camelize(t)]||a[capitalize(camelize(t))])}function renderList(a,t,n,o){let s;const l=n,u=isArray$4(a);if(u||isString$1(a)){const c=u&&isReactive(a);let f=!1;c&&(f=!isShallow(a),a=shallowReadArray(a)),s=new Array(a.length);for(let d=0,g=a.length;d<g;d++)s[d]=t(f?toReactive(a[d]):a[d],d,void 0,l)}else if(typeof a=="number"){s=new Array(a);for(let c=0;c<a;c++)s[c]=t(c+1,c,void 0,l)}else if(isObject$4(a))if(a[Symbol.iterator])s=Array.from(a,(c,f)=>t(c,f,void 0,l));else{const c=Object.keys(a);s=new Array(c.length);for(let f=0,d=c.length;f<d;f++){const g=c[f];s[f]=t(a[g],g,f,l)}}else s=[];return s}function renderSlot(a,t,n={},o,s){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return openBlock(),createBlock(Fragment,null,[createVNode$1("slot",n,o)],64);let l=a[t];l&&l._c&&(l._d=!1),openBlock();const u=l&&ensureValidVNode(l(n)),c=n.key||u&&u.key,f=createBlock(Fragment,{key:(c&&!isSymbol(c)?c:`_${t}`)+""},u||[],u&&a._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),l&&l._c&&(l._d=!0),f}function ensureValidVNode(a){return a.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?a:null}const getPublicInstance=a=>a?isStatefulComponent(a)?getComponentPublicInstance(a):getPublicInstance(a.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>getPublicInstance(a.parent),$root:a=>getPublicInstance(a.root),$host:a=>a.ce,$emit:a=>a.emit,$options:a=>resolveMergedOptions(a),$forceUpdate:a=>a.f||(a.f=()=>{queueJob(a.update)}),$nextTick:a=>a.n||(a.n=nextTick.bind(a.proxy)),$watch:a=>instanceWatch.bind(a)}),hasSetupBinding=(a,t)=>a!==EMPTY_OBJ$1&&!a.__isScriptSetup&&hasOwn$1(a,t),PublicInstanceProxyHandlers={get({_:a},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:l,accessCache:u,type:c,appContext:f}=a;let d;if(t[0]!=="$"){const _=u[t];if(_!==void 0)switch(_){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return l[t]}else{if(hasSetupBinding(o,t))return u[t]=1,o[t];if(s!==EMPTY_OBJ$1&&hasOwn$1(s,t))return u[t]=2,s[t];if((d=a.propsOptions[0])&&hasOwn$1(d,t))return u[t]=3,l[t];if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return u[t]=4,n[t];shouldCacheAccess&&(u[t]=0)}}const g=publicPropertiesMap[t];let y,S;if(g)return t==="$attrs"&&track(a.attrs,"get",""),g(a);if((y=c.__cssModules)&&(y=y[t]))return y;if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return u[t]=4,n[t];if(S=f.config.globalProperties,hasOwn$1(S,t))return S[t]},set({_:a},t,n){const{data:o,setupState:s,ctx:l}=a;return hasSetupBinding(s,t)?(s[t]=n,!0):o!==EMPTY_OBJ$1&&hasOwn$1(o,t)?(o[t]=n,!0):hasOwn$1(a.props,t)||t[0]==="$"&&t.slice(1)in a?!1:(l[t]=n,!0)},has({_:{data:a,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:l}},u){let c;return!!n[u]||a!==EMPTY_OBJ$1&&hasOwn$1(a,u)||hasSetupBinding(t,u)||(c=l[0])&&hasOwn$1(c,u)||hasOwn$1(o,u)||hasOwn$1(publicPropertiesMap,u)||hasOwn$1(s.config.globalProperties,u)},defineProperty(a,t,n){return n.get!=null?a._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(a,t,n.value,null),Reflect.defineProperty(a,t,n)}};function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const a=getCurrentInstance();return a.setupContext||(a.setupContext=createSetupContext(a))}function normalizePropsOrEmits(a){return isArray$4(a)?a.reduce((t,n)=>(t[n]=null,t),{}):a}let shouldCacheAccess=!0;function applyOptions(a){const t=resolveMergedOptions(a),n=a.proxy,o=a.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,a,"bc");const{data:s,computed:l,methods:u,watch:c,provide:f,inject:d,created:g,beforeMount:y,mounted:S,beforeUpdate:_,updated:x,activated:b,deactivated:T,beforeDestroy:A,beforeUnmount:C,destroyed:E,unmounted:P,render:M,renderTracked:I,renderTriggered:D,errorCaptured:L,serverPrefetch:$,expose:O,inheritAttrs:V,components:F,directives:z,filters:U}=t;if(d&&resolveInjections(d,o,null),u)for(const G in u){const R=u[G];isFunction$1(R)&&(o[G]=R.bind(n))}if(s){const G=s.call(n,n);isObject$4(G)&&(a.data=reactive(G))}if(shouldCacheAccess=!0,l)for(const G in l){const R=l[G],B=isFunction$1(R)?R.bind(n,n):isFunction$1(R.get)?R.get.bind(n,n):NOOP,j=!isFunction$1(R)&&isFunction$1(R.set)?R.set.bind(n):NOOP,W=computed({get:B,set:j});Object.defineProperty(o,G,{enumerable:!0,configurable:!0,get:()=>W.value,set:X=>W.value=X})}if(c)for(const G in c)createWatcher(c[G],o,n,G);if(f){const G=isFunction$1(f)?f.call(n):f;Reflect.ownKeys(G).forEach(R=>{provide(R,G[R])})}g&&callHook(g,a,"c");function N(G,R){isArray$4(R)?R.forEach(B=>G(B.bind(n))):R&&G(R.bind(n))}if(N(onBeforeMount,y),N(onMounted,S),N(onBeforeUpdate,_),N(onUpdated,x),N(onActivated,b),N(onDeactivated,T),N(onErrorCaptured,L),N(onRenderTracked,I),N(onRenderTriggered,D),N(onBeforeUnmount,C),N(onUnmounted,P),N(onServerPrefetch,$),isArray$4(O))if(O.length){const G=a.exposed||(a.exposed={});O.forEach(R=>{Object.defineProperty(G,R,{get:()=>n[R],set:B=>n[R]=B})})}else a.exposed||(a.exposed={});M&&a.render===NOOP&&(a.render=M),V!=null&&(a.inheritAttrs=V),F&&(a.components=F),z&&(a.directives=z),$&&markAsyncBoundary(a)}function resolveInjections(a,t,n=NOOP){isArray$4(a)&&(a=normalizeInject(a));for(const o in a){const s=a[o];let l;isObject$4(s)?"default"in s?l=inject(s.from||o,s.default,!0):l=inject(s.from||o):l=inject(s),isRef(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[o]=l}}function callHook(a,t,n){callWithAsyncErrorHandling(isArray$4(a)?a.map(o=>o.bind(t.proxy)):a.bind(t.proxy),t,n)}function createWatcher(a,t,n,o){let s=o.includes(".")?createPathGetter(n,o):()=>n[o];if(isString$1(a)){const l=t[a];isFunction$1(l)&&watch(s,l)}else if(isFunction$1(a))watch(s,a.bind(n));else if(isObject$4(a))if(isArray$4(a))a.forEach(l=>createWatcher(l,t,n,o));else{const l=isFunction$1(a.handler)?a.handler.bind(n):t[a.handler];isFunction$1(l)&&watch(s,l,a)}}function resolveMergedOptions(a){const t=a.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:l,config:{optionMergeStrategies:u}}=a.appContext,c=l.get(t);let f;return c?f=c:!s.length&&!n&&!o?f=t:(f={},s.length&&s.forEach(d=>mergeOptions$1(f,d,u,!0)),mergeOptions$1(f,t,u)),isObject$4(t)&&l.set(t,f),f}function mergeOptions$1(a,t,n,o=!1){const{mixins:s,extends:l}=t;l&&mergeOptions$1(a,l,n,!0),s&&s.forEach(u=>mergeOptions$1(a,u,n,!0));for(const u in t)if(!(o&&u==="expose")){const c=internalOptionMergeStrats[u]||n&&n[u];a[u]=c?c(a[u],t[u]):t[u]}return a}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(a,t){return t?a?function(){return extend$1(isFunction$1(a)?a.call(this,this):a,isFunction$1(t)?t.call(this,this):t)}:t:a}function mergeInject(a,t){return mergeObjectOptions(normalizeInject(a),normalizeInject(t))}function normalizeInject(a){if(isArray$4(a)){const t={};for(let n=0;n<a.length;n++)t[a[n]]=a[n];return t}return a}function mergeAsArray(a,t){return a?[...new Set([].concat(a,t))]:t}function mergeObjectOptions(a,t){return a?extend$1(Object.create(null),a,t):t}function mergeEmitsOrPropsOptions(a,t){return a?isArray$4(a)&&isArray$4(t)?[...new Set([...a,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(a),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(a,t){if(!a)return t;if(!t)return a;const n=extend$1(Object.create(null),a);for(const o in t)n[o]=mergeAsArray(a[o],t[o]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(a,t){return function(o,s=null){isFunction$1(o)||(o=extend$1({},o)),s!=null&&!isObject$4(s)&&(s=null);const l=createAppContext(),u=new WeakSet,c=[];let f=!1;const d=l.app={_uid:uid$1++,_component:o,_props:s,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(g){},use(g,...y){return u.has(g)||(g&&isFunction$1(g.install)?(u.add(g),g.install(d,...y)):isFunction$1(g)&&(u.add(g),g(d,...y))),d},mixin(g){return l.mixins.includes(g)||l.mixins.push(g),d},component(g,y){return y?(l.components[g]=y,d):l.components[g]},directive(g,y){return y?(l.directives[g]=y,d):l.directives[g]},mount(g,y,S){if(!f){const _=d._ceVNode||createVNode$1(o,s);return _.appContext=l,S===!0?S="svg":S===!1&&(S=void 0),a(_,g,S),f=!0,d._container=g,g.__vue_app__=d,getComponentPublicInstance(_.component)}},onUnmount(g){c.push(g)},unmount(){f&&(callWithAsyncErrorHandling(c,d._instance,16),a(null,d._container),delete d._container.__vue_app__)},provide(g,y){return l.provides[g]=y,d},runWithContext(g){const y=currentApp;currentApp=d;try{return g()}finally{currentApp=y}}};return d}}let currentApp=null;function provide(a,t){if(currentInstance){let n=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===n&&(n=currentInstance.provides=Object.create(o)),n[a]=t}}function inject(a,t,n=!1){const o=currentInstance||currentRenderingInstance;if(o||currentApp){const s=currentApp?currentApp._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&a in s)return s[a];if(arguments.length>1)return n&&isFunction$1(t)?t.call(o&&o.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=a=>Object.getPrototypeOf(a)===internalObjectProto;function initProps$1(a,t,n,o=!1){const s={},l=createInternalObject();a.propsDefaults=Object.create(null),setFullProps(a,t,s,l);for(const u in a.propsOptions[0])u in s||(s[u]=void 0);n?a.props=o?s:shallowReactive(s):a.type.props?a.props=s:a.props=l,a.attrs=l}function updateProps$2(a,t,n,o){const{props:s,attrs:l,vnode:{patchFlag:u}}=a,c=toRaw(s),[f]=a.propsOptions;let d=!1;if((o||u>0)&&!(u&16)){if(u&8){const g=a.vnode.dynamicProps;for(let y=0;y<g.length;y++){let S=g[y];if(isEmitListener(a.emitsOptions,S))continue;const _=t[S];if(f)if(hasOwn$1(l,S))_!==l[S]&&(l[S]=_,d=!0);else{const x=camelize(S);s[x]=resolvePropValue(f,c,x,_,a,!1)}else _!==l[S]&&(l[S]=_,d=!0)}}}else{setFullProps(a,t,s,l)&&(d=!0);let g;for(const y in c)(!t||!hasOwn$1(t,y)&&((g=hyphenate(y))===y||!hasOwn$1(t,g)))&&(f?n&&(n[y]!==void 0||n[g]!==void 0)&&(s[y]=resolvePropValue(f,c,y,void 0,a,!0)):delete s[y]);if(l!==c)for(const y in l)(!t||!hasOwn$1(t,y))&&(delete l[y],d=!0)}d&&trigger$2(a.attrs,"set","")}function setFullProps(a,t,n,o){const[s,l]=a.propsOptions;let u=!1,c;if(t)for(let f in t){if(isReservedProp(f))continue;const d=t[f];let g;s&&hasOwn$1(s,g=camelize(f))?!l||!l.includes(g)?n[g]=d:(c||(c={}))[g]=d:isEmitListener(a.emitsOptions,f)||(!(f in o)||d!==o[f])&&(o[f]=d,u=!0)}if(l){const f=toRaw(n),d=c||EMPTY_OBJ$1;for(let g=0;g<l.length;g++){const y=l[g];n[y]=resolvePropValue(s,f,y,d[y],a,!hasOwn$1(d,y))}}return u}function resolvePropValue(a,t,n,o,s,l){const u=a[n];if(u!=null){const c=hasOwn$1(u,"default");if(c&&o===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&isFunction$1(f)){const{propsDefaults:d}=s;if(n in d)o=d[n];else{const g=setCurrentInstance(s);o=d[n]=f.call(null,t),g()}}else o=f;s.ce&&s.ce._setProp(n,o)}u[0]&&(l&&!c?o=!1:u[1]&&(o===""||o===hyphenate(n))&&(o=!0))}return o}const mixinPropsCache=new WeakMap;function normalizePropsOptions(a,t,n=!1){const o=n?mixinPropsCache:t.propsCache,s=o.get(a);if(s)return s;const l=a.props,u={},c=[];let f=!1;if(!isFunction$1(a)){const g=y=>{f=!0;const[S,_]=normalizePropsOptions(y,t,!0);extend$1(u,S),_&&c.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(g),a.extends&&g(a.extends),a.mixins&&a.mixins.forEach(g)}if(!l&&!f)return isObject$4(a)&&o.set(a,EMPTY_ARR),EMPTY_ARR;if(isArray$4(l))for(let g=0;g<l.length;g++){const y=camelize(l[g]);validatePropName(y)&&(u[y]=EMPTY_OBJ$1)}else if(l)for(const g in l){const y=camelize(g);if(validatePropName(y)){const S=l[g],_=u[y]=isArray$4(S)||isFunction$1(S)?{type:S}:extend$1({},S),x=_.type;let b=!1,T=!0;if(isArray$4(x))for(let A=0;A<x.length;++A){const C=x[A],E=isFunction$1(C)&&C.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(T=!1)}else b=isFunction$1(x)&&x.name==="Boolean";_[0]=b,_[1]=T,(b||hasOwn$1(_,"default"))&&c.push(y)}}const d=[u,c];return isObject$4(a)&&o.set(a,d),d}function validatePropName(a){return a[0]!=="$"&&!isReservedProp(a)}const isInternalKey=a=>a[0]==="_"||a==="$stable",normalizeSlotValue=a=>isArray$4(a)?a.map(normalizeVNode):[normalizeVNode(a)],normalizeSlot$1=(a,t,n)=>{if(t._n)return t;const o=withCtx((...s)=>normalizeSlotValue(t(...s)),n);return o._c=!1,o},normalizeObjectSlots=(a,t,n)=>{const o=a._ctx;for(const s in a){if(isInternalKey(s))continue;const l=a[s];if(isFunction$1(l))t[s]=normalizeSlot$1(s,l,o);else if(l!=null){const u=normalizeSlotValue(l);t[s]=()=>u}}},normalizeVNodeSlots=(a,t)=>{const n=normalizeSlotValue(t);a.slots.default=()=>n},assignSlots=(a,t,n)=>{for(const o in t)(n||o!=="_")&&(a[o]=t[o])},initSlots=(a,t,n)=>{const o=a.slots=createInternalObject();if(a.vnode.shapeFlag&32){const s=t._;s?(assignSlots(o,t,n),n&&def(o,"_",s,!0)):normalizeObjectSlots(t,o)}else t&&normalizeVNodeSlots(a,t)},updateSlots=(a,t,n)=>{const{vnode:o,slots:s}=a;let l=!0,u=EMPTY_OBJ$1;if(o.shapeFlag&32){const c=t._;c?n&&c===1?l=!1:assignSlots(s,t,n):(l=!t.$stable,normalizeObjectSlots(t,s)),u=t}else t&&(normalizeVNodeSlots(a,t),u={default:1});if(l)for(const c in s)!isInternalKey(c)&&u[c]==null&&delete s[c]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(a){return baseCreateRenderer(a)}function baseCreateRenderer(a,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:o,remove:s,patchProp:l,createElement:u,createText:c,createComment:f,setText:d,setElementText:g,parentNode:y,nextSibling:S,setScopeId:_=NOOP,insertStaticContent:x}=a,b=(Y,Z,K,Q=null,ie=null,ae=null,ce=void 0,ue=null,he=!!Z.dynamicChildren)=>{if(Y===Z)return;Y&&!isSameVNodeType(Y,Z)&&(Q=q(Y),X(Y,ie,ae,!0),Y=null),Z.patchFlag===-2&&(he=!1,Z.dynamicChildren=null);const{type:se,ref:ve,shapeFlag:pe}=Z;switch(se){case Text:T(Y,Z,K,Q);break;case Comment:A(Y,Z,K,Q);break;case Static:Y==null&&C(Z,K,Q,ce);break;case Fragment:F(Y,Z,K,Q,ie,ae,ce,ue,he);break;default:pe&1?M(Y,Z,K,Q,ie,ae,ce,ue,he):pe&6?z(Y,Z,K,Q,ie,ae,ce,ue,he):(pe&64||pe&128)&&se.process(Y,Z,K,Q,ie,ae,ce,ue,he,oe)}ve!=null&&ie&&setRef(ve,Y&&Y.ref,ae,Z||Y,!Z)},T=(Y,Z,K,Q)=>{if(Y==null)o(Z.el=c(Z.children),K,Q);else{const ie=Z.el=Y.el;Z.children!==Y.children&&d(ie,Z.children)}},A=(Y,Z,K,Q)=>{Y==null?o(Z.el=f(Z.children||""),K,Q):Z.el=Y.el},C=(Y,Z,K,Q)=>{[Y.el,Y.anchor]=x(Y.children,Z,K,Q,Y.el,Y.anchor)},E=({el:Y,anchor:Z},K,Q)=>{let ie;for(;Y&&Y!==Z;)ie=S(Y),o(Y,K,Q),Y=ie;o(Z,K,Q)},P=({el:Y,anchor:Z})=>{let K;for(;Y&&Y!==Z;)K=S(Y),s(Y),Y=K;s(Z)},M=(Y,Z,K,Q,ie,ae,ce,ue,he)=>{Z.type==="svg"?ce="svg":Z.type==="math"&&(ce="mathml"),Y==null?I(Z,K,Q,ie,ae,ce,ue,he):$(Y,Z,ie,ae,ce,ue,he)},I=(Y,Z,K,Q,ie,ae,ce,ue)=>{let he,se;const{props:ve,shapeFlag:pe,transition:de,dirs:ge}=Y;if(he=Y.el=u(Y.type,ae,ve&&ve.is,ve),pe&8?g(he,Y.children):pe&16&&L(Y.children,he,null,Q,ie,resolveChildrenNamespace(Y,ae),ce,ue),ge&&invokeDirectiveHook(Y,null,Q,"created"),D(he,Y,Y.scopeId,ce,Q),ve){for(const ye in ve)ye!=="value"&&!isReservedProp(ye)&&l(he,ye,null,ve[ye],ae,Q);"value"in ve&&l(he,"value",null,ve.value,ae),(se=ve.onVnodeBeforeMount)&&invokeVNodeHook(se,Q,Y)}ge&&invokeDirectiveHook(Y,null,Q,"beforeMount");const me=needTransition(ie,de);me&&de.beforeEnter(he),o(he,Z,K),((se=ve&&ve.onVnodeMounted)||me||ge)&&queuePostRenderEffect(()=>{se&&invokeVNodeHook(se,Q,Y),me&&de.enter(he),ge&&invokeDirectiveHook(Y,null,Q,"mounted")},ie)},D=(Y,Z,K,Q,ie)=>{if(K&&_(Y,K),Q)for(let ae=0;ae<Q.length;ae++)_(Y,Q[ae]);if(ie){let ae=ie.subTree;if(Z===ae||isSuspense(ae.type)&&(ae.ssContent===Z||ae.ssFallback===Z)){const ce=ie.vnode;D(Y,ce,ce.scopeId,ce.slotScopeIds,ie.parent)}}},L=(Y,Z,K,Q,ie,ae,ce,ue,he=0)=>{for(let se=he;se<Y.length;se++){const ve=Y[se]=ue?cloneIfMounted(Y[se]):normalizeVNode(Y[se]);b(null,ve,Z,K,Q,ie,ae,ce,ue)}},$=(Y,Z,K,Q,ie,ae,ce)=>{const ue=Z.el=Y.el;let{patchFlag:he,dynamicChildren:se,dirs:ve}=Z;he|=Y.patchFlag&16;const pe=Y.props||EMPTY_OBJ$1,de=Z.props||EMPTY_OBJ$1;let ge;if(K&&toggleRecurse(K,!1),(ge=de.onVnodeBeforeUpdate)&&invokeVNodeHook(ge,K,Z,Y),ve&&invokeDirectiveHook(Z,Y,K,"beforeUpdate"),K&&toggleRecurse(K,!0),(pe.innerHTML&&de.innerHTML==null||pe.textContent&&de.textContent==null)&&g(ue,""),se?O(Y.dynamicChildren,se,ue,K,Q,resolveChildrenNamespace(Z,ie),ae):ce||R(Y,Z,ue,null,K,Q,resolveChildrenNamespace(Z,ie),ae,!1),he>0){if(he&16)V(ue,pe,de,K,ie);else if(he&2&&pe.class!==de.class&&l(ue,"class",null,de.class,ie),he&4&&l(ue,"style",pe.style,de.style,ie),he&8){const me=Z.dynamicProps;for(let ye=0;ye<me.length;ye++){const Se=me[ye],xe=pe[Se],_e=de[Se];(_e!==xe||Se==="value")&&l(ue,Se,xe,_e,ie,K)}}he&1&&Y.children!==Z.children&&g(ue,Z.children)}else!ce&&se==null&&V(ue,pe,de,K,ie);((ge=de.onVnodeUpdated)||ve)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,K,Z,Y),ve&&invokeDirectiveHook(Z,Y,K,"updated")},Q)},O=(Y,Z,K,Q,ie,ae,ce)=>{for(let ue=0;ue<Z.length;ue++){const he=Y[ue],se=Z[ue],ve=he.el&&(he.type===Fragment||!isSameVNodeType(he,se)||he.shapeFlag&70)?y(he.el):K;b(he,se,ve,null,Q,ie,ae,ce,!0)}},V=(Y,Z,K,Q,ie)=>{if(Z!==K){if(Z!==EMPTY_OBJ$1)for(const ae in Z)!isReservedProp(ae)&&!(ae in K)&&l(Y,ae,Z[ae],null,ie,Q);for(const ae in K){if(isReservedProp(ae))continue;const ce=K[ae],ue=Z[ae];ce!==ue&&ae!=="value"&&l(Y,ae,ue,ce,ie,Q)}"value"in K&&l(Y,"value",Z.value,K.value,ie)}},F=(Y,Z,K,Q,ie,ae,ce,ue,he)=>{const se=Z.el=Y?Y.el:c(""),ve=Z.anchor=Y?Y.anchor:c("");let{patchFlag:pe,dynamicChildren:de,slotScopeIds:ge}=Z;ge&&(ue=ue?ue.concat(ge):ge),Y==null?(o(se,K,Q),o(ve,K,Q),L(Z.children||[],K,ve,ie,ae,ce,ue,he)):pe>0&&pe&64&&de&&Y.dynamicChildren?(O(Y.dynamicChildren,de,K,ie,ae,ce,ue),(Z.key!=null||ie&&Z===ie.subTree)&&traverseStaticChildren(Y,Z,!0)):R(Y,Z,K,ve,ie,ae,ce,ue,he)},z=(Y,Z,K,Q,ie,ae,ce,ue,he)=>{Z.slotScopeIds=ue,Y==null?Z.shapeFlag&512?ie.ctx.activate(Z,K,Q,ce,he):U(Z,K,Q,ie,ae,ce,he):H(Y,Z,he)},U=(Y,Z,K,Q,ie,ae,ce)=>{const ue=Y.component=createComponentInstance(Y,Q,ie);if(isKeepAlive(Y)&&(ue.ctx.renderer=oe),setupComponent(ue,!1,ce),ue.asyncDep){if(ie&&ie.registerDep(ue,N,ce),!Y.el){const he=ue.subTree=createVNode$1(Comment);A(null,he,Z,K)}}else N(ue,Y,Z,K,ie,ae,ce)},H=(Y,Z,K)=>{const Q=Z.component=Y.component;if(shouldUpdateComponent(Y,Z,K))if(Q.asyncDep&&!Q.asyncResolved){G(Q,Z,K);return}else Q.next=Z,Q.update();else Z.el=Y.el,Q.vnode=Z},N=(Y,Z,K,Q,ie,ae,ce)=>{const ue=()=>{if(Y.isMounted){let{next:pe,bu:de,u:ge,parent:me,vnode:ye}=Y;{const Ae=locateNonHydratedAsyncRoot(Y);if(Ae){pe&&(pe.el=ye.el,G(Y,pe,ce)),Ae.asyncDep.then(()=>{Y.isUnmounted||ue()});return}}let Se=pe,xe;toggleRecurse(Y,!1),pe?(pe.el=ye.el,G(Y,pe,ce)):pe=ye,de&&invokeArrayFns(de),(xe=pe.props&&pe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(xe,me,pe,ye),toggleRecurse(Y,!0);const _e=renderComponentRoot(Y),Te=Y.subTree;Y.subTree=_e,b(Te,_e,y(Te.el),q(Te),Y,ie,ae),pe.el=_e.el,Se===null&&updateHOCHostEl(Y,_e.el),ge&&queuePostRenderEffect(ge,ie),(xe=pe.props&&pe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(xe,me,pe,ye),ie)}else{let pe;const{el:de,props:ge}=Z,{bm:me,m:ye,parent:Se,root:xe,type:_e}=Y,Te=isAsyncWrapper(Z);toggleRecurse(Y,!1),me&&invokeArrayFns(me),!Te&&(pe=ge&&ge.onVnodeBeforeMount)&&invokeVNodeHook(pe,Se,Z),toggleRecurse(Y,!0);{xe.ce&&xe.ce._injectChildStyle(_e);const Ae=Y.subTree=renderComponentRoot(Y);b(null,Ae,K,Q,Y,ie,ae),Z.el=Ae.el}if(ye&&queuePostRenderEffect(ye,ie),!Te&&(pe=ge&&ge.onVnodeMounted)){const Ae=Z;queuePostRenderEffect(()=>invokeVNodeHook(pe,Se,Ae),ie)}(Z.shapeFlag&256||Se&&isAsyncWrapper(Se.vnode)&&Se.vnode.shapeFlag&256)&&Y.a&&queuePostRenderEffect(Y.a,ie),Y.isMounted=!0,Z=K=Q=null}};Y.scope.on();const he=Y.effect=new ReactiveEffect(ue);Y.scope.off();const se=Y.update=he.run.bind(he),ve=Y.job=he.runIfDirty.bind(he);ve.i=Y,ve.id=Y.uid,he.scheduler=()=>queueJob(ve),toggleRecurse(Y,!0),se()},G=(Y,Z,K)=>{Z.component=Y;const Q=Y.vnode.props;Y.vnode=Z,Y.next=null,updateProps$2(Y,Z.props,Q,K),updateSlots(Y,Z.children,K),pauseTracking(),flushPreFlushCbs(Y),resetTracking()},R=(Y,Z,K,Q,ie,ae,ce,ue,he=!1)=>{const se=Y&&Y.children,ve=Y?Y.shapeFlag:0,pe=Z.children,{patchFlag:de,shapeFlag:ge}=Z;if(de>0){if(de&128){j(se,pe,K,Q,ie,ae,ce,ue,he);return}else if(de&256){B(se,pe,K,Q,ie,ae,ce,ue,he);return}}ge&8?(ve&16&&fe(se,ie,ae),pe!==se&&g(K,pe)):ve&16?ge&16?j(se,pe,K,Q,ie,ae,ce,ue,he):fe(se,ie,ae,!0):(ve&8&&g(K,""),ge&16&&L(pe,K,Q,ie,ae,ce,ue,he))},B=(Y,Z,K,Q,ie,ae,ce,ue,he)=>{Y=Y||EMPTY_ARR,Z=Z||EMPTY_ARR;const se=Y.length,ve=Z.length,pe=Math.min(se,ve);let de;for(de=0;de<pe;de++){const ge=Z[de]=he?cloneIfMounted(Z[de]):normalizeVNode(Z[de]);b(Y[de],ge,K,null,ie,ae,ce,ue,he)}se>ve?fe(Y,ie,ae,!0,!1,pe):L(Z,K,Q,ie,ae,ce,ue,he,pe)},j=(Y,Z,K,Q,ie,ae,ce,ue,he)=>{let se=0;const ve=Z.length;let pe=Y.length-1,de=ve-1;for(;se<=pe&&se<=de;){const ge=Y[se],me=Z[se]=he?cloneIfMounted(Z[se]):normalizeVNode(Z[se]);if(isSameVNodeType(ge,me))b(ge,me,K,null,ie,ae,ce,ue,he);else break;se++}for(;se<=pe&&se<=de;){const ge=Y[pe],me=Z[de]=he?cloneIfMounted(Z[de]):normalizeVNode(Z[de]);if(isSameVNodeType(ge,me))b(ge,me,K,null,ie,ae,ce,ue,he);else break;pe--,de--}if(se>pe){if(se<=de){const ge=de+1,me=ge<ve?Z[ge].el:Q;for(;se<=de;)b(null,Z[se]=he?cloneIfMounted(Z[se]):normalizeVNode(Z[se]),K,me,ie,ae,ce,ue,he),se++}}else if(se>de)for(;se<=pe;)X(Y[se],ie,ae,!0),se++;else{const ge=se,me=se,ye=new Map;for(se=me;se<=de;se++){const be=Z[se]=he?cloneIfMounted(Z[se]):normalizeVNode(Z[se]);be.key!=null&&ye.set(be.key,se)}let Se,xe=0;const _e=de-me+1;let Te=!1,Ae=0;const we=new Array(_e);for(se=0;se<_e;se++)we[se]=0;for(se=ge;se<=pe;se++){const be=Y[se];if(xe>=_e){X(be,ie,ae,!0);continue}let Ce;if(be.key!=null)Ce=ye.get(be.key);else for(Se=me;Se<=de;Se++)if(we[Se-me]===0&&isSameVNodeType(be,Z[Se])){Ce=Se;break}Ce===void 0?X(be,ie,ae,!0):(we[Ce-me]=se+1,Ce>=Ae?Ae=Ce:Te=!0,b(be,Z[Ce],K,null,ie,ae,ce,ue,he),xe++)}const Ee=Te?getSequence(we):EMPTY_ARR;for(Se=Ee.length-1,se=_e-1;se>=0;se--){const be=me+se,Ce=Z[be],Pe=be+1<ve?Z[be+1].el:Q;we[se]===0?b(null,Ce,K,Pe,ie,ae,ce,ue,he):Te&&(Se<0||se!==Ee[Se]?W(Ce,K,Pe,2):Se--)}}},W=(Y,Z,K,Q,ie=null)=>{const{el:ae,type:ce,transition:ue,children:he,shapeFlag:se}=Y;if(se&6){W(Y.component.subTree,Z,K,Q);return}if(se&128){Y.suspense.move(Z,K,Q);return}if(se&64){ce.move(Y,Z,K,oe);return}if(ce===Fragment){o(ae,Z,K);for(let pe=0;pe<he.length;pe++)W(he[pe],Z,K,Q);o(Y.anchor,Z,K);return}if(ce===Static){E(Y,Z,K);return}if(Q!==2&&se&1&&ue)if(Q===0)ue.beforeEnter(ae),o(ae,Z,K),queuePostRenderEffect(()=>ue.enter(ae),ie);else{const{leave:pe,delayLeave:de,afterLeave:ge}=ue,me=()=>o(ae,Z,K),ye=()=>{pe(ae,()=>{me(),ge&&ge()})};de?de(ae,me,ye):ye()}else o(ae,Z,K)},X=(Y,Z,K,Q=!1,ie=!1)=>{const{type:ae,props:ce,ref:ue,children:he,dynamicChildren:se,shapeFlag:ve,patchFlag:pe,dirs:de,cacheIndex:ge}=Y;if(pe===-2&&(ie=!1),ue!=null&&setRef(ue,null,K,Y,!0),ge!=null&&(Z.renderCache[ge]=void 0),ve&256){Z.ctx.deactivate(Y);return}const me=ve&1&&de,ye=!isAsyncWrapper(Y);let Se;if(ye&&(Se=ce&&ce.onVnodeBeforeUnmount)&&invokeVNodeHook(Se,Z,Y),ve&6)le(Y.component,K,Q);else{if(ve&128){Y.suspense.unmount(K,Q);return}me&&invokeDirectiveHook(Y,null,Z,"beforeUnmount"),ve&64?Y.type.remove(Y,Z,K,oe,Q):se&&!se.hasOnce&&(ae!==Fragment||pe>0&&pe&64)?fe(se,Z,K,!1,!0):(ae===Fragment&&pe&384||!ie&&ve&16)&&fe(he,Z,K),Q&&ee(Y)}(ye&&(Se=ce&&ce.onVnodeUnmounted)||me)&&queuePostRenderEffect(()=>{Se&&invokeVNodeHook(Se,Z,Y),me&&invokeDirectiveHook(Y,null,Z,"unmounted")},K)},ee=Y=>{const{type:Z,el:K,anchor:Q,transition:ie}=Y;if(Z===Fragment){te(K,Q);return}if(Z===Static){P(Y);return}const ae=()=>{s(K),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(Y.shapeFlag&1&&ie&&!ie.persisted){const{leave:ce,delayLeave:ue}=ie,he=()=>ce(K,ae);ue?ue(Y.el,ae,he):he()}else ae()},te=(Y,Z)=>{let K;for(;Y!==Z;)K=S(Y),s(Y),Y=K;s(Z)},le=(Y,Z,K)=>{const{bum:Q,scope:ie,job:ae,subTree:ce,um:ue,m:he,a:se}=Y;invalidateMount(he),invalidateMount(se),Q&&invokeArrayFns(Q),ie.stop(),ae&&(ae.flags|=8,X(ce,Y,Z,K)),ue&&queuePostRenderEffect(ue,Z),queuePostRenderEffect(()=>{Y.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},fe=(Y,Z,K,Q=!1,ie=!1,ae=0)=>{for(let ce=ae;ce<Y.length;ce++)X(Y[ce],Z,K,Q,ie)},q=Y=>{if(Y.shapeFlag&6)return q(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const Z=S(Y.anchor||Y.el),K=Z&&Z[TeleportEndKey];return K?S(K):Z};let re=!1;const J=(Y,Z,K)=>{Y==null?Z._vnode&&X(Z._vnode,null,null,!0):b(Z._vnode||null,Y,Z,null,null,null,K),Z._vnode=Y,re||(re=!0,flushPreFlushCbs(),flushPostFlushCbs(),re=!1)},oe={p:b,um:X,m:W,r:ee,mt:U,mc:L,pc:R,pbc:O,n:q,o:a};return{render:J,hydrate:void 0,createApp:createAppAPI(J)}}function resolveChildrenNamespace({type:a,props:t},n){return n==="svg"&&a==="foreignObject"||n==="mathml"&&a==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:a,job:t},n){n?(a.flags|=32,t.flags|=4):(a.flags&=-33,t.flags&=-5)}function needTransition(a,t){return(!a||a&&!a.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(a,t,n=!1){const o=a.children,s=t.children;if(isArray$4(o)&&isArray$4(s))for(let l=0;l<o.length;l++){const u=o[l];let c=s[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[l]=cloneIfMounted(s[l]),c.el=u.el),!n&&c.patchFlag!==-2&&traverseStaticChildren(u,c)),c.type===Text&&(c.el=u.el)}}function getSequence(a){const t=a.slice(),n=[0];let o,s,l,u,c;const f=a.length;for(o=0;o<f;o++){const d=a[o];if(d!==0){if(s=n[n.length-1],a[s]<d){t[o]=s,n.push(o);continue}for(l=0,u=n.length-1;l<u;)c=l+u>>1,a[n[c]]<d?l=c+1:u=c;d<a[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,u=n[l-1];l-- >0;)n[l]=u,u=t[u];return n}function locateNonHydratedAsyncRoot(a){const t=a.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(a){if(a)for(let t=0;t<a.length;t++)a[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(a,t){return doWatch(a,null,t)}function watch(a,t,n){return doWatch(a,t,n)}function doWatch(a,t,n=EMPTY_OBJ$1){const{immediate:o,deep:s,flush:l,once:u}=n,c=extend$1({},n),f=t&&o||!t&&l!=="post";let d;if(isInSSRComponentSetup){if(l==="sync"){const _=useSSRContext();d=_.__watcherHandles||(_.__watcherHandles=[])}else if(!f){const _=()=>{};return _.stop=NOOP,_.resume=NOOP,_.pause=NOOP,_}}const g=currentInstance;c.call=(_,x,b)=>callWithAsyncErrorHandling(_,g,x,b);let y=!1;l==="post"?c.scheduler=_=>{queuePostRenderEffect(_,g&&g.suspense)}:l!=="sync"&&(y=!0,c.scheduler=(_,x)=>{x?_():queueJob(_)}),c.augmentJob=_=>{t&&(_.flags|=4),y&&(_.flags|=2,g&&(_.id=g.uid,_.i=g))};const S=watch$1(a,t,c);return isInSSRComponentSetup&&(d?d.push(S):f&&S()),S}function instanceWatch(a,t,n){const o=this.proxy,s=isString$1(a)?a.includes(".")?createPathGetter(o,a):()=>o[a]:a.bind(o,o);let l;isFunction$1(t)?l=t:(l=t.handler,n=t);const u=setCurrentInstance(this),c=doWatch(s,l.bind(o),n);return u(),c}function createPathGetter(a,t){const n=t.split(".");return()=>{let o=a;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const getModelModifiers=(a,t)=>t==="modelValue"||t==="model-value"?a.modelModifiers:a[`${t}Modifiers`]||a[`${camelize(t)}Modifiers`]||a[`${hyphenate(t)}Modifiers`];function emit(a,t,...n){if(a.isUnmounted)return;const o=a.vnode.props||EMPTY_OBJ$1;let s=n;const l=t.startsWith("update:"),u=l&&getModelModifiers(o,t.slice(7));u&&(u.trim&&(s=n.map(g=>isString$1(g)?g.trim():g)),u.number&&(s=n.map(looseToNumber)));let c,f=o[c=toHandlerKey(t)]||o[c=toHandlerKey(camelize(t))];!f&&l&&(f=o[c=toHandlerKey(hyphenate(t))]),f&&callWithAsyncErrorHandling(f,a,6,s);const d=o[c+"Once"];if(d){if(!a.emitted)a.emitted={};else if(a.emitted[c])return;a.emitted[c]=!0,callWithAsyncErrorHandling(d,a,6,s)}}function normalizeEmitsOptions(a,t,n=!1){const o=t.emitsCache,s=o.get(a);if(s!==void 0)return s;const l=a.emits;let u={},c=!1;if(!isFunction$1(a)){const f=d=>{const g=normalizeEmitsOptions(d,t,!0);g&&(c=!0,extend$1(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),a.extends&&f(a.extends),a.mixins&&a.mixins.forEach(f)}return!l&&!c?(isObject$4(a)&&o.set(a,null),null):(isArray$4(l)?l.forEach(f=>u[f]=null):extend$1(u,l),isObject$4(a)&&o.set(a,u),u)}function isEmitListener(a,t){return!a||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(a,t[0].toLowerCase()+t.slice(1))||hasOwn$1(a,hyphenate(t))||hasOwn$1(a,t))}function markAttrsAccessed(){}function renderComponentRoot(a){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[l],slots:u,attrs:c,emit:f,render:d,renderCache:g,props:y,data:S,setupState:_,ctx:x,inheritAttrs:b}=a,T=setCurrentRenderingInstance(a);let A,C;try{if(n.shapeFlag&4){const P=s||o,M=P;A=normalizeVNode(d.call(M,P,g,y,_,S,x)),C=c}else{const P=t;A=normalizeVNode(P.length>1?P(y,{attrs:c,slots:u,emit:f}):P(y,null)),C=t.props?c:getFunctionalFallthrough(c)}}catch(P){blockStack.length=0,handleError(P,a,1),A=createVNode$1(Comment)}let E=A;if(C&&b!==!1){const P=Object.keys(C),{shapeFlag:M}=E;P.length&&M&7&&(l&&P.some(isModelListener)&&(C=filterModelListeners(C,l)),E=cloneVNode(E,C,!1,!0))}return n.dirs&&(E=cloneVNode(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(E,n.transition),A=E,setCurrentRenderingInstance(T),A}const getFunctionalFallthrough=a=>{let t;for(const n in a)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=a[n]);return t},filterModelListeners=(a,t)=>{const n={};for(const o in a)(!isModelListener(o)||!(o.slice(9)in t))&&(n[o]=a[o]);return n};function shouldUpdateComponent(a,t,n){const{props:o,children:s,component:l}=a,{props:u,children:c,patchFlag:f}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return o?hasPropsChanged(o,u,d):!!u;if(f&8){const g=t.dynamicProps;for(let y=0;y<g.length;y++){const S=g[y];if(u[S]!==o[S]&&!isEmitListener(d,S))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:o===u?!1:o?u?hasPropsChanged(o,u,d):!0:!!u;return!1}function hasPropsChanged(a,t,n){const o=Object.keys(t);if(o.length!==Object.keys(a).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(t[l]!==a[l]&&!isEmitListener(n,l))return!0}return!1}function updateHOCHostEl({vnode:a,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===a&&(o.el=a.el),o===a)(a=t.vnode).el=n,t=t.parent;else break}}const isSuspense=a=>a.__isSuspense;function queueEffectWithSuspense(a,t){t&&t.pendingBranch?isArray$4(a)?t.effects.push(...a):t.effects.push(a):queuePostFlushCb(a)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(a=!1){blockStack.push(currentBlock=a?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(a,t=!1){isBlockTreeEnabled+=a,a<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(a){return a.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(a),a}function createElementBlock(a,t,n,o,s,l){return setupBlock(createBaseVNode(a,t,n,o,s,l,!0))}function createBlock(a,t,n,o,s){return setupBlock(createVNode$1(a,t,n,o,s,!0))}function isVNode(a){return a?a.__v_isVNode===!0:!1}function isSameVNodeType(a,t){return a.type===t.type&&a.key===t.key}const normalizeKey=({key:a})=>a??null,normalizeRef=({ref:a,ref_key:t,ref_for:n})=>(typeof a=="number"&&(a=""+a),a!=null?isString$1(a)||isRef(a)||isFunction$1(a)?{i:currentRenderingInstance,r:a,k:t,f:!!n}:a:null);function createBaseVNode(a,t=null,n=null,o=0,s=null,l=a===Fragment?0:1,u=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:a,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(f,n),l&128&&a.normalize(f)):n&&(f.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!u&&currentBlock&&(f.patchFlag>0||l&6)&&f.patchFlag!==32&&currentBlock.push(f),f}const createVNode$1=_createVNode;function _createVNode(a,t=null,n=null,o=0,s=null,l=!1){if((!a||a===NULL_DYNAMIC_COMPONENT)&&(a=Comment),isVNode(a)){const c=cloneVNode(a,t,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!l&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(a)]=c:currentBlock.push(c)),c.patchFlag=-2,c}if(isClassComponent(a)&&(a=a.__vccOpts),t){t=guardReactiveProps(t);let{class:c,style:f}=t;c&&!isString$1(c)&&(t.class=normalizeClass(c)),isObject$4(f)&&(isProxy(f)&&!isArray$4(f)&&(f=extend$1({},f)),t.style=normalizeStyle$1(f))}const u=isString$1(a)?1:isSuspense(a)?128:isTeleport(a)?64:isObject$4(a)?4:isFunction$1(a)?2:0;return createBaseVNode(a,t,n,o,s,u,l,!0)}function guardReactiveProps(a){return a?isProxy(a)||isInternalObject(a)?extend$1({},a):a:null}function cloneVNode(a,t,n=!1,o=!1){const{props:s,ref:l,patchFlag:u,children:c,transition:f}=a,d=t?mergeProps(s||{},t):s,g={__v_isVNode:!0,__v_skip:!0,type:a.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?n&&l?isArray$4(l)?l.concat(normalizeRef(t)):[l,normalizeRef(t)]:normalizeRef(t):l,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:c,target:a.target,targetStart:a.targetStart,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:t&&a.type!==Fragment?u===-1?16:u|16:u,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:f,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&cloneVNode(a.ssContent),ssFallback:a.ssFallback&&cloneVNode(a.ssFallback),el:a.el,anchor:a.anchor,ctx:a.ctx,ce:a.ce};return f&&o&&setTransitionHooks(g,f.clone(g)),g}function createTextVNode(a=" ",t=0){return createVNode$1(Text,null,a,t)}function createStaticVNode(a,t){const n=createVNode$1(Static,null,a);return n.staticCount=t,n}function createCommentVNode(a="",t=!1){return t?(openBlock(),createBlock(Comment,null,a)):createVNode$1(Comment,null,a)}function normalizeVNode(a){return a==null||typeof a=="boolean"?createVNode$1(Comment):isArray$4(a)?createVNode$1(Fragment,null,a.slice()):isVNode(a)?cloneIfMounted(a):createVNode$1(Text,null,String(a))}function cloneIfMounted(a){return a.el===null&&a.patchFlag!==-1||a.memo?a:cloneVNode(a)}function normalizeChildren(a,t){let n=0;const{shapeFlag:o}=a;if(t==null)t=null;else if(isArray$4(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(a,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!isInternalObject(t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,a.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),o&64?(n=16,t=[createTextVNode(t)]):n=8);a.children=t,a.shapeFlag|=n}function mergeProps(...a){const t={};for(let n=0;n<a.length;n++){const o=a[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if(s==="style")t.style=normalizeStyle$1([t.style,o.style]);else if(isOn(s)){const l=t[s],u=o[s];u&&l!==u&&!(isArray$4(l)&&l.includes(u))&&(t[s]=l?[].concat(l,u):u)}else s!==""&&(t[s]=o[s])}return t}function invokeVNodeHook(a,t,n,o=null){callWithAsyncErrorHandling(a,t,7,[n,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(a,t,n){const o=a.type,s=(t?t.appContext:a.appContext)||emptyAppContext,l={uid:uid++,vnode:a,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=emit.bind(null,l),a.ce&&a.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const a=getGlobalThis(),t=(n,o)=>{let s;return(s=a[n])||(s=a[n]=[]),s.push(o),l=>{s.length>1?s.forEach(u=>u(l)):s[0](l)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=a=>{const t=currentInstance;return internalSetCurrentInstance(a),a.scope.on(),()=>{a.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(a){return a.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(a,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:o,children:s}=a.vnode,l=isStatefulComponent(a);initProps$1(a,o,l,t),initSlots(a,s,n);const u=l?setupStatefulComponent(a,t):void 0;return t&&setInSSRSetupState(!1),u}function setupStatefulComponent(a,t){const n=a.type;a.accessCache=Object.create(null),a.proxy=new Proxy(a.ctx,PublicInstanceProxyHandlers);const{setup:o}=n;if(o){pauseTracking();const s=a.setupContext=o.length>1?createSetupContext(a):null,l=setCurrentInstance(a),u=callWithErrorHandling(o,a,0,[a.props,s]),c=isPromise(u);if(resetTracking(),l(),(c||a.sp)&&!isAsyncWrapper(a)&&markAsyncBoundary(a),c){if(u.then(unsetCurrentInstance,unsetCurrentInstance),t)return u.then(f=>{handleSetupResult(a,f)}).catch(f=>{handleError(f,a,0)});a.asyncDep=u}else handleSetupResult(a,u)}else finishComponentSetup(a)}function handleSetupResult(a,t,n){isFunction$1(t)?a.type.__ssrInlineRender?a.ssrRender=t:a.render=t:isObject$4(t)&&(a.setupState=proxyRefs(t)),finishComponentSetup(a)}function finishComponentSetup(a,t,n){const o=a.type;a.render||(a.render=o.render||NOOP);{const s=setCurrentInstance(a);pauseTracking();try{applyOptions(a)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(a,t){return track(a,"get",""),a[t]}};function createSetupContext(a){const t=n=>{a.exposed=n||{}};return{attrs:new Proxy(a.attrs,attrsProxyHandlers),slots:a.slots,emit:a.emit,expose:t}}function getComponentPublicInstance(a){return a.exposed?a.exposeProxy||(a.exposeProxy=new Proxy(proxyRefs(markRaw(a.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](a)},has(t,n){return n in t||n in publicPropertiesMap}})):a.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=a=>a.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(a,t=!0){return isFunction$1(a)?a.displayName||a.name:a.name||t&&a.__name}function formatComponentName(a,t,n=!1){let o=getComponentName(t);if(!o&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&a&&a.parent){const s=l=>{for(const u in l)if(l[u]===t)return u};o=s(a.components||a.parent.type.components)||s(a.appContext.components)}return o?classify(o):n?"App":"Anonymous"}function isClassComponent(a){return isFunction$1(a)&&"__vccOpts"in a}const computed=(a,t)=>computed$1(a,t,isInSSRComponentSetup);function h$5(a,t,n){const o=arguments.length;return o===2?isObject$4(t)&&!isArray$4(t)?isVNode(t)?createVNode$1(a,null,[t]):createVNode$1(a,t):createVNode$1(a,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&isVNode(n)&&(n=[n]),createVNode$1(a,t,n))}const version="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:a=>a})}catch{}const unsafeToTrustedHTML=policy?a=>policy.createHTML(a):a=>a,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(a,t,n)=>{t.insertBefore(a,n||null)},remove:a=>{const t=a.parentNode;t&&t.removeChild(a)},createElement:(a,t,n,o)=>{const s=t==="svg"?doc.createElementNS(svgNS,a):t==="mathml"?doc.createElementNS(mathmlNS,a):n?doc.createElement(a,{is:n}):doc.createElement(a);return a==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:a=>doc.createTextNode(a),createComment:a=>doc.createComment(a),setText:(a,t)=>{a.nodeValue=t},setElementText:(a,t)=>{a.textContent=t},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>doc.querySelector(a),setScopeId(a,t){a.setAttribute(t,"")},insertStaticContent(a,t,n,o,s,l){const u=n?n.previousSibling:t.lastChild;if(s&&(s===l||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===l||!(s=s.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(o==="svg"?`<svg>${a}</svg>`:o==="mathml"?`<math>${a}</math>`:a);const c=templateContainer.content;if(o==="svg"||o==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(a,t,n){const o=a[vtcKey];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?a.removeAttribute("class"):n?a.setAttribute("class",t):a.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(a,t,n){const o=a.style,s=isString$1(n);let l=!1;if(n&&!s){if(t)if(isString$1(t))for(const u of t.split(";")){const c=u.slice(0,u.indexOf(":")).trim();n[c]==null&&setStyle(o,c,"")}else for(const u in t)n[u]==null&&setStyle(o,u,"");for(const u in n)u==="display"&&(l=!0),setStyle(o,u,n[u])}else if(s){if(t!==n){const u=o[CSS_VAR_TEXT];u&&(n+=";"+u),o.cssText=n,l=displayRE.test(n)}}else t&&a.removeAttribute("style");vShowOriginalDisplay in a&&(a[vShowOriginalDisplay]=l?o.display:"",a[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(a,t,n){if(isArray$4(n))n.forEach(o=>setStyle(a,t,o));else if(n==null&&(n=""),t.startsWith("--"))a.setProperty(t,n);else{const o=autoPrefix(a,t);importantRE.test(n)?a.setProperty(hyphenate(o),n.replace(importantRE,""),"important"):a[o]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(a,t){const n=prefixCache[t];if(n)return n;let o=camelize(t);if(o!=="filter"&&o in a)return prefixCache[t]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const l=prefixes[s]+o;if(l in a)return prefixCache[t]=l}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(a,t,n,o,s,l=isSpecialBooleanAttr(t)){o&&t.startsWith("xlink:")?n==null?a.removeAttributeNS(xlinkNS,t.slice(6,t.length)):a.setAttributeNS(xlinkNS,t,n):n==null||l&&!includeBooleanAttr(n)?a.removeAttribute(t):a.setAttribute(t,l?"":isSymbol(n)?String(n):n)}function patchDOMProp(a,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(a[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const l=a.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?a.getAttribute("value")||"":a.value,f=n==null?a.type==="checkbox"?"on":"":String(n);(c!==f||!("_value"in a))&&(a.value=f),n==null&&a.removeAttribute(t),a._value=n;return}let u=!1;if(n===""||n==null){const c=typeof a[t];c==="boolean"?n=includeBooleanAttr(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{a[t]=n}catch{}u&&a.removeAttribute(s||t)}function addEventListener$1(a,t,n,o){a.addEventListener(t,n,o)}function removeEventListener$1(a,t,n,o){a.removeEventListener(t,n,o)}const veiKey=Symbol("_vei");function patchEvent(a,t,n,o,s=null){const l=a[veiKey]||(a[veiKey]={}),u=l[t];if(o&&u)u.value=o;else{const[c,f]=parseName(t);if(o){const d=l[t]=createInvoker(o,s);addEventListener$1(a,c,d,f)}else u&&(removeEventListener$1(a,c,u,f),l[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(a){let t;if(optionsModifierRE.test(a)){t={};let o;for(;o=a.match(optionsModifierRE);)a=a.slice(0,a.length-o[0].length),t[o[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):hyphenate(a.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(a,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,n.value),t,5,[o])};return n.value=a,n.attached=getNow(),n}function patchStopImmediatePropagation(a,t){if(isArray$4(t)){const n=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{n.call(a),a._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const isNativeOn=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)>96&&a.charCodeAt(2)<123,patchProp=(a,t,n,o,s,l)=>{const u=s==="svg";t==="class"?patchClass(a,o,u):t==="style"?patchStyle(a,n,o):isOn(t)?isModelListener(t)||patchEvent(a,t,n,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(a,t,o,u))?(patchDOMProp(a,t,o),!a.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(a,t,o,u,l,t!=="value")):a._isVueCE&&(/[A-Z]/.test(t)||!isString$1(o))?patchDOMProp(a,camelize(t),o,l,t):(t==="true-value"?a._trueValue=o:t==="false-value"&&(a._falseValue=o),patchAttr(a,t,o,u))};function shouldSetAsProp(a,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in a&&isNativeOn(t)&&isFunction$1(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&a.tagName==="INPUT"||t==="type"&&a.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=a.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(t)&&isString$1(n)?!1:t in a}const getModelAssigner=a=>{const t=a.props["onUpdate:modelValue"]||!1;return isArray$4(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(a){a.target.composing=!0}function onCompositionEnd(a){const t=a.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(a,{modifiers:{lazy:t,trim:n,number:o}},s){a[assignKey]=getModelAssigner(s);const l=o||s.props&&s.props.type==="number";addEventListener$1(a,t?"change":"input",u=>{if(u.target.composing)return;let c=a.value;n&&(c=c.trim()),l&&(c=looseToNumber(c)),a[assignKey](c)}),n&&addEventListener$1(a,"change",()=>{a.value=a.value.trim()}),t||(addEventListener$1(a,"compositionstart",onCompositionStart),addEventListener$1(a,"compositionend",onCompositionEnd),addEventListener$1(a,"change",onCompositionEnd))},mounted(a,{value:t}){a.value=t??""},beforeUpdate(a,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:l}},u){if(a[assignKey]=getModelAssigner(u),a.composing)return;const c=(l||a.type==="number")&&!/^0\d/.test(a.value)?looseToNumber(a.value):a.value,f=t??"";c!==f&&(document.activeElement===a&&a.type!=="range"&&(o&&t===n||s&&a.value.trim()===f)||(a.value=f))}},vModelSelect={deep:!0,created(a,{value:t,modifiers:{number:n}},o){const s=isSet(t);addEventListener$1(a,"change",()=>{const l=Array.prototype.filter.call(a.options,u=>u.selected).map(u=>n?looseToNumber(getValue(u)):getValue(u));a[assignKey](a.multiple?s?new Set(l):l:l[0]),a._assigning=!0,nextTick(()=>{a._assigning=!1})}),a[assignKey]=getModelAssigner(o)},mounted(a,{value:t}){setSelected(a,t)},beforeUpdate(a,t,n){a[assignKey]=getModelAssigner(n)},updated(a,{value:t}){a._assigning||setSelected(a,t)}};function setSelected(a,t){const n=a.multiple,o=isArray$4(t);if(!(n&&!o&&!isSet(t))){for(let s=0,l=a.options.length;s<l;s++){const u=a.options[s],c=getValue(u);if(n)if(o){const f=typeof c;f==="string"||f==="number"?u.selected=t.some(d=>String(d)===String(c)):u.selected=looseIndexOf(t,c)>-1}else u.selected=t.has(c);else if(looseEqual(getValue(u),t)){a.selectedIndex!==s&&(a.selectedIndex=s);return}}!n&&a.selectedIndex!==-1&&(a.selectedIndex=-1)}}function getValue(a){return"_value"in a?a._value:a.value}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...a)=>{const t=ensureRenderer().createApp(...a),{mount:n}=t;return t.mount=o=>{const s=normalizeContainer(o);if(!s)return;const l=t._component;!isFunction$1(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const u=n(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},t};function resolveRootNamespace(a){if(a instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&a instanceof MathMLElement)return"mathml"}function normalizeContainer(a){return isString$1(a)?document.querySelector(a):a}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const piniaSymbol=Symbol();var MutationType;(function(a){a.direct="direct",a.patchObject="patch object",a.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const a=effectScope(!0),t=a.run(()=>ref({}));let n=[],o=[];const s=markRaw({install(l){s._a=l,l.provide(piniaSymbol,s),l.config.globalProperties.$pinia=s,o.forEach(u=>n.push(u)),o=[]},use(l){return this._a?n.push(l):o.push(l),this},_p:n,_a:null,_e:a,_s:new Map,state:t});return s}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$1=typeof document<"u";function isRouteComponent(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function isESModule(a){return a.__esModule||a[Symbol.toStringTag]==="Module"||a.default&&isRouteComponent(a.default)}const assign=Object.assign;function applyToParams(a,t){const n={};for(const o in t){const s=t[o];n[o]=isArray$3(s)?s.map(a):a(s)}return n}const noop$3=()=>{},isArray$3=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(a){return encodeURI(""+a).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(a){return commonEncode(a).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(a){return commonEncode(a).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(a){return encodeQueryValue(a).replace(EQUAL_RE,"%3D")}function encodePath(a){return commonEncode(a).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(a){return a==null?"":encodePath(a).replace(SLASH_RE,"%2F")}function decode$1(a){try{return decodeURIComponent(""+a)}catch{}return""+a}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=a=>a.replace(TRAILING_SLASH_RE,"");function parseURL(a,t,n="/"){let o,s={},l="",u="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(o=t.slice(0,f),l=t.slice(f+1,c>-1?c:t.length),s=a(l)),c>-1&&(o=o||t.slice(0,c),u=t.slice(c,t.length)),o=resolveRelativePath(o??t,n),{fullPath:o+(l&&"?")+l+u,path:o,query:s,hash:decode$1(u)}}function stringifyURL(a,t){const n=t.query?a(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(a,t){return!t||!a.toLowerCase().startsWith(t.toLowerCase())?a:a.slice(t.length)||"/"}function isSameRouteLocation(a,t,n){const o=t.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&isSameRouteRecord(t.matched[o],n.matched[s])&&isSameRouteLocationParams(t.params,n.params)&&a(t.query)===a(n.query)&&t.hash===n.hash}function isSameRouteRecord(a,t){return(a.aliasOf||a)===(t.aliasOf||t)}function isSameRouteLocationParams(a,t){if(Object.keys(a).length!==Object.keys(t).length)return!1;for(const n in a)if(!isSameRouteLocationParamsValue(a[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(a,t){return isArray$3(a)?isEquivalentArray(a,t):isArray$3(t)?isEquivalentArray(t,a):a===t}function isEquivalentArray(a,t){return isArray$3(t)?a.length===t.length&&a.every((n,o)=>n===t[o]):a.length===1&&a[0]===t}function resolveRelativePath(a,t){if(a.startsWith("/"))return a;if(!a)return t;const n=t.split("/"),o=a.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let l=n.length-1,u,c;for(u=0;u<o.length;u++)if(c=o[u],c!==".")if(c==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+o.slice(u).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(a){a.pop="pop",a.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(a){a.back="back",a.forward="forward",a.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(a){if(!a)if(isBrowser$1){const t=document.querySelector("base");a=t&&t.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),removeTrailingSlash(a)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(a,t){return a.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(a,t){const n=document.documentElement.getBoundingClientRect(),o=a.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(a){let t;if("el"in a){const n=a.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=getElementPosition(s,a)}else t=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function getScrollKey(a,t){return(history.state?history.state.position-t:-1)+a}const scrollPositions=new Map;function saveScrollPosition(a,t){scrollPositions.set(a,t)}function getSavedScrollPosition(a){const t=scrollPositions.get(a);return scrollPositions.delete(a),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(a,t){const{pathname:n,search:o,hash:s}=t,l=a.indexOf("#");if(l>-1){let c=s.includes(a.slice(l))?a.slice(l).length:1,f=s.slice(c);return f[0]!=="/"&&(f="/"+f),stripBase(f,"")}return stripBase(n,a)+o+s}function useHistoryListeners(a,t,n,o){let s=[],l=[],u=null;const c=({state:S})=>{const _=createCurrentLocation(a,location),x=n.value,b=t.value;let T=0;if(S){if(n.value=_,t.value=S,u&&u===x){u=null;return}T=b?S.position-b.position:0}else o(_);s.forEach(A=>{A(n.value,x,{delta:T,type:NavigationType.pop,direction:T?T>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function f(){u=n.value}function d(S){s.push(S);const _=()=>{const x=s.indexOf(S);x>-1&&s.splice(x,1)};return l.push(_),_}function g(){const{history:S}=window;S.state&&S.replaceState(assign({},S.state,{scroll:computeScrollPosition()}),"")}function y(){for(const S of l)S();l=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:y}}function buildState(a,t,n,o=!1,s=!1){return{back:a,current:t,forward:n,replaced:o,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(a){const{history:t,location:n}=window,o={value:createCurrentLocation(a,n)},s={value:t.state};s.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(f,d,g){const y=a.indexOf("#"),S=y>-1?(n.host&&document.querySelector("base")?a:a.slice(y))+f:createBaseLocation()+a+f;try{t[g?"replaceState":"pushState"](d,"",S),s.value=d}catch(_){console.error(_),n[g?"replace":"assign"](S)}}function u(f,d){const g=assign({},t.state,buildState(s.value.back,f,s.value.forward,!0),d,{position:s.value.position});l(f,g,!0),o.value=f}function c(f,d){const g=assign({},s.value,t.state,{forward:f,scroll:computeScrollPosition()});l(g.current,g,!0);const y=assign({},buildState(o.value,f,null),{position:g.position+1},d);l(f,y,!1),o.value=f}return{location:o,state:s,push:c,replace:u}}function createWebHistory(a){a=normalizeBase(a);const t=useHistoryStateNavigation(a),n=useHistoryListeners(a,t.state,t.location,t.replace);function o(l,u=!0){u||n.pauseListeners(),history.go(l)}const s=assign({location:"",base:a,go:o,createHref:createHref.bind(null,a)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function isRouteLocation(a){return typeof a=="string"||a&&typeof a=="object"}function isRouteName(a){return typeof a=="string"||typeof a=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(a,t){return assign(new Error,{type:a,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(a,t){return a instanceof Error&&NavigationFailureSymbol in a&&(t==null||!!(a.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(a,t){const n=assign({},BASE_PATH_PARSER_OPTIONS,t),o=[];let s=n.start?"^":"";const l=[];for(const d of a){const g=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let y=0;y<d.length;y++){const S=d[y];let _=40+(n.sensitive?.25:0);if(S.type===0)y||(s+="/"),s+=S.value.replace(REGEX_CHARS_RE,"\\$&"),_+=40;else if(S.type===1){const{value:x,repeatable:b,optional:T,regexp:A}=S;l.push({name:x,repeatable:b,optional:T});const C=A||BASE_PARAM_PATTERN;if(C!==BASE_PARAM_PATTERN){_+=10;try{new RegExp(`(${C})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${x}" (${C}): `+P.message)}}let E=b?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;y||(E=T&&d.length<2?`(?:/${E})`:"/"+E),T&&(E+="?"),s+=E,_+=20,T&&(_+=-8),b&&(_+=-20),C===".*"&&(_+=-50)}g.push(_)}o.push(g)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const u=new RegExp(s,n.sensitive?"":"i");function c(d){const g=d.match(u),y={};if(!g)return null;for(let S=1;S<g.length;S++){const _=g[S]||"",x=l[S-1];y[x.name]=_&&x.repeatable?_.split("/"):_}return y}function f(d){let g="",y=!1;for(const S of a){(!y||!g.endsWith("/"))&&(g+="/"),y=!1;for(const _ of S)if(_.type===0)g+=_.value;else if(_.type===1){const{value:x,repeatable:b,optional:T}=_,A=x in d?d[x]:"";if(isArray$3(A)&&!b)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const C=isArray$3(A)?A.join("/"):A;if(!C)if(T)S.length<2&&(g.endsWith("/")?g=g.slice(0,-1):y=!0);else throw new Error(`Missing required param "${x}"`);g+=C}}return g||"/"}return{re:u,score:o,keys:l,parse:c,stringify:f}}function compareScoreArray(a,t){let n=0;for(;n<a.length&&n<t.length;){const o=t[n]-a[n];if(o)return o;n++}return a.length<t.length?a.length===1&&a[0]===80?-1:1:a.length>t.length?t.length===1&&t[0]===80?1:-1:0}function comparePathParserScore(a,t){let n=0;const o=a.score,s=t.score;for(;n<o.length&&n<s.length;){const l=compareScoreArray(o[n],s[n]);if(l)return l;n++}if(Math.abs(s.length-o.length)===1){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(s))return-1}return s.length-o.length}function isLastScoreNegative(a){const t=a[a.length-1];return a.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(a){if(!a)return[[]];if(a==="/")return[[ROOT_TOKEN]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function t(_){throw new Error(`ERR (${n})/"${d}": ${_}`)}let n=0,o=n;const s=[];let l;function u(){l&&s.push(l),l=[]}let c=0,f,d="",g="";function y(){d&&(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function S(){d+=f}for(;c<a.length;){if(f=a[c++],f==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:f==="/"?(d&&y(),u()):f===":"?(y(),n=1):S();break;case 4:S(),n=o;break;case 1:f==="("?n=2:VALID_PARAM_RE.test(f)?S():(y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),y(),u(),s}function createRouteRecordMatcher(a,t,n){const o=tokensToParser(tokenizePath(a.path),n),s=assign(o,{record:a,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function createRouterMatcher(a,t){const n=[],o=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function s(y){return o.get(y)}function l(y,S,_){const x=!_,b=normalizeRouteRecord(y);b.aliasOf=_&&_.record;const T=mergeOptions(t,y),A=[b];if("alias"in y){const P=typeof y.alias=="string"?[y.alias]:y.alias;for(const M of P)A.push(normalizeRouteRecord(assign({},b,{components:_?_.record.components:b.components,path:M,aliasOf:_?_.record:b})))}let C,E;for(const P of A){const{path:M}=P;if(S&&M[0]!=="/"){const I=S.record.path,D=I[I.length-1]==="/"?"":"/";P.path=S.record.path+(M&&D+M)}if(C=createRouteRecordMatcher(P,S,T),_?_.alias.push(C):(E=E||C,E!==C&&E.alias.push(C),x&&y.name&&!isAliasRecord(C)&&u(y.name)),isMatchable(C)&&f(C),b.children){const I=b.children;for(let D=0;D<I.length;D++)l(I[D],C,_&&_.children[D])}_=_||C}return E?()=>{u(E)}:noop$3}function u(y){if(isRouteName(y)){const S=o.get(y);S&&(o.delete(y),n.splice(n.indexOf(S),1),S.children.forEach(u),S.alias.forEach(u))}else{const S=n.indexOf(y);S>-1&&(n.splice(S,1),y.record.name&&o.delete(y.record.name),y.children.forEach(u),y.alias.forEach(u))}}function c(){return n}function f(y){const S=findInsertionIndex(y,n);n.splice(S,0,y),y.record.name&&!isAliasRecord(y)&&o.set(y.record.name,y)}function d(y,S){let _,x={},b,T;if("name"in y&&y.name){if(_=o.get(y.name),!_)throw createRouterError(1,{location:y});T=_.record.name,x=assign(paramsFromLocation(S.params,_.keys.filter(E=>!E.optional).concat(_.parent?_.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),y.params&&paramsFromLocation(y.params,_.keys.map(E=>E.name))),b=_.stringify(x)}else if(y.path!=null)b=y.path,_=n.find(E=>E.re.test(b)),_&&(x=_.parse(b),T=_.record.name);else{if(_=S.name?o.get(S.name):n.find(E=>E.re.test(S.path)),!_)throw createRouterError(1,{location:y,currentLocation:S});T=_.record.name,x=assign({},S.params,y.params),b=_.stringify(x)}const A=[];let C=_;for(;C;)A.unshift(C.record),C=C.parent;return{name:T,path:b,params:x,matched:A,meta:mergeMetaFields(A)}}a.forEach(y=>l(y));function g(){n.length=0,o.clear()}return{addRoute:l,resolve:d,removeRoute:u,clearRoutes:g,getRoutes:c,getRecordMatcher:s}}function paramsFromLocation(a,t){const n={};for(const o of t)o in a&&(n[o]=a[o]);return n}function normalizeRouteRecord(a){const t={path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:a.aliasOf,beforeEnter:a.beforeEnter,props:normalizeRecordProps(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||null:a.component&&{default:a.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function normalizeRecordProps(a){const t={},n=a.props||!1;if("component"in a)t.default=n;else for(const o in a.components)t[o]=typeof n=="object"?n[o]:n;return t}function isAliasRecord(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function mergeMetaFields(a){return a.reduce((t,n)=>assign(t,n.meta),{})}function mergeOptions(a,t){const n={};for(const o in a)n[o]=o in t?t[o]:a[o];return n}function findInsertionIndex(a,t){let n=0,o=t.length;for(;n!==o;){const l=n+o>>1;comparePathParserScore(a,t[l])<0?o=l:n=l+1}const s=getInsertionAncestor(a);return s&&(o=t.lastIndexOf(s,o-1)),o}function getInsertionAncestor(a){let t=a;for(;t=t.parent;)if(isMatchable(t)&&comparePathParserScore(a,t)===0)return t}function isMatchable({record:a}){return!!(a.name||a.components&&Object.keys(a.components).length||a.redirect)}function parseQuery(a){const t={};if(a===""||a==="?")return t;const o=(a[0]==="?"?a.slice(1):a).split("&");for(let s=0;s<o.length;++s){const l=o[s].replace(PLUS_RE," "),u=l.indexOf("="),c=decode$1(u<0?l:l.slice(0,u)),f=u<0?null:decode$1(l.slice(u+1));if(c in t){let d=t[c];isArray$3(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function stringifyQuery(a){let t="";for(let n in a){const o=a[n];if(n=encodeQueryKey(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(isArray$3(o)?o.map(l=>l&&encodeQueryValue(l)):[o&&encodeQueryValue(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function normalizeQuery(a){const t={};for(const n in a){const o=a[n];o!==void 0&&(t[n]=isArray$3(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let a=[];function t(o){return a.push(o),()=>{const s=a.indexOf(o);s>-1&&a.splice(s,1)}}function n(){a=[]}return{add:t,list:()=>a.slice(),reset:n}}function guardToPromiseFn(a,t,n,o,s,l=u=>u()){const u=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((c,f)=>{const d=S=>{S===!1?f(createRouterError(4,{from:n,to:t})):S instanceof Error?f(S):isRouteLocation(S)?f(createRouterError(2,{from:t,to:S})):(u&&o.enterCallbacks[s]===u&&typeof S=="function"&&u.push(S),c())},g=l(()=>a.call(o&&o.instances[s],t,n,d));let y=Promise.resolve(g);a.length<3&&(y=y.then(d)),y.catch(S=>f(S))})}function extractComponentsGuards(a,t,n,o,s=l=>l()){const l=[];for(const u of a)for(const c in u.components){let f=u.components[c];if(!(t!=="beforeRouteEnter"&&!u.instances[c]))if(isRouteComponent(f)){const g=(f.__vccOpts||f)[t];g&&l.push(guardToPromiseFn(g,n,o,u,c,s))}else{let d=f();l.push(()=>d.then(g=>{if(!g)throw new Error(`Couldn't resolve component "${c}" at "${u.path}"`);const y=isESModule(g)?g.default:g;u.mods[c]=g,u.components[c]=y;const _=(y.__vccOpts||y)[t];return _&&guardToPromiseFn(_,n,o,u,c,s)()}))}}return l}function useLink(a){const t=inject(routerKey),n=inject(routeLocationKey),o=computed(()=>{const f=unref(a.to);return t.resolve(f)}),s=computed(()=>{const{matched:f}=o.value,{length:d}=f,g=f[d-1],y=n.matched;if(!g||!y.length)return-1;const S=y.findIndex(isSameRouteRecord.bind(null,g));if(S>-1)return S;const _=getOriginalPath(f[d-2]);return d>1&&getOriginalPath(g)===_&&y[y.length-1].path!==_?y.findIndex(isSameRouteRecord.bind(null,f[d-2])):S}),l=computed(()=>s.value>-1&&includesParams(n.params,o.value.params)),u=computed(()=>s.value>-1&&s.value===n.matched.length-1&&isSameRouteLocationParams(n.params,o.value.params));function c(f={}){if(guardEvent(f)){const d=t[unref(a.replace)?"replace":"push"](unref(a.to)).catch(noop$3);return a.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:computed(()=>o.value.href),isActive:l,isExactActive:u,navigate:c}}function preferSingleVNode(a){return a.length===1?a[0]:a}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(a,{slots:t}){const n=reactive(useLink(a)),{options:o}=inject(routerKey),s=computed(()=>({[getLinkClass(a.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(a.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&preferSingleVNode(t.default(n));return a.custom?l:h$5("a",{"aria-current":n.isExactActive?a.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},l)}}}),RouterLink=RouterLinkImpl;function guardEvent(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const t=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return a.preventDefault&&a.preventDefault(),!0}}function includesParams(a,t){for(const n in t){const o=t[n],s=a[n];if(typeof o=="string"){if(o!==s)return!1}else if(!isArray$3(s)||s.length!==o.length||o.some((l,u)=>l!==s[u]))return!1}return!0}function getOriginalPath(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const getLinkClass=(a,t,n)=>a??t??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:t,slots:n}){const o=inject(routerViewLocationKey),s=computed(()=>a.route||o.value),l=inject(viewDepthKey,0),u=computed(()=>{let d=unref(l);const{matched:g}=s.value;let y;for(;(y=g[d])&&!y.components;)d++;return d}),c=computed(()=>s.value.matched[u.value]);provide(viewDepthKey,computed(()=>u.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,s);const f=ref();return watch(()=>[f.value,c.value,a.name],([d,g,y],[S,_,x])=>{g&&(g.instances[y]=d,_&&_!==g&&d&&d===S&&(g.leaveGuards.size||(g.leaveGuards=_.leaveGuards),g.updateGuards.size||(g.updateGuards=_.updateGuards))),d&&g&&(!_||!isSameRouteRecord(g,_)||!S)&&(g.enterCallbacks[y]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=s.value,g=a.name,y=c.value,S=y&&y.components[g];if(!S)return normalizeSlot(n.default,{Component:S,route:d});const _=y.props[g],x=_?_===!0?d.params:typeof _=="function"?_(d):_:null,T=h$5(S,assign({},x,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(y.instances[g]=null)},ref:f}));return normalizeSlot(n.default,{Component:T,route:d})||T}}});function normalizeSlot(a,t){if(!a)return null;const n=a(t);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(a){const t=createRouterMatcher(a.routes,a),n=a.parseQuery||parseQuery,o=a.stringifyQuery||stringifyQuery,s=a.history,l=useCallbacks(),u=useCallbacks(),c=useCallbacks(),f=shallowRef(START_LOCATION_NORMALIZED);let d=START_LOCATION_NORMALIZED;isBrowser$1&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,q=>""+q),y=applyToParams.bind(null,encodeParam),S=applyToParams.bind(null,decode$1);function _(q,re){let J,oe;return isRouteName(q)?(J=t.getRecordMatcher(q),oe=re):oe=q,t.addRoute(oe,J)}function x(q){const re=t.getRecordMatcher(q);re&&t.removeRoute(re)}function b(){return t.getRoutes().map(q=>q.record)}function T(q){return!!t.getRecordMatcher(q)}function A(q,re){if(re=assign({},re||f.value),typeof q=="string"){const K=parseURL(n,q,re.path),Q=t.resolve({path:K.path},re),ie=s.createHref(K.fullPath);return assign(K,Q,{params:S(Q.params),hash:decode$1(K.hash),redirectedFrom:void 0,href:ie})}let J;if(q.path!=null)J=assign({},q,{path:parseURL(n,q.path,re.path).path});else{const K=assign({},q.params);for(const Q in K)K[Q]==null&&delete K[Q];J=assign({},q,{params:y(K)}),re.params=y(re.params)}const oe=t.resolve(J,re),ne=q.hash||"";oe.params=g(S(oe.params));const Y=stringifyURL(o,assign({},q,{hash:encodeHash(ne),path:oe.path})),Z=s.createHref(Y);return assign({fullPath:Y,hash:ne,query:o===stringifyQuery?normalizeQuery(q.query):q.query||{}},oe,{redirectedFrom:void 0,href:Z})}function C(q){return typeof q=="string"?parseURL(n,q,f.value.path):assign({},q)}function E(q,re){if(d!==q)return createRouterError(8,{from:re,to:q})}function P(q){return D(q)}function M(q){return P(assign(C(q),{replace:!0}))}function I(q){const re=q.matched[q.matched.length-1];if(re&&re.redirect){const{redirect:J}=re;let oe=typeof J=="function"?J(q):J;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=C(oe):{path:oe},oe.params={}),assign({query:q.query,hash:q.hash,params:oe.path!=null?{}:q.params},oe)}}function D(q,re){const J=d=A(q),oe=f.value,ne=q.state,Y=q.force,Z=q.replace===!0,K=I(J);if(K)return D(assign(C(K),{state:typeof K=="object"?assign({},ne,K.state):ne,force:Y,replace:Z}),re||J);const Q=J;Q.redirectedFrom=re;let ie;return!Y&&isSameRouteLocation(o,oe,J)&&(ie=createRouterError(16,{to:Q,from:oe}),W(oe,oe,!0,!1)),(ie?Promise.resolve(ie):O(Q,oe)).catch(ae=>isNavigationFailure(ae)?isNavigationFailure(ae,2)?ae:j(ae):R(ae,Q,oe)).then(ae=>{if(ae){if(isNavigationFailure(ae,2))return D(assign({replace:Z},C(ae.to),{state:typeof ae.to=="object"?assign({},ne,ae.to.state):ne,force:Y}),re||Q)}else ae=F(Q,oe,!0,Z,ne);return V(Q,oe,ae),ae})}function L(q,re){const J=E(q,re);return J?Promise.reject(J):Promise.resolve()}function $(q){const re=te.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(q):q()}function O(q,re){let J;const[oe,ne,Y]=extractChangingRecords(q,re);J=extractComponentsGuards(oe.reverse(),"beforeRouteLeave",q,re);for(const K of oe)K.leaveGuards.forEach(Q=>{J.push(guardToPromiseFn(Q,q,re))});const Z=L.bind(null,q,re);return J.push(Z),fe(J).then(()=>{J=[];for(const K of l.list())J.push(guardToPromiseFn(K,q,re));return J.push(Z),fe(J)}).then(()=>{J=extractComponentsGuards(ne,"beforeRouteUpdate",q,re);for(const K of ne)K.updateGuards.forEach(Q=>{J.push(guardToPromiseFn(Q,q,re))});return J.push(Z),fe(J)}).then(()=>{J=[];for(const K of Y)if(K.beforeEnter)if(isArray$3(K.beforeEnter))for(const Q of K.beforeEnter)J.push(guardToPromiseFn(Q,q,re));else J.push(guardToPromiseFn(K.beforeEnter,q,re));return J.push(Z),fe(J)}).then(()=>(q.matched.forEach(K=>K.enterCallbacks={}),J=extractComponentsGuards(Y,"beforeRouteEnter",q,re,$),J.push(Z),fe(J))).then(()=>{J=[];for(const K of u.list())J.push(guardToPromiseFn(K,q,re));return J.push(Z),fe(J)}).catch(K=>isNavigationFailure(K,8)?K:Promise.reject(K))}function V(q,re,J){c.list().forEach(oe=>$(()=>oe(q,re,J)))}function F(q,re,J,oe,ne){const Y=E(q,re);if(Y)return Y;const Z=re===START_LOCATION_NORMALIZED,K=isBrowser$1?history.state:{};J&&(oe||Z?s.replace(q.fullPath,assign({scroll:Z&&K&&K.scroll},ne)):s.push(q.fullPath,ne)),f.value=q,W(q,re,J,Z),j()}let z;function U(){z||(z=s.listen((q,re,J)=>{if(!le.listening)return;const oe=A(q),ne=I(oe);if(ne){D(assign(ne,{replace:!0,force:!0}),oe).catch(noop$3);return}d=oe;const Y=f.value;isBrowser$1&&saveScrollPosition(getScrollKey(Y.fullPath,J.delta),computeScrollPosition()),O(oe,Y).catch(Z=>isNavigationFailure(Z,12)?Z:isNavigationFailure(Z,2)?(D(assign(C(Z.to),{force:!0}),oe).then(K=>{isNavigationFailure(K,20)&&!J.delta&&J.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$3),Promise.reject()):(J.delta&&s.go(-J.delta,!1),R(Z,oe,Y))).then(Z=>{Z=Z||F(oe,Y,!1),Z&&(J.delta&&!isNavigationFailure(Z,8)?s.go(-J.delta,!1):J.type===NavigationType.pop&&isNavigationFailure(Z,20)&&s.go(-1,!1)),V(oe,Y,Z)}).catch(noop$3)}))}let H=useCallbacks(),N=useCallbacks(),G;function R(q,re,J){j(q);const oe=N.list();return oe.length?oe.forEach(ne=>ne(q,re,J)):console.error(q),Promise.reject(q)}function B(){return G&&f.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((q,re)=>{H.add([q,re])})}function j(q){return G||(G=!q,U(),H.list().forEach(([re,J])=>q?J(q):re()),H.reset()),q}function W(q,re,J,oe){const{scrollBehavior:ne}=a;if(!isBrowser$1||!ne)return Promise.resolve();const Y=!J&&getSavedScrollPosition(getScrollKey(q.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ne(q,re,Y)).then(Z=>Z&&scrollToPosition(Z)).catch(Z=>R(Z,q,re))}const X=q=>s.go(q);let ee;const te=new Set,le={currentRoute:f,listening:!0,addRoute:_,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:b,resolve:A,options:a,push:P,replace:M,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:l.add,beforeResolve:u.add,afterEach:c.add,onError:N.add,isReady:B,install(q){const re=this;q.component("RouterLink",RouterLink),q.component("RouterView",RouterView),q.config.globalProperties.$router=re,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(f)}),isBrowser$1&&!ee&&f.value===START_LOCATION_NORMALIZED&&(ee=!0,P(s.location).catch(ne=>{}));const J={};for(const ne in START_LOCATION_NORMALIZED)Object.defineProperty(J,ne,{get:()=>f.value[ne],enumerable:!0});q.provide(routerKey,re),q.provide(routeLocationKey,shallowReactive(J)),q.provide(routerViewLocationKey,f);const oe=q.unmount;te.add(q),q.unmount=function(){te.delete(q),te.size<1&&(d=START_LOCATION_NORMALIZED,z&&z(),z=null,f.value=START_LOCATION_NORMALIZED,ee=!1,G=!1),oe()}}};function fe(q){return q.reduce((re,J)=>re.then(()=>$(J)),Promise.resolve())}return le}function extractChangingRecords(a,t){const n=[],o=[],s=[],l=Math.max(t.matched.length,a.matched.length);for(let u=0;u<l;u++){const c=t.matched[u];c&&(a.matched.find(d=>isSameRouteRecord(d,c))?o.push(c):n.push(c));const f=a.matched[u];f&&(t.matched.find(d=>isSameRouteRecord(d,f))||s.push(f))}return[n,o,s]}function useRouter(){return inject(routerKey)}function useRoute(a){return inject(routeLocationKey)}function r(a){var t,n,o="";if(typeof a=="string"||typeof a=="number")o+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(n=r(a[t]))&&(o&&(o+=" "),o+=n)}else for(n in a)a[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var a,t,n=0,o="",s=arguments.length;n<s;n++)(a=arguments[n])&&(t=r(a))&&(o&&(o+=" "),o+=t);return o}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=a=>{const t=createClassMap(a),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=a;return{getClassGroupId:u=>{const c=u.split(CLASS_PART_SEPARATOR);return c[0]===""&&c.length!==1&&c.shift(),getGroupRecursive(c,t)||getGroupIdForArbitraryProperty(u)},getConflictingClassGroupIds:(u,c)=>{const f=n[u]||[];return c&&o[u]?[...f,...o[u]]:f}}},getGroupRecursive=(a,t)=>{var u;if(a.length===0)return t.classGroupId;const n=a[0],o=t.nextPart.get(n),s=o?getGroupRecursive(a.slice(1),o):void 0;if(s)return s;if(t.validators.length===0)return;const l=a.join(CLASS_PART_SEPARATOR);return(u=t.validators.find(({validator:c})=>c(l)))==null?void 0:u.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=a=>{if(arbitraryPropertyRegex.test(a)){const t=arbitraryPropertyRegex.exec(a)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},createClassMap=a=>{const{theme:t,classGroups:n}=a,o={nextPart:new Map,validators:[]};for(const s in n)processClassesRecursively(n[s],o,s,t);return o},processClassesRecursively=(a,t,n,o)=>{a.forEach(s=>{if(typeof s=="string"){const l=s===""?t:getPart(t,s);l.classGroupId=n;return}if(typeof s=="function"){if(isThemeGetter(s)){processClassesRecursively(s(o),t,n,o);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([l,u])=>{processClassesRecursively(u,getPart(t,l),n,o)})})},getPart=(a,t)=>{let n=a;return t.split(CLASS_PART_SEPARATOR).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},isThemeGetter=a=>a.isThemeGetter,createLruCache=a=>{if(a<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,o=new Map;const s=(l,u)=>{n.set(l,u),t++,t>a&&(t=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return s(l,u),u},set(l,u){n.has(l)?n.set(l,u):s(l,u)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=a=>{const{prefix:t,experimentalParseClassName:n}=a;let o=s=>{const l=[];let u=0,c=0,f=0,d;for(let x=0;x<s.length;x++){let b=s[x];if(u===0&&c===0){if(b===MODIFIER_SEPARATOR){l.push(s.slice(f,x)),f=x+MODIFIER_SEPARATOR_LENGTH;continue}if(b==="/"){d=x;continue}}b==="["?u++:b==="]"?u--:b==="("?c++:b===")"&&c--}const g=l.length===0?s:s.substring(f),y=stripImportantModifier(g),S=y!==g,_=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:y,maybePostfixModifierPosition:_}};if(t){const s=t+MODIFIER_SEPARATOR,l=o;o=u=>u.startsWith(s)?l(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=o;o=l=>n({className:l,parseClassName:s})}return o},stripImportantModifier=a=>a.endsWith(IMPORTANT_MODIFIER)?a.substring(0,a.length-1):a.startsWith(IMPORTANT_MODIFIER)?a.substring(1):a,createSortModifiers=a=>{const t=Object.fromEntries(a.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const s=[];let l=[];return o.forEach(u=>{u[0]==="["||t[u]?(s.push(...l.sort(),u),l=[]):l.push(u)}),s.push(...l.sort()),s}},createConfigUtils=a=>({cache:createLruCache(a.cacheSize),parseClassName:createParseClassName(a),sortModifiers:createSortModifiers(a),...createClassGroupUtils(a)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(a,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:s,sortModifiers:l}=t,u=[],c=a.trim().split(SPLIT_CLASSES_REGEX);let f="";for(let d=c.length-1;d>=0;d-=1){const g=c[d],{isExternal:y,modifiers:S,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:b}=n(g);if(y){f=g+(f.length>0?" "+f:f);continue}let T=!!b,A=o(T?x.substring(0,b):x);if(!A){if(!T){f=g+(f.length>0?" "+f:f);continue}if(A=o(x),!A){f=g+(f.length>0?" "+f:f);continue}T=!1}const C=l(S).join(":"),E=_?C+IMPORTANT_MODIFIER:C,P=E+A;if(u.includes(P))continue;u.push(P);const M=s(A,T);for(let I=0;I<M.length;++I){const D=M[I];u.push(E+D)}f=g+(f.length>0?" "+f:f)}return f};function twJoin(){let a=0,t,n,o="";for(;a<arguments.length;)(t=arguments[a++])&&(n=toValue(t))&&(o&&(o+=" "),o+=n);return o}const toValue=a=>{if(typeof a=="string")return a;let t,n="";for(let o=0;o<a.length;o++)a[o]&&(t=toValue(a[o]))&&(n&&(n+=" "),n+=t);return n};function createTailwindMerge(a,...t){let n,o,s,l=u;function u(f){const d=t.reduce((g,y)=>y(g),a());return n=createConfigUtils(d),o=n.cache.get,s=n.cache.set,l=c,c(f)}function c(f){const d=o(f);if(d)return d;const g=mergeClassList(f,n);return s(f,g),g}return function(){return l(twJoin.apply(null,arguments))}}const fromTheme=a=>{const t=n=>n[a]||[];return t.isThemeGetter=!0,t},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=a=>fractionRegex.test(a),isNumber$3=a=>!!a&&!Number.isNaN(Number(a)),isInteger=a=>!!a&&Number.isInteger(Number(a)),isPercent=a=>a.endsWith("%")&&isNumber$3(a.slice(0,-1)),isTshirtSize=a=>tshirtUnitRegex.test(a),isAny=()=>!0,isLengthOnly=a=>lengthUnitRegex.test(a)&&!colorFunctionRegex.test(a),isNever=()=>!1,isShadow=a=>shadowRegex.test(a),isImage=a=>imageRegex.test(a),isAnyNonArbitrary=a=>!isArbitraryValue(a)&&!isArbitraryVariable(a),isArbitrarySize=a=>getIsArbitraryValue(a,isLabelSize,isNever),isArbitraryValue=a=>arbitraryValueRegex.test(a),isArbitraryLength=a=>getIsArbitraryValue(a,isLabelLength,isLengthOnly),isArbitraryNumber=a=>getIsArbitraryValue(a,isLabelNumber,isNumber$3),isArbitraryPosition=a=>getIsArbitraryValue(a,isLabelPosition,isNever),isArbitraryImage=a=>getIsArbitraryValue(a,isLabelImage,isImage),isArbitraryShadow=a=>getIsArbitraryValue(a,isLabelShadow,isShadow),isArbitraryVariable=a=>arbitraryVariableRegex.test(a),isArbitraryVariableLength=a=>getIsArbitraryVariable(a,isLabelLength),isArbitraryVariableFamilyName=a=>getIsArbitraryVariable(a,isLabelFamilyName),isArbitraryVariablePosition=a=>getIsArbitraryVariable(a,isLabelPosition),isArbitraryVariableSize=a=>getIsArbitraryVariable(a,isLabelSize),isArbitraryVariableImage=a=>getIsArbitraryVariable(a,isLabelImage),isArbitraryVariableShadow=a=>getIsArbitraryVariable(a,isLabelShadow,!0),getIsArbitraryValue=(a,t,n)=>{const o=arbitraryValueRegex.exec(a);return o?o[1]?t(o[1]):n(o[2]):!1},getIsArbitraryVariable=(a,t,n=!1)=>{const o=arbitraryVariableRegex.exec(a);return o?o[1]?t(o[1]):n:!1},isLabelPosition=a=>a==="position"||a==="percentage",isLabelImage=a=>a==="image"||a==="url",isLabelSize=a=>a==="length"||a==="size"||a==="bg-size",isLabelLength=a=>a==="length",isLabelNumber=a=>a==="number",isLabelFamilyName=a=>a==="family-name",isLabelShadow=a=>a==="shadow",getDefaultConfig=()=>{const a=fromTheme("color"),t=fromTheme("font"),n=fromTheme("text"),o=fromTheme("font-weight"),s=fromTheme("tracking"),l=fromTheme("leading"),u=fromTheme("breakpoint"),c=fromTheme("container"),f=fromTheme("spacing"),d=fromTheme("radius"),g=fromTheme("shadow"),y=fromTheme("inset-shadow"),S=fromTheme("text-shadow"),_=fromTheme("drop-shadow"),x=fromTheme("blur"),b=fromTheme("perspective"),T=fromTheme("aspect"),A=fromTheme("ease"),C=fromTheme("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...P(),isArbitraryVariable,isArbitraryValue],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],L=()=>[isArbitraryVariable,isArbitraryValue,f],$=()=>[isFraction,"full","auto",...L()],O=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],V=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],F=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],z=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...L()],G=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],R=()=>[a,isArbitraryVariable,isArbitraryValue],B=()=>[...P(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],X=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],ee=()=>["","none","full",d,isArbitraryVariable,isArbitraryValue],te=()=>["",isNumber$3,isArbitraryVariableLength,isArbitraryLength],le=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[isNumber$3,isPercent,isArbitraryVariablePosition,isArbitraryPosition],re=()=>["","none",x,isArbitraryVariable,isArbitraryValue],J=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],oe=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],ne=()=>[isNumber$3,isArbitraryVariable,isArbitraryValue],Y=()=>[isFraction,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$3],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,T]}],container:["container"],columns:[{columns:[isNumber$3,isArbitraryValue,isArbitraryVariable,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",c,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$3,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[c,"screen",...G()]}],"min-w":[{"min-w":[c,"screen","none",...G()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[u]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",n,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$3,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$3,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[isNumber$3,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$3,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",y,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[isNumber$3,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",S,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$3]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$3]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:re()}],brightness:[{brightness:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",_,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":re()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$3,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",A,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",C,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:ne()}],"skew-x":[{"skew-x":ne()}],"skew-y":[{"skew-y":ne()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[isNumber$3,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...a){return twMerge(clsx(a))}function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof navigator<"u"&&function(a,t){module.exports=t()}(lottie$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(a){return document.createElement(a)}function extendPrototype(a,t){var n,o=a.length,s;for(n=0;n<o;n+=1){s=a[n].prototype;for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t.prototype[l]=s[l])}}function getDescriptor(a,t){return Object.getOwnPropertyDescriptor(a,t)}function createProxyFunction(a){function t(){}return t.prototype=a,t}var audioControllerFactory=function(){function a(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return a.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].pause()},resume:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].resume()},setRate:function(n){var o,s=this.audios.length;for(o=0;o<s;o+=1)this.audios[o].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new a}}(),createTypedArray=function(){function a(n,o){var s=0,l=[],u;switch(n){case"int16":case"uint8c":u=1;break;default:u=1.1;break}for(s=0;s<o;s+=1)l.push(u);return l}function t(n,o){return n==="float32"?new Float32Array(o):n==="int16"?new Int16Array(o):n==="uint8c"?new Uint8ClampedArray(o):a(n,o)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:a}();function createSizedArray(a){return Array.apply(null,{length:a})}function _typeof$6(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(n){return typeof n}:_typeof$6=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(a)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var a=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,n=a.length;for(t=0;t<n;t+=1)BMMath[a[t]]=Math[a[t]]})(),BMMath.random=Math.random,BMMath.abs=function(a){var t=_typeof$6(a);if(t==="object"&&a.length){var n=createSizedArray(a.length),o,s=a.length;for(o=0;o<s;o+=1)n[o]=Math.abs(a[o]);return n}return Math.abs(a)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(a){a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="block",a.style.transformOrigin="0 0",a.style.webkitTransformOrigin="0 0",a.style.backfaceVisibility="visible",a.style.webkitBackfaceVisibility="visible",a.style.transformStyle="preserve-3d",a.style.webkitTransformStyle="preserve-3d",a.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(a,t,n,o){this.type=a,this.currentTime=t,this.totalTime=n,this.direction=o<0?-1:1}function BMCompleteEvent(a,t){this.type=a,this.direction=t<0?-1:1}function BMCompleteLoopEvent(a,t,n,o){this.type=a,this.currentLoop=n,this.totalLoops=t,this.direction=o<0?-1:1}function BMSegmentStartEvent(a,t,n){this.type=a,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(a,t){this.type=a,this.target=t}function BMRenderFrameErrorEvent(a,t){this.type="renderFrameError",this.nativeError=a,this.currentTime=t}function BMConfigErrorEvent(a){this.type="configError",this.nativeError=a}var createElementID=function(){var a=0;return function(){return a+=1,idPrefix$1+"__lottie_element_"+a}}();function HSVtoRGB(a,t,n){var o,s,l,u,c,f,d,g;switch(u=Math.floor(a*6),c=a*6-u,f=n*(1-t),d=n*(1-c*t),g=n*(1-(1-c)*t),u%6){case 0:o=n,s=g,l=f;break;case 1:o=d,s=n,l=f;break;case 2:o=f,s=n,l=g;break;case 3:o=f,s=d,l=n;break;case 4:o=g,s=f,l=n;break;case 5:o=n,s=f,l=d;break}return[o,s,l]}function RGBtoHSV(a,t,n){var o=Math.max(a,t,n),s=Math.min(a,t,n),l=o-s,u,c=o===0?0:l/o,f=o/255;switch(o){case s:u=0;break;case a:u=t-n+l*(t<n?6:0),u/=6*l;break;case t:u=n-a+l*2,u/=6*l;break;case n:u=a-t+l*4,u/=6*l;break}return[u,c,f]}function addSaturationToRGB(a,t){var n=RGBtoHSV(a[0]*255,a[1]*255,a[2]*255);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(a,t){var n=RGBtoHSV(a[0]*255,a[1]*255,a[2]*255);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(a,t){var n=RGBtoHSV(a[0]*255,a[1]*255,a[2]*255);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var a=[],t,n;for(t=0;t<256;t+=1)n=t.toString(16),a[t]=n.length===1?"0"+n:n;return function(o,s,l){return o<0&&(o=0),s<0&&(s=0),l<0&&(l=0),"#"+a[o]+a[s]+a[l]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(a){return document.createElementNS(svgNS,a)}function _typeof$5(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(n){return typeof n}:_typeof$5=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(a)}var dataManager=function(){var a=1,t=[],n,o,s={onmessage:function(){},postMessage:function(_){n({data:_})}},l={postMessage:function(_){s.onmessage({data:_})}};function u(S){if(window.Worker&&window.Blob&&getWebWorker()){var _=new Blob(["var _workerSelf = self; self.onmessage = ",S.toString()],{type:"text/javascript"}),x=URL.createObjectURL(_);return new Worker(x)}return n=S,s}function c(){o||(o=u(function(_){function x(){function T(H,N){var G,R,B=H.length,j,W,X,ee;for(R=0;R<B;R+=1)if(G=H[R],"ks"in G&&!G.completed){if(G.completed=!0,G.hasMask){var te=G.masksProperties;for(W=te.length,j=0;j<W;j+=1)if(te[j].pt.k.i)M(te[j].pt.k);else for(ee=te[j].pt.k.length,X=0;X<ee;X+=1)te[j].pt.k[X].s&&M(te[j].pt.k[X].s[0]),te[j].pt.k[X].e&&M(te[j].pt.k[X].e[0])}G.ty===0?(G.layers=E(G.refId,N),T(G.layers,N)):G.ty===4?P(G.shapes):G.ty===5&&z(G)}}function A(H,N){if(H){var G=0,R=H.length;for(G=0;G<R;G+=1)H[G].t===1&&(H[G].data.layers=E(H[G].data.refId,N),T(H[G].data.layers,N))}}function C(H,N){for(var G=0,R=N.length;G<R;){if(N[G].id===H)return N[G];G+=1}return null}function E(H,N){var G=C(H,N);return G?G.layers.__used?JSON.parse(JSON.stringify(G.layers)):(G.layers.__used=!0,G.layers):null}function P(H){var N,G=H.length,R,B;for(N=G-1;N>=0;N-=1)if(H[N].ty==="sh")if(H[N].ks.k.i)M(H[N].ks.k);else for(B=H[N].ks.k.length,R=0;R<B;R+=1)H[N].ks.k[R].s&&M(H[N].ks.k[R].s[0]),H[N].ks.k[R].e&&M(H[N].ks.k[R].e[0]);else H[N].ty==="gr"&&P(H[N].it)}function M(H){var N,G=H.i.length;for(N=0;N<G;N+=1)H.i[N][0]+=H.v[N][0],H.i[N][1]+=H.v[N][1],H.o[N][0]+=H.v[N][0],H.o[N][1]+=H.v[N][1]}function I(H,N){var G=N?N.split("."):[100,100,100];return H[0]>G[0]?!0:G[0]>H[0]?!1:H[1]>G[1]?!0:G[1]>H[1]?!1:H[2]>G[2]?!0:G[2]>H[2]?!1:null}var D=function(){var H=[4,4,14];function N(R){var B=R.t.d;R.t.d={k:[{s:B,t:0}]}}function G(R){var B,j=R.length;for(B=0;B<j;B+=1)R[B].ty===5&&N(R[B])}return function(R){if(I(H,R.v)&&(G(R.layers),R.assets)){var B,j=R.assets.length;for(B=0;B<j;B+=1)R.assets[B].layers&&G(R.assets[B].layers)}}}(),L=function(){var H=[4,7,99];return function(N){if(N.chars&&!I(H,N.v)){var G,R=N.chars.length;for(G=0;G<R;G+=1){var B=N.chars[G];B.data&&B.data.shapes&&(P(B.data.shapes),B.data.ip=0,B.data.op=99999,B.data.st=0,B.data.sr=1,B.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},N.chars[G].t||(B.data.shapes.push({ty:"no"}),B.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),$=function(){var H=[5,7,15];function N(R){var B=R.t.p;typeof B.a=="number"&&(B.a={a:0,k:B.a}),typeof B.p=="number"&&(B.p={a:0,k:B.p}),typeof B.r=="number"&&(B.r={a:0,k:B.r})}function G(R){var B,j=R.length;for(B=0;B<j;B+=1)R[B].ty===5&&N(R[B])}return function(R){if(I(H,R.v)&&(G(R.layers),R.assets)){var B,j=R.assets.length;for(B=0;B<j;B+=1)R.assets[B].layers&&G(R.assets[B].layers)}}}(),O=function(){var H=[4,1,9];function N(R){var B,j=R.length,W,X;for(B=0;B<j;B+=1)if(R[B].ty==="gr")N(R[B].it);else if(R[B].ty==="fl"||R[B].ty==="st")if(R[B].c.k&&R[B].c.k[0].i)for(X=R[B].c.k.length,W=0;W<X;W+=1)R[B].c.k[W].s&&(R[B].c.k[W].s[0]/=255,R[B].c.k[W].s[1]/=255,R[B].c.k[W].s[2]/=255,R[B].c.k[W].s[3]/=255),R[B].c.k[W].e&&(R[B].c.k[W].e[0]/=255,R[B].c.k[W].e[1]/=255,R[B].c.k[W].e[2]/=255,R[B].c.k[W].e[3]/=255);else R[B].c.k[0]/=255,R[B].c.k[1]/=255,R[B].c.k[2]/=255,R[B].c.k[3]/=255}function G(R){var B,j=R.length;for(B=0;B<j;B+=1)R[B].ty===4&&N(R[B].shapes)}return function(R){if(I(H,R.v)&&(G(R.layers),R.assets)){var B,j=R.assets.length;for(B=0;B<j;B+=1)R.assets[B].layers&&G(R.assets[B].layers)}}}(),V=function(){var H=[4,4,18];function N(R){var B,j=R.length,W,X;for(B=j-1;B>=0;B-=1)if(R[B].ty==="sh")if(R[B].ks.k.i)R[B].ks.k.c=R[B].closed;else for(X=R[B].ks.k.length,W=0;W<X;W+=1)R[B].ks.k[W].s&&(R[B].ks.k[W].s[0].c=R[B].closed),R[B].ks.k[W].e&&(R[B].ks.k[W].e[0].c=R[B].closed);else R[B].ty==="gr"&&N(R[B].it)}function G(R){var B,j,W=R.length,X,ee,te,le;for(j=0;j<W;j+=1){if(B=R[j],B.hasMask){var fe=B.masksProperties;for(ee=fe.length,X=0;X<ee;X+=1)if(fe[X].pt.k.i)fe[X].pt.k.c=fe[X].cl;else for(le=fe[X].pt.k.length,te=0;te<le;te+=1)fe[X].pt.k[te].s&&(fe[X].pt.k[te].s[0].c=fe[X].cl),fe[X].pt.k[te].e&&(fe[X].pt.k[te].e[0].c=fe[X].cl)}B.ty===4&&N(B.shapes)}}return function(R){if(I(H,R.v)&&(G(R.layers),R.assets)){var B,j=R.assets.length;for(B=0;B<j;B+=1)R.assets[B].layers&&G(R.assets[B].layers)}}}();function F(H){H.__complete||(O(H),D(H),L(H),$(H),V(H),T(H.layers,H.assets),A(H.chars,H.assets),H.__complete=!0)}function z(H){H.t.a.length===0&&"m"in H.t.p}var U={};return U.completeData=F,U.checkColors=O,U.checkChars=L,U.checkPathProperties=$,U.checkShapes=V,U.completeLayers=T,U}if(l.dataManager||(l.dataManager=x()),l.assetLoader||(l.assetLoader=function(){function T(C){var E=C.getResponseHeader("content-type");return E&&C.responseType==="json"&&E.indexOf("json")!==-1||C.response&&_typeof$5(C.response)==="object"?C.response:C.response&&typeof C.response=="string"?JSON.parse(C.response):C.responseText?JSON.parse(C.responseText):null}function A(C,E,P,M){var I,D=new XMLHttpRequest;try{D.responseType="json"}catch{}D.onreadystatechange=function(){if(D.readyState===4)if(D.status===200)I=T(D),P(I);else try{I=T(D),P(I)}catch(L){M&&M(L)}};try{D.open(["G","E","T"].join(""),C,!0)}catch{D.open(["G","E","T"].join(""),E+"/"+C,!0)}D.send()}return{load:A}}()),_.data.type==="loadAnimation")l.assetLoader.load(_.data.path,_.data.fullPath,function(T){l.dataManager.completeData(T),l.postMessage({id:_.data.id,payload:T,status:"success"})},function(){l.postMessage({id:_.data.id,status:"error"})});else if(_.data.type==="complete"){var b=_.data.animation;l.dataManager.completeData(b),l.postMessage({id:_.data.id,payload:b,status:"success"})}else _.data.type==="loadData"&&l.assetLoader.load(_.data.path,_.data.fullPath,function(T){l.postMessage({id:_.data.id,payload:T,status:"success"})},function(){l.postMessage({id:_.data.id,status:"error"})})}),o.onmessage=function(S){var _=S.data,x=_.id,b=t[x];t[x]=null,_.status==="success"?b.onComplete(_.payload):b.onError&&b.onError()})}function f(S,_){a+=1;var x="processId_"+a;return t[x]={onComplete:S,onError:_},x}function d(S,_,x){c();var b=f(_,x);o.postMessage({type:"loadAnimation",path:S,fullPath:window.location.origin+window.location.pathname,id:b})}function g(S,_,x){c();var b=f(_,x);o.postMessage({type:"loadData",path:S,fullPath:window.location.origin+window.location.pathname,id:b})}function y(S,_,x){c();var b=f(_,x);o.postMessage({type:"complete",animation:S,id:b})}return{loadAnimation:d,loadData:g,completeAnimation:y}}(),ImagePreloader=function(){var a=function(){var A=createTag("canvas");A.width=1,A.height=1;var C=A.getContext("2d");return C.fillStyle="rgba(0,0,0,0)",C.fillRect(0,0,1,1),A}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(A,C,E){var P="";if(A.e)P=A.p;else if(C){var M=A.p;M.indexOf("images/")!==-1&&(M=M.split("/")[1]),P=C+M}else P=E,P+=A.u?A.u:"",P+=A.p;return P}function s(A){var C=0,E=setInterval((function(){var P=A.getBBox();(P.width||C>500)&&(this._imageLoaded(),clearInterval(E)),C+=1}).bind(this),50)}function l(A){var C=o(A,this.assetsPath,this.path),E=createNS("image");isSafari?this.testImageLoaded(E):E.addEventListener("load",this._imageLoaded,!1),E.addEventListener("error",(function(){P.img=a,this._imageLoaded()}).bind(this),!1),E.setAttributeNS("http://www.w3.org/1999/xlink","href",C),this._elementHelper.append?this._elementHelper.append(E):this._elementHelper.appendChild(E);var P={img:E,assetData:A};return P}function u(A){var C=o(A,this.assetsPath,this.path),E=createTag("img");E.crossOrigin="anonymous",E.addEventListener("load",this._imageLoaded,!1),E.addEventListener("error",(function(){P.img=a,this._imageLoaded()}).bind(this),!1),E.src=C;var P={img:E,assetData:A};return P}function c(A){var C={assetData:A},E=o(A,this.assetsPath,this.path);return dataManager.loadData(E,(function(P){C.img=P,this._footageLoaded()}).bind(this),(function(){C.img={},this._footageLoaded()}).bind(this)),C}function f(A,C){this.imagesLoadedCb=C;var E,P=A.length;for(E=0;E<P;E+=1)A[E].layers||(!A[E].t||A[E].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(A[E]))):A[E].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(A[E]))))}function d(A){this.path=A||""}function g(A){this.assetsPath=A||""}function y(A){for(var C=0,E=this.images.length;C<E;){if(this.images[C].assetData===A)return this.images[C].img;C+=1}return null}function S(){this.imagesLoadedCb=null,this.images.length=0}function _(){return this.totalImages===this.loadedAssets}function x(){return this.totalFootages===this.loadedFootagesCount}function b(A,C){A==="svg"?(this._elementHelper=C,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function T(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=c.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return T.prototype={loadAssets:f,setAssetsPath:g,setPath:d,loadedImages:_,loadedFootages:x,destroy:S,getAsset:y,createImgData:u,createImageData:l,imageLoaded:t,footageLoaded:n,setCacheType:b},T}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,n){if(this._cbs[t])for(var o=this._cbs[t],s=0;s<o.length;s+=1)o[s](n)},addEventListener:function(t,n){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(n),(function(){this.removeEventListener(t,n)}).bind(this)},removeEventListener:function(t,n){if(!n)this._cbs[t]=null;else if(this._cbs[t]){for(var o=0,s=this._cbs[t].length;o<s;)this._cbs[t][o]===n&&(this._cbs[t].splice(o,1),o-=1,s-=1),o+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function a(t){for(var n=t.split(`\r
`),o={},s,l=0,u=0;u<n.length;u+=1)s=n[u].split(":"),s.length===2&&(o[s[0]]=s[1].trim(),l+=1);if(l===0)throw new Error;return o}return function(t){for(var n=[],o=0;o<t.length;o+=1){var s=t[o],l={time:s.tm,duration:s.dr};try{l.payload=JSON.parse(t[o].cm)}catch{try{l.payload=a(t[o].cm)}catch{l.payload={name:t[o].cm}}}n.push(l)}return n}}(),ProjectInterface=function(){function a(t){this.compositions.push(t)}return function(){function t(n){for(var o=0,s=this.compositions.length;o<s;){if(this.compositions[o].data&&this.compositions[o].data.nm===n)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=a,t}}(),renderers={},registerRenderer=function(t,n){renderers[t]=n};function getRenderer(a){return renderers[a]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var a in renderers)if(renderers[a])return a;return""}function _typeof$4(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(n){return typeof n}:_typeof$4=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(a)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(a){(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container);var t="svg";a.animType?t=a.animType:a.renderer&&(t=a.renderer);var n=getRenderer(t);this.renderer=new n(this,a.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,a.loop===""||a.loop===null||a.loop===void 0||a.loop===!0?this.loop=!0:a.loop===!1?this.loop=!1:this.loop=parseInt(a.loop,10),this.autoplay="autoplay"in a?a.autoplay:!0,this.name=a.name?a.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(a,"autoloadSegments")?a.autoloadSegments:!0,this.assetsPath=a.assetsPath,this.initialSegment=a.initialSegment,a.audioFactory&&this.audioController.setAudioFactory(a.audioFactory),a.animationData?this.setupAnimation(a.animationData):a.path&&(a.path.lastIndexOf("\\")!==-1?this.path=a.path.substr(0,a.path.lastIndexOf("\\")+1):this.path=a.path.substr(0,a.path.lastIndexOf("/")+1),this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(a.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(a){dataManager.completeAnimation(a,this.configAnimation)},AnimationItem.prototype.setData=function(a,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var n={wrapper:a,animationData:t},o=a.attributes;n.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",n.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";s==="false"?n.loop=!1:s==="true"?n.loop=!0:s!==""&&(n.loop=parseInt(s,10));var l=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:o.getNamedItem("bm-autoplay")?o.getNamedItem("bm-autoplay").value:!0;n.autoplay=l!=="false",n.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"";var u=o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"";u==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(a){a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip));var t=this.animationData.layers,n,o=t.length,s=a.layers,l,u=s.length;for(l=0;l<u;l+=1)for(n=0;n<o;){if(t[n].id===s[l].id){t[n]=s[l];break}n+=1}if((a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs)),a.assets)for(o=a.assets.length,n=0;n<o;n+=1)this.animationData.assets.push(a.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(a){this.animationData=a;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var a=this.animationData.segments;if(!a||a.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=a.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var a=this.animationData.segments;a||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(a){if(this.renderer)try{this.animationData=a,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(a),a.assets||(a.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(a.assets),this.markers=markerParser(a.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var a=getExpressionsPlugin();a&&a.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(a,t){var n=typeof a=="number"?a:void 0,o=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(n,o)},AnimationItem.prototype.setSubframe=function(a){this.isSubframeEnabled=!!a},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(a){this.triggerRenderFrameError(a)}},AnimationItem.prototype.play=function(a){a&&this.name!==a||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(a){a&&this.name!==a||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(a){a&&this.name!==a||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(a){a&&this.name!==a||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(a){for(var t,n=0;n<this.markers.length;n+=1)if(t=this.markers[n],t.payload&&t.payload.name===a)return t;return null},AnimationItem.prototype.goToAndStop=function(a,t,n){if(!(n&&this.name!==n)){var o=Number(a);if(isNaN(o)){var s=this.getMarkerData(a);s&&this.goToAndStop(s.time,!0)}else t?this.setCurrentRawFrameValue(a):this.setCurrentRawFrameValue(a*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(a,t,n){if(!(n&&this.name!==n)){var o=Number(a);if(isNaN(o)){var s=this.getMarkerData(a);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(o,t,n);this.play()}},AnimationItem.prototype.advanceTime=function(a){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+a*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,t=0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(a,t){this.playCount=0,a[1]<a[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=a[0]-a[1],this.timeCompleted=this.totalFrames,this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=a[1]-a[0],this.timeCompleted=this.totalFrames,this.firstFrame=a[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(a,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?n=a:this.currentRawFrame+this.firstFrame>t&&(n=t-a)),this.firstFrame=a,this.totalFrames=t-a,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(a,t){if(t&&(this.segments.length=0),_typeof$4(a[0])==="object"){var n,o=a.length;for(n=0;n<o;n+=1)this.segments.push(a[n])}else this.segments.push(a);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),a&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(a){return this.segments.length?(this.adjustSegment(this.segments.shift(),a),!0):!1},AnimationItem.prototype.destroy=function(a){a&&this.name!==a||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(a){this.currentRawFrame=a,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(a){this.playDirection=a<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(a){this.loop=a},AnimationItem.prototype.setVolume=function(a,t){t&&this.name!==t||this.audioController.setVolume(a)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(a){a&&this.name!==a||this.audioController.mute()},AnimationItem.prototype.unmute=function(a){a&&this.name!==a||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(a){var t="";if(a.e)t=a.p;else if(this.assetsPath){var n=a.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=a.u?a.u:"",t+=a.p;return t},AnimationItem.prototype.getAssetData=function(a){for(var t=0,n=this.assets.length;t<n;){if(a===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(a){return a?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(a,t,n){try{var o=this.renderer.getElementByPath(a);o.updateDocumentData(t,n)}catch{}},AnimationItem.prototype.trigger=function(a){if(this._cbs&&this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(a,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(a,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new BMCompleteEvent(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new BMDestroyEvent(a,this));break;default:this.triggerEvent(a)}a==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult)),a==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult)),a==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(a,this.frameMult)),a==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames)),a==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(a,this))},AnimationItem.prototype.triggerRenderFrameError=function(a){var t=new BMRenderFrameErrorEvent(a,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(a){var t=new BMConfigErrorEvent(a,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var a={},t=[],n=0,o=0,s=0,l=!0,u=!1;function c(N){for(var G=0,R=N.target;G<o;)t[G].animation===R&&(t.splice(G,1),G-=1,o-=1,R.isPaused||y()),G+=1}function f(N,G){if(!N)return null;for(var R=0;R<o;){if(t[R].elem===N&&t[R].elem!==null)return t[R].animation;R+=1}var B=new AnimationItem;return S(B,N),B.setData(N,G),B}function d(){var N,G=t.length,R=[];for(N=0;N<G;N+=1)R.push(t[N].animation);return R}function g(){s+=1,O()}function y(){s-=1}function S(N,G){N.addEventListener("destroy",c),N.addEventListener("_active",g),N.addEventListener("_idle",y),t.push({elem:G,animation:N}),o+=1}function _(N){var G=new AnimationItem;return S(G,null),G.setParams(N),G}function x(N,G){var R;for(R=0;R<o;R+=1)t[R].animation.setSpeed(N,G)}function b(N,G){var R;for(R=0;R<o;R+=1)t[R].animation.setDirection(N,G)}function T(N){var G;for(G=0;G<o;G+=1)t[G].animation.play(N)}function A(N){var G=N-n,R;for(R=0;R<o;R+=1)t[R].animation.advanceTime(G);n=N,s&&!u?window.requestAnimationFrame(A):l=!0}function C(N){n=N,window.requestAnimationFrame(A)}function E(N){var G;for(G=0;G<o;G+=1)t[G].animation.pause(N)}function P(N,G,R){var B;for(B=0;B<o;B+=1)t[B].animation.goToAndStop(N,G,R)}function M(N){var G;for(G=0;G<o;G+=1)t[G].animation.stop(N)}function I(N){var G;for(G=0;G<o;G+=1)t[G].animation.togglePause(N)}function D(N){var G;for(G=o-1;G>=0;G-=1)t[G].animation.destroy(N)}function L(N,G,R){var B=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),j,W=B.length;for(j=0;j<W;j+=1)R&&B[j].setAttribute("data-bm-type",R),f(B[j],N);if(G&&W===0){R||(R="svg");var X=document.getElementsByTagName("body")[0];X.innerText="";var ee=createTag("div");ee.style.width="100%",ee.style.height="100%",ee.setAttribute("data-bm-type",R),X.appendChild(ee),f(ee,N)}}function $(){var N;for(N=0;N<o;N+=1)t[N].animation.resize()}function O(){!u&&s&&l&&(window.requestAnimationFrame(C),l=!1)}function V(){u=!0}function F(){u=!1,O()}function z(N,G){var R;for(R=0;R<o;R+=1)t[R].animation.setVolume(N,G)}function U(N){var G;for(G=0;G<o;G+=1)t[G].animation.mute(N)}function H(N){var G;for(G=0;G<o;G+=1)t[G].animation.unmute(N)}return a.registerAnimation=f,a.loadAnimation=_,a.setSpeed=x,a.setDirection=b,a.play=T,a.pause=E,a.stop=M,a.togglePause=I,a.searchAnimations=L,a.resize=$,a.goToAndStop=P,a.destroy=D,a.freeze=V,a.unfreeze=F,a.setVolume=z,a.mute=U,a.unmute=H,a.getRegisteredAnimations=d,a}(),BezierFactory=function(){var a={};a.getBezierEasing=n;var t={};function n(C,E,P,M,I){var D=I||("bez_"+C+"_"+E+"_"+P+"_"+M).replace(/\./g,"p");if(t[D])return t[D];var L=new A([C,E,P,M]);return t[D]=L,L}var o=4,s=.001,l=1e-7,u=10,c=11,f=1/(c-1),d=typeof Float32Array=="function";function g(C,E){return 1-3*E+3*C}function y(C,E){return 3*E-6*C}function S(C){return 3*C}function _(C,E,P){return((g(E,P)*C+y(E,P))*C+S(E))*C}function x(C,E,P){return 3*g(E,P)*C*C+2*y(E,P)*C+S(E)}function b(C,E,P,M,I){var D,L,$=0;do L=E+(P-E)/2,D=_(L,M,I)-C,D>0?P=L:E=L;while(Math.abs(D)>l&&++$<u);return L}function T(C,E,P,M){for(var I=0;I<o;++I){var D=x(E,P,M);if(D===0)return E;var L=_(E,P,M)-C;E-=L/D}return E}function A(C){this._p=C,this._mSampleValues=d?new Float32Array(c):new Array(c),this._precomputed=!1,this.get=this.get.bind(this)}return A.prototype={get:function(E){var P=this._p[0],M=this._p[1],I=this._p[2],D=this._p[3];return this._precomputed||this._precompute(),P===M&&I===D?E:E===0?0:E===1?1:_(this._getTForX(E),M,D)},_precompute:function(){var E=this._p[0],P=this._p[1],M=this._p[2],I=this._p[3];this._precomputed=!0,(E!==P||M!==I)&&this._calcSampleValues()},_calcSampleValues:function(){for(var E=this._p[0],P=this._p[2],M=0;M<c;++M)this._mSampleValues[M]=_(M*f,E,P)},_getTForX:function(E){for(var P=this._p[0],M=this._p[2],I=this._mSampleValues,D=0,L=1,$=c-1;L!==$&&I[L]<=E;++L)D+=f;--L;var O=(E-I[L])/(I[L+1]-I[L]),V=D+O*f,F=x(V,P,M);return F>=s?T(E,V,P,M):F===0?V:b(E,D,D+f,P,M)}},a}(),pooling=function(){function a(t){return t.concat(createSizedArray(t.length))}return{double:a}}(),poolFactory=function(){return function(a,t,n){var o=0,s=a,l=createSizedArray(s),u={newElement:c,release:f};function c(){var d;return o?(o-=1,d=l[o]):d=t(),d}function f(d){o===s&&(l=pooling.double(l),s*=2),n&&n(d),l[o]=d,o+=1}return u}}(),bezierLengthPool=function(){function a(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,a)}(),segmentsLengthPool=function(){function a(){return{lengths:[],totalLength:0}}function t(n){var o,s=n.lengths.length;for(o=0;o<s;o+=1)bezierLengthPool.release(n.lengths[o]);n.lengths.length=0}return poolFactory(8,a,t)}();function bezFunction(){var a=Math;function t(S,_,x,b,T,A){var C=S*b+_*T+x*A-T*b-A*S-x*_;return C>-.001&&C<.001}function n(S,_,x,b,T,A,C,E,P){if(x===0&&A===0&&P===0)return t(S,_,b,T,C,E);var M=a.sqrt(a.pow(b-S,2)+a.pow(T-_,2)+a.pow(A-x,2)),I=a.sqrt(a.pow(C-S,2)+a.pow(E-_,2)+a.pow(P-x,2)),D=a.sqrt(a.pow(C-b,2)+a.pow(E-T,2)+a.pow(P-A,2)),L;return M>I?M>D?L=M-I-D:L=D-I-M:D>I?L=D-I-M:L=I-M-D,L>-1e-4&&L<1e-4}var o=function(){return function(S,_,x,b){var T=getDefaultCurveSegments(),A,C,E,P,M,I=0,D,L=[],$=[],O=bezierLengthPool.newElement();for(E=x.length,A=0;A<T;A+=1){for(M=A/(T-1),D=0,C=0;C<E;C+=1)P=bmPow(1-M,3)*S[C]+3*bmPow(1-M,2)*M*x[C]+3*(1-M)*bmPow(M,2)*b[C]+bmPow(M,3)*_[C],L[C]=P,$[C]!==null&&(D+=bmPow(L[C]-$[C],2)),$[C]=L[C];D&&(D=bmSqrt(D),I+=D),O.percents[A]=M,O.lengths[A]=I}return O.addedLength=I,O}}();function s(S){var _=segmentsLengthPool.newElement(),x=S.c,b=S.v,T=S.o,A=S.i,C,E=S._length,P=_.lengths,M=0;for(C=0;C<E-1;C+=1)P[C]=o(b[C],b[C+1],T[C],A[C+1]),M+=P[C].addedLength;return x&&E&&(P[C]=o(b[C],b[0],T[C],A[0]),M+=P[C].addedLength),_.totalLength=M,_}function l(S){this.segmentLength=0,this.points=new Array(S)}function u(S,_){this.partialLength=S,this.point=_}var c=function(){var S={};return function(_,x,b,T){var A=(_[0]+"_"+_[1]+"_"+x[0]+"_"+x[1]+"_"+b[0]+"_"+b[1]+"_"+T[0]+"_"+T[1]).replace(/\./g,"p");if(!S[A]){var C=getDefaultCurveSegments(),E,P,M,I,D,L=0,$,O,V=null;_.length===2&&(_[0]!==x[0]||_[1]!==x[1])&&t(_[0],_[1],x[0],x[1],_[0]+b[0],_[1]+b[1])&&t(_[0],_[1],x[0],x[1],x[0]+T[0],x[1]+T[1])&&(C=2);var F=new l(C);for(M=b.length,E=0;E<C;E+=1){for(O=createSizedArray(M),D=E/(C-1),$=0,P=0;P<M;P+=1)I=bmPow(1-D,3)*_[P]+3*bmPow(1-D,2)*D*(_[P]+b[P])+3*(1-D)*bmPow(D,2)*(x[P]+T[P])+bmPow(D,3)*x[P],O[P]=I,V!==null&&($+=bmPow(O[P]-V[P],2));$=bmSqrt($),L+=$,F.points[E]=new u($,O),V=O}F.segmentLength=L,S[A]=F}return S[A]}}();function f(S,_){var x=_.percents,b=_.lengths,T=x.length,A=bmFloor((T-1)*S),C=S*_.addedLength,E=0;if(A===T-1||A===0||C===b[A])return x[A];for(var P=b[A]>C?-1:1,M=!0;M;)if(b[A]<=C&&b[A+1]>C?(E=(C-b[A])/(b[A+1]-b[A]),M=!1):A+=P,A<0||A>=T-1){if(A===T-1)return x[A];M=!1}return x[A]+(x[A+1]-x[A])*E}function d(S,_,x,b,T,A){var C=f(T,A),E=1-C,P=a.round((E*E*E*S[0]+(C*E*E+E*C*E+E*E*C)*x[0]+(C*C*E+E*C*C+C*E*C)*b[0]+C*C*C*_[0])*1e3)/1e3,M=a.round((E*E*E*S[1]+(C*E*E+E*C*E+E*E*C)*x[1]+(C*C*E+E*C*C+C*E*C)*b[1]+C*C*C*_[1])*1e3)/1e3;return[P,M]}var g=createTypedArray("float32",8);function y(S,_,x,b,T,A,C){T<0?T=0:T>1&&(T=1);var E=f(T,C);A=A>1?1:A;var P=f(A,C),M,I=S.length,D=1-E,L=1-P,$=D*D*D,O=E*D*D*3,V=E*E*D*3,F=E*E*E,z=D*D*L,U=E*D*L+D*E*L+D*D*P,H=E*E*L+D*E*P+E*D*P,N=E*E*P,G=D*L*L,R=E*L*L+D*P*L+D*L*P,B=E*P*L+D*P*P+E*L*P,j=E*P*P,W=L*L*L,X=P*L*L+L*P*L+L*L*P,ee=P*P*L+L*P*P+P*L*P,te=P*P*P;for(M=0;M<I;M+=1)g[M*4]=a.round(($*S[M]+O*x[M]+V*b[M]+F*_[M])*1e3)/1e3,g[M*4+1]=a.round((z*S[M]+U*x[M]+H*b[M]+N*_[M])*1e3)/1e3,g[M*4+2]=a.round((G*S[M]+R*x[M]+B*b[M]+j*_[M])*1e3)/1e3,g[M*4+3]=a.round((W*S[M]+X*x[M]+ee*b[M]+te*_[M])*1e3)/1e3;return g}return{getSegmentsLength:s,getNewSegment:y,getPointInSegment:d,buildBezierData:c,pointOnLine2D:t,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(a,t){var n=this.offsetTime,o;this.propType==="multidimensional"&&(o=createTypedArray("float32",this.pv.length));for(var s=t.lastIndex,l=s,u=this.keyframes.length-1,c=!0,f,d,g;c;){if(f=this.keyframes[l],d=this.keyframes[l+1],l===u-1&&a>=d.t-n){f.h&&(f=d),s=0;break}if(d.t-n>a){s=l;break}l<u-1?l+=1:(s=0,c=!1)}g=this.keyframesMetadata[l]||{};var y,S,_,x,b,T,A=d.t-n,C=f.t-n,E;if(f.to){g.bezierData||(g.bezierData=bez.buildBezierData(f.s,d.s||f.e,f.to,f.ti));var P=g.bezierData;if(a>=A||a<C){var M=a>=A?P.points.length-1:0;for(S=P.points[M].point.length,y=0;y<S;y+=1)o[y]=P.points[M].point[y]}else{g.__fnct?T=g.__fnct:(T=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y,f.n).get,g.__fnct=T),_=T((a-C)/(A-C));var I=P.segmentLength*_,D,L=t.lastFrame<a&&t._lastKeyframeIndex===l?t._lastAddedLength:0;for(b=t.lastFrame<a&&t._lastKeyframeIndex===l?t._lastPoint:0,c=!0,x=P.points.length;c;){if(L+=P.points[b].partialLength,I===0||_===0||b===P.points.length-1){for(S=P.points[b].point.length,y=0;y<S;y+=1)o[y]=P.points[b].point[y];break}else if(I>=L&&I<L+P.points[b+1].partialLength){for(D=(I-L)/P.points[b+1].partialLength,S=P.points[b].point.length,y=0;y<S;y+=1)o[y]=P.points[b].point[y]+(P.points[b+1].point[y]-P.points[b].point[y])*D;break}b<x-1?b+=1:c=!1}t._lastPoint=b,t._lastAddedLength=L-P.points[b].partialLength,t._lastKeyframeIndex=l}}else{var $,O,V,F,z;if(u=f.s.length,E=d.s||f.e,this.sh&&f.h!==1)if(a>=A)o[0]=E[0],o[1]=E[1],o[2]=E[2];else if(a<=C)o[0]=f.s[0],o[1]=f.s[1],o[2]=f.s[2];else{var U=createQuaternion(f.s),H=createQuaternion(E),N=(a-C)/(A-C);quaternionToEuler(o,slerp(U,H,N))}else for(l=0;l<u;l+=1)f.h!==1&&(a>=A?_=1:a<C?_=0:(f.o.x.constructor===Array?(g.__fnct||(g.__fnct=[]),g.__fnct[l]?T=g.__fnct[l]:($=f.o.x[l]===void 0?f.o.x[0]:f.o.x[l],O=f.o.y[l]===void 0?f.o.y[0]:f.o.y[l],V=f.i.x[l]===void 0?f.i.x[0]:f.i.x[l],F=f.i.y[l]===void 0?f.i.y[0]:f.i.y[l],T=BezierFactory.getBezierEasing($,O,V,F).get,g.__fnct[l]=T)):g.__fnct?T=g.__fnct:($=f.o.x,O=f.o.y,V=f.i.x,F=f.i.y,T=BezierFactory.getBezierEasing($,O,V,F).get,f.keyframeMetadata=T),_=T((a-C)/(A-C)))),E=d.s||f.e,z=f.h===1?f.s[l]:f.s[l]+(E[l]-f.s[l])*_,this.propType==="multidimensional"?o[l]=z:o=z}return t.lastIndex=s,o}function slerp(a,t,n){var o=[],s=a[0],l=a[1],u=a[2],c=a[3],f=t[0],d=t[1],g=t[2],y=t[3],S,_,x,b,T;return _=s*f+l*d+u*g+c*y,_<0&&(_=-_,f=-f,d=-d,g=-g,y=-y),1-_>1e-6?(S=Math.acos(_),x=Math.sin(S),b=Math.sin((1-n)*S)/x,T=Math.sin(n*S)/x):(b=1-n,T=n),o[0]=b*s+T*f,o[1]=b*l+T*d,o[2]=b*u+T*g,o[3]=b*c+T*y,o}function quaternionToEuler(a,t){var n=t[0],o=t[1],s=t[2],l=t[3],u=Math.atan2(2*o*l-2*n*s,1-2*o*o-2*s*s),c=Math.asin(2*n*o+2*s*l),f=Math.atan2(2*n*l-2*o*s,1-2*n*n-2*s*s);a[0]=u/degToRads,a[1]=c/degToRads,a[2]=f/degToRads}function createQuaternion(a){var t=a[0]*degToRads,n=a[1]*degToRads,o=a[2]*degToRads,s=Math.cos(t/2),l=Math.cos(n/2),u=Math.cos(o/2),c=Math.sin(t/2),f=Math.sin(n/2),d=Math.sin(o/2),g=s*l*u-c*f*d,y=c*f*u+s*l*d,S=c*l*u+s*f*d,_=s*f*u-c*l*d;return[y,S,_,g]}function getValueAtCurrentTime(){var a=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(a===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&a>=n||this._caching.lastFrame<t&&a<t))){this._caching.lastFrame>=a&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(a,this._caching);this.pv=o}return this._caching.lastFrame=a,this.pv}function setVValue(a){var t;if(this.propType==="unidimensional")t=a*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)t=a[n]*this.mult,mathAbs(this.v[n]-t)>1e-5&&(this.v[n]=t,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var a,t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(a=0;a<t;a+=1)n=this.effectsSequence[a](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function ValueProperty(a,t,n,o){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=a,this.container=o,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(a,t,n,o){this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=a,this.container=o,this.comp=a.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),s=0;s<l;s+=1)this.v[s]=t.k[s]*this.mult,this.pv[s]=t.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(a,t,n,o){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=a.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=n||1,this.elem=a,this.container=o,this.comp=a.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(a,t,n,o){this.propType="multidimensional";var s,l=t.k.length,u,c,f,d;for(s=0;s<l-1;s+=1)t.k[s].to&&t.k[s].s&&t.k[s+1]&&t.k[s+1].s&&(u=t.k[s].s,c=t.k[s+1].s,f=t.k[s].to,d=t.k[s].ti,(u.length===2&&!(u[0]===c[0]&&u[1]===c[1])&&bez.pointOnLine2D(u[0],u[1],c[0],c[1],u[0]+f[0],u[1]+f[1])&&bez.pointOnLine2D(u[0],u[1],c[0],c[1],c[0]+d[0],c[1]+d[1])||u.length===3&&!(u[0]===c[0]&&u[1]===c[1]&&u[2]===c[2])&&bez.pointOnLine3D(u[0],u[1],u[2],c[0],c[1],c[2],u[0]+f[0],u[1]+f[1],u[2]+f[2])&&bez.pointOnLine3D(u[0],u[1],u[2],c[0],c[1],c[2],c[0]+d[0],c[1]+d[1],c[2]+d[2]))&&(t.k[s].to=null,t.k[s].ti=null),u[0]===c[0]&&u[1]===c[1]&&f[0]===0&&f[1]===0&&d[0]===0&&d[1]===0&&(u.length===2||u[2]===c[2]&&f[2]===0&&d[2]===0)&&(t.k[s].to=null,t.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=a.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=a,this.container=o,this.comp=a.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var g=t.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),s=0;s<g;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=addEffect}var PropertyFactory=function(){function a(n,o,s,l,u){o.sid&&(o=n.globalData.slotManager.getProp(o));var c;if(!o.k.length)c=new ValueProperty(n,o,l,u);else if(typeof o.k[0]=="number")c=new MultiDimensionalProperty(n,o,l,u);else switch(s){case 0:c=new KeyframedValueProperty(n,o,l,u);break;case 1:c=new KeyframedMultidimensionalProperty(n,o,l,u);break}return c.effectsSequence.length&&u.addDynamicProperty(c),c}var t={getProp:a};return t}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function a(){return createTypedArray("float32",2)}return poolFactory(8,a)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(a,t){this.c=a,this.setLength(t);for(var n=0;n<t;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(a){for(;this._maxLength<a;)this.doubleArrayLength();this._length=a},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(a,t,n,o,s){var l;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":l=this.v;break;case"i":l=this.i;break;case"o":l=this.o;break;default:l=[];break}(!l[o]||l[o]&&!s)&&(l[o]=pointPool.newElement()),l[o][0]=a,l[o][1]=t},ShapePath.prototype.setTripleAt=function(a,t,n,o,s,l,u,c){this.setXYAt(a,t,"v",u,c),this.setXYAt(n,o,"o",u,c),this.setXYAt(s,l,"i",u,c)},ShapePath.prototype.reverse=function(){var a=new ShapePath;a.setPathData(this.c,this._length);var t=this.v,n=this.o,o=this.i,s=0;this.c&&(a.setTripleAt(t[0][0],t[0][1],o[0][0],o[0][1],n[0][0],n[0][1],0,!1),s=1);var l=this._length-1,u=this._length,c;for(c=s;c<u;c+=1)a.setTripleAt(t[l][0],t[l][1],o[l][0],o[l][1],n[l][0],n[l][1],c,!1),l-=1;return a},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function a(){return new ShapePath}function t(s){var l=s._length,u;for(u=0;u<l;u+=1)pointPool.release(s.v[u]),pointPool.release(s.i[u]),pointPool.release(s.o[u]),s.v[u]=null,s.i[u]=null,s.o[u]=null;s._length=0,s.c=!1}function n(s){var l=o.newElement(),u,c=s._length===void 0?s.v.length:s._length;for(l.setLength(c),l.c=s.c,u=0;u<c;u+=1)l.setTripleAt(s.v[u][0],s.v[u][1],s.o[u][0],s.o[u][1],s.i[u][0],s.i[u][1],u);return l}var o=poolFactory(4,a,t);return o.clone=n,o}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(a){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=a,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var a;for(a=0;a<this._length;a+=1)shapePool.release(this.shapes[a]);this._length=0};var shapeCollectionPool=function(){var a={newShapeCollection:s,release:l},t=0,n=4,o=createSizedArray(n);function s(){var u;return t?(t-=1,u=o[t]):u=new ShapeCollection,u}function l(u){var c,f=u._length;for(c=0;c<f;c+=1)shapePool.release(u.shapes[c]);u._length=0,t===n&&(o=pooling.double(o),n*=2),o[t]=u,t+=1}return a}(),ShapePropertyFactory=function(){var a=-999999;function t(A,C,E){var P=E.lastIndex,M,I,D,L,$,O,V,F,z,U=this.keyframes;if(A<U[0].t-this.offsetTime)M=U[0].s[0],D=!0,P=0;else if(A>=U[U.length-1].t-this.offsetTime)M=U[U.length-1].s?U[U.length-1].s[0]:U[U.length-2].e[0],D=!0;else{for(var H=P,N=U.length-1,G=!0,R,B,j;G&&(R=U[H],B=U[H+1],!(B.t-this.offsetTime>A));)H<N-1?H+=1:G=!1;if(j=this.keyframesMetadata[H]||{},D=R.h===1,P=H,!D){if(A>=B.t-this.offsetTime)F=1;else if(A<R.t-this.offsetTime)F=0;else{var W;j.__fnct?W=j.__fnct:(W=BezierFactory.getBezierEasing(R.o.x,R.o.y,R.i.x,R.i.y).get,j.__fnct=W),F=W((A-(R.t-this.offsetTime))/(B.t-this.offsetTime-(R.t-this.offsetTime)))}I=B.s?B.s[0]:R.e[0]}M=R.s[0]}for(O=C._length,V=M.i[0].length,E.lastIndex=P,L=0;L<O;L+=1)for($=0;$<V;$+=1)z=D?M.i[L][$]:M.i[L][$]+(I.i[L][$]-M.i[L][$])*F,C.i[L][$]=z,z=D?M.o[L][$]:M.o[L][$]+(I.o[L][$]-M.o[L][$])*F,C.o[L][$]=z,z=D?M.v[L][$]:M.v[L][$]+(I.v[L][$]-M.v[L][$])*F,C.v[L][$]=z}function n(){var A=this.comp.renderedFrame-this.offsetTime,C=this.keyframes[0].t-this.offsetTime,E=this.keyframes[this.keyframes.length-1].t-this.offsetTime,P=this._caching.lastFrame;return P!==a&&(P<C&&A<C||P>E&&A>E)||(this._caching.lastIndex=P<A?this._caching.lastIndex:0,this.interpolateShape(A,this.pv,this._caching)),this._caching.lastFrame=A,this.pv}function o(){this.paths=this.localShapeCollection}function s(A,C){if(A._length!==C._length||A.c!==C.c)return!1;var E,P=A._length;for(E=0;E<P;E+=1)if(A.v[E][0]!==C.v[E][0]||A.v[E][1]!==C.v[E][1]||A.o[E][0]!==C.o[E][0]||A.o[E][1]!==C.o[E][1]||A.i[E][0]!==C.i[E][0]||A.i[E][1]!==C.i[E][1])return!1;return!0}function l(A){s(this.v,A)||(this.v=shapePool.clone(A),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function u(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var A;this.kf?A=this.pv:this.data.ks?A=this.data.ks.k:A=this.data.pt.k;var C,E=this.effectsSequence.length;for(C=0;C<E;C+=1)A=this.effectsSequence[C](A);this.setVValue(A),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function c(A,C,E){this.propType="shape",this.comp=A.comp,this.container=A,this.elem=A,this.data=C,this.k=!1,this.kf=!1,this._mdf=!1;var P=E===3?C.pt.k:C.ks.k;this.v=shapePool.clone(P),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function f(A){this.effectsSequence.push(A),this.container.addDynamicProperty(this)}c.prototype.interpolateShape=t,c.prototype.getValue=u,c.prototype.setVValue=l,c.prototype.addEffect=f;function d(A,C,E){this.propType="shape",this.comp=A.comp,this.elem=A,this.container=A,this.offsetTime=A.data.st,this.keyframes=E===3?C.pt.k:C.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var P=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,P),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=a,this.reset=o,this._caching={lastFrame:a,lastIndex:0},this.effectsSequence=[n.bind(this)]}d.prototype.getValue=u,d.prototype.interpolateShape=t,d.prototype.setVValue=l,d.prototype.addEffect=f;var g=function(){var A=roundCorner;function C(E,P){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=P.d,this.elem=E,this.comp=E.comp,this.frameId=-1,this.initDynamicPropertyContainer(E),this.p=PropertyFactory.getProp(E,P.p,1,0,this),this.s=PropertyFactory.getProp(E,P.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return C.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var P=this.p.v[0],M=this.p.v[1],I=this.s.v[0]/2,D=this.s.v[1]/2,L=this.d!==3,$=this.v;$.v[0][0]=P,$.v[0][1]=M-D,$.v[1][0]=L?P+I:P-I,$.v[1][1]=M,$.v[2][0]=P,$.v[2][1]=M+D,$.v[3][0]=L?P-I:P+I,$.v[3][1]=M,$.i[0][0]=L?P-I*A:P+I*A,$.i[0][1]=M-D,$.i[1][0]=L?P+I:P-I,$.i[1][1]=M-D*A,$.i[2][0]=L?P+I*A:P-I*A,$.i[2][1]=M+D,$.i[3][0]=L?P-I:P+I,$.i[3][1]=M+D*A,$.o[0][0]=L?P+I*A:P-I*A,$.o[0][1]=M-D,$.o[1][0]=L?P+I:P-I,$.o[1][1]=M+D*A,$.o[2][0]=L?P-I*A:P+I*A,$.o[2][1]=M+D,$.o[3][0]=L?P-I:P+I,$.o[3][1]=M-D*A}},extendPrototype([DynamicPropertyContainer],C),C}(),y=function(){function A(C,E){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=C,this.comp=C.comp,this.data=E,this.frameId=-1,this.d=E.d,this.initDynamicPropertyContainer(C),E.sy===1?(this.ir=PropertyFactory.getProp(C,E.ir,0,0,this),this.is=PropertyFactory.getProp(C,E.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(C,E.pt,0,0,this),this.p=PropertyFactory.getProp(C,E.p,1,0,this),this.r=PropertyFactory.getProp(C,E.r,0,degToRads,this),this.or=PropertyFactory.getProp(C,E.or,0,0,this),this.os=PropertyFactory.getProp(C,E.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return A.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var E=Math.floor(this.pt.v)*2,P=Math.PI*2/E,M=!0,I=this.or.v,D=this.ir.v,L=this.os.v,$=this.is.v,O=2*Math.PI*I/(E*2),V=2*Math.PI*D/(E*2),F,z,U,H,N=-Math.PI/2;N+=this.r.v;var G=this.data.d===3?-1:1;for(this.v._length=0,F=0;F<E;F+=1){z=M?I:D,U=M?L:$,H=M?O:V;var R=z*Math.cos(N),B=z*Math.sin(N),j=R===0&&B===0?0:B/Math.sqrt(R*R+B*B),W=R===0&&B===0?0:-R/Math.sqrt(R*R+B*B);R+=+this.p.v[0],B+=+this.p.v[1],this.v.setTripleAt(R,B,R-j*H*U*G,B-W*H*U*G,R+j*H*U*G,B+W*H*U*G,F,!0),M=!M,N+=P*G}},convertPolygonToPath:function(){var E=Math.floor(this.pt.v),P=Math.PI*2/E,M=this.or.v,I=this.os.v,D=2*Math.PI*M/(E*4),L,$=-Math.PI*.5,O=this.data.d===3?-1:1;for($+=this.r.v,this.v._length=0,L=0;L<E;L+=1){var V=M*Math.cos($),F=M*Math.sin($),z=V===0&&F===0?0:F/Math.sqrt(V*V+F*F),U=V===0&&F===0?0:-V/Math.sqrt(V*V+F*F);V+=+this.p.v[0],F+=+this.p.v[1],this.v.setTripleAt(V,F,V-z*D*I*O,F-U*D*I*O,V+z*D*I*O,F+U*D*I*O,L,!0),$+=P*O}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],A),A}(),S=function(){function A(C,E){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=C,this.comp=C.comp,this.frameId=-1,this.d=E.d,this.initDynamicPropertyContainer(C),this.p=PropertyFactory.getProp(C,E.p,1,0,this),this.s=PropertyFactory.getProp(C,E.s,1,0,this),this.r=PropertyFactory.getProp(C,E.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return A.prototype={convertRectToPath:function(){var E=this.p.v[0],P=this.p.v[1],M=this.s.v[0]/2,I=this.s.v[1]/2,D=bmMin(M,I,this.r.v),L=D*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(E+M,P-I+D,E+M,P-I+D,E+M,P-I+L,0,!0),this.v.setTripleAt(E+M,P+I-D,E+M,P+I-L,E+M,P+I-D,1,!0),D!==0?(this.v.setTripleAt(E+M-D,P+I,E+M-D,P+I,E+M-L,P+I,2,!0),this.v.setTripleAt(E-M+D,P+I,E-M+L,P+I,E-M+D,P+I,3,!0),this.v.setTripleAt(E-M,P+I-D,E-M,P+I-D,E-M,P+I-L,4,!0),this.v.setTripleAt(E-M,P-I+D,E-M,P-I+L,E-M,P-I+D,5,!0),this.v.setTripleAt(E-M+D,P-I,E-M+D,P-I,E-M+L,P-I,6,!0),this.v.setTripleAt(E+M-D,P-I,E+M-L,P-I,E+M-D,P-I,7,!0)):(this.v.setTripleAt(E-M,P+I,E-M+L,P+I,E-M,P+I,2),this.v.setTripleAt(E-M,P-I,E-M,P-I+L,E-M,P-I,3))):(this.v.setTripleAt(E+M,P-I+D,E+M,P-I+L,E+M,P-I+D,0,!0),D!==0?(this.v.setTripleAt(E+M-D,P-I,E+M-D,P-I,E+M-L,P-I,1,!0),this.v.setTripleAt(E-M+D,P-I,E-M+L,P-I,E-M+D,P-I,2,!0),this.v.setTripleAt(E-M,P-I+D,E-M,P-I+D,E-M,P-I+L,3,!0),this.v.setTripleAt(E-M,P+I-D,E-M,P+I-L,E-M,P+I-D,4,!0),this.v.setTripleAt(E-M+D,P+I,E-M+D,P+I,E-M+L,P+I,5,!0),this.v.setTripleAt(E+M-D,P+I,E+M-L,P+I,E+M-D,P+I,6,!0),this.v.setTripleAt(E+M,P+I-D,E+M,P+I-D,E+M,P+I-L,7,!0)):(this.v.setTripleAt(E-M,P-I,E-M+L,P-I,E-M,P-I,1,!0),this.v.setTripleAt(E-M,P+I,E-M,P+I-L,E-M,P+I,2,!0),this.v.setTripleAt(E+M,P+I,E+M-L,P+I,E+M,P+I,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],A),A}();function _(A,C,E){var P;if(E===3||E===4){var M=E===3?C.pt:C.ks,I=M.k;I.length?P=new d(A,C,E):P=new c(A,C,E)}else E===5?P=new S(A,C):E===6?P=new g(A,C):E===7&&(P=new y(A,C));return P.k&&A.addDynamicProperty(P),P}function x(){return c}function b(){return d}var T={};return T.getShapeProp=_,T.getConstructorFunction=x,T.getKeyframedConstructorFunction=b,T}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var a=Math.cos,t=Math.sin,n=Math.tan,o=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function l(R){if(R===0)return this;var B=a(R),j=t(R);return this._t(B,-j,0,0,j,B,0,0,0,0,1,0,0,0,0,1)}function u(R){if(R===0)return this;var B=a(R),j=t(R);return this._t(1,0,0,0,0,B,-j,0,0,j,B,0,0,0,0,1)}function c(R){if(R===0)return this;var B=a(R),j=t(R);return this._t(B,0,j,0,0,1,0,0,-j,0,B,0,0,0,0,1)}function f(R){if(R===0)return this;var B=a(R),j=t(R);return this._t(B,-j,0,0,j,B,0,0,0,0,1,0,0,0,0,1)}function d(R,B){return this._t(1,B,R,1,0,0)}function g(R,B){return this.shear(n(R),n(B))}function y(R,B){var j=a(B),W=t(B);return this._t(j,W,0,0,-W,j,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(R),1,0,0,0,0,1,0,0,0,0,1)._t(j,-W,0,0,W,j,0,0,0,0,1,0,0,0,0,1)}function S(R,B,j){return!j&&j!==0&&(j=1),R===1&&B===1&&j===1?this:this._t(R,0,0,0,0,B,0,0,0,0,j,0,0,0,0,1)}function _(R,B,j,W,X,ee,te,le,fe,q,re,J,oe,ne,Y,Z){return this.props[0]=R,this.props[1]=B,this.props[2]=j,this.props[3]=W,this.props[4]=X,this.props[5]=ee,this.props[6]=te,this.props[7]=le,this.props[8]=fe,this.props[9]=q,this.props[10]=re,this.props[11]=J,this.props[12]=oe,this.props[13]=ne,this.props[14]=Y,this.props[15]=Z,this}function x(R,B,j){return j=j||0,R!==0||B!==0||j!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,R,B,j,1):this}function b(R,B,j,W,X,ee,te,le,fe,q,re,J,oe,ne,Y,Z){var K=this.props;if(R===1&&B===0&&j===0&&W===0&&X===0&&ee===1&&te===0&&le===0&&fe===0&&q===0&&re===1&&J===0)return K[12]=K[12]*R+K[15]*oe,K[13]=K[13]*ee+K[15]*ne,K[14]=K[14]*re+K[15]*Y,K[15]*=Z,this._identityCalculated=!1,this;var Q=K[0],ie=K[1],ae=K[2],ce=K[3],ue=K[4],he=K[5],se=K[6],ve=K[7],pe=K[8],de=K[9],ge=K[10],me=K[11],ye=K[12],Se=K[13],xe=K[14],_e=K[15];return K[0]=Q*R+ie*X+ae*fe+ce*oe,K[1]=Q*B+ie*ee+ae*q+ce*ne,K[2]=Q*j+ie*te+ae*re+ce*Y,K[3]=Q*W+ie*le+ae*J+ce*Z,K[4]=ue*R+he*X+se*fe+ve*oe,K[5]=ue*B+he*ee+se*q+ve*ne,K[6]=ue*j+he*te+se*re+ve*Y,K[7]=ue*W+he*le+se*J+ve*Z,K[8]=pe*R+de*X+ge*fe+me*oe,K[9]=pe*B+de*ee+ge*q+me*ne,K[10]=pe*j+de*te+ge*re+me*Y,K[11]=pe*W+de*le+ge*J+me*Z,K[12]=ye*R+Se*X+xe*fe+_e*oe,K[13]=ye*B+Se*ee+xe*q+_e*ne,K[14]=ye*j+Se*te+xe*re+_e*Y,K[15]=ye*W+Se*le+xe*J+_e*Z,this._identityCalculated=!1,this}function T(R){var B=R.props;return this.transform(B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],B[8],B[9],B[10],B[11],B[12],B[13],B[14],B[15])}function A(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function C(R){for(var B=0;B<16;){if(R.props[B]!==this.props[B])return!1;B+=1}return!0}function E(R){var B;for(B=0;B<16;B+=1)R.props[B]=this.props[B];return R}function P(R){var B;for(B=0;B<16;B+=1)this.props[B]=R[B]}function M(R,B,j){return{x:R*this.props[0]+B*this.props[4]+j*this.props[8]+this.props[12],y:R*this.props[1]+B*this.props[5]+j*this.props[9]+this.props[13],z:R*this.props[2]+B*this.props[6]+j*this.props[10]+this.props[14]}}function I(R,B,j){return R*this.props[0]+B*this.props[4]+j*this.props[8]+this.props[12]}function D(R,B,j){return R*this.props[1]+B*this.props[5]+j*this.props[9]+this.props[13]}function L(R,B,j){return R*this.props[2]+B*this.props[6]+j*this.props[10]+this.props[14]}function $(){var R=this.props[0]*this.props[5]-this.props[1]*this.props[4],B=this.props[5]/R,j=-this.props[1]/R,W=-this.props[4]/R,X=this.props[0]/R,ee=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/R,te=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/R,le=new Matrix;return le.props[0]=B,le.props[1]=j,le.props[4]=W,le.props[5]=X,le.props[12]=ee,le.props[13]=te,le}function O(R){var B=this.getInverseMatrix();return B.applyToPointArray(R[0],R[1],R[2]||0)}function V(R){var B,j=R.length,W=[];for(B=0;B<j;B+=1)W[B]=O(R[B]);return W}function F(R,B,j){var W=createTypedArray("float32",6);if(this.isIdentity())W[0]=R[0],W[1]=R[1],W[2]=B[0],W[3]=B[1],W[4]=j[0],W[5]=j[1];else{var X=this.props[0],ee=this.props[1],te=this.props[4],le=this.props[5],fe=this.props[12],q=this.props[13];W[0]=R[0]*X+R[1]*te+fe,W[1]=R[0]*ee+R[1]*le+q,W[2]=B[0]*X+B[1]*te+fe,W[3]=B[0]*ee+B[1]*le+q,W[4]=j[0]*X+j[1]*te+fe,W[5]=j[0]*ee+j[1]*le+q}return W}function z(R,B,j){var W;return this.isIdentity()?W=[R,B,j]:W=[R*this.props[0]+B*this.props[4]+j*this.props[8]+this.props[12],R*this.props[1]+B*this.props[5]+j*this.props[9]+this.props[13],R*this.props[2]+B*this.props[6]+j*this.props[10]+this.props[14]],W}function U(R,B){if(this.isIdentity())return R+","+B;var j=this.props;return Math.round((R*j[0]+B*j[4]+j[12])*100)/100+","+Math.round((R*j[1]+B*j[5]+j[13])*100)/100}function H(){for(var R=0,B=this.props,j="matrix3d(",W=1e4;R<16;)j+=o(B[R]*W)/W,j+=R===15?")":",",R+=1;return j}function N(R){var B=1e4;return R<1e-6&&R>0||R>-1e-6&&R<0?o(R*B)/B:R}function G(){var R=this.props,B=N(R[0]),j=N(R[1]),W=N(R[4]),X=N(R[5]),ee=N(R[12]),te=N(R[13]);return"matrix("+B+","+j+","+W+","+X+","+ee+","+te+")"}return function(){this.reset=s,this.rotate=l,this.rotateX=u,this.rotateY=c,this.rotateZ=f,this.skew=g,this.skewFromAxis=y,this.shear=d,this.scale=S,this.setTransform=_,this.translate=x,this.transform=b,this.multiply=T,this.applyToPoint=M,this.applyToX=I,this.applyToY=D,this.applyToZ=L,this.applyToPointArray=z,this.applyToTriplePoints=F,this.applyToPointStringified=U,this.toCSS=H,this.to2dCSS=G,this.clone=E,this.cloneFromProps=P,this.equals=C,this.inversePoints=V,this.inversePoint=O,this.getInverseMatrix=$,this._t=this.transform,this.isIdentity=A,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(n){return typeof n}:_typeof$3=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(a)}var lottie={};function setLocation(a){setLocationHref(a)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(a){setSubframeEnabled(a)}function setPrefix(a){setIdPrefix(a)}function loadAnimation(a){return animationManager.loadAnimation(a)}function setQuality(a){if(typeof a=="string")switch(a){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(a)&&a>1&&setDefaultCurveSegments(a)}function inBrowser(){return typeof navigator<"u"}function installPlugin(a,t){a==="expressions"&&setExpressionsPlugin(t)}function getFactory(a){switch(a){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(a){for(var t=queryString.split("&"),n=0;n<t.length;n+=1){var o=t[n].split("=");if(decodeURIComponent(o[0])==a)return decodeURIComponent(o[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(a){}var ShapeModifiers=function(){var a={},t={};a.registerModifier=n,a.getModifier=o;function n(s,l){t[s]||(t[s]=l)}function o(s,l,u){return new t[s](l,u)}return a}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(a){if(!this.closed){a.sh.container.addDynamicProperty(a.sh);var t={shape:a.sh,data:a,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&a.setAsAnimated()}},ShapeModifier.prototype.init=function(a,t){this.shapes=[],this.elem=a,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(a,t){this.s=PropertyFactory.getProp(a,t.s,0,.01,this),this.e=PropertyFactory.getProp(a,t.e,0,.01,this),this.o=PropertyFactory.getProp(a,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(a){a.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(a,t,n,o,s){var l=[];t<=1?l.push({s:a,e:t}):a>=1?l.push({s:a-1,e:t-1}):(l.push({s:a,e:1}),l.push({s:0,e:t-1}));var u=[],c,f=l.length,d;for(c=0;c<f;c+=1)if(d=l[c],!(d.e*s<o||d.s*s>o+n)){var g,y;d.s*s<=o?g=0:g=(d.s*s-o)/n,d.e*s>=o+n?y=1:y=(d.e*s-o)/n,u.push([g,y])}return u.length||u.push([0,0]),u},TrimModifier.prototype.releasePathsData=function(a){var t,n=a.length;for(t=0;t<n;t+=1)segmentsLengthPool.release(a[t]);return a.length=0,a},TrimModifier.prototype.processShapes=function(a){var t,n;if(this._mdf||a){var o=this.o.v%360/360;if(o<0&&(o+=1),this.s.v>1?t=1+o:this.s.v<0?t=0+o:t=this.s.v+o,this.e.v>1?n=1+o:this.e.v<0?n=0+o:n=this.e.v+o,t>n){var s=t;t=n,n=s}t=Math.round(t*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var l,u,c=this.shapes.length,f,d,g,y,S,_=0;if(n===t)for(u=0;u<c;u+=1)this.shapes[u].localShapeCollection.releaseShapes(),this.shapes[u].shape._mdf=!0,this.shapes[u].shape.paths=this.shapes[u].localShapeCollection,this._mdf&&(this.shapes[u].pathsData.length=0);else if(n===1&&t===0||n===0&&t===1){if(this._mdf)for(u=0;u<c;u+=1)this.shapes[u].pathsData.length=0,this.shapes[u].shape._mdf=!0}else{var x=[],b,T;for(u=0;u<c;u+=1)if(b=this.shapes[u],!b.shape._mdf&&!this._mdf&&!a&&this.m!==2)b.shape.paths=b.localShapeCollection;else{if(l=b.shape.paths,d=l._length,S=0,!b.shape._mdf&&b.pathsData.length)S=b.totalShapeLength;else{for(g=this.releasePathsData(b.pathsData),f=0;f<d;f+=1)y=bez.getSegmentsLength(l.shapes[f]),g.push(y),S+=y.totalLength;b.totalShapeLength=S,b.pathsData=g}_+=S,b.shape._mdf=!0}var A=t,C=n,E=0,P;for(u=c-1;u>=0;u-=1)if(b=this.shapes[u],b.shape._mdf){for(T=b.localShapeCollection,T.releaseShapes(),this.m===2&&c>1?(P=this.calculateShapeEdges(t,n,b.totalShapeLength,E,_),E+=b.totalShapeLength):P=[[A,C]],d=P.length,f=0;f<d;f+=1){A=P[f][0],C=P[f][1],x.length=0,C<=1?x.push({s:b.totalShapeLength*A,e:b.totalShapeLength*C}):A>=1?x.push({s:b.totalShapeLength*(A-1),e:b.totalShapeLength*(C-1)}):(x.push({s:b.totalShapeLength*A,e:b.totalShapeLength}),x.push({s:0,e:b.totalShapeLength*(C-1)}));var M=this.addShapes(b,x[0]);if(x[0].s!==x[0].e){if(x.length>1){var I=b.shape.paths.shapes[b.shape.paths._length-1];if(I.c){var D=M.pop();this.addPaths(M,T),M=this.addShapes(b,x[1],D)}else this.addPaths(M,T),M=this.addShapes(b,x[1])}this.addPaths(M,T)}}b.shape.paths=T}}},TrimModifier.prototype.addPaths=function(a,t){var n,o=a.length;for(n=0;n<o;n+=1)t.addShape(a[n])},TrimModifier.prototype.addSegment=function(a,t,n,o,s,l,u){s.setXYAt(t[0],t[1],"o",l),s.setXYAt(n[0],n[1],"i",l+1),u&&s.setXYAt(a[0],a[1],"v",l),s.setXYAt(o[0],o[1],"v",l+1)},TrimModifier.prototype.addSegmentFromArray=function(a,t,n,o){t.setXYAt(a[1],a[5],"o",n),t.setXYAt(a[2],a[6],"i",n+1),o&&t.setXYAt(a[0],a[4],"v",n),t.setXYAt(a[3],a[7],"v",n+1)},TrimModifier.prototype.addShapes=function(a,t,n){var o=a.pathsData,s=a.shape.paths.shapes,l,u=a.shape.paths._length,c,f,d=0,g,y,S,_,x=[],b,T=!0;for(n?(y=n._length,b=n._length):(n=shapePool.newElement(),y=0,b=0),x.push(n),l=0;l<u;l+=1){for(S=o[l].lengths,n.c=s[l].c,f=s[l].c?S.length:S.length+1,c=1;c<f;c+=1)if(g=S[c-1],d+g.addedLength<t.s)d+=g.addedLength,n.c=!1;else if(d>t.e){n.c=!1;break}else t.s<=d&&t.e>=d+g.addedLength?(this.addSegment(s[l].v[c-1],s[l].o[c-1],s[l].i[c],s[l].v[c],n,y,T),T=!1):(_=bez.getNewSegment(s[l].v[c-1],s[l].v[c],s[l].o[c-1],s[l].i[c],(t.s-d)/g.addedLength,(t.e-d)/g.addedLength,S[c-1]),this.addSegmentFromArray(_,n,y,T),T=!1,n.c=!1),d+=g.addedLength,y+=1;if(s[l].c&&S.length){if(g=S[c-1],d<=t.e){var A=S[c-1].addedLength;t.s<=d&&t.e>=d+A?(this.addSegment(s[l].v[c-1],s[l].o[c-1],s[l].i[0],s[l].v[0],n,y,T),T=!1):(_=bez.getNewSegment(s[l].v[c-1],s[l].v[0],s[l].o[c-1],s[l].i[0],(t.s-d)/A,(t.e-d)/A,S[c-1]),this.addSegmentFromArray(_,n,y,T),T=!1,n.c=!1)}else n.c=!1;d+=g.addedLength,y+=1}if(n._length&&(n.setXYAt(n.v[b][0],n.v[b][1],"i",b),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),d>t.e)break;l<u-1&&(n=shapePool.newElement(),T=!0,x.push(n),y=0)}return x};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(a,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(a,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(a,t){var n=t/100,o=[0,0],s=a._length,l=0;for(l=0;l<s;l+=1)o[0]+=a.v[l][0],o[1]+=a.v[l][1];o[0]/=s,o[1]/=s;var u=shapePool.newElement();u.c=a.c;var c,f,d,g,y,S;for(l=0;l<s;l+=1)c=a.v[l][0]+(o[0]-a.v[l][0])*n,f=a.v[l][1]+(o[1]-a.v[l][1])*n,d=a.o[l][0]+(o[0]-a.o[l][0])*-n,g=a.o[l][1]+(o[1]-a.o[l][1])*-n,y=a.i[l][0]+(o[0]-a.i[l][0])*-n,S=a.i[l][1]+(o[1]-a.i[l][1])*-n,u.setTripleAt(c,f,d,g,y,S,l);return u},PuckerAndBloatModifier.prototype.processShapes=function(a){var t,n,o=this.shapes.length,s,l,u=this.amount.v;if(u!==0){var c,f;for(n=0;n<o;n+=1){if(c=this.shapes[n],f=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!a))for(f.releaseShapes(),c.shape._mdf=!0,t=c.shape.paths.shapes,l=c.shape.paths._length,s=0;s<l;s+=1)f.addShape(this.processPath(t[s],u));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var a=[0,0];function t(f){var d=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||d,this.a&&f.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&f.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&f.skewFromAxis(-this.sk.v,this.sa.v),this.r?f.rotate(-this.r.v):f.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?f.translate(this.px.v,this.py.v,-this.pz.v):f.translate(this.px.v,this.py.v,0):f.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(f){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||f){var d;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var g,y;if(d=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(g=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/d,0),y=this.p.getValueAtTime(this.p.keyframes[0].t/d,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(g=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/d,0),y=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/d,0)):(g=this.p.pv,y=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/d,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){g=[],y=[];var S=this.px,_=this.py;S._caching.lastFrame+S.offsetTime<=S.keyframes[0].t?(g[0]=S.getValueAtTime((S.keyframes[0].t+.01)/d,0),g[1]=_.getValueAtTime((_.keyframes[0].t+.01)/d,0),y[0]=S.getValueAtTime(S.keyframes[0].t/d,0),y[1]=_.getValueAtTime(_.keyframes[0].t/d,0)):S._caching.lastFrame+S.offsetTime>=S.keyframes[S.keyframes.length-1].t?(g[0]=S.getValueAtTime(S.keyframes[S.keyframes.length-1].t/d,0),g[1]=_.getValueAtTime(_.keyframes[_.keyframes.length-1].t/d,0),y[0]=S.getValueAtTime((S.keyframes[S.keyframes.length-1].t-.01)/d,0),y[1]=_.getValueAtTime((_.keyframes[_.keyframes.length-1].t-.01)/d,0)):(g=[S.pv,_.pv],y[0]=S.getValueAtTime((S._caching.lastFrame+S.offsetTime-.01)/d,S.offsetTime),y[1]=_.getValueAtTime((_._caching.lastFrame+_.offsetTime-.01)/d,_.offsetTime))}else y=a,g=y;this.v.rotate(-Math.atan2(g[1]-y[1],g[0]-y[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function o(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function l(f){this._addDynamicProperty(f),this.elem.addDynamicProperty(f),this._isDirty=!0}function u(f,d,g){if(this.elem=f,this.frameId=-1,this.propType="transform",this.data=d,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(g||f),d.p&&d.p.s?(this.px=PropertyFactory.getProp(f,d.p.x,0,0,this),this.py=PropertyFactory.getProp(f,d.p.y,0,0,this),d.p.z&&(this.pz=PropertyFactory.getProp(f,d.p.z,0,0,this))):this.p=PropertyFactory.getProp(f,d.p||{k:[0,0,0]},1,0,this),d.rx){if(this.rx=PropertyFactory.getProp(f,d.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(f,d.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(f,d.rz,0,degToRads,this),d.or.k[0].ti){var y,S=d.or.k.length;for(y=0;y<S;y+=1)d.or.k[y].to=null,d.or.k[y].ti=null}this.or=PropertyFactory.getProp(f,d.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(f,d.r||{k:0},0,degToRads,this);d.sk&&(this.sk=PropertyFactory.getProp(f,d.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(f,d.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(f,d.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(f,d.s||{k:[100,100,100]},1,.01,this),d.o?this.o=PropertyFactory.getProp(f,d.o,0,.01,f):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}u.prototype={applyToMatrix:t,getValue:n,precalculateMatrix:o,autoOrient:s},extendPrototype([DynamicPropertyContainer],u),u.prototype.addDynamicProperty=l,u.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function c(f,d,g){return new u(f,d,g)}return{getTransformProperty:c}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(a,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(a,t.c,0,null,this),this.o=PropertyFactory.getProp(a,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(a,t.tr,this),this.so=PropertyFactory.getProp(a,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(a,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(a,t,n,o,s,l){var u=l?-1:1,c=o.s.v[0]+(1-o.s.v[0])*(1-s),f=o.s.v[1]+(1-o.s.v[1])*(1-s);a.translate(o.p.v[0]*u*s,o.p.v[1]*u*s,o.p.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.rotate(-o.r.v*u*s),t.translate(o.a.v[0],o.a.v[1],o.a.v[2]),n.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),n.scale(l?1/c:c,l?1/f:f),n.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(a,t,n,o){for(this.elem=a,this.arr=t,this.pos=n,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(a){var t,n=a.length;for(t=0;t<n;t+=1)a[t]._processed=!1,a[t].ty==="gr"&&this.resetElements(a[t].it)},RepeaterModifier.prototype.cloneElements=function(a){var t=JSON.parse(JSON.stringify(a));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(a,t){var n,o=a.length;for(n=0;n<o;n+=1)a[n]._render=t,a[n].ty==="gr"&&this.changeGroupRender(a[n].it,t)},RepeaterModifier.prototype.processShapes=function(a){var t,n,o,s,l,u=!1;if(this._mdf||a){var c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var f={it:this.cloneElements(this._elements),ty:"gr"};f.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,f),this._groups.splice(0,0,f),this._currentCopies+=1}this.elem.reloadShapes(),u=!0}l=0;var d;for(o=0;o<=this._groups.length-1;o+=1){if(d=l<c,this._groups[o]._render=d,this.changeGroupRender(this._groups[o].it,d),!d){var g=this.elemsData[o].it,y=g[g.length-1];y.transform.op.v!==0?(y.transform.op._mdf=!0,y.transform.op.v=0):y.transform.op._mdf=!1}l+=1}this._currentCopies=c;var S=this.o.v,_=S%1,x=S>0?Math.floor(S):Math.ceil(S),b=this.pMatrix.props,T=this.rMatrix.props,A=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var C=0;if(S>0){for(;C<x;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),C+=1;_&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,_,!1),C+=_)}else if(S<0){for(;C>x;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),C-=1;_&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-_,!0),C-=_)}o=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,l=this._currentCopies;for(var E,P;l;){if(t=this.elemsData[o].it,n=t[t.length-1].transform.mProps.v.props,P=n.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),C!==0){for((o!==0&&s===1||o!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),this.matrix.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),E=0;E<P;E+=1)n[E]=this.matrix.props[E];this.matrix.reset()}else for(this.matrix.reset(),E=0;E<P;E+=1)n[E]=this.matrix.props[E];C+=1,l-=1,o+=s}}else for(l=this._currentCopies,o=0,s=1;l;)t=this.elemsData[o].it,n=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,l-=1,o+=s;return u},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(a,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(a,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(a,t){var n=shapePool.newElement();n.c=a.c;var o,s=a._length,l,u,c,f,d,g,y=0,S,_,x,b,T,A;for(o=0;o<s;o+=1)l=a.v[o],c=a.o[o],u=a.i[o],l[0]===c[0]&&l[1]===c[1]&&l[0]===u[0]&&l[1]===u[1]?(o===0||o===s-1)&&!a.c?(n.setTripleAt(l[0],l[1],c[0],c[1],u[0],u[1],y),y+=1):(o===0?f=a.v[s-1]:f=a.v[o-1],d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)),g=d?Math.min(d/2,t)/d:0,T=l[0]+(f[0]-l[0])*g,S=T,A=l[1]-(l[1]-f[1])*g,_=A,x=S-(S-l[0])*roundCorner,b=_-(_-l[1])*roundCorner,n.setTripleAt(S,_,x,b,T,A,y),y+=1,o===s-1?f=a.v[0]:f=a.v[o+1],d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)),g=d?Math.min(d/2,t)/d:0,x=l[0]+(f[0]-l[0])*g,S=x,b=l[1]+(f[1]-l[1])*g,_=b,T=S-(S-l[0])*roundCorner,A=_-(_-l[1])*roundCorner,n.setTripleAt(S,_,x,b,T,A,y),y+=1):(n.setTripleAt(a.v[o][0],a.v[o][1],a.o[o][0],a.o[o][1],a.i[o][0],a.i[o][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(a){var t,n,o=this.shapes.length,s,l,u=this.rd.v;if(u!==0){var c,f;for(n=0;n<o;n+=1){if(c=this.shapes[n],f=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!a))for(f.releaseShapes(),c.shape._mdf=!0,t=c.shape.paths.shapes,l=c.shape.paths._length,s=0;s<l;s+=1)f.addShape(this.processPath(t[s],u));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(a,t){return Math.abs(a-t)*1e5<=Math.min(Math.abs(a),Math.abs(t))}function floatZero(a){return Math.abs(a)<=1e-5}function lerp(a,t,n){return a*(1-n)+t*n}function lerpPoint(a,t,n){return[lerp(a[0],t[0],n),lerp(a[1],t[1],n)]}function quadRoots(a,t,n){if(a===0)return[];var o=t*t-4*a*n;if(o<0)return[];var s=-t/(2*a);if(o===0)return[s];var l=Math.sqrt(o)/(2*a);return[s-l,s+l]}function polynomialCoefficients(a,t,n,o){return[-a+3*t-3*n+o,3*a-6*t+3*n,-3*a+3*t,a]}function singlePoint(a){return new PolynomialBezier(a,a,a,a,!1)}function PolynomialBezier(a,t,n,o,s){s&&pointEqual(a,t)&&(t=lerpPoint(a,o,1/3)),s&&pointEqual(n,o)&&(n=lerpPoint(a,o,2/3));var l=polynomialCoefficients(a[0],t[0],n[0],o[0]),u=polynomialCoefficients(a[1],t[1],n[1],o[1]);this.a=[l[0],u[0]],this.b=[l[1],u[1]],this.c=[l[2],u[2]],this.d=[l[3],u[3]],this.points=[a,t,n,o]}PolynomialBezier.prototype.point=function(a){return[((this.a[0]*a+this.b[0])*a+this.c[0])*a+this.d[0],((this.a[1]*a+this.b[1])*a+this.c[1])*a+this.d[1]]},PolynomialBezier.prototype.derivative=function(a){return[(3*a*this.a[0]+2*this.b[0])*a+this.c[0],(3*a*this.a[1]+2*this.b[1])*a+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(a){var t=this.derivative(a);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(a){var t=this.derivative(a);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var a=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(a))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/a,n=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/a;if(n<0)return[];var o=Math.sqrt(n);return floatZero(o)?o>0&&o<1?[t]:[]:[t-o,t+o].filter(function(s){return s>0&&s<1})},PolynomialBezier.prototype.split=function(a){if(a<=0)return[singlePoint(this.points[0]),this];if(a>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],a),n=lerpPoint(this.points[1],this.points[2],a),o=lerpPoint(this.points[2],this.points[3],a),s=lerpPoint(t,n,a),l=lerpPoint(n,o,a),u=lerpPoint(s,l,a);return[new PolynomialBezier(this.points[0],t,s,u,!0),new PolynomialBezier(u,l,o,this.points[3],!0)]};function extrema(a,t){var n=a.points[0][t],o=a.points[a.points.length-1][t];if(n>o){var s=o;o=n,n=s}for(var l=quadRoots(3*a.a[t],2*a.b[t],a.c[t]),u=0;u<l.length;u+=1)if(l[u]>0&&l[u]<1){var c=a.point(l[u])[t];c<n?n=c:c>o&&(o=c)}return{min:n,max:o}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var a=this.bounds();return{left:a.x.min,right:a.x.max,top:a.y.min,bottom:a.y.max,width:a.x.max-a.x.min,height:a.y.max-a.y.min,cx:(a.x.max+a.x.min)/2,cy:(a.y.max+a.y.min)/2}};function intersectData(a,t,n){var o=a.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:a,t:(t+n)/2,t1:t,t2:n}}function splitData(a){var t=a.bez.split(.5);return[intersectData(t[0],a.t1,a.t),intersectData(t[1],a.t,a.t2)]}function boxIntersect(a,t){return Math.abs(a.cx-t.cx)*2<a.width+t.width&&Math.abs(a.cy-t.cy)*2<a.height+t.height}function intersectsImpl(a,t,n,o,s,l){if(boxIntersect(a,t)){if(n>=l||a.width<=o&&a.height<=o&&t.width<=o&&t.height<=o){s.push([a.t,t.t]);return}var u=splitData(a),c=splitData(t);intersectsImpl(u[0],c[0],n+1,o,s,l),intersectsImpl(u[0],c[1],n+1,o,s,l),intersectsImpl(u[1],c[0],n+1,o,s,l),intersectsImpl(u[1],c[1],n+1,o,s,l)}}PolynomialBezier.prototype.intersections=function(a,t,n){t===void 0&&(t=2),n===void 0&&(n=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(a,0,1),0,t,o,n),o},PolynomialBezier.shapeSegment=function(a,t){var n=(t+1)%a.length();return new PolynomialBezier(a.v[t],a.o[t],a.i[n],a.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(a,t){var n=(t+1)%a.length();return new PolynomialBezier(a.v[n],a.i[n],a.o[t],a.v[t],!0)};function crossProduct(a,t){return[a[1]*t[2]-a[2]*t[1],a[2]*t[0]-a[0]*t[2],a[0]*t[1]-a[1]*t[0]]}function lineIntersection(a,t,n,o){var s=[a[0],a[1],1],l=[t[0],t[1],1],u=[n[0],n[1],1],c=[o[0],o[1],1],f=crossProduct(crossProduct(s,l),crossProduct(u,c));return floatZero(f[2])?null:[f[0]/f[2],f[1]/f[2]]}function polarOffset(a,t,n){return[a[0]+Math.cos(t)*n,a[1]-Math.sin(t)*n]}function pointDistance(a,t){return Math.hypot(a[0]-t[0],a[1]-t[1])}function pointEqual(a,t){return floatEqual(a[0],t[0])&&floatEqual(a[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(a,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(a,t.s,0,null,this),this.frequency=PropertyFactory.getProp(a,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(a,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(a,t,n,o,s,l,u){var c=n-Math.PI/2,f=n+Math.PI/2,d=t[0]+Math.cos(n)*o*s,g=t[1]-Math.sin(n)*o*s;a.setTripleAt(d,g,d+Math.cos(c)*l,g-Math.sin(c)*l,d+Math.cos(f)*u,g-Math.sin(f)*u,a.length())}function getPerpendicularVector(a,t){var n=[t[0]-a[0],t[1]-a[1]],o=-Math.PI*.5,s=[Math.cos(o)*n[0]-Math.sin(o)*n[1],Math.sin(o)*n[0]+Math.cos(o)*n[1]];return s}function getProjectingAngle(a,t){var n=t===0?a.length()-1:t-1,o=(t+1)%a.length(),s=a.v[n],l=a.v[o],u=getPerpendicularVector(s,l);return Math.atan2(0,1)-Math.atan2(u[1],u[0])}function zigZagCorner(a,t,n,o,s,l,u){var c=getProjectingAngle(t,n),f=t.v[n%t._length],d=t.v[n===0?t._length-1:n-1],g=t.v[(n+1)%t._length],y=l===2?Math.sqrt(Math.pow(f[0]-d[0],2)+Math.pow(f[1]-d[1],2)):0,S=l===2?Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)):0;setPoint(a,t.v[n%t._length],c,u,o,S/((s+1)*2),y/((s+1)*2))}function zigZagSegment(a,t,n,o,s,l){for(var u=0;u<o;u+=1){var c=(u+1)/(o+1),f=s===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,d=t.normalAngle(c),g=t.point(c);setPoint(a,g,d,l,n,f/((o+1)*2),f/((o+1)*2)),l=-l}return l}ZigZagModifier.prototype.processPath=function(a,t,n,o){var s=a._length,l=shapePool.newElement();if(l.c=a.c,a.c||(s-=1),s===0)return l;var u=-1,c=PolynomialBezier.shapeSegment(a,0);zigZagCorner(l,a,0,t,n,o,u);for(var f=0;f<s;f+=1)u=zigZagSegment(l,c,t,n,o,-u),f===s-1&&!a.c?c=null:c=PolynomialBezier.shapeSegment(a,(f+1)%s),zigZagCorner(l,a,f+1,t,n,o,u);return l},ZigZagModifier.prototype.processShapes=function(a){var t,n,o=this.shapes.length,s,l,u=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),f=this.pointsType.v;if(u!==0){var d,g;for(n=0;n<o;n+=1){if(d=this.shapes[n],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),d.shape._mdf=!0,t=d.shape.paths.shapes,l=d.shape.paths._length,s=0;s<l;s+=1)g.addShape(this.processPath(t[s],u,c,f));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(a,t,n){var o=Math.atan2(t[0]-a[0],t[1]-a[1]);return[polarOffset(a,o,n),polarOffset(t,o,n)]}function offsetSegment(a,t){var n,o,s,l,u,c,f;f=linearOffset(a.points[0],a.points[1],t),n=f[0],o=f[1],f=linearOffset(a.points[1],a.points[2],t),s=f[0],l=f[1],f=linearOffset(a.points[2],a.points[3],t),u=f[0],c=f[1];var d=lineIntersection(n,o,s,l);d===null&&(d=o);var g=lineIntersection(u,c,s,l);return g===null&&(g=u),new PolynomialBezier(n,d,g,c)}function joinLines(a,t,n,o,s){var l=t.points[3],u=n.points[0];if(o===3||pointEqual(l,u))return l;if(o===2){var c=-t.tangentAngle(1),f=-n.tangentAngle(0)+Math.PI,d=lineIntersection(l,polarOffset(l,c+Math.PI/2,100),u,polarOffset(u,c+Math.PI/2,100)),g=d?pointDistance(d,l):pointDistance(l,u)/2,y=polarOffset(l,c,2*g*roundCorner);return a.setXYAt(y[0],y[1],"o",a.length()-1),y=polarOffset(u,f,2*g*roundCorner),a.setTripleAt(u[0],u[1],u[0],u[1],y[0],y[1],a.length()),u}var S=pointEqual(l,t.points[2])?t.points[0]:t.points[2],_=pointEqual(u,n.points[1])?n.points[3]:n.points[1],x=lineIntersection(S,l,u,_);return x&&pointDistance(x,l)<s?(a.setTripleAt(x[0],x[1],x[0],x[1],x[0],x[1],a.length()),x):l}function getIntersection(a,t){var n=a.intersections(t);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(a,t){var n=a.slice(),o=t.slice(),s=getIntersection(a[a.length-1],t[0]);return s&&(n[a.length-1]=a[a.length-1].split(s[0])[0],o[0]=t[0].split(s[1])[1]),a.length>1&&t.length>1&&(s=getIntersection(a[0],t[t.length-1]),s)?[[a[0].split(s[0])[0]],[t[t.length-1].split(s[1])[1]]]:[n,o]}function pruneIntersections(a){for(var t,n=1;n<a.length;n+=1)t=pruneSegmentIntersection(a[n-1],a[n]),a[n-1]=t[0],a[n]=t[1];return a.length>1&&(t=pruneSegmentIntersection(a[a.length-1],a[0]),a[a.length-1]=t[0],a[0]=t[1]),a}function offsetSegmentSplit(a,t){var n=a.inflectionPoints(),o,s,l,u;if(n.length===0)return[offsetSegment(a,t)];if(n.length===1||floatEqual(n[1],1))return l=a.split(n[0]),o=l[0],s=l[1],[offsetSegment(o,t),offsetSegment(s,t)];l=a.split(n[0]),o=l[0];var c=(n[1]-n[0])/(1-n[0]);return l=l[1].split(c),u=l[0],s=l[1],[offsetSegment(o,t),offsetSegment(u,t),offsetSegment(s,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(a,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(a,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(a,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(a,t,n,o){var s=shapePool.newElement();s.c=a.c;var l=a.length();a.c||(l-=1);var u,c,f,d=[];for(u=0;u<l;u+=1)f=PolynomialBezier.shapeSegment(a,u),d.push(offsetSegmentSplit(f,t));if(!a.c)for(u=l-1;u>=0;u-=1)f=PolynomialBezier.shapeSegmentInverted(a,u),d.push(offsetSegmentSplit(f,t));d=pruneIntersections(d);var g=null,y=null;for(u=0;u<d.length;u+=1){var S=d[u];for(y&&(g=joinLines(s,y,S[0],n,o)),y=S[S.length-1],c=0;c<S.length;c+=1)f=S[c],g&&pointEqual(f.points[0],g)?s.setXYAt(f.points[1][0],f.points[1][1],"o",s.length()-1):s.setTripleAt(f.points[0][0],f.points[0][1],f.points[1][0],f.points[1][1],f.points[0][0],f.points[0][1],s.length()),s.setTripleAt(f.points[3][0],f.points[3][1],f.points[3][0],f.points[3][1],f.points[2][0],f.points[2][1],s.length()),g=f.points[3]}return d.length&&joinLines(s,y,d[0][0],n,o),s},OffsetPathModifier.prototype.processShapes=function(a){var t,n,o=this.shapes.length,s,l,u=this.amount.v,c=this.miterLimit.v,f=this.lineJoin;if(u!==0){var d,g;for(n=0;n<o;n+=1){if(d=this.shapes[n],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),d.shape._mdf=!0,t=d.shape.paths.shapes,l=d.shape.paths._length,s=0;s<l;s+=1)g.addShape(this.processPath(t[s],u,f,c));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(a){for(var t=a.fStyle?a.fStyle.split(" "):[],n="normal",o="normal",s=t.length,l,u=0;u<s;u+=1)switch(l=t[u].toLowerCase(),l){case"italic":o="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:o,weight:a.fWeight||n}}var FontManager=function(){var a=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var o=127988,s=917631,l=917601,u=917626,c=65039,f=8205,d=127462,g=127487,y=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function S(N){var G=N.split(","),R,B=G.length,j=[];for(R=0;R<B;R+=1)G[R]!=="sans-serif"&&G[R]!=="monospace"&&j.push(G[R]);return j.join(",")}function _(N,G){var R=createTag("span");R.setAttribute("aria-hidden",!0),R.style.fontFamily=G;var B=createTag("span");B.innerText="giItT1WQy@!-/#",R.style.position="absolute",R.style.left="-10000px",R.style.top="-10000px",R.style.fontSize="300px",R.style.fontVariant="normal",R.style.fontStyle="normal",R.style.fontWeight="normal",R.style.letterSpacing="0",R.appendChild(B),document.body.appendChild(R);var j=B.offsetWidth;return B.style.fontFamily=S(N)+", "+G,{node:B,w:j,parent:R}}function x(){var N,G=this.fonts.length,R,B,j=G;for(N=0;N<G;N+=1)this.fonts[N].loaded?j-=1:this.fonts[N].fOrigin==="n"||this.fonts[N].origin===0?this.fonts[N].loaded=!0:(R=this.fonts[N].monoCase.node,B=this.fonts[N].monoCase.w,R.offsetWidth!==B?(j-=1,this.fonts[N].loaded=!0):(R=this.fonts[N].sansCase.node,B=this.fonts[N].sansCase.w,R.offsetWidth!==B&&(j-=1,this.fonts[N].loaded=!0)),this.fonts[N].loaded&&(this.fonts[N].sansCase.parent.parentNode.removeChild(this.fonts[N].sansCase.parent),this.fonts[N].monoCase.parent.parentNode.removeChild(this.fonts[N].monoCase.parent)));j!==0&&Date.now()-this.initTime<a?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function b(N,G){var R=document.body&&G?"svg":"canvas",B,j=getFontProperties(N);if(R==="svg"){var W=createNS("text");W.style.fontSize="100px",W.setAttribute("font-family",N.fFamily),W.setAttribute("font-style",j.style),W.setAttribute("font-weight",j.weight),W.textContent="1",N.fClass?(W.style.fontFamily="inherit",W.setAttribute("class",N.fClass)):W.style.fontFamily=N.fFamily,G.appendChild(W),B=W}else{var X=new OffscreenCanvas(500,500).getContext("2d");X.font=j.style+" "+j.weight+" 100px "+N.fFamily,B=X}function ee(te){return R==="svg"?(B.textContent=te,B.getComputedTextLength()):B.measureText(te).width}return{measureText:ee}}function T(N,G){if(!N){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=N.list;return}if(!document.body){this.isLoaded=!0,N.list.forEach(function(re){re.helper=b(re),re.cache={}}),this.fonts=N.list;return}var R=N.list,B,j=R.length,W=j;for(B=0;B<j;B+=1){var X=!0,ee,te;if(R[B].loaded=!1,R[B].monoCase=_(R[B].fFamily,"monospace"),R[B].sansCase=_(R[B].fFamily,"sans-serif"),!R[B].fPath)R[B].loaded=!0,W-=1;else if(R[B].fOrigin==="p"||R[B].origin===3){if(ee=document.querySelectorAll('style[f-forigin="p"][f-family="'+R[B].fFamily+'"], style[f-origin="3"][f-family="'+R[B].fFamily+'"]'),ee.length>0&&(X=!1),X){var le=createTag("style");le.setAttribute("f-forigin",R[B].fOrigin),le.setAttribute("f-origin",R[B].origin),le.setAttribute("f-family",R[B].fFamily),le.type="text/css",le.innerText="@font-face {font-family: "+R[B].fFamily+"; font-style: normal; src: url('"+R[B].fPath+"');}",G.appendChild(le)}}else if(R[B].fOrigin==="g"||R[B].origin===1){for(ee=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),te=0;te<ee.length;te+=1)ee[te].href.indexOf(R[B].fPath)!==-1&&(X=!1);if(X){var fe=createTag("link");fe.setAttribute("f-forigin",R[B].fOrigin),fe.setAttribute("f-origin",R[B].origin),fe.type="text/css",fe.rel="stylesheet",fe.href=R[B].fPath,document.body.appendChild(fe)}}else if(R[B].fOrigin==="t"||R[B].origin===2){for(ee=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),te=0;te<ee.length;te+=1)R[B].fPath===ee[te].src&&(X=!1);if(X){var q=createTag("link");q.setAttribute("f-forigin",R[B].fOrigin),q.setAttribute("f-origin",R[B].origin),q.setAttribute("rel","stylesheet"),q.setAttribute("href",R[B].fPath),G.appendChild(q)}}R[B].helper=b(R[B],G),R[B].cache={},this.fonts.push(R[B])}W===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function A(N){if(N){this.chars||(this.chars=[]);var G,R=N.length,B,j=this.chars.length,W;for(G=0;G<R;G+=1){for(B=0,W=!1;B<j;)this.chars[B].style===N[G].style&&this.chars[B].fFamily===N[G].fFamily&&this.chars[B].ch===N[G].ch&&(W=!0),B+=1;W||(this.chars.push(N[G]),j+=1)}}}function C(N,G,R){for(var B=0,j=this.chars.length;B<j;){if(this.chars[B].ch===N&&this.chars[B].style===G&&this.chars[B].fFamily===R)return this.chars[B];B+=1}return(typeof N=="string"&&N.charCodeAt(0)!==13||!N)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",N,G,R)),t}function E(N,G,R){var B=this.getFontByName(G),j=N;if(!B.cache[j]){var W=B.helper;if(N===" "){var X=W.measureText("|"+N+"|"),ee=W.measureText("||");B.cache[j]=(X-ee)/100}else B.cache[j]=W.measureText(N)/100}return B.cache[j]*R}function P(N){for(var G=0,R=this.fonts.length;G<R;){if(this.fonts[G].fName===N)return this.fonts[G];G+=1}return this.fonts[0]}function M(N){var G=0,R=N.charCodeAt(0);if(R>=55296&&R<=56319){var B=N.charCodeAt(1);B>=56320&&B<=57343&&(G=(R-55296)*1024+B-56320+65536)}return G}function I(N,G){var R=N.toString(16)+G.toString(16);return y.indexOf(R)!==-1}function D(N){return N===f}function L(N){return N===c}function $(N){var G=M(N);return G>=d&&G<=g}function O(N){return $(N.substr(0,2))&&$(N.substr(2,2))}function V(N){return n.indexOf(N)!==-1}function F(N,G){var R=M(N.substr(G,2));if(R!==o)return!1;var B=0;for(G+=2;B<5;){if(R=M(N.substr(G,2)),R<l||R>u)return!1;B+=1,G+=2}return M(N.substr(G,2))===s}function z(){this.isLoaded=!0}var U=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};U.isModifier=I,U.isZeroWidthJoiner=D,U.isFlagEmoji=O,U.isRegionalCode=$,U.isCombinedCharacter=V,U.isRegionalFlag=F,U.isVariationSelector=L,U.BLACK_FLAG_CODE_POINT=o;var H={addChars:A,addFonts:T,getCharData:C,getFontByName:P,measureText:E,checkLoadedFonts:x,setIsLoaded:z};return U.prototype=H,U}();function SlotManager(a){this.animationData=a}SlotManager.prototype.getProp=function(a){return this.animationData.slots&&this.animationData.slots[a.sid]?Object.assign(a,this.animationData.slots[a.sid].p):a};function slotFactory(a){return new SlotManager(a)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,n=this.renderableComponents.length;for(t=0;t<n;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var a={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return a[t]||""}}();function SliderEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,0,0,n)}function AngleEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,0,0,n)}function ColorEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,1,0,n)}function PointEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,1,0,n)}function LayerIndexEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,0,0,n)}function MaskIndexEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,0,0,n)}function CheckboxEffect(a,t,n){this.p=PropertyFactory.getProp(t,a.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(a,t){var n=a.ef||[];this.effectElements=[];var o,s=n.length,l;for(o=0;o<s;o+=1)l=new GroupEffect(n[o],t),this.effectElements.push(l)}function GroupEffect(a,t){this.init(a,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(a,t){this.data=a,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,s,l=this.data.ef;for(n=0;n<o;n+=1){switch(s=null,l[n].ty){case 0:s=new SliderEffect(l[n],t,this);break;case 1:s=new AngleEffect(l[n],t,this);break;case 2:s=new ColorEffect(l[n],t,this);break;case 3:s=new PointEffect(l[n],t,this);break;case 4:case 7:s=new CheckboxEffect(l[n],t,this);break;case 10:s=new LayerIndexEffect(l[n],t,this);break;case 11:s=new MaskIndexEffect(l[n],t,this);break;case 5:s=new EffectsManager(l[n],t);break;default:s=new NoValueEffect(l[n]);break}s&&this.effectElements.push(s)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,n=this.data.masksProperties.length;t<n;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var n=t("layer"),o=t("effects"),s=t("shape"),l=t("text"),u=t("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var c=o.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(c),this.data.ty===0||this.data.xt?this.compInterface=u(this):this.data.ty===4?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=t},initBaseData:function(t,n,o){this.globalData=n,this.comp=o,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,n){var o,s=this.dynamicProperties.length;for(o=0;o<s;o+=1)(n||this._isParent&&this.dynamicProperties[o].propType==="transform")&&(this.dynamicProperties[o].getValue(),this.dynamicProperties[o]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(a,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(a.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(a,t,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var a=getExpressionInterfaces();if(a){var t=a("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(a,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(a.refId),this.initBaseData(a,t,n),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,a.au&&a.au.lv?a.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(a){if(this.prepareRenderableFrame(a,!0),this.prepareProperties(a,!0),this.tm._placeholder)this._currentTime=a/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(a){this.audio.rate(a)},AudioElement.prototype.volume=function(a){this._volumeMultiplier=a,this._previousVolume=a*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(a){var t,n=this.layers.length,o;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(o=this.layers[t],o.ip-o.st<=a-this.layers[t].st&&o.op-o.st>a-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 3:return this.createNull(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 6:return this.createAudio(a);case 13:return this.createCamera(a);case 15:return this.createFootage(a);default:return this.createNull(a)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(a){return new AudioElement(a,this.globalData,this)},BaseRenderer.prototype.createFootage=function(a){return new FootageElement(a,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var a,t=this.layers.length;for(a=0;a<t;a+=1)this.buildItem(a);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(a){this.completeLayers=!1;var t,n=a.length,o,s=this.layers.length;for(t=0;t<n;t+=1)for(o=0;o<s;){if(this.layers[o].id===a[t].id){this.layers[o]=a[t];break}o+=1}},BaseRenderer.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(a,t,n){for(var o=this.elements,s=this.layers,l=0,u=s.length;l<u;)s[l].ind==t&&(!o[l]||o[l]===!0?(this.buildItem(l),this.addPendingElement(a)):(n.push(o[l]),o[l].setAsParent(),s[l].parent!==void 0?this.buildElementParenting(a,s[l].parent,n):a.setHierarchy(n))),l+=1},BaseRenderer.prototype.addPendingElement=function(a){this.pendingElements.push(a)},BaseRenderer.prototype.searchExtraCompositions=function(a){var t,n=a.length;for(t=0;t<n;t+=1)if(a[t].xt){var o=this.createComp(a[t]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(a){var t,n=this.elements.length;for(t=0;t<n;t+=1)if(this.elements[t].data.ind===a)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(a){var t=a.shift(),n;if(typeof t=="number")n=this.elements[t];else{var o,s=this.elements.length;for(o=0;o<s;o+=1)if(this.elements[o].data.nm===t){n=this.elements[o];break}}return a.length===0?n:n.getElementByPath(a)},BaseRenderer.prototype.setupGlobalData=function(a,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(a),this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=a.fr,this.globalData.nm=a.nm,this.globalData.compSize={w:a.w,h:a.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,n=this.finalTransform.mat,o=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;o<s;){if(this.hierarchy[o].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}o+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t),o=0;o<s;o+=1)n.multiply(this.hierarchy[o].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<n;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var o=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(o),t=1;t<n;t+=1){var s=this.localTransforms[t].matrix;o.multiply(s)}o.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(t=0;t<n;t+=1)l*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,o=t.length;for(n=0;n<o;n+=1)this.localTransforms.push(t[n])}}},globalToLocal:function(t){var n=[];n.push(this.finalTransform);for(var o=!0,s=this.comp;o;)s.finalTransform?(s.data.hasMask&&n.splice(0,0,s.finalTransform),s=s.comp):o=!1;var l,u=n.length,c;for(l=0;l<u;l+=1)c=n[l].mat.applyToPointArray(0,0,0),t=[t[0]-c[0],t[1]-c[1],0];return t},mHelper:new Matrix};function MaskElement(a,t,n){this.data=a,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o=this.globalData.defs,s,l=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(l),this.solidPath="";var u,c=this.masksProperties,f=0,d=[],g,y,S=createElementID(),_,x,b,T,A="clipPath",C="clip-path";for(s=0;s<l;s+=1)if((c[s].mode!=="a"&&c[s].mode!=="n"||c[s].inv||c[s].o.k!==100||c[s].o.x)&&(A="mask",C="mask"),(c[s].mode==="s"||c[s].mode==="i")&&f===0?(_=createNS("rect"),_.setAttribute("fill","#ffffff"),_.setAttribute("width",this.element.comp.data.w||0),_.setAttribute("height",this.element.comp.data.h||0),d.push(_)):_=null,u=createNS("path"),c[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3),elem:u,lastPath:""},o.appendChild(u);else{f+=1,u.setAttribute("fill",c[s].mode==="s"?"#000000":"#ffffff"),u.setAttribute("clip-rule","nonzero");var E;if(c[s].x.k!==0?(A="mask",C="mask",T=PropertyFactory.getProp(this.element,c[s].x,0,null,this.element),E=createElementID(),x=createNS("filter"),x.setAttribute("id",E),b=createNS("feMorphology"),b.setAttribute("operator","erode"),b.setAttribute("in","SourceGraphic"),b.setAttribute("radius","0"),x.appendChild(b),o.appendChild(x),u.setAttribute("stroke",c[s].mode==="s"?"#000000":"#ffffff")):(b=null,T=null),this.storedData[s]={elem:u,x:T,expan:b,lastPath:"",lastOperator:"",filterId:E,lastRadius:0},c[s].mode==="i"){y=d.length;var P=createNS("g");for(g=0;g<y;g+=1)P.appendChild(d[g]);var M=createNS("mask");M.setAttribute("mask-type","alpha"),M.setAttribute("id",S+"_"+f),M.appendChild(u),o.appendChild(M),P.setAttribute("mask","url("+getLocationHref()+"#"+S+"_"+f+")"),d.length=0,d.push(P)}else d.push(u);c[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:u,lastPath:"",op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3),invRect:_},this.viewData[s].prop.k||this.drawPath(c[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(A),l=d.length,s=0;s<l;s+=1)this.maskElement.appendChild(d[s]);f>0&&(this.maskElement.setAttribute("id",S),this.element.maskedElement.setAttribute(C,"url("+getLocationHref()+"#"+S+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(a){return this.viewData[a].prop},MaskElement.prototype.renderFrame=function(a){var t=this.element.finalTransform.mat,n,o=this.masksProperties.length;for(n=0;n<o;n+=1)if((this.viewData[n].prop._mdf||a)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||a)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||a)&&this.viewData[n].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||a))){var s=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),s.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var a="M0,0 ";return a+=" h"+this.globalData.compSize.w,a+=" v"+this.globalData.compSize.h,a+=" h-"+this.globalData.compSize.w,a+=" v-"+this.globalData.compSize.h+" ",a},MaskElement.prototype.drawPath=function(a,t,n){var o=" M"+t.v[0][0]+","+t.v[0][1],s,l;for(l=t._length,s=1;s<l;s+=1)o+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[s][0]+","+t.i[s][1]+" "+t.v[s][0]+","+t.v[s][1];if(t.c&&l>1&&(o+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var u="";n.elem&&(t.c&&(u=a.inv?this.solidPath+o:o),n.elem.setAttribute("d",u)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var a={};a.createFilter=t,a.createAlphaToLuminanceFilter=n;function t(o,s){var l=createNS("filter");return l.setAttribute("id",o),s!==!0&&(l.setAttribute("filterUnits","objectBoundingBox"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%")),l}function n(){var o=createNS("feColorMatrix");return o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),o}return a}(),featureSupport=function(){var a={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(a.maskType=!1),/firefox/i.test(navigator.userAgent)&&(a.svgLumaHidden=!1),a}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(a){var t,n="SourceGraphic",o=a.data.ef?a.data.ef.length:0,s=createElementID(),l=filtersFactory.createFilter(s,!0),u=0;this.filters=[];var c;for(t=0;t<o;t+=1){c=null;var f=a.data.ef[t].ty;if(registeredEffects$1[f]){var d=registeredEffects$1[f].effect;c=new d(l,a.effectsManager.effectElements[t],a,idPrefix+u,n),n=idPrefix+u,registeredEffects$1[f].countsAsEffect&&(u+=1)}c&&this.filters.push(c)}u&&(a.globalData.defs.appendChild(l),a.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&a.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(a){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(a)},SVGEffects.prototype.getEffects=function(a){var t,n=this.filters.length,o=[];for(t=0;t<n;t+=1)this.filters[t].type===a&&o.push(this.filters[t]);return o};function registerEffect$1(a,t,n){registeredEffects$1[a]={effect:t,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),t=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var o=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(o.setAttribute("id",l),o.appendChild(s),this.globalData.defs.appendChild(o),this.checkMasks()){var u=createNS("g");u.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),u.appendChild(this.layerElement),this.transformedElement=u,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var n=this.layerId+"_"+t,o,s,l,u;if(t===1||t===3){var c=createNS("mask");c.setAttribute("id",n),c.setAttribute("mask-type",t===3?"luminance":"alpha"),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),c.appendChild(l),this.globalData.defs.appendChild(c),!featureSupport.maskType&&t===1&&(c.setAttribute("mask-type","luminance"),o=createElementID(),s=filtersFactory.createFilter(o),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),u=createNS("g"),u.appendChild(l),c.appendChild(u),u.setAttribute("filter","url("+getLocationHref()+"#"+o+")"))}else if(t===2){var f=createNS("mask");f.setAttribute("id",n),f.setAttribute("mask-type","alpha");var d=createNS("g");f.appendChild(d),o=createElementID(),s=filtersFactory.createFilter(o);var g=createNS("feComponentTransfer");g.setAttribute("in","SourceGraphic"),s.appendChild(g);var y=createNS("feFuncA");y.setAttribute("type","table"),y.setAttribute("tableValues","1.0 0.0"),g.appendChild(y),this.globalData.defs.appendChild(s);var S=createNS("rect");S.setAttribute("width",this.comp.data.w),S.setAttribute("height",this.comp.data.h),S.setAttribute("x","0"),S.setAttribute("y","0"),S.setAttribute("fill","#ffffff"),S.setAttribute("opacity","0"),d.setAttribute("filter","url("+getLocationHref()+"#"+o+")"),d.appendChild(S),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(l),featureSupport.maskType||(f.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),u=createNS("g"),d.appendChild(S),u.appendChild(this.layerElement),d.appendChild(u)),this.globalData.defs.appendChild(f)}this.matteMasks[t]=n}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var a={initElement:function(n,o,s){this.initFrame(),this.initBaseData(n,o,s),this.initTransform(n,o,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(a)],RenderableDOMElement)})();function IImageElement(a,t,n){this.assetData=t.getAssetData(a.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(a,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(a,t){this.elem=a,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var n,o=this.shapeModifiers.length;for(n=0;n<o;n+=1)this.shapeModifiers[n].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var n=0,o=this.shapeModifiers.length;n<o;)if(this.shapeModifiers[n].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,n=this.shapes.length;for(t=0;t<n;t+=1)this.shapes[t].sh.reset();n=this.shapeModifiers.length;var o;for(t=n-1;t>=0&&(o=this.shapeModifiers[t].processShapes(this._isFirstFrame),!o);t-=1);}},searchProcessedElement:function(t){for(var n=this.processedElements,o=0,s=n.length;o<s;){if(n[o].elem===t)return n[o].pos;o+=1}return 0},addProcessedElement:function(t,n){for(var o=this.processedElements,s=o.length;s;)if(s-=1,o[s].elem===t){o[s].pos=n;return}o.push(new ProcessedElement(t,n))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(a,t,n){this.caches=[],this.styles=[],this.transformers=a,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var o=0,s=a.length;o<s;){if(a[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(a,t){this.data=a,this.type=a.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=a.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(a,t,n,o){this.elem=a,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var s,l=t.length||0,u;for(s=0;s<l;s+=1)u=PropertyFactory.getProp(a,t[s].v,0,0,this),this.k=u.k||this.k,this.dataProps[s]={n:t[s].n,p:u};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(a){if(!(this.elem.globalData.frameId===this.frameId&&!a)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||a,this._mdf)){var t=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<n;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(a,t,n){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,t.o,0,.01,this),this.w=PropertyFactory.getProp(a,t.w,0,null,this),this.d=new DashProperty(a,t.d||{},"svg",this),this.c=PropertyFactory.getProp(a,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(a,t,n){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,t.o,0,.01,this),this.c=PropertyFactory.getProp(a,t.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(a,t,n){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(a,t,n){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var o=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(a,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(a,t){for(var n=0,o=this.o.length/2,s;n<o;){if(s=Math.abs(a[n*4]-a[t*4+n*2]),s>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var a=0,t=this.data.k.k.length;a<t;){if(!this.comparePoints(this.data.k.k[a].s,this.data.p))return!1;a+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(a){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||a){var t,n=this.data.p*4,o,s;for(t=0;t<n;t+=1)o=t%4===0?100:255,s=Math.round(this.prop.v[t]*o),this.c[t]!==s&&(this.c[t]=s,this._cmdf=!a);if(this.o.length)for(n=this.prop.v.length,t=this.data.p*4;t<n;t+=1)o=t%2===0?100:1,s=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==s&&(this.o[t-this.data.p*4]=s,this._omdf=!a);this._mdf=!a}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(a,t,n){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.initGradientData(a,t,n)}SVGGradientFillStyleData.prototype.initGradientData=function(a,t,n){this.o=PropertyFactory.getProp(a,t.o,0,.01,this),this.s=PropertyFactory.getProp(a,t.s,1,null,this),this.e=PropertyFactory.getProp(a,t.e,1,null,this),this.h=PropertyFactory.getProp(a,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(a,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(a,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(a,t){var n=createElementID(),o=createNS(t.t===1?"linearGradient":"radialGradient");o.setAttribute("id",n),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var s=[],l,u,c;for(c=t.g.p*4,u=0;u<c;u+=4)l=createNS("stop"),o.appendChild(l),s.push(l);a.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=o,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(a,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,o,s,l=createNS("mask"),u=createNS("path");l.appendChild(u);var c=createElementID(),f=createElementID();l.setAttribute("id",f);var d=createNS(a.t===1?"linearGradient":"radialGradient");d.setAttribute("id",c),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse"),s=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length;var g=this.stops;for(o=a.g.p*4;o<s;o+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),d.appendChild(n),g.push(n);u.setAttribute(a.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+c+")"),a.ty==="gs"&&(u.setAttribute("stroke-linecap",lineCapEnum[a.lc||2]),u.setAttribute("stroke-linejoin",lineJoinEnum[a.lj||2]),a.lj===1&&u.setAttribute("stroke-miterlimit",a.ml)),this.of=d,this.ms=l,this.ost=g,this.maskId=f,t.msElem=u}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(a,t,n){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(a,t.w,0,null,this),this.d=new DashProperty(a,t.d||{},"svg",this),this.initGradientData(a,t,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(a,t,n){this.transform={mProps:a,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,n,o,s){if(n===0)return"";var l=t.o,u=t.i,c=t.v,f,d=" M"+s.applyToPointStringified(c[0][0],c[0][1]);for(f=1;f<n;f+=1)d+=" C"+s.applyToPointStringified(l[f-1][0],l[f-1][1])+" "+s.applyToPointStringified(u[f][0],u[f][1])+" "+s.applyToPointStringified(c[f][0],c[f][1]);return o&&n&&(d+=" C"+s.applyToPointStringified(l[f-1][0],l[f-1][1])+" "+s.applyToPointStringified(u[0][0],u[0][1])+" "+s.applyToPointStringified(c[0][0],c[0][1]),d+="z"),d},SVGElementsRenderer=function(){var a=new Matrix,t=new Matrix,n={createRenderFunction:o};function o(y){switch(y.ty){case"fl":return c;case"gf":return d;case"gs":return f;case"st":return g;case"sh":case"el":case"rc":case"sr":return u;case"tr":return s;case"no":return l;default:return null}}function s(y,S,_){(_||S.transform.op._mdf)&&S.transform.container.setAttribute("opacity",S.transform.op.v),(_||S.transform.mProps._mdf)&&S.transform.container.setAttribute("transform",S.transform.mProps.v.to2dCSS())}function l(){}function u(y,S,_){var x,b,T,A,C,E,P=S.styles.length,M=S.lvl,I,D,L,$;for(E=0;E<P;E+=1){if(A=S.sh._mdf||_,S.styles[E].lvl<M){for(D=t.reset(),L=M-S.styles[E].lvl,$=S.transformers.length-1;!A&&L>0;)A=S.transformers[$].mProps._mdf||A,L-=1,$-=1;if(A)for(L=M-S.styles[E].lvl,$=S.transformers.length-1;L>0;)D.multiply(S.transformers[$].mProps.v),L-=1,$-=1}else D=a;if(I=S.sh.paths,b=I._length,A){for(T="",x=0;x<b;x+=1)C=I.shapes[x],C&&C._length&&(T+=buildShapeString(C,C._length,C.c,D));S.caches[E]=T}else T=S.caches[E];S.styles[E].d+=y.hd===!0?"":T,S.styles[E]._mdf=A||S.styles[E]._mdf}}function c(y,S,_){var x=S.style;(S.c._mdf||_)&&x.pElem.setAttribute("fill","rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_)&&x.pElem.setAttribute("fill-opacity",S.o.v)}function f(y,S,_){d(y,S,_),g(y,S,_)}function d(y,S,_){var x=S.gf,b=S.g._hasOpacity,T=S.s.v,A=S.e.v;if(S.o._mdf||_){var C=y.ty==="gf"?"fill-opacity":"stroke-opacity";S.style.pElem.setAttribute(C,S.o.v)}if(S.s._mdf||_){var E=y.t===1?"x1":"cx",P=E==="x1"?"y1":"cy";x.setAttribute(E,T[0]),x.setAttribute(P,T[1]),b&&!S.g._collapsable&&(S.of.setAttribute(E,T[0]),S.of.setAttribute(P,T[1]))}var M,I,D,L;if(S.g._cmdf||_){M=S.cst;var $=S.g.c;for(D=M.length,I=0;I<D;I+=1)L=M[I],L.setAttribute("offset",$[I*4]+"%"),L.setAttribute("stop-color","rgb("+$[I*4+1]+","+$[I*4+2]+","+$[I*4+3]+")")}if(b&&(S.g._omdf||_)){var O=S.g.o;for(S.g._collapsable?M=S.cst:M=S.ost,D=M.length,I=0;I<D;I+=1)L=M[I],S.g._collapsable||L.setAttribute("offset",O[I*2]+"%"),L.setAttribute("stop-opacity",O[I*2+1])}if(y.t===1)(S.e._mdf||_)&&(x.setAttribute("x2",A[0]),x.setAttribute("y2",A[1]),b&&!S.g._collapsable&&(S.of.setAttribute("x2",A[0]),S.of.setAttribute("y2",A[1])));else{var V;if((S.s._mdf||S.e._mdf||_)&&(V=Math.sqrt(Math.pow(T[0]-A[0],2)+Math.pow(T[1]-A[1],2)),x.setAttribute("r",V),b&&!S.g._collapsable&&S.of.setAttribute("r",V)),S.e._mdf||S.h._mdf||S.a._mdf||_){V||(V=Math.sqrt(Math.pow(T[0]-A[0],2)+Math.pow(T[1]-A[1],2)));var F=Math.atan2(A[1]-T[1],A[0]-T[0]),z=S.h.v;z>=1?z=.99:z<=-1&&(z=-.99);var U=V*z,H=Math.cos(F+S.a.v)*U+T[0],N=Math.sin(F+S.a.v)*U+T[1];x.setAttribute("fx",H),x.setAttribute("fy",N),b&&!S.g._collapsable&&(S.of.setAttribute("fx",H),S.of.setAttribute("fy",N))}}}function g(y,S,_){var x=S.style,b=S.d;b&&(b._mdf||_)&&b.dashStr&&(x.pElem.setAttribute("stroke-dasharray",b.dashStr),x.pElem.setAttribute("stroke-dashoffset",b.dashoffset[0])),S.c&&(S.c._mdf||_)&&x.pElem.setAttribute("stroke","rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_)&&x.pElem.setAttribute("stroke-opacity",S.o.v),(S.w._mdf||_)&&(x.pElem.setAttribute("stroke-width",S.w.v),x.msElem&&x.msElem.setAttribute("stroke-width",S.w.v))}return n}();function SVGShapeElement(a,t,n){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(a,t,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var a,t=this.shapes.length,n,o,s=this.stylesList.length,l,u=[],c=!1;for(o=0;o<s;o+=1){for(l=this.stylesList[o],c=!1,u.length=0,a=0;a<t;a+=1)n=this.shapes[a],n.styles.indexOf(l)!==-1&&(u.push(n),c=n._isAnimated||c);u.length>1&&c&&this.setShapesAsAnimated(u)}},SVGShapeElement.prototype.setShapesAsAnimated=function(a){var t,n=a.length;for(t=0;t<n;t+=1)a[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(a,t){var n,o=new SVGStyleData(a,t),s=o.pElem;if(a.ty==="st")n=new SVGStrokeStyleData(this,a,o);else if(a.ty==="fl")n=new SVGFillStyleData(this,a,o);else if(a.ty==="gf"||a.ty==="gs"){var l=a.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new l(this,a,o),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),s.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else a.ty==="no"&&(n=new SVGNoStyleData(this,a,o));return(a.ty==="st"||a.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[a.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[a.lj||2]),s.setAttribute("fill-opacity","0"),a.lj===1&&s.setAttribute("stroke-miterlimit",a.ml)),a.r===2&&s.setAttribute("fill-rule","evenodd"),a.ln&&s.setAttribute("id",a.ln),a.cl&&s.setAttribute("class",a.cl),a.bm&&(s.style["mix-blend-mode"]=getBlendMode(a.bm)),this.stylesList.push(o),this.addToAnimatedContents(a,n),n},SVGShapeElement.prototype.createGroupElement=function(a){var t=new ShapeGroupData;return a.ln&&t.gr.setAttribute("id",a.ln),a.cl&&t.gr.setAttribute("class",a.cl),a.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(a.bm)),t},SVGShapeElement.prototype.createTransformElement=function(a,t){var n=TransformPropertyFactory.getTransformProperty(this,a,this),o=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(a,o),o},SVGShapeElement.prototype.createShapeElement=function(a,t,n){var o=4;a.ty==="rc"?o=5:a.ty==="el"?o=6:a.ty==="sr"&&(o=7);var s=ShapePropertyFactory.getShapeProp(this,a,o,this),l=new SVGShapeData(t,n,s);return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(a,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(a,t){for(var n=0,o=this.animatedContents.length;n<o;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(a),element:t,data:a})},SVGShapeElement.prototype.setElementStyles=function(a){var t=a.styles,n,o=this.stylesList.length;for(n=0;n<o;n+=1)this.stylesList[n].closed||t.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,t=this.itemsData.length;for(a=0;a<t;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,a=0;a<t;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(a,t,n,o,s,l,u){var c=[].concat(l),f,d=a.length-1,g,y,S=[],_=[],x,b,T;for(f=d;f>=0;f-=1){if(T=this.searchProcessedElement(a[f]),T?t[f]=n[T-1]:a[f]._render=u,a[f].ty==="fl"||a[f].ty==="st"||a[f].ty==="gf"||a[f].ty==="gs"||a[f].ty==="no")T?t[f].style.closed=!1:t[f]=this.createStyleElement(a[f],s),a[f]._render&&t[f].style.pElem.parentNode!==o&&o.appendChild(t[f].style.pElem),S.push(t[f].style);else if(a[f].ty==="gr"){if(!T)t[f]=this.createGroupElement(a[f]);else for(y=t[f].it.length,g=0;g<y;g+=1)t[f].prevViewData[g]=t[f].it[g];this.searchShapes(a[f].it,t[f].it,t[f].prevViewData,t[f].gr,s+1,c,u),a[f]._render&&t[f].gr.parentNode!==o&&o.appendChild(t[f].gr)}else a[f].ty==="tr"?(T||(t[f]=this.createTransformElement(a[f],o)),x=t[f].transform,c.push(x)):a[f].ty==="sh"||a[f].ty==="rc"||a[f].ty==="el"||a[f].ty==="sr"?(T||(t[f]=this.createShapeElement(a[f],c,s)),this.setElementStyles(t[f])):a[f].ty==="tm"||a[f].ty==="rd"||a[f].ty==="ms"||a[f].ty==="pb"||a[f].ty==="zz"||a[f].ty==="op"?(T?(b=t[f],b.closed=!1):(b=ShapeModifiers.getModifier(a[f].ty),b.init(this,a[f]),t[f]=b,this.shapeModifiers.push(b)),_.push(b)):a[f].ty==="rp"&&(T?(b=t[f],b.closed=!0):(b=ShapeModifiers.getModifier(a[f].ty),t[f]=b,b.init(this,a,f,t),this.shapeModifiers.push(b),u=!1),_.push(b));this.addProcessedElement(a[f],f+1)}for(d=S.length,f=0;f<d;f+=1)S[f].closed=!0;for(d=_.length,f=0;f<d;f+=1)_[f].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var a,t=this.stylesList.length;for(a=0;a<t;a+=1)this.stylesList[a].reset();for(this.renderShape(),a=0;a<t;a+=1)(this.stylesList[a]._mdf||this._isFirstFrame)&&(this.stylesList[a].msElem&&(this.stylesList[a].msElem.setAttribute("d",this.stylesList[a].d),this.stylesList[a].d="M0 0"+this.stylesList[a].d),this.stylesList[a].pElem.setAttribute("d",this.stylesList[a].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var a,t=this.animatedContents.length,n;for(a=0;a<t;a+=1)n=this.animatedContents[a],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(a,t,n,o,s,l){this.o=a,this.sw=t,this.sc=n,this.fc=o,this.m=s,this.p=l,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!o,m:!0,p:!0}}LetterProps.prototype.update=function(a,t,n,o,s,l){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var u=!1;return this.o!==a&&(this.o=a,this._mdf.o=!0,u=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,u=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,u=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,u=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,u=!0),l.length&&(this.p[0]!==l[0]||this.p[1]!==l[1]||this.p[4]!==l[4]||this.p[5]!==l[5]||this.p[12]!==l[12]||this.p[13]!==l[13])&&(this.p=l,this._mdf.p=!0,u=!0),u};function TextProperty(a,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=a.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=a,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(a,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},TextProperty.prototype.setCurrentData=function(a){a.__complete||this.completeTextData(a),this.currentData=a,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(a){this.effectsSequence.push(a),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(a){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!a)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var o,s=this.effectsSequence.length,l=a||this.data.d.k[this.keysIndex].s;for(o=0;o<s;o+=1)n!==this.keysIndex?l=this.effectsSequence[o](l,l.t):l=this.effectsSequence[o](this.currentData,l.t);t!==l&&this.setCurrentData(l),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var a=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,o=a.length;n<=o-1&&!(n===o-1||a[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(a){for(var t=[],n=0,o=a.length,s,l,u=!1,c=!1,f="";n<o;)u=c,c=!1,s=a.charCodeAt(n),f=a.charAt(n),FontManager.isCombinedCharacter(s)?u=!0:s>=55296&&s<=56319?FontManager.isRegionalFlag(a,n)?f=a.substr(n,14):(l=a.charCodeAt(n+1),l>=56320&&l<=57343&&(FontManager.isModifier(s,l)?(f=a.substr(n,2),u=!0):FontManager.isFlagEmoji(a.substr(n,4))?f=a.substr(n,4):f=a.substr(n,2))):s>56319?(l=a.charCodeAt(n+1),FontManager.isVariationSelector(s)&&(u=!0)):FontManager.isZeroWidthJoiner(s)&&(u=!0,c=!0),u?(t[t.length-1]+=f,u=!1):t.push(f),n+=f.length;return t},TextProperty.prototype.completeTextData=function(a){a.__complete=!0;var t=this.elem.globalData.fontManager,n=this.data,o=[],s,l,u,c=0,f,d=n.m.g,g=0,y=0,S=0,_=[],x=0,b=0,T,A,C=t.getFontByName(a.f),E,P=0,M=getFontProperties(C);a.fWeight=M.weight,a.fStyle=M.style,a.finalSize=a.s,a.finalText=this.buildFinalText(a.t),l=a.finalText.length,a.finalLineHeight=a.lh;var I=a.tr/1e3*a.finalSize,D;if(a.sz)for(var L=!0,$=a.sz[0],O=a.sz[1],V,F;L;){F=this.buildFinalText(a.t),V=0,x=0,l=F.length,I=a.tr/1e3*a.finalSize;var z=-1;for(s=0;s<l;s+=1)D=F[s].charCodeAt(0),u=!1,F[s]===" "?z=s:(D===13||D===3)&&(x=0,u=!0,V+=a.finalLineHeight||a.finalSize*1.2),t.chars?(E=t.getCharData(F[s],C.fStyle,C.fFamily),P=u?0:E.w*a.finalSize/100):P=t.measureText(F[s],a.f,a.finalSize),x+P>$&&F[s]!==" "?(z===-1?l+=1:s=z,V+=a.finalLineHeight||a.finalSize*1.2,F.splice(s,z===s?1:0,"\r"),z=-1,x=0):(x+=P,x+=I);V+=C.ascent*a.finalSize/100,this.canResize&&a.finalSize>this.minimumFontSize&&O<V?(a.finalSize-=1,a.finalLineHeight=a.finalSize*a.lh/a.s):(a.finalText=F,l=a.finalText.length,L=!1)}x=-I,P=0;var U=0,H;for(s=0;s<l;s+=1)if(u=!1,H=a.finalText[s],D=H.charCodeAt(0),D===13||D===3?(U=0,_.push(x),b=x>b?x:b,x=-2*I,f="",u=!0,S+=1):f=H,t.chars?(E=t.getCharData(H,C.fStyle,t.getFontByName(a.f).fFamily),P=u?0:E.w*a.finalSize/100):P=t.measureText(f,a.f,a.finalSize),H===" "?U+=P+I:(x+=P+I+U,U=0),o.push({l:P,an:P,add:g,n:u,anIndexes:[],val:f,line:S,animatorJustifyOffset:0}),d==2){if(g+=P,f===""||f===" "||s===l-1){for((f===""||f===" ")&&(g-=P);y<=s;)o[y].an=g,o[y].ind=c,o[y].extra=P,y+=1;c+=1,g=0}}else if(d==3){if(g+=P,f===""||s===l-1){for(f===""&&(g-=P);y<=s;)o[y].an=g,o[y].ind=c,o[y].extra=P,y+=1;g=0,c+=1}}else o[c].ind=c,o[c].extra=0,c+=1;if(a.l=o,b=x>b?x:b,_.push(x),a.sz)a.boxWidth=a.sz[0],a.justifyOffset=0;else switch(a.boxWidth=b,a.j){case 1:a.justifyOffset=-a.boxWidth;break;case 2:a.justifyOffset=-a.boxWidth/2;break;default:a.justifyOffset=0}a.lineWidths=_;var N=n.a,G,R;A=N.length;var B,j,W=[];for(T=0;T<A;T+=1){for(G=N[T],G.a.sc&&(a.strokeColorAnim=!0),G.a.sw&&(a.strokeWidthAnim=!0),(G.a.fc||G.a.fh||G.a.fs||G.a.fb)&&(a.fillColorAnim=!0),j=0,B=G.s.b,s=0;s<l;s+=1)R=o[s],R.anIndexes[T]=j,(B==1&&R.val!==""||B==2&&R.val!==""&&R.val!==" "||B==3&&(R.n||R.val==" "||s==l-1)||B==4&&(R.n||s==l-1))&&(G.s.rn===1&&W.push(j),j+=1);n.a[T].s.totalChars=j;var X=-1,ee;if(G.s.rn===1)for(s=0;s<l;s+=1)R=o[s],X!=R.anIndexes[T]&&(X=R.anIndexes[T],ee=W.splice(Math.floor(Math.random()*W.length),1)[0]),R.anIndexes[T]=ee}a.yOffset=a.finalLineHeight||a.finalSize*1.2,a.ls=a.ls||0,a.ascent=C.ascent*a.finalSize/100},TextProperty.prototype.updateDocumentData=function(a,t){t=t===void 0?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,a),this.data.d.k[t].s=n,this.recalculate(t),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(a){var t=this.data.d.k[a].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(a){this.canResize=a,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(a){this.minimumFontSize=Math.floor(a)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var a=Math.max,t=Math.min,n=Math.floor;function o(l,u){this._currentTextLength=-1,this.k=!1,this.data=u,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,u.s||{k:0},0,0,this),"e"in u?this.e=PropertyFactory.getProp(l,u.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(l,u.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,u.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,u.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,u.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,u.a,0,.01,this),this.dynamicProperties.length||this.getValue()}o.prototype={getMult:function(u){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var c=0,f=0,d=1,g=1;this.ne.v>0?c=this.ne.v/100:f=-this.ne.v/100,this.xe.v>0?d=1-this.xe.v/100:g=1+this.xe.v/100;var y=BezierFactory.getBezierEasing(c,f,d,g).get,S=0,_=this.finalS,x=this.finalE,b=this.data.sh;if(b===2)x===_?S=u>=x?1:0:S=a(0,t(.5/(x-_)+(u-_)/(x-_),1)),S=y(S);else if(b===3)x===_?S=u>=x?0:1:S=1-a(0,t(.5/(x-_)+(u-_)/(x-_),1)),S=y(S);else if(b===4)x===_?S=0:(S=a(0,t(.5/(x-_)+(u-_)/(x-_),1)),S<.5?S*=2:S=1-2*(S-.5)),S=y(S);else if(b===5){if(x===_)S=0;else{var T=x-_;u=t(a(0,u+.5-_),x-_);var A=-T/2+u,C=T/2;S=Math.sqrt(1-A*A/(C*C))}S=y(S)}else b===6?(x===_?S=0:(u=t(a(0,u+.5-_),x-_),S=(1+Math.cos(Math.PI+Math.PI*2*u/(x-_)))/2),S=y(S)):(u>=n(_)&&(u-_<0?S=a(0,t(t(x,1)-(_-u),1)):S=a(0,t(x-u,1))),S=y(S));if(this.sm.v!==100){var E=this.sm.v*.01;E===0&&(E=1e-8);var P=.5-E*.5;S<P?S=0:(S=(S-P)/E,S>1&&(S=1))}return S*this.a.v},getValue:function(u){this.iterateDynamicProperties(),this._mdf=u||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,u&&this.data.r===2&&(this.e.v=this._currentTextLength);var c=this.data.r===2?1:100/this.data.totalChars,f=this.o.v/c,d=this.s.v/c+f,g=this.e.v/c+f;if(d>g){var y=d;d=g,g=y}this.finalS=d,this.finalE=g}},extendPrototype([DynamicPropertyContainer],o);function s(l,u,c){return new o(l,u)}return{getTextSelectorProp:s}}();function TextAnimatorDataProperty(a,t,n){var o={propType:!1},s=PropertyFactory.getProp,l=t.a;this.a={r:l.r?s(a,l.r,0,degToRads,n):o,rx:l.rx?s(a,l.rx,0,degToRads,n):o,ry:l.ry?s(a,l.ry,0,degToRads,n):o,sk:l.sk?s(a,l.sk,0,degToRads,n):o,sa:l.sa?s(a,l.sa,0,degToRads,n):o,s:l.s?s(a,l.s,1,.01,n):o,a:l.a?s(a,l.a,1,0,n):o,o:l.o?s(a,l.o,0,.01,n):o,p:l.p?s(a,l.p,1,0,n):o,sw:l.sw?s(a,l.sw,0,0,n):o,sc:l.sc?s(a,l.sc,1,0,n):o,fc:l.fc?s(a,l.fc,1,0,n):o,fh:l.fh?s(a,l.fh,0,0,n):o,fs:l.fs?s(a,l.fs,0,.01,n):o,fb:l.fb?s(a,l.fb,0,.01,n):o,t:l.t?s(a,l.t,0,0,n):o},this.s=TextSelectorProp.getTextSelectorProp(a,t.s,n),this.s.t=t.s.t}function TextAnimatorProperty(a,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=a,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var a,t=this._textData.a.length,n,o=PropertyFactory.getProp;for(a=0;a<t;a+=1)n=this._textData.a[a],this._animatorsData[a]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(a,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,o=this._animatorsData,s=this._textData,l=this.mHelper,u=this._renderType,c=this.renderedLetters.length,f,d,g,y,S=a.l,_,x,b,T,A,C,E,P,M,I,D,L,$,O,V;if(this._hasMaskedPath){if(V=this._pathData.m,!this._pathData.n||this._pathData._mdf){var F=V.v;this._pathData.r.v&&(F=F.reverse()),_={tLength:0,segments:[]},y=F._length-1;var z;for(L=0,g=0;g<y;g+=1)z=bez.buildBezierData(F.v[g],F.v[g+1],[F.o[g][0]-F.v[g][0],F.o[g][1]-F.v[g][1]],[F.i[g+1][0]-F.v[g+1][0],F.i[g+1][1]-F.v[g+1][1]]),_.tLength+=z.segmentLength,_.segments.push(z),L+=z.segmentLength;g=y,V.v.c&&(z=bez.buildBezierData(F.v[g],F.v[0],[F.o[g][0]-F.v[g][0],F.o[g][1]-F.v[g][1]],[F.i[0][0]-F.v[0][0],F.i[0][1]-F.v[0][1]]),_.tLength+=z.segmentLength,_.segments.push(z),L+=z.segmentLength),this._pathData.pi=_}if(_=this._pathData.pi,x=this._pathData.f.v,E=0,C=1,T=0,A=!0,I=_.segments,x<0&&V.v.c)for(_.tLength<Math.abs(x)&&(x=-Math.abs(x)%_.tLength),E=I.length-1,M=I[E].points,C=M.length-1;x<0;)x+=M[C].partialLength,C-=1,C<0&&(E-=1,M=I[E].points,C=M.length-1);M=I[E].points,P=M[C-1],b=M[C],D=b.partialLength}y=S.length,f=0,d=0;var U=a.finalSize*1.2*.714,H=!0,N,G,R,B,j;B=o.length;var W,X=-1,ee,te,le,fe=x,q=E,re=C,J=-1,oe,ne,Y,Z,K,Q,ie,ae,ce="",ue=this.defaultPropsArray,he;if(a.j===2||a.j===1){var se=0,ve=0,pe=a.j===2?-.5:-1,de=0,ge=!0;for(g=0;g<y;g+=1)if(S[g].n){for(se&&(se+=ve);de<g;)S[de].animatorJustifyOffset=se,de+=1;se=0,ge=!0}else{for(R=0;R<B;R+=1)N=o[R].a,N.t.propType&&(ge&&a.j===2&&(ve+=N.t.v*pe),G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),W.length?se+=N.t.v*W[0]*pe:se+=N.t.v*W*pe);ge=!1}for(se&&(se+=ve);de<g;)S[de].animatorJustifyOffset=se,de+=1}for(g=0;g<y;g+=1){if(l.reset(),oe=1,S[g].n)f=0,d+=a.yOffset,d+=H?1:0,x=fe,H=!1,this._hasMaskedPath&&(E=q,C=re,M=I[E].points,P=M[C-1],b=M[C],D=b.partialLength,T=0),ce="",ae="",Q="",he="",ue=this.defaultPropsArray;else{if(this._hasMaskedPath){if(J!==S[g].line){switch(a.j){case 1:x+=L-a.lineWidths[S[g].line];break;case 2:x+=(L-a.lineWidths[S[g].line])/2;break}J=S[g].line}X!==S[g].ind&&(S[X]&&(x+=S[X].extra),x+=S[g].an/2,X=S[g].ind),x+=n[0]*S[g].an*.005;var me=0;for(R=0;R<B;R+=1)N=o[R].a,N.p.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),W.length?me+=N.p.v[0]*W[0]:me+=N.p.v[0]*W),N.a.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),W.length?me+=N.a.v[0]*W[0]:me+=N.a.v[0]*W);for(A=!0,this._pathData.a.v&&(x=S[0].an*.5+(L-this._pathData.f.v-S[0].an*.5-S[S.length-1].an*.5)*X/(y-1),x+=this._pathData.f.v);A;)T+D>=x+me||!M?($=(x+me-T)/b.partialLength,te=P.point[0]+(b.point[0]-P.point[0])*$,le=P.point[1]+(b.point[1]-P.point[1])*$,l.translate(-n[0]*S[g].an*.005,-(n[1]*U)*.01),A=!1):M&&(T+=b.partialLength,C+=1,C>=M.length&&(C=0,E+=1,I[E]?M=I[E].points:V.v.c?(C=0,E=0,M=I[E].points):(T-=b.partialLength,M=null)),M&&(P=b,b=M[C],D=b.partialLength));ee=S[g].an/2-S[g].add,l.translate(-ee,0,0)}else ee=S[g].an/2-S[g].add,l.translate(-ee,0,0),l.translate(-n[0]*S[g].an*.005,-n[1]*U*.01,0);for(R=0;R<B;R+=1)N=o[R].a,N.t.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),(f!==0||a.j!==0)&&(this._hasMaskedPath?W.length?x+=N.t.v*W[0]:x+=N.t.v*W:W.length?f+=N.t.v*W[0]:f+=N.t.v*W));for(a.strokeWidthAnim&&(Y=a.sw||0),a.strokeColorAnim&&(a.sc?ne=[a.sc[0],a.sc[1],a.sc[2]]:ne=[0,0,0]),a.fillColorAnim&&a.fc&&(Z=[a.fc[0],a.fc[1],a.fc[2]]),R=0;R<B;R+=1)N=o[R].a,N.a.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),W.length?l.translate(-N.a.v[0]*W[0],-N.a.v[1]*W[1],N.a.v[2]*W[2]):l.translate(-N.a.v[0]*W,-N.a.v[1]*W,N.a.v[2]*W));for(R=0;R<B;R+=1)N=o[R].a,N.s.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),W.length?l.scale(1+(N.s.v[0]-1)*W[0],1+(N.s.v[1]-1)*W[1],1):l.scale(1+(N.s.v[0]-1)*W,1+(N.s.v[1]-1)*W,1));for(R=0;R<B;R+=1){if(N=o[R].a,G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),N.sk.propType&&(W.length?l.skewFromAxis(-N.sk.v*W[0],N.sa.v*W[1]):l.skewFromAxis(-N.sk.v*W,N.sa.v*W)),N.r.propType&&(W.length?l.rotateZ(-N.r.v*W[2]):l.rotateZ(-N.r.v*W)),N.ry.propType&&(W.length?l.rotateY(N.ry.v*W[1]):l.rotateY(N.ry.v*W)),N.rx.propType&&(W.length?l.rotateX(N.rx.v*W[0]):l.rotateX(N.rx.v*W)),N.o.propType&&(W.length?oe+=(N.o.v*W[0]-oe)*W[0]:oe+=(N.o.v*W-oe)*W),a.strokeWidthAnim&&N.sw.propType&&(W.length?Y+=N.sw.v*W[0]:Y+=N.sw.v*W),a.strokeColorAnim&&N.sc.propType)for(K=0;K<3;K+=1)W.length?ne[K]+=(N.sc.v[K]-ne[K])*W[0]:ne[K]+=(N.sc.v[K]-ne[K])*W;if(a.fillColorAnim&&a.fc){if(N.fc.propType)for(K=0;K<3;K+=1)W.length?Z[K]+=(N.fc.v[K]-Z[K])*W[0]:Z[K]+=(N.fc.v[K]-Z[K])*W;N.fh.propType&&(W.length?Z=addHueToRGB(Z,N.fh.v*W[0]):Z=addHueToRGB(Z,N.fh.v*W)),N.fs.propType&&(W.length?Z=addSaturationToRGB(Z,N.fs.v*W[0]):Z=addSaturationToRGB(Z,N.fs.v*W)),N.fb.propType&&(W.length?Z=addBrightnessToRGB(Z,N.fb.v*W[0]):Z=addBrightnessToRGB(Z,N.fb.v*W))}}for(R=0;R<B;R+=1)N=o[R].a,N.p.propType&&(G=o[R].s,W=G.getMult(S[g].anIndexes[R],s.a[R].s.totalChars),this._hasMaskedPath?W.length?l.translate(0,N.p.v[1]*W[0],-N.p.v[2]*W[1]):l.translate(0,N.p.v[1]*W,-N.p.v[2]*W):W.length?l.translate(N.p.v[0]*W[0],N.p.v[1]*W[1],-N.p.v[2]*W[2]):l.translate(N.p.v[0]*W,N.p.v[1]*W,-N.p.v[2]*W));if(a.strokeWidthAnim&&(Q=Y<0?0:Y),a.strokeColorAnim&&(ie="rgb("+Math.round(ne[0]*255)+","+Math.round(ne[1]*255)+","+Math.round(ne[2]*255)+")"),a.fillColorAnim&&a.fc&&(ae="rgb("+Math.round(Z[0]*255)+","+Math.round(Z[1]*255)+","+Math.round(Z[2]*255)+")"),this._hasMaskedPath){if(l.translate(0,-a.ls),l.translate(0,n[1]*U*.01+d,0),this._pathData.p.v){O=(b.point[1]-P.point[1])/(b.point[0]-P.point[0]);var ye=Math.atan(O)*180/Math.PI;b.point[0]<P.point[0]&&(ye+=180),l.rotate(-ye*Math.PI/180)}l.translate(te,le,0),x-=n[0]*S[g].an*.005,S[g+1]&&X!==S[g+1].ind&&(x+=S[g].an/2,x+=a.tr*.001*a.finalSize)}else{switch(l.translate(f,d,0),a.ps&&l.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:l.translate(S[g].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[S[g].line]),0,0);break;case 2:l.translate(S[g].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[S[g].line])/2,0,0);break}l.translate(0,-a.ls),l.translate(ee,0,0),l.translate(n[0]*S[g].an*.005,n[1]*U*.01,0),f+=S[g].l+a.tr*.001*a.finalSize}u==="html"?ce=l.toCSS():u==="svg"?ce=l.to2dCSS():ue=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],he=oe}c<=g?(j=new LetterProps(he,Q,ie,ae,ce,ue),this.renderedLetters.push(j),c+=1,this.lettersChangedFlag=!0):(j=this.renderedLetters[g],this.lettersChangedFlag=j.update(he,Q,ie,ae,ce,ue)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(a,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(a,t,n),this.textProperty=new TextProperty(this,a.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(a.t,this.renderType,this),this.initTransform(a,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)},ITextElement.prototype.createPathShape=function(a,t){var n,o=t.length,s,l="";for(n=0;n<o;n+=1)t[n].ty==="sh"&&(s=t[n].ks.k,l+=buildShapeString(s,s.i.length,!0,a));return l},ITextElement.prototype.updateDocumentData=function(a,t){this.textProperty.updateDocumentData(a,t)},ITextElement.prototype.canResizeFont=function(a){this.textProperty.canResizeFont(a)},ITextElement.prototype.setMinimumFontSize=function(a){this.textProperty.setMinimumFontSize(a)},ITextElement.prototype.applyTextPropertiesToMatrix=function(a,t,n,o,s){switch(a.ps&&t.translate(a.ps[0],a.ps[1]+a.ascent,0),t.translate(0,-a.ls,0),a.j){case 1:t.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[n]),0,0);break;case 2:t.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[n])/2,0,0);break}t.translate(o,s,0)},ITextElement.prototype.buildColor=function(a){return"rgb("+Math.round(a[0]*255)+","+Math.round(a[1]*255)+","+Math.round(a[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(a,t,n){this.textSpans=[],this.renderType="svg",this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(a){for(var t=0,n=a.length,o=[],s="";t<n;)a[t]==="\r"||a[t]===""?(o.push(s),s=""):s+=a[t],t+=1;return o.push(s),o},SVGTextLottieElement.prototype.buildShapeData=function(a,t){if(a.shapes&&a.shapes.length){var n=a.shapes[0];if(n.it){var o=n.it[n.it.length-1];o.s&&(o.s.k[0]=t,o.s.k[1]=t)}}return a},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var a,t,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var o=this.globalData.fontManager.getFontByName(n.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var s=n.fWeight,l=n.fStyle;this.layerElement.setAttribute("font-style",l),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",n.t);var u=n.l||[],c=!!this.globalData.fontManager.chars;t=u.length;var f,d=this.mHelper,g="",y=this.data.singleShape,S=0,_=0,x=!0,b=n.tr*.001*n.finalSize;if(y&&!c&&!n.sz){var T=this.textContainer,A="start";switch(n.j){case 1:A="end";break;case 2:A="middle";break;default:A="start";break}T.setAttribute("text-anchor",A),T.setAttribute("letter-spacing",b);var C=this.buildTextContents(n.finalText);for(t=C.length,_=n.ps?n.ps[1]+n.ascent:0,a=0;a<t;a+=1)f=this.textSpans[a].span||createNS("tspan"),f.textContent=C[a],f.setAttribute("x",0),f.setAttribute("y",_),f.style.display="inherit",T.appendChild(f),this.textSpans[a]||(this.textSpans[a]={span:null,glyph:null}),this.textSpans[a].span=f,_+=n.finalLineHeight;this.layerElement.appendChild(T)}else{var E=this.textSpans.length,P;for(a=0;a<t;a+=1){if(this.textSpans[a]||(this.textSpans[a]={span:null,childSpan:null,glyph:null}),!c||!y||a===0){if(f=E>a?this.textSpans[a].span:createNS(c?"g":"text"),E<=a){if(f.setAttribute("stroke-linecap","butt"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit","4"),this.textSpans[a].span=f,c){var M=createNS("g");f.appendChild(M),this.textSpans[a].childSpan=M}this.textSpans[a].span=f,this.layerElement.appendChild(f)}f.style.display="inherit"}if(d.reset(),y&&(u[a].n&&(S=-b,_+=n.yOffset,_+=x?1:0,x=!1),this.applyTextPropertiesToMatrix(n,d,u[a].line,S,_),S+=u[a].l||0,S+=b),c){P=this.globalData.fontManager.getCharData(n.finalText[a],o.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var I;if(P.t===1)I=new SVGCompElement(P.data,this.globalData,this);else{var D=emptyShapeData;P.data&&P.data.shapes&&(D=this.buildShapeData(P.data,n.finalSize)),I=new SVGShapeElement(D,this.globalData,this)}if(this.textSpans[a].glyph){var L=this.textSpans[a].glyph;this.textSpans[a].childSpan.removeChild(L.layerElement),L.destroy()}this.textSpans[a].glyph=I,I._debug=!0,I.prepareFrame(0),I.renderFrame(),this.textSpans[a].childSpan.appendChild(I.layerElement),P.t===1&&this.textSpans[a].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else y&&f.setAttribute("transform","translate("+d.props[12]+","+d.props[13]+")"),f.textContent=u[a].val,f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}y&&f&&f.setAttribute("d",g)}for(;a<this.textSpans.length;)this.textSpans[a].span.style.display="none",a+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var a=this.layerElement.getBBox();this.bbox={top:a.y,left:a.x,width:a.width,height:a.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var a,t=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,a=0;a<t;a+=1)n=this.textSpans[a].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var a,t,n=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;t=o.length;var s,l,u;for(a=0;a<t;a+=1)o[a].n||(s=n[a],l=this.textSpans[a].span,u=this.textSpans[a].glyph,u&&u.renderFrame(),s._mdf.m&&l.setAttribute("transform",s.m),s._mdf.o&&l.setAttribute("opacity",s.o),s._mdf.sw&&l.setAttribute("stroke-width",s.sw),s._mdf.sc&&l.setAttribute("stroke",s.sc),s._mdf.fc&&l.setAttribute("fill",s.fc))}};function ISolidElement(a,t,n){this.initElement(a,t,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var a=createNS("rect");a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.layerElement.appendChild(a)};function NullElement(a,t,n){this.initFrame(),this.initBaseData(a,t,n),this.initFrame(),this.initTransform(a,t,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(a){return new NullElement(a,this.globalData,this)},SVGRendererBase.prototype.createShape=function(a){return new SVGShapeElement(a,this.globalData,this)},SVGRendererBase.prototype.createText=function(a){return new SVGTextLottieElement(a,this.globalData,this)},SVGRendererBase.prototype.createImage=function(a){return new IImageElement(a,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(a){return new ISolidElement(a,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(a){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",a.w),this.svgElement.setAttribute("height",a.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(a,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=a;var n=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",a.w),o.setAttribute("height",a.h),o.setAttribute("x",0),o.setAttribute("y",0);var s=createElementID();n.setAttribute("id",s),n.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),t.appendChild(n),this.layers=a.layers,this.elements=createSizedArray(a.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var a,t=this.layers?this.layers.length:0;for(a=0;a<t;a+=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(a){var t=0,n=this.layers.length;for(t=0;t<n;t+=1)if(this.layers[t].ind===a)return t;return-1},SVGRendererBase.prototype.buildItem=function(a){var t=this.elements;if(!(t[a]||this.layers[a].ty===99)){t[a]=!0;var n=this.createItem(this.layers[a]);if(t[a]=n,getExpressionsPlugin()&&(this.layers[a].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,a),this.layers[a].tt){var o="tp"in this.layers[a]?this.findIndexByInd(this.layers[a].tp):a-1;if(o===-1)return;if(!this.elements[o]||this.elements[o]===!0)this.buildItem(o),this.addPendingElement(n);else{var s=t[o],l=s.getMatte(this.layers[a].tt);n.setMatte(l)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();if(a.checkParenting(),a.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===a){var o="tp"in a.data?this.findIndexByInd(a.data.tp):t-1,s=this.elements[o],l=s.getMatte(this.layers[t].tt);a.setMatte(l);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(a){if(!(this.renderedFrame===a||this.destroyed)){a===null?a=this.renderedFrame:this.renderedFrame=a,this.globalData.frameNum=a,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a,this.globalData._mdf=!1;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(a),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(a-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(a,t){var n=a.getBaseElement();if(n){for(var o=0,s;o<t;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement()&&(s=this.elements[o].getBaseElement()),o+=1;s?this.layerElement.insertBefore(n,s):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(a,t,n){this.initFrame(),this.initBaseData(a,t,n),this.initTransform(a,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(a){if(this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=a/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var a,t=this.layers.length;for(a=0;a<t;a+=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()},ICompElement.prototype.setElements=function(a){this.elements=a},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var a,t=this.layers.length;for(a=0;a<t;a+=1)this.elements[a]&&this.elements[a].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(a,t,n){this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,t,n),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(a){return new SVGCompElement(a,this.globalData,this)};function SVGRenderer(a,t){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var o=createNS("title"),s=createElementID();o.setAttribute("id",s),o.textContent=t.title,this.svgElement.appendChild(o),n+=s}if(t&&t.description){var l=createNS("desc"),u=createElementID();l.setAttribute("id",u),l.textContent=t.description,this.svgElement.appendChild(l),n+=" "+u}n&&this.svgElement.setAttribute("aria-labelledby",n);var c=createNS("defs");this.svgElement.appendChild(c);var f=createNS("g");this.svgElement.appendChild(f),this.layerElement=f,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(a){return new SVGCompElement(a,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var n,o=t.length,s="_";for(n=0;n<o;n+=1)s+=t[n].transform.key+"_";var l=this.sequences[s];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=l,this.sequenceList.push(l)),l},processSequence:function(t,n){for(var o=0,s=t.transforms.length,l=n;o<s&&!n;){if(t.transforms[o].transform.mProps._mdf){l=!0;break}o+=1}if(l)for(t.finalTransform.reset(),o=s-1;o>=0;o-=1)t.finalTransform.multiply(t.transforms[o].transform.mProps.v);t._mdf=l},processSequences:function(t){var n,o=this.sequenceList.length;for(n=0;n<o;n+=1)this.processSequence(this.sequenceList[n],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",n=null,o=null,s=null;function l(){var f=createNS("svg"),d=createNS("filter"),g=createNS("feColorMatrix");return d.setAttribute("id",t),g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),d.appendChild(g),f.appendChild(d),f.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(f.style.display="none"),f}function u(){n||(s=l(),document.body.appendChild(s),n=createTag("canvas"),o=n.getContext("2d"),o.filter="url(#"+t+")",o.fillStyle="rgba(0,0,0,0)",o.fillRect(0,0,1,1))}function c(f){return n||u(),n.width=f.width,n.height=f.height,o.filter="url(#"+t+")",n}return{load:u,get:c}};function createCanvas(a,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(a,t);var n=createTag("canvas");return n.width=a,n.height=t,n}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(a){var t,n=a.data.ef?a.data.ef.length:0;this.filters=[];var o;for(t=0;t<n;t+=1){o=null;var s=a.data.ef[t].ty;if(registeredEffects[s]){var l=registeredEffects[s].effect;o=new l(a.effectsManager.effectElements[t],a)}o&&this.filters.push(o)}this.filters.length&&a.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(a){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(a)},CVEffects.prototype.getEffects=function(a){var t,n=this.filters.length,o=[];for(t=0;t<n;t+=1)this.filters[t].type===a&&o.push(this.filters[t]);return o};function registerEffect(a,t){registeredEffects[a]={effect:t}}function CVMaskElement(a,t){this.data=a,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,o=this.masksProperties.length,s=!1;for(n=0;n<o;n+=1)this.masksProperties[n].mode!=="n"&&(s=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var a=this.element.finalTransform.mat,t=this.element.canvasContext,n,o=this.masksProperties.length,s,l,u;for(t.beginPath(),n=0;n<o;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),u=this.viewData[n].v,s=a.applyToPointArray(u.v[0][0],u.v[0][1],0),t.moveTo(s[0],s[1]);var c,f=u._length;for(c=1;c<f;c+=1)l=a.applyToTriplePoints(u.o[c-1],u.i[c],u.v[c]),t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);l=a.applyToTriplePoints(u.o[c-1],u.i[0],u.v[0]),t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n);var o=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(o),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],n=t.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],n=t.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var o=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(o.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var s=assetLoader.getLumaCanvas(this.canvasContext.canvas),l=s.getContext("2d");l.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(s,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(a,t,n,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(a,t,s,a);var l,u=n.length,c;for(l=0;l<u;l+=1)n[l].closed||(c={transforms:o.addTransformSequence(n[l].transforms),trNodes:[]},this.styledShapes.push(c),n[l].elements.push(c))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(a,t,n){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(a,t){var n={data:a,type:a.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:a.hd===!0},o={};if(a.ty==="fl"||a.ty==="st"?(o.c=PropertyFactory.getProp(this,a.c,1,255,this),o.c.k||(n.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):(a.ty==="gf"||a.ty==="gs")&&(o.s=PropertyFactory.getProp(this,a.s,1,null,this),o.e=PropertyFactory.getProp(this,a.e,1,null,this),o.h=PropertyFactory.getProp(this,a.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,a.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,a.g,this)),o.o=PropertyFactory.getProp(this,a.o,0,.01,this),a.ty==="st"||a.ty==="gs"){if(n.lc=lineCapEnum[a.lc||2],n.lj=lineJoinEnum[a.lj||2],a.lj==1&&(n.ml=a.ml),o.w=PropertyFactory.getProp(this,a.w,0,null,this),o.w.k||(n.wi=o.w.v),a.d){var s=new DashProperty(this,a.d,"canvas",this);o.d=s,o.d.k||(n.da=o.d.dashArray,n.do=o.d.dashoffset[0])}}else n.r=a.r===2?"evenodd":"nonzero";return this.stylesList.push(n),o.style=n,o},CVShapeElement.prototype.createGroupElement=function(){var a={it:[],prevViewData:[]};return a},CVShapeElement.prototype.createTransformElement=function(a){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,a.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,a,this)}};return t},CVShapeElement.prototype.createShapeElement=function(a){var t=new CVShapeData(this,a,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,t=this.itemsData.length;for(a=0;a<t;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,a=0;a<t;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(a){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(a)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var a,t=this.stylesList.length;for(a=0;a<t;a+=1)this.stylesList[a].closed||this.stylesList[a].transforms.pop()},CVShapeElement.prototype.closeStyles=function(a){var t,n=a.length;for(t=0;t<n;t+=1)a[t].closed=!0},CVShapeElement.prototype.searchShapes=function(a,t,n,o,s){var l,u=a.length-1,c,f,d=[],g=[],y,S,_,x=[].concat(s);for(l=u;l>=0;l-=1){if(y=this.searchProcessedElement(a[l]),y?t[l]=n[y-1]:a[l]._shouldRender=o,a[l].ty==="fl"||a[l].ty==="st"||a[l].ty==="gf"||a[l].ty==="gs")y?t[l].style.closed=!1:t[l]=this.createStyleElement(a[l],x),d.push(t[l].style);else if(a[l].ty==="gr"){if(!y)t[l]=this.createGroupElement(a[l]);else for(f=t[l].it.length,c=0;c<f;c+=1)t[l].prevViewData[c]=t[l].it[c];this.searchShapes(a[l].it,t[l].it,t[l].prevViewData,o,x)}else a[l].ty==="tr"?(y||(_=this.createTransformElement(a[l]),t[l]=_),x.push(t[l]),this.addTransformToStyleList(t[l])):a[l].ty==="sh"||a[l].ty==="rc"||a[l].ty==="el"||a[l].ty==="sr"?y||(t[l]=this.createShapeElement(a[l])):a[l].ty==="tm"||a[l].ty==="rd"||a[l].ty==="pb"||a[l].ty==="zz"||a[l].ty==="op"?(y?(S=t[l],S.closed=!1):(S=ShapeModifiers.getModifier(a[l].ty),S.init(this,a[l]),t[l]=S,this.shapeModifiers.push(S)),g.push(S)):a[l].ty==="rp"&&(y?(S=t[l],S.closed=!0):(S=ShapeModifiers.getModifier(a[l].ty),t[l]=S,S.init(this,a,l,t),this.shapeModifiers.push(S),o=!1),g.push(S));this.addProcessedElement(a[l],l+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=g.length,l=0;l<u;l+=1)g[l].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(a,t){(a._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=a.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var a,t=this.stylesList.length,n,o,s,l,u,c,f=this.globalData.renderer,d=this.globalData.canvasContext,g,y;for(a=0;a<t;a+=1)if(y=this.stylesList[a],g=y.type,!((g==="st"||g==="gs")&&y.wi===0||!y.data._shouldRender||y.coOp===0||this.globalData.currentGlobalAlpha===0)){for(f.save(),u=y.elements,g==="st"||g==="gs"?(f.ctxStrokeStyle(g==="st"?y.co:y.grd),f.ctxLineWidth(y.wi),f.ctxLineCap(y.lc),f.ctxLineJoin(y.lj),f.ctxMiterLimit(y.ml||0)):f.ctxFillStyle(g==="fl"?y.co:y.grd),f.ctxOpacity(y.coOp),g!=="st"&&g!=="gs"&&d.beginPath(),f.ctxTransform(y.preTransforms.finalTransform.props),o=u.length,n=0;n<o;n+=1){for((g==="st"||g==="gs")&&(d.beginPath(),y.da&&(d.setLineDash(y.da),d.lineDashOffset=y.do)),c=u[n].trNodes,l=c.length,s=0;s<l;s+=1)c[s].t==="m"?d.moveTo(c[s].p[0],c[s].p[1]):c[s].t==="c"?d.bezierCurveTo(c[s].pts[0],c[s].pts[1],c[s].pts[2],c[s].pts[3],c[s].pts[4],c[s].pts[5]):d.closePath();(g==="st"||g==="gs")&&(f.ctxStroke(),y.da&&d.setLineDash(this.dashResetter))}g!=="st"&&g!=="gs"&&this.globalData.renderer.ctxFill(y.r),f.restore()}},CVShapeElement.prototype.renderShape=function(a,t,n,o){var s,l=t.length-1,u;for(u=a,s=l;s>=0;s-=1)t[s].ty==="tr"?(u=n[s].transform,this.renderShapeTransform(a,u)):t[s].ty==="sh"||t[s].ty==="el"||t[s].ty==="rc"||t[s].ty==="sr"?this.renderPath(t[s],n[s]):t[s].ty==="fl"?this.renderFill(t[s],n[s],u):t[s].ty==="st"?this.renderStroke(t[s],n[s],u):t[s].ty==="gf"||t[s].ty==="gs"?this.renderGradientFill(t[s],n[s],u):t[s].ty==="gr"?this.renderShape(u,t[s].it,n[s].it):t[s].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(a,t){if(this._isFirstFrame||t._mdf||a.transforms._mdf){var n=a.trNodes,o=t.paths,s,l,u,c=o._length;n.length=0;var f=a.transforms.finalTransform;for(u=0;u<c;u+=1){var d=o.shapes[u];if(d&&d.v){for(l=d._length,s=1;s<l;s+=1)s===1&&n.push({t:"m",p:f.applyToPointArray(d.v[0][0],d.v[0][1],0)}),n.push({t:"c",pts:f.applyToTriplePoints(d.o[s-1],d.i[s],d.v[s])});l===1&&n.push({t:"m",p:f.applyToPointArray(d.v[0][0],d.v[0][1],0)}),d.c&&l&&(n.push({t:"c",pts:f.applyToTriplePoints(d.o[s-1],d.i[0],d.v[0])}),n.push({t:"z"}))}}a.trNodes=n}},CVShapeElement.prototype.renderPath=function(a,t){if(a.hd!==!0&&a._shouldRender){var n,o=t.styledShapes.length;for(n=0;n<o;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(a,t,n){var o=t.style;(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(a,t,n){var o=t.style,s;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||a.t!==1&&(t.h._mdf||t.a._mdf)){var l=this.globalData.canvasContext,u=t.s.v,c=t.e.v;if(a.t===1)s=l.createLinearGradient(u[0],u[1],c[0],c[1]);else{var f=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)),d=Math.atan2(c[1]-u[1],c[0]-u[0]),g=t.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var y=f*g,S=Math.cos(d+t.a.v)*y+u[0],_=Math.sin(d+t.a.v)*y+u[1];s=l.createRadialGradient(S,_,0,u[0],u[1],f)}var x,b=a.g.p,T=t.g.c,A=1;for(x=0;x<b;x+=1)t.g._hasOpacity&&t.g._collapsable&&(A=t.g.o[x*2+1]),s.addColorStop(T[x*4]/100,"rgba("+T[x*4+1]+","+T[x*4+2]+","+T[x*4+3]+","+A+")");o.grd=s}o.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(a,t,n){var o=t.style,s=t.d;s&&(s._mdf||this._isFirstFrame)&&(o.da=s.dashArray,o.do=s.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(o.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(a,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a.l?a.l.length:0);var t=!1;a.fc?(t=!0,this.values.fill=this.buildColor(a.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;a.sc&&(n=!0,this.values.stroke=this.buildColor(a.sc),this.values.sWidth=a.sw);var o=this.globalData.fontManager.getFontByName(a.f),s,l,u=a.l,c=this.mHelper;this.stroke=n,this.values.fValue=a.finalSize+"px "+this.globalData.fontManager.getFontByName(a.f).fFamily,l=a.finalText.length;var f,d,g,y,S,_,x,b,T,A,C=this.data.singleShape,E=a.tr*.001*a.finalSize,P=0,M=0,I=!0,D=0;for(s=0;s<l;s+=1){f=this.globalData.fontManager.getCharData(a.finalText[s],o.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily),d=f&&f.data||{},c.reset(),C&&u[s].n&&(P=-E,M+=a.yOffset,M+=I?1:0,I=!1),S=d.shapes?d.shapes[0].it:[],x=S.length,c.scale(a.finalSize/100,a.finalSize/100),C&&this.applyTextPropertiesToMatrix(a,c,u[s].line,P,M),T=createSizedArray(x-1);var L=0;for(_=0;_<x;_+=1)if(S[_].ty==="sh"){for(y=S[_].ks.k.i.length,b=S[_].ks.k,A=[],g=1;g<y;g+=1)g===1&&A.push(c.applyToX(b.v[0][0],b.v[0][1],0),c.applyToY(b.v[0][0],b.v[0][1],0)),A.push(c.applyToX(b.o[g-1][0],b.o[g-1][1],0),c.applyToY(b.o[g-1][0],b.o[g-1][1],0),c.applyToX(b.i[g][0],b.i[g][1],0),c.applyToY(b.i[g][0],b.i[g][1],0),c.applyToX(b.v[g][0],b.v[g][1],0),c.applyToY(b.v[g][0],b.v[g][1],0));A.push(c.applyToX(b.o[g-1][0],b.o[g-1][1],0),c.applyToY(b.o[g-1][0],b.o[g-1][1],0),c.applyToX(b.i[0][0],b.i[0][1],0),c.applyToY(b.i[0][0],b.i[0][1],0),c.applyToX(b.v[0][0],b.v[0][1],0),c.applyToY(b.v[0][0],b.v[0][1],0)),T[L]=A,L+=1}C&&(P+=u[s].l,P+=E),this.textSpans[D]?this.textSpans[D].elem=T:this.textSpans[D]={elem:T},D+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var a=this.canvasContext;a.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,n,o,s,l,u,c=this.textAnimator.renderedLetters,f=this.textProperty.currentData.l;n=f.length;var d,g=null,y=null,S=null,_,x,b=this.globalData.renderer;for(t=0;t<n;t+=1)if(!f[t].n){if(d=c[t],d&&(b.save(),b.ctxTransform(d.p),b.ctxOpacity(d.o)),this.fill){for(d&&d.fc?g!==d.fc&&(b.ctxFillStyle(d.fc),g=d.fc):g!==this.values.fill&&(g=this.values.fill,b.ctxFillStyle(this.values.fill)),_=this.textSpans[t].elem,s=_.length,this.globalData.canvasContext.beginPath(),o=0;o<s;o+=1)for(x=_[o],u=x.length,this.globalData.canvasContext.moveTo(x[0],x[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(x[l],x[l+1],x[l+2],x[l+3],x[l+4],x[l+5]);this.globalData.canvasContext.closePath(),b.ctxFill()}if(this.stroke){for(d&&d.sw?S!==d.sw&&(S=d.sw,b.ctxLineWidth(d.sw)):S!==this.values.sWidth&&(S=this.values.sWidth,b.ctxLineWidth(this.values.sWidth)),d&&d.sc?y!==d.sc&&(y=d.sc,b.ctxStrokeStyle(d.sc)):y!==this.values.stroke&&(y=this.values.stroke,b.ctxStrokeStyle(this.values.stroke)),_=this.textSpans[t].elem,s=_.length,this.globalData.canvasContext.beginPath(),o=0;o<s;o+=1)for(x=_[o],u=x.length,this.globalData.canvasContext.moveTo(x[0],x[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(x[l],x[l+1],x[l+2],x[l+3],x[l+4],x[l+5]);this.globalData.canvasContext.closePath(),b.ctxStroke()}d&&this.globalData.renderer.restore()}};function CVImageElement(a,t,n){this.assetData=t.getAssetData(a.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var a=createTag("canvas");a.width=this.assetData.w,a.height=this.assetData.h;var t=a.getContext("2d"),n=this.img.width,o=this.img.height,s=n/o,l=this.assetData.w/this.assetData.h,u,c,f=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>l&&f==="xMidYMid slice"||s<l&&f!=="xMidYMid slice"?(c=o,u=c*l):(u=n,c=u/l),t.drawImage(this.img,(n-u)/2,(o-c)/2,u,c,0,0,this.assetData.w,this.assetData.h),this.img=a}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(a,t,n){this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(a){return new CVShapeElement(a,this.globalData,this)},CanvasRendererBase.prototype.createText=function(a){return new CVTextElement(a,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(a){return new CVImageElement(a,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(a){return new CVSolidElement(a,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(a){a[0]===1&&a[1]===0&&a[4]===0&&a[5]===1&&a[12]===0&&a[13]===0||this.canvasContext.transform(a[0],a[1],a[4],a[5],a[12],a[13])},CanvasRendererBase.prototype.ctxOpacity=function(a){this.canvasContext.globalAlpha*=a<0?0:a},CanvasRendererBase.prototype.ctxFillStyle=function(a){this.canvasContext.fillStyle=a},CanvasRendererBase.prototype.ctxStrokeStyle=function(a){this.canvasContext.strokeStyle=a},CanvasRendererBase.prototype.ctxLineWidth=function(a){this.canvasContext.lineWidth=a},CanvasRendererBase.prototype.ctxLineCap=function(a){this.canvasContext.lineCap=a},CanvasRendererBase.prototype.ctxLineJoin=function(a){this.canvasContext.lineJoin=a},CanvasRendererBase.prototype.ctxMiterLimit=function(a){this.canvasContext.miterLimit=a},CanvasRendererBase.prototype.ctxFill=function(a){this.canvasContext.fill(a)},CanvasRendererBase.prototype.ctxFillRect=function(a,t,n,o){this.canvasContext.fillRect(a,t,n,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(a){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}a&&(this.globalData.blendMode="source-over"),this.contextData.restore(a)},CanvasRendererBase.prototype.configAnimation=function(a){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var n="0px 0px 0px";t.transformOrigin=n,t.mozTransformOrigin=n,t.webkitTransformOrigin=n,t["-webkit-transform"]=n,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=a,this.layers=a.layers,this.transformCanvas={w:a.w,h:a.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(a,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(a.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(a,t){this.reset();var n,o;a?(n=a,o=t,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr);var s,l;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var u=this.renderConfig.preserveAspectRatio.split(" "),c=u[1]||"meet",f=u[0]||"xMidYMid",d=f.substr(0,4),g=f.substr(4);s=n/o,l=this.transformCanvas.w/this.transformCanvas.h,l>s&&c==="meet"||l<s&&c==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),d==="xMid"&&(l<s&&c==="meet"||l>s&&c==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:d==="xMax"&&(l<s&&c==="meet"||l>s&&c==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,g==="YMid"&&(l>s&&c==="meet"||l<s&&c==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:g==="YMax"&&(l>s&&c==="meet"||l<s&&c==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var a,t=this.layers?this.layers.length:0;for(a=t-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(a,t){if(!(this.renderedFrame===a&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||a===-1)){this.renderedFrame=a,this.globalData.frameNum=a-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=a;var n,o=this.layers.length;for(this.completeLayers||this.checkLayers(a),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(a-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(a){var t=this.elements;if(!(t[a]||this.layers[a].ty===99)){var n=this.createItem(this.layers[a],this,this.globalData);t[a]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var a,t=15;for(a=0;a<t;a+=1){var n=new CanvasContext;this.stack[a]=n}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var a=this._length*2,t=0;for(t=this._length;t<a;t+=1)this.stack[t]=new CanvasContext;this._length=a},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(a){this.cArrPos-=1;var t=this.stack[this.cArrPos],n=t.transform,o,s=this.cTr.props;for(o=0;o<16;o+=1)s[o]=n[o];if(a){this.nativeContext.restore();var l=this.stack[this.cArrPos+1];this.appliedFillStyle=l.fillStyle,this.appliedStrokeStyle=l.strokeStyle,this.appliedLineWidth=l.lineWidth,this.appliedLineCap=l.lineCap,this.appliedLineJoin=l.lineJoin,this.appliedMiterLimit=l.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(a||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(a){a&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],o;for(o=0;o<16;o+=1)n.transform[o]=t[o];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=n.opacity,s.fillStyle=n.fillStyle,s.strokeStyle=n.strokeStyle,s.lineWidth=n.lineWidth,s.lineCap=n.lineCap,s.lineJoin=n.lineJoin,s.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(a){this.stack[this.cArrPos].opacity=a},CVContextData.prototype.setContext=function(a){this.nativeContext=a},CVContextData.prototype.fillStyle=function(a){this.stack[this.cArrPos].fillStyle!==a&&(this.currentFillStyle=a,this.stack[this.cArrPos].fillStyle=a)},CVContextData.prototype.strokeStyle=function(a){this.stack[this.cArrPos].strokeStyle!==a&&(this.currentStrokeStyle=a,this.stack[this.cArrPos].strokeStyle=a)},CVContextData.prototype.lineWidth=function(a){this.stack[this.cArrPos].lineWidth!==a&&(this.currentLineWidth=a,this.stack[this.cArrPos].lineWidth=a)},CVContextData.prototype.lineCap=function(a){this.stack[this.cArrPos].lineCap!==a&&(this.currentLineCap=a,this.stack[this.cArrPos].lineCap=a)},CVContextData.prototype.lineJoin=function(a){this.stack[this.cArrPos].lineJoin!==a&&(this.currentLineJoin=a,this.stack[this.cArrPos].lineJoin=a)},CVContextData.prototype.miterLimit=function(a){this.stack[this.cArrPos].miterLimit!==a&&(this.currentMiterLimit=a,this.stack[this.cArrPos].miterLimit=a)},CVContextData.prototype.transform=function(a){this.transformMat.cloneFromProps(a);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var n=t.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(a){var t=this.stack[this.cArrPos].opacity;t*=a<0?0:a,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==a&&(this.nativeContext.globalAlpha=a,this.currentOpacity=a),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(a)},CVContextData.prototype.fillRect=function(a,t,n,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(a,t,n,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(a,t,n){this.completeLayers=!1,this.layers=a.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(a,t,n),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var a=this.canvasContext;a.beginPath(),a.moveTo(0,0),a.lineTo(this.data.w,0),a.lineTo(this.data.w,this.data.h),a.lineTo(0,this.data.h),a.lineTo(0,0),a.clip();var t,n=this.layers.length;for(t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var a,t=this.layers.length;for(a=t-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(a){return new CVCompElement(a,this.globalData,this)};function CanvasRenderer(a,t){this.animationItem=a,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(a){return new CVCompElement(a,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();t.transform=n,t.webkitTransform=n}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(a,t,n){this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var a;this.data.hasMask?(a=createNS("rect"),a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(a=createTag("div"),a.style.width=this.data.sw+"px",a.style.height=this.data.sh+"px",a.style.backgroundColor=this.data.sc),this.layerElement.appendChild(a)};function HShapeElement(a,t,n){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(a,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var a;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),a=this.svgElement;else{a=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;a.setAttribute("width",t.w),a.setAttribute("height",t.h),a.appendChild(this.shapesContainer),this.layerElement.appendChild(a)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=a},HShapeElement.prototype.getTransformedPoint=function(a,t){var n,o=a.length;for(n=0;n<o;n+=1)t=a[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(a,t){var n=a.sh.v,o=a.transformers,s,l=n._length,u,c,f,d;if(!(l<=1)){for(s=0;s<l-1;s+=1)u=this.getTransformedPoint(o,n.v[s]),c=this.getTransformedPoint(o,n.o[s]),f=this.getTransformedPoint(o,n.i[s+1]),d=this.getTransformedPoint(o,n.v[s+1]),this.checkBounds(u,c,f,d,t);n.c&&(u=this.getTransformedPoint(o,n.v[s]),c=this.getTransformedPoint(o,n.o[s]),f=this.getTransformedPoint(o,n.i[0]),d=this.getTransformedPoint(o,n.v[0]),this.checkBounds(u,c,f,d,t))}},HShapeElement.prototype.checkBounds=function(a,t,n,o,s){this.getBoundsOfCurve(a,t,n,o);var l=this.shapeBoundingBox;s.x=bmMin(l.left,s.x),s.xMax=bmMax(l.right,s.xMax),s.y=bmMin(l.top,s.y),s.yMax=bmMax(l.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(a,t,n,o){for(var s=[[a[0],o[0]],[a[1],o[1]]],l,u,c,f,d,g,y,S=0;S<2;++S)u=6*a[S]-12*t[S]+6*n[S],l=-3*a[S]+9*t[S]-9*n[S]+3*o[S],c=3*t[S]-3*a[S],u|=0,l|=0,c|=0,l===0&&u===0||(l===0?(f=-c/u,f>0&&f<1&&s[S].push(this.calculateF(f,a,t,n,o,S))):(d=u*u-4*c*l,d>=0&&(g=(-u+bmSqrt(d))/(2*l),g>0&&g<1&&s[S].push(this.calculateF(g,a,t,n,o,S)),y=(-u-bmSqrt(d))/(2*l),y>0&&y<1&&s[S].push(this.calculateF(y,a,t,n,o,S)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(a,t,n,o,s,l){return bmPow(1-a,3)*t[l]+3*bmPow(1-a,2)*a*n[l]+3*(1-a)*bmPow(a,2)*o[l]+bmPow(a,3)*s[l]},HShapeElement.prototype.calculateBoundingBox=function(a,t){var n,o=a.length;for(n=0;n<o;n+=1)a[n]&&a[n].sh?this.calculateShapeBoundingBox(a[n],t):a[n]&&a[n].it?this.calculateBoundingBox(a[n].it,t):a[n]&&a[n].style&&a[n].w&&this.expandStrokeBoundingBox(a[n].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(a,t){var n=0;if(a.keyframes){for(var o=0;o<a.keyframes.length;o+=1){var s=a.keyframes[o].s;s>n&&(n=s)}n*=a.mult}else n=a.v*a.mult;t.x-=n,t.xMax+=n,t.y-=n,t.yMax+=n},HShapeElement.prototype.currentBoxContains=function(a){return this.currentBBox.x<=a.x&&this.currentBBox.y<=a.y&&this.currentBBox.width+this.currentBBox.x>=a.x+a.width&&this.currentBBox.height+this.currentBBox.y>=a.y+a.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var a=this.tempBoundingBox,t=999999;if(a.x=t,a.xMax=-t,a.y=t,a.yMax=-t,this.calculateBoundingBox(this.itemsData,a),a.width=a.xMax<a.x?0:a.xMax-a.x,a.height=a.yMax<a.y?0:a.yMax-a.y,this.currentBoxContains(a))return;var n=!1;if(this.currentBBox.w!==a.width&&(this.currentBBox.w=a.width,this.shapeCont.setAttribute("width",a.width),n=!0),this.currentBBox.h!==a.height&&(this.currentBBox.h=a.height,this.shapeCont.setAttribute("height",a.height),n=!0),n||this.currentBBox.x!==a.x||this.currentBBox.y!==a.y){this.currentBBox.w=a.width,this.currentBBox.h=a.height,this.currentBBox.x=a.x,this.currentBBox.y=a.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=s,o.webkitTransform=s}}};function HTextElement(a,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var a=createNS("g");this.maskedElement.appendChild(a),this.innerElem=a}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a.l?a.l.length:0);var t=this.innerElem.style,n=a.fc?this.buildColor(a.fc):"rgba(0,0,0,0)";t.fill=n,t.color=n,a.sc&&(t.stroke=this.buildColor(a.sc),t.strokeWidth=a.sw+"px");var o=this.globalData.fontManager.getFontByName(a.f);if(!this.globalData.fontManager.chars)if(t.fontSize=a.finalSize+"px",t.lineHeight=a.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{t.fontFamily=o.fFamily;var s=a.fWeight,l=a.fStyle;t.fontStyle=l,t.fontWeight=s}var u,c,f=a.l;c=f.length;var d,g,y,S=this.mHelper,_,x="",b=0;for(u=0;u<c;u+=1){if(this.globalData.fontManager.chars?(this.textPaths[b]?d=this.textPaths[b]:(d=createNS("path"),d.setAttribute("stroke-linecap",lineCapEnum[1]),d.setAttribute("stroke-linejoin",lineJoinEnum[2]),d.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[b]?(g=this.textSpans[b],y=g.children[0]):(g=createTag("div"),g.style.lineHeight=0,y=createNS("svg"),y.appendChild(d),styleDiv(g)))):this.isMasked?d=this.textPaths[b]?this.textPaths[b]:createNS("text"):this.textSpans[b]?(g=this.textSpans[b],d=this.textPaths[b]):(g=createTag("span"),styleDiv(g),d=createTag("span"),styleDiv(d),g.appendChild(d)),this.globalData.fontManager.chars){var T=this.globalData.fontManager.getCharData(a.finalText[u],o.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily),A;if(T?A=T.data:A=null,S.reset(),A&&A.shapes&&A.shapes.length&&(_=A.shapes[0].it,S.scale(a.finalSize/100,a.finalSize/100),x=this.createPathShape(S,_),d.setAttribute("d",x)),this.isMasked)this.innerElem.appendChild(d);else{if(this.innerElem.appendChild(g),A&&A.shapes){document.body.appendChild(y);var C=y.getBBox();y.setAttribute("width",C.width+2),y.setAttribute("height",C.height+2),y.setAttribute("viewBox",C.x-1+" "+(C.y-1)+" "+(C.width+2)+" "+(C.height+2));var E=y.style,P="translate("+(C.x-1)+"px,"+(C.y-1)+"px)";E.transform=P,E.webkitTransform=P,f[u].yOffset=C.y-1}else y.setAttribute("width",1),y.setAttribute("height",1);g.appendChild(y)}}else if(d.textContent=f[u].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(d);else{this.innerElem.appendChild(g);var M=d.style,I="translate3d(0,"+-a.finalSize/1.2+"px,0)";M.transform=I,M.webkitTransform=I}this.isMasked?this.textSpans[b]=d:this.textSpans[b]=g,this.textSpans[b].style.display="block",this.textPaths[b]=d,b+=1}for(;b<this.textSpans.length;)this.textSpans[b].style.display="none",b+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var a;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),a=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";a.transform=t,a.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,o,s=0,l=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;o=u.length;var c,f,d;for(n=0;n<o;n+=1)u[n].n?s+=1:(f=this.textSpans[n],d=this.textPaths[n],c=l[s],s+=1,c._mdf.m&&(this.isMasked?f.setAttribute("transform",c.m):(f.style.webkitTransform=c.m,f.style.transform=c.m)),f.style.opacity=c.o,c.sw&&c._mdf.sw&&d.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&d.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(d.setAttribute("fill",c.fc),d.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var g=this.innerElem.getBBox();this.currentBBox.w!==g.width&&(this.currentBBox.w=g.width,this.svgElement.setAttribute("width",g.width)),this.currentBBox.h!==g.height&&(this.currentBBox.h=g.height,this.svgElement.setAttribute("height",g.height));var y=1;if(this.currentBBox.w!==g.width+y*2||this.currentBBox.h!==g.height+y*2||this.currentBBox.x!==g.x-y||this.currentBBox.y!==g.y-y){this.currentBBox.w=g.width+y*2,this.currentBBox.h=g.height+y*2,this.currentBBox.x=g.x-y,this.currentBBox.y=g.y-y,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),a=this.svgElement.style;var S="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=S,a.webkitTransform=S}}}};function HCameraElement(a,t,n){this.initFrame(),this.initBaseData(a,t,n),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,a.pe,0,0,this),a.ks.p.s?(this.px=o(this,a.ks.p.x,1,0,this),this.py=o(this,a.ks.p.y,1,0,this),this.pz=o(this,a.ks.p.z,1,0,this)):this.p=o(this,a.ks.p,1,0,this),a.ks.a&&(this.a=o(this,a.ks.a,1,0,this)),a.ks.or.k.length&&a.ks.or.k[0].to){var s,l=a.ks.or.k.length;for(s=0;s<l;s+=1)a.ks.or.k[s].to=null,a.ks.or.k[s].ti=null}this.or=o(this,a.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,a.ks.rx,0,degToRads,this),this.ry=o(this,a.ks.ry,0,degToRads,this),this.rz=o(this,a.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var a,t=this.comp.threeDElements.length,n,o,s;for(a=0;a<t;a+=1)if(n=this.comp.threeDElements[a],n.type==="3d"){o=n.perspectiveElem.style,s=n.container.style;var l=this.pe.v+"px",u="0px 0px 0px",c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.perspective=l,o.webkitPerspective=l,s.transformOrigin=u,s.mozTransformOrigin=u,s.webkitTransformOrigin=u,o.transform=c,o.webkitTransform=c}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var a=this._isFirstFrame,t,n;if(this.hierarchy)for(n=this.hierarchy.length,t=0;t<n;t+=1)a=this.hierarchy[t].finalTransform.mProp._mdf||a;if(a||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,t=n;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var l=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),u=[s[0]/l,s[1]/l,s[2]/l],c=Math.sqrt(u[2]*u[2]+u[0]*u[0]),f=Math.atan2(u[1],c),d=Math.atan2(u[0],-u[2]);this.mat.rotateY(d).rotateX(-f)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var g=!this._prevMat.equals(this.mat);if((g||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var y,S,_;for(t=0;t<n;t+=1)if(y=this.comp.threeDElements[t],y.type==="3d"){if(g){var x=this.mat.toCSS();_=y.container.style,_.transform=x,_.webkitTransform=x}this.pe._mdf&&(S=y.perspectiveElem.style,S.perspective=this.pe.v+"px",S.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(a,t,n){this.assetData=t.getAssetData(a.refId),this.initElement(a,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=a,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(a,t){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(a,t){var n=a.getBaseElement();if(n){var o=this.layers[t];if(!o.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var s=0,l,u,c;s<t;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(u=this.elements[s],c=this.layers[s].ddd?this.getThreeDContainerByPos(s):u.getBaseElement(),l=c||l),s+=1;l?(!o.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,l):(!o.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,t)}},HybridRendererBase.prototype.createShape=function(a){return this.supports3d?new HShapeElement(a,this.globalData,this):new SVGShapeElement(a,this.globalData,this)},HybridRendererBase.prototype.createText=function(a){return this.supports3d?new HTextElement(a,this.globalData,this):new SVGTextLottieElement(a,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(a){return this.camera=new HCameraElement(a,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(a){return this.supports3d?new HImageElement(a,this.globalData,this):new IImageElement(a,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(a){return this.supports3d?new HSolidElement(a,this.globalData,this):new ISolidElement(a,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(a){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=a&&this.threeDElements[t].endPos>=a)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(a,t){var n=createTag("div"),o,s;styleDiv(n);var l=createTag("div");if(styleDiv(l),t==="3d"){o=n.style,o.width=this.globalData.compSize.w+"px",o.height=this.globalData.compSize.h+"px";var u="50% 50%";o.webkitTransformOrigin=u,o.mozTransformOrigin=u,o.transformOrigin=u,s=l.style;var c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=c,s.webkitTransform=c}n.appendChild(l);var f={container:l,perspectiveElem:n,startPos:a,endPos:a,type:t};return this.threeDElements.push(f),f},HybridRendererBase.prototype.build3dContainers=function(){var a,t=this.layers.length,n,o="";for(a=0;a<t;a+=1)this.layers[a].ddd&&this.layers[a].ty!==3?(o!=="3d"&&(o="3d",n=this.createThreeDContainer(a,"3d")),n.endPos=Math.max(n.endPos,a)):(o!=="2d"&&(o="2d",n=this.createThreeDContainer(a,"2d")),n.endPos=Math.max(n.endPos,a));for(t=this.threeDElements.length,a=t-1;a>=0;a-=1)this.resizerElem.appendChild(this.threeDElements[a].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(a,t){for(var n=0,o=this.threeDElements.length;n<o;){if(t<=this.threeDElements[n].endPos){for(var s=this.threeDElements[n].startPos,l;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(l=this.elements[s].getBaseElement()),s+=1;l?this.threeDElements[n].container.insertBefore(a,l):this.threeDElements[n].container.appendChild(a);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(a){var t=createTag("div"),n=this.animationItem.wrapper,o=t.style;o.width=a.w+"px",o.height=a.h+"px",this.resizerElem=t,styleDiv(t),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),o.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var l=createNS("defs");s.appendChild(l),this.data=a,this.setupGlobalData(a,s),this.globalData.defs=l,this.layers=a.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var a,t=this.layers?this.layers.length:0;for(a=0;a<t;a+=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var a=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,n=a/t,o=this.globalData.compSize.w/this.globalData.compSize.h,s,l,u,c;o>n?(s=a/this.globalData.compSize.w,l=a/this.globalData.compSize.w,u=0,c=(t-this.globalData.compSize.h*(a/this.globalData.compSize.w))/2):(s=t/this.globalData.compSize.h,l=t/this.globalData.compSize.h,u=(a-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,c=0);var f=this.resizerElem.style;f.webkitTransform="matrix3d("+s+",0,0,0,0,"+l+",0,0,0,0,1,0,"+u+","+c+",0,1)",f.transform=f.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var a=this.globalData.compSize.w,t=this.globalData.compSize.h,n,o=this.threeDElements.length;for(n=0;n<o;n+=1){var s=this.threeDElements[n].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(a,2)+Math.pow(t,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(a){var t,n=a.length,o=createTag("div");for(t=0;t<n;t+=1)if(a[t].xt){var s=this.createComp(a[t],o,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function HCompElement(a,t,n){this.layers=a.layers,this.supports3d=!a.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,t,n),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(a,t){for(var n=0,o;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(o=this.elements[n].getBaseElement()),n+=1;o?this.layerElement.insertBefore(a,o):this.layerElement.appendChild(a)},HCompElement.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.globalData,this):new SVGCompElement(a,this.globalData,this)};function HybridRenderer(a,t){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.globalData,this):new SVGCompElement(a,this.globalData,this)};var CompExpressionInterface=function(){return function(a){function t(n){for(var o=0,s=a.layers.length;o<s;){if(a.layers[o].nm===n||a.layers[o].ind===n)return a.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(t,"_name",{value:a.data.nm}),t.layer=t,t.pixelAspect=1,t.height=a.data.h||a.globalData.compSize.h,t.width=a.data.w||a.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/a.globalData.frameRate,t.displayStartTime=0,t.numLayers=a.layers.length,t}}();function _typeof$2(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(n){return typeof n}:_typeof$2=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(a)}function seedRandom(a,t){var n=this,o=256,s=6,l=52,u="random",c=t.pow(o,s),f=t.pow(2,l),d=f*2,g=o-1,y;function S(E,P,M){var I=[];P=P===!0?{entropy:!0}:P||{};var D=T(b(P.entropy?[E,C(a)]:E===null?A():E,3),I),L=new _(I),$=function(){for(var V=L.g(s),F=c,z=0;V<f;)V=(V+z)*o,F*=o,z=L.g(1);for(;V>=d;)V/=2,F/=2,z>>>=1;return(V+z)/F};return $.int32=function(){return L.g(4)|0},$.quick=function(){return L.g(4)/4294967296},$.double=$,T(C(L.S),a),(P.pass||M||function(O,V,F,z){return z&&(z.S&&x(z,L),O.state=function(){return x(L,{})}),F?(t[u]=O,V):O})($,D,"global"in P?P.global:this==t,P.state)}t["seed"+u]=S;function _(E){var P,M=E.length,I=this,D=0,L=I.i=I.j=0,$=I.S=[];for(M||(E=[M++]);D<o;)$[D]=D++;for(D=0;D<o;D++)$[D]=$[L=g&L+E[D%M]+(P=$[D])],$[L]=P;I.g=function(O){for(var V,F=0,z=I.i,U=I.j,H=I.S;O--;)V=H[z=g&z+1],F=F*o+H[g&(H[z]=H[U=g&U+V])+(H[U]=V)];return I.i=z,I.j=U,F}}function x(E,P){return P.i=E.i,P.j=E.j,P.S=E.S.slice(),P}function b(E,P){var M=[],I=_typeof$2(E),D;if(P&&I=="object")for(D in E)try{M.push(b(E[D],P-1))}catch{}return M.length?M:I=="string"?E:E+"\0"}function T(E,P){for(var M=E+"",I,D=0;D<M.length;)P[g&D]=g&(I^=P[g&D]*19)+M.charCodeAt(D++);return C(P)}function A(){try{var E=new Uint8Array(o);return(n.crypto||n.msCrypto).getRandomValues(E),C(E)}catch{var P=n.navigator,M=P&&P.plugins;return[+new Date,n,M,n.screen,C(a)]}}function C(E){return String.fromCharCode.apply(0,E)}T(t.random(),a)}function initialize$2(a){seedRandom([],a)}var propTypes={SHAPE:"shape"};function _typeof$1(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(n){return typeof n}:_typeof$1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(a)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(a){return a.constructor===Array||a.constructor===Float32Array}function isNumerable(a,t){return a==="number"||t instanceof Number||a==="boolean"||a==="string"}function $bm_neg(a){var t=_typeof$1(a);if(t==="number"||a instanceof Number||t==="boolean")return-a;if($bm_isInstanceOfArray(a)){var n,o=a.length,s=[];for(n=0;n<o;n+=1)s[n]=-a[n];return s}return a.propType?a.v:-a}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(a,t){var n=_typeof$1(a),o=_typeof$1(t);if(isNumerable(n,a)&&isNumerable(o,t)||n==="string"||o==="string")return a+t;if($bm_isInstanceOfArray(a)&&isNumerable(o,t))return a=a.slice(0),a[0]+=t,a;if(isNumerable(n,a)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=a+t[0],t;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(t)){for(var s=0,l=a.length,u=t.length,c=[];s<l||s<u;)(typeof a[s]=="number"||a[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?c[s]=a[s]+t[s]:c[s]=t[s]===void 0?a[s]:a[s]||t[s],s+=1;return c}return 0}var add=sum;function sub(a,t){var n=_typeof$1(a),o=_typeof$1(t);if(isNumerable(n,a)&&isNumerable(o,t))return n==="string"&&(a=parseInt(a,10)),o==="string"&&(t=parseInt(t,10)),a-t;if($bm_isInstanceOfArray(a)&&isNumerable(o,t))return a=a.slice(0),a[0]-=t,a;if(isNumerable(n,a)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=a-t[0],t;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(t)){for(var s=0,l=a.length,u=t.length,c=[];s<l||s<u;)(typeof a[s]=="number"||a[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?c[s]=a[s]-t[s]:c[s]=t[s]===void 0?a[s]:a[s]||t[s],s+=1;return c}return 0}function mul(a,t){var n=_typeof$1(a),o=_typeof$1(t),s;if(isNumerable(n,a)&&isNumerable(o,t))return a*t;var l,u;if($bm_isInstanceOfArray(a)&&isNumerable(o,t)){for(u=a.length,s=createTypedArray("float32",u),l=0;l<u;l+=1)s[l]=a[l]*t;return s}if(isNumerable(n,a)&&$bm_isInstanceOfArray(t)){for(u=t.length,s=createTypedArray("float32",u),l=0;l<u;l+=1)s[l]=a*t[l];return s}return 0}function div(a,t){var n=_typeof$1(a),o=_typeof$1(t),s;if(isNumerable(n,a)&&isNumerable(o,t))return a/t;var l,u;if($bm_isInstanceOfArray(a)&&isNumerable(o,t)){for(u=a.length,s=createTypedArray("float32",u),l=0;l<u;l+=1)s[l]=a[l]/t;return s}if(isNumerable(n,a)&&$bm_isInstanceOfArray(t)){for(u=t.length,s=createTypedArray("float32",u),l=0;l<u;l+=1)s[l]=a/t[l];return s}return 0}function mod(a,t){return typeof a=="string"&&(a=parseInt(a,10)),typeof t=="string"&&(t=parseInt(t,10)),a%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(a,t,n){if(t>n){var o=n;n=t,t=o}return Math.min(Math.max(a,t),n)}function radiansToDegrees(a){return a/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(a){return a*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(a,t){if(typeof a=="number"||a instanceof Number)return t=t||0,Math.abs(a-t);t||(t=helperLengthArray);var n,o=Math.min(a.length,t.length),s=0;for(n=0;n<o;n+=1)s+=Math.pow(t[n]-a[n],2);return Math.sqrt(s)}function normalize(a){return div(a,length(a))}function rgbToHsl(a){var t=a[0],n=a[1],o=a[2],s=Math.max(t,n,o),l=Math.min(t,n,o),u,c,f=(s+l)/2;if(s===l)u=0,c=0;else{var d=s-l;switch(c=f>.5?d/(2-s-l):d/(s+l),s){case t:u=(n-o)/d+(n<o?6:0);break;case n:u=(o-t)/d+2;break;case o:u=(t-n)/d+4;break}u/=6}return[u,c,f,a[3]]}function hue2rgb(a,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(t-a)*6*n:n<1/2?t:n<2/3?a+(t-a)*(2/3-n)*6:a}function hslToRgb(a){var t=a[0],n=a[1],o=a[2],s,l,u;if(n===0)s=o,u=o,l=o;else{var c=o<.5?o*(1+n):o+n-o*n,f=2*o-c;s=hue2rgb(f,c,t+1/3),l=hue2rgb(f,c,t),u=hue2rgb(f,c,t-1/3)}return[s,l,u,a[3]]}function linear(a,t,n,o,s){if((o===void 0||s===void 0)&&(o=t,s=n,t=0,n=1),n<t){var l=n;n=t,t=l}if(a<=t)return o;if(a>=n)return s;var u=n===t?0:(a-t)/(n-t);if(!o.length)return o+(s-o)*u;var c,f=o.length,d=createTypedArray("float32",f);for(c=0;c<f;c+=1)d[c]=o[c]+(s[c]-o[c])*u;return d}function random(a,t){if(t===void 0&&(a===void 0?(a=0,t=1):(t=a,a=void 0)),t.length){var n,o=t.length;a||(a=createTypedArray("float32",o));var s=createTypedArray("float32",o),l=BMMath.random();for(n=0;n<o;n+=1)s[n]=a[n]+l*(t[n]-a[n]);return s}a===void 0&&(a=0);var u=BMMath.random();return a+u*(t-a)}function createPath(a,t,n,o){var s,l=a.length,u=shapePool.newElement();u.setPathData(!!o,l);var c=[0,0],f,d;for(s=0;s<l;s+=1)f=t&&t[s]?t[s]:c,d=n&&n[s]?n[s]:c,u.setTripleAt(a[s][0],a[s][1],d[0]+a[s][0],d[1]+a[s][1],f[0]+a[s][0],f[1]+a[s][1],s,!0);return u}function initiateExpression(elem,data,property){function noOp(a){return a}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function a(t,n){var o,s,l=this.pv.length?this.pv.length:1,u=createTypedArray("float32",l);t=5;var c=Math.floor(time*t);for(o=0,s=0;o<c;){for(s=0;s<l;s+=1)u[s]+=-n+n*2*BMMath.random();o+=1}var f=time*t,d=f-Math.floor(f),g=createTypedArray("float32",l);if(l>1){for(s=0;s<l;s+=1)g[s]=this.pv[s]+u[s]+(-n+n*2*BMMath.random())*d;return g}return this.pv+u[0]+(-n+n*2*BMMath.random())*d}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(a,t){return loopIn(a,t,!0)}function loopOutDuration(a,t){return loopOut(a,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(a,t){var n=[t[0]-a[0],t[1]-a[1],t[2]-a[2]],o=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,s=-Math.atan2(n[1],n[2])/degToRads;return[s,o,0]}function easeOut(a,t,n,o,s){return applyEase(easeOutBez,a,t,n,o,s)}function easeIn(a,t,n,o,s){return applyEase(easeInBez,a,t,n,o,s)}function ease(a,t,n,o,s){return applyEase(easeInOutBez,a,t,n,o,s)}function applyEase(a,t,n,o,s,l){s===void 0?(s=n,l=o):t=(t-n)/(o-n),t>1?t=1:t<0&&(t=0);var u=a(t);if($bm_isInstanceOfArray(s)){var c,f=s.length,d=createTypedArray("float32",f);for(c=0;c<f;c+=1)d[c]=(l[c]-s[c])*u+s[c];return d}return(l-s)*u+s}function nearestKey(a){var t,n=data.k.length,o,s;if(!data.k.length||typeof data.k[0]=="number")o=0,s=0;else if(o=-1,a*=elem.comp.globalData.frameRate,a<data.k[0].t)o=1,s=data.k[0].t;else{for(t=0;t<n-1;t+=1)if(a===data.k[t].t){o=t+1,s=data.k[t].t;break}else if(a>data.k[t].t&&a<data.k[t+1].t){a-data.k[t].t>data.k[t+1].t-a?(o=t+2,s=data.k[t+1].t):(o=t+1,s=data.k[t].t);break}o===-1&&(o=t+1,s=data.k[t].t)}var l={};return l.index=o,l.time=s/elem.comp.globalData.frameRate,l}function key(a){var t,n,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+a);a-=1,t={time:data.k[a].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[a],"s")?data.k[a].s:data.k[a-1].e;for(o=s.length,n=0;n<o;n+=1)t[n]=s[n],t.value[n]=s[n];return t}function framesToTime(a,t){return t||(t=elem.comp.globalData.frameRate),a/t}function timeToFrames(a,t){return!a&&a!==0&&(a=time),t||(t=elem.comp.globalData.frameRate),a*t}function seedRandom(a){BMMath.seedrandom(randSeed+a)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(a,t){return typeof value=="string"?t===void 0?value.substring(a):value.substring(a,t):""}function substr(a,t){return typeof value=="string"?t===void 0?value.substr(a):value.substr(a,t):""}function posterizeTime(a){time=a===0?0:Math.floor(time*a)/a,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(a){return value=a,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var a={};a.initExpressions=t,a.resetFrame=ExpressionManager.resetFrame;function t(n){var o=0,s=[];function l(){o+=1}function u(){o-=1,o===0&&f()}function c(d){s.indexOf(d)===-1&&s.push(d)}function f(){var d,g=s.length;for(d=0;d<g;d+=1)s[d].release();s.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=l,n.renderer.globalData.popExpression=u,n.renderer.globalData.registerExpressionProperty=c}return a}(),MaskManagerInterface=function(){function a(n,o){this._mask=n,this._data=o}Object.defineProperty(a.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(a.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(o){var s=createSizedArray(o.viewData.length),l,u=o.viewData.length;for(l=0;l<u;l+=1)s[l]=new a(o.viewData[l],o.masksProperties[l]);var c=function(d){for(l=0;l<u;){if(o.masksProperties[l].nm===d)return s[l];l+=1}return null};return c};return t}(),ExpressionPropertyInterface=function(){var a={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(u,c,f){Object.defineProperty(u,"velocity",{get:function(){return c.getVelocityAtTime(c.comp.currentFrame)}}),u.numKeys=c.keyframes?c.keyframes.length:0,u.key=function(d){if(!u.numKeys)return 0;var g="";"s"in c.keyframes[d-1]?g=c.keyframes[d-1].s:"e"in c.keyframes[d-2]?g=c.keyframes[d-2].e:g=c.keyframes[d-2].s;var y=f==="unidimensional"?new Number(g):Object.assign({},g);return y.time=c.keyframes[d-1].t/c.elem.comp.globalData.frameRate,y.value=f==="unidimensional"?g[0]:g,y},u.valueAtTime=c.getValueAtTime,u.speedAtTime=c.getSpeedAtTime,u.velocityAtTime=c.getVelocityAtTime,u.propertyGroup=c.propertyGroup}function o(u){(!u||!("pv"in u))&&(u=a);var c=1/u.mult,f=u.pv*c,d=new Number(f);return d.value=f,n(d,u,"unidimensional"),function(){return u.k&&u.getValue(),f=u.v*c,d.value!==f&&(d=new Number(f),d.value=f,n(d,u,"unidimensional")),d}}function s(u){(!u||!("pv"in u))&&(u=t);var c=1/u.mult,f=u.data&&u.data.l||u.pv.length,d=createTypedArray("float32",f),g=createTypedArray("float32",f);return d.value=g,n(d,u,"multidimensional"),function(){u.k&&u.getValue();for(var y=0;y<f;y+=1)g[y]=u.v[y]*c,d[y]=g[y];return d}}function l(){return a}return function(u){return u?u.propType==="unidimensional"?o(u):s(u):l}}(),TransformExpressionInterface=function(){return function(a){function t(u){switch(u){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(a.r||a.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(a.rz||a.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(a.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(a.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(a.s)});var n,o,s,l;return a.p?l=ExpressionPropertyInterface(a.p):(n=ExpressionPropertyInterface(a.px),o=ExpressionPropertyInterface(a.py),a.pz&&(s=ExpressionPropertyInterface(a.pz))),Object.defineProperty(t,"position",{get:function(){return a.p?l():[n(),o(),s?s():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(a.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(a.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(a.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(a.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(a.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(a.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(a.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(a.or)}),t}}(),LayerExpressionInterface=function(){function a(d){var g=new Matrix;if(d!==void 0){var y=this._elem.finalTransform.mProp.getValueAtTime(d);y.clone(g)}else{var S=this._elem.finalTransform.mProp;S.applyToMatrix(g)}return g}function t(d,g){var y=this.getMatrix(g);return y.props[12]=0,y.props[13]=0,y.props[14]=0,this.applyPoint(y,d)}function n(d,g){var y=this.getMatrix(g);return this.applyPoint(y,d)}function o(d,g){var y=this.getMatrix(g);return y.props[12]=0,y.props[13]=0,y.props[14]=0,this.invertPoint(y,d)}function s(d,g){var y=this.getMatrix(g);return this.invertPoint(y,d)}function l(d,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var y,S=this._elem.hierarchy.length;for(y=0;y<S;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(d)}return d.applyToPointArray(g[0],g[1],g[2]||0)}function u(d,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var y,S=this._elem.hierarchy.length;for(y=0;y<S;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(d)}return d.inversePoint(g)}function c(d){var g=new Matrix;if(g.reset(),this._elem.finalTransform.mProp.applyToMatrix(g),this._elem.hierarchy&&this._elem.hierarchy.length){var y,S=this._elem.hierarchy.length;for(y=0;y<S;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(g);return g.inversePoint(d)}return g.inversePoint(d)}function f(){return[1,1,1,1]}return function(d){var g;function y(b){_.mask=new MaskManagerInterface(b,d)}function S(b){_.effect=b}function _(b){switch(b){case"ADBE Root Vectors Group":case"Contents":case 2:return _.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return _.effect;case"ADBE Text Properties":return _.textInterface;default:return null}}_.getMatrix=a,_.invertPoint=u,_.applyPoint=l,_.toWorld=n,_.toWorldVec=t,_.fromWorld=s,_.fromWorldVec=o,_.toComp=n,_.fromComp=c,_.sampleImage=f,_.sourceRectAtTime=d.sourceRectAtTime.bind(d),_._elem=d,g=TransformExpressionInterface(d.finalTransform.mProp);var x=getDescriptor(g,"anchorPoint");return Object.defineProperties(_,{hasParent:{get:function(){return d.hierarchy.length}},parent:{get:function(){return d.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:x,anchor_point:x,transform:{get:function(){return g}},active:{get:function(){return d.isInRange}}}),_.startTime=d.data.st,_.index=d.data.ind,_.source=d.data.refId,_.height=d.data.ty===0?d.data.h:100,_.width=d.data.ty===0?d.data.w:100,_.inPoint=d.data.ip/d.comp.globalData.frameRate,_.outPoint=d.data.op/d.comp.globalData.frameRate,_._name=d.data.nm,_.registerMaskInterface=y,_.registerEffectsInterface=S,_}}(),propertyGroupFactory=function(){return function(a,t){return function(n){return n=n===void 0?1:n,n<=0?a:t(n-1)}}}(),PropertyInterface=function(){return function(a,t){var n={_name:a};function o(s){return s=s===void 0?1:s,s<=0?n:t(s-1)}return o}}(),EffectsExpressionInterface=function(){var a={createEffectsInterface:t};function t(s,l){if(s.effectsManager){var u=[],c=s.data.ef,f,d=s.effectsManager.effectElements.length;for(f=0;f<d;f+=1)u.push(n(c[f],s.effectsManager.effectElements[f],l,s));var g=s.data.ef||[],y=function(_){for(f=0,d=g.length;f<d;){if(_===g[f].nm||_===g[f].mn||_===g[f].ix)return u[f];f+=1}return null};return Object.defineProperty(y,"numProperties",{get:function(){return g.length}}),y}return null}function n(s,l,u,c){function f(_){for(var x=s.ef,b=0,T=x.length;b<T;){if(_===x[b].nm||_===x[b].mn||_===x[b].ix)return x[b].ty===5?g[b]:g[b]();b+=1}throw new Error}var d=propertyGroupFactory(f,u),g=[],y,S=s.ef.length;for(y=0;y<S;y+=1)s.ef[y].ty===5?g.push(n(s.ef[y],l.effectElements[y],l.effectElements[y].propertyGroup,c)):g.push(o(l.effectElements[y],s.ef[y].ty,c,d));return s.mn==="ADBE Color Control"&&Object.defineProperty(f,"color",{get:function(){return g[0]()}}),Object.defineProperties(f,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:d}}),f.enabled=s.en!==0,f.active=f.enabled,f}function o(s,l,u,c){var f=ExpressionPropertyInterface(s.p);function d(){return l===10?u.comp.compInterface(s.p.v):f()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",c)),d}return a}(),ShapePathInterface=function(){return function(t,n,o){var s=n.sh;function l(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?l.path:null}var u=propertyGroupFactory(l,o);return s.setGroupProperty(PropertyInterface("Path",u)),Object.defineProperties(l,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:o}}),l}}(),ShapeExpressionInterface=function(){function a(x,b,T){var A=[],C,E=x?x.length:0;for(C=0;C<E;C+=1)x[C].ty==="gr"?A.push(n(x[C],b[C],T)):x[C].ty==="fl"?A.push(o(x[C],b[C],T)):x[C].ty==="st"?A.push(u(x[C],b[C],T)):x[C].ty==="tm"?A.push(c(x[C],b[C],T)):x[C].ty==="tr"||(x[C].ty==="el"?A.push(d(x[C],b[C],T)):x[C].ty==="sr"?A.push(g(x[C],b[C],T)):x[C].ty==="sh"?A.push(ShapePathInterface(x[C],b[C],T)):x[C].ty==="rc"?A.push(y(x[C],b[C],T)):x[C].ty==="rd"?A.push(S(x[C],b[C],T)):x[C].ty==="rp"?A.push(_(x[C],b[C],T)):x[C].ty==="gf"?A.push(s(x[C],b[C],T)):A.push(l(x[C],b[C])));return A}function t(x,b,T){var A,C=function(M){for(var I=0,D=A.length;I<D;){if(A[I]._name===M||A[I].mn===M||A[I].propertyIndex===M||A[I].ix===M||A[I].ind===M)return A[I];I+=1}return typeof M=="number"?A[M-1]:null};C.propertyGroup=propertyGroupFactory(C,T),A=a(x.it,b.it,C.propertyGroup),C.numProperties=A.length;var E=f(x.it[x.it.length-1],b.it[b.it.length-1],C.propertyGroup);return C.transform=E,C.propertyIndex=x.cix,C._name=x.nm,C}function n(x,b,T){var A=function(M){switch(M){case"ADBE Vectors Group":case"Contents":case 2:return A.content;default:return A.transform}};A.propertyGroup=propertyGroupFactory(A,T);var C=t(x,b,A.propertyGroup),E=f(x.it[x.it.length-1],b.it[b.it.length-1],A.propertyGroup);return A.content=C,A.transform=E,Object.defineProperty(A,"_name",{get:function(){return x.nm}}),A.numProperties=x.np,A.propertyIndex=x.ix,A.nm=x.nm,A.mn=x.mn,A}function o(x,b,T){function A(C){return C==="Color"||C==="color"?A.color:C==="Opacity"||C==="opacity"?A.opacity:null}return Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},_name:{value:x.nm},mn:{value:x.mn}}),b.c.setGroupProperty(PropertyInterface("Color",T)),b.o.setGroupProperty(PropertyInterface("Opacity",T)),A}function s(x,b,T){function A(C){return C==="Start Point"||C==="start point"?A.startPoint:C==="End Point"||C==="end point"?A.endPoint:C==="Opacity"||C==="opacity"?A.opacity:null}return Object.defineProperties(A,{startPoint:{get:ExpressionPropertyInterface(b.s)},endPoint:{get:ExpressionPropertyInterface(b.e)},opacity:{get:ExpressionPropertyInterface(b.o)},type:{get:function(){return"a"}},_name:{value:x.nm},mn:{value:x.mn}}),b.s.setGroupProperty(PropertyInterface("Start Point",T)),b.e.setGroupProperty(PropertyInterface("End Point",T)),b.o.setGroupProperty(PropertyInterface("Opacity",T)),A}function l(){function x(){return null}return x}function u(x,b,T){var A=propertyGroupFactory(D,T),C=propertyGroupFactory(I,A);function E(L){Object.defineProperty(I,x.d[L].nm,{get:ExpressionPropertyInterface(b.d.dataProps[L].p)})}var P,M=x.d?x.d.length:0,I={};for(P=0;P<M;P+=1)E(P),b.d.dataProps[P].p.setGroupProperty(C);function D(L){return L==="Color"||L==="color"?D.color:L==="Opacity"||L==="opacity"?D.opacity:L==="Stroke Width"||L==="stroke width"?D.strokeWidth:null}return Object.defineProperties(D,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},strokeWidth:{get:ExpressionPropertyInterface(b.w)},dash:{get:function(){return I}},_name:{value:x.nm},mn:{value:x.mn}}),b.c.setGroupProperty(PropertyInterface("Color",A)),b.o.setGroupProperty(PropertyInterface("Opacity",A)),b.w.setGroupProperty(PropertyInterface("Stroke Width",A)),D}function c(x,b,T){function A(E){return E===x.e.ix||E==="End"||E==="end"?A.end:E===x.s.ix?A.start:E===x.o.ix?A.offset:null}var C=propertyGroupFactory(A,T);return A.propertyIndex=x.ix,b.s.setGroupProperty(PropertyInterface("Start",C)),b.e.setGroupProperty(PropertyInterface("End",C)),b.o.setGroupProperty(PropertyInterface("Offset",C)),A.propertyIndex=x.ix,A.propertyGroup=T,Object.defineProperties(A,{start:{get:ExpressionPropertyInterface(b.s)},end:{get:ExpressionPropertyInterface(b.e)},offset:{get:ExpressionPropertyInterface(b.o)},_name:{value:x.nm}}),A.mn=x.mn,A}function f(x,b,T){function A(E){return x.a.ix===E||E==="Anchor Point"?A.anchorPoint:x.o.ix===E||E==="Opacity"?A.opacity:x.p.ix===E||E==="Position"?A.position:x.r.ix===E||E==="Rotation"||E==="ADBE Vector Rotation"?A.rotation:x.s.ix===E||E==="Scale"?A.scale:x.sk&&x.sk.ix===E||E==="Skew"?A.skew:x.sa&&x.sa.ix===E||E==="Skew Axis"?A.skewAxis:null}var C=propertyGroupFactory(A,T);return b.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",C)),b.transform.mProps.p.setGroupProperty(PropertyInterface("Position",C)),b.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",C)),b.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",C)),b.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",C)),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",C)),b.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",C))),b.transform.op.setGroupProperty(PropertyInterface("Opacity",C)),Object.defineProperties(A,{opacity:{get:ExpressionPropertyInterface(b.transform.mProps.o)},position:{get:ExpressionPropertyInterface(b.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(b.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(b.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(b.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(b.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(b.transform.mProps.sa)},_name:{value:x.nm}}),A.ty="tr",A.mn=x.mn,A.propertyGroup=T,A}function d(x,b,T){function A(P){return x.p.ix===P?A.position:x.s.ix===P?A.size:null}var C=propertyGroupFactory(A,T);A.propertyIndex=x.ix;var E=b.sh.ty==="tm"?b.sh.prop:b.sh;return E.s.setGroupProperty(PropertyInterface("Size",C)),E.p.setGroupProperty(PropertyInterface("Position",C)),Object.defineProperties(A,{size:{get:ExpressionPropertyInterface(E.s)},position:{get:ExpressionPropertyInterface(E.p)},_name:{value:x.nm}}),A.mn=x.mn,A}function g(x,b,T){function A(P){return x.p.ix===P?A.position:x.r.ix===P?A.rotation:x.pt.ix===P?A.points:x.or.ix===P||P==="ADBE Vector Star Outer Radius"?A.outerRadius:x.os.ix===P?A.outerRoundness:x.ir&&(x.ir.ix===P||P==="ADBE Vector Star Inner Radius")?A.innerRadius:x.is&&x.is.ix===P?A.innerRoundness:null}var C=propertyGroupFactory(A,T),E=b.sh.ty==="tm"?b.sh.prop:b.sh;return A.propertyIndex=x.ix,E.or.setGroupProperty(PropertyInterface("Outer Radius",C)),E.os.setGroupProperty(PropertyInterface("Outer Roundness",C)),E.pt.setGroupProperty(PropertyInterface("Points",C)),E.p.setGroupProperty(PropertyInterface("Position",C)),E.r.setGroupProperty(PropertyInterface("Rotation",C)),x.ir&&(E.ir.setGroupProperty(PropertyInterface("Inner Radius",C)),E.is.setGroupProperty(PropertyInterface("Inner Roundness",C))),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(E.p)},rotation:{get:ExpressionPropertyInterface(E.r)},points:{get:ExpressionPropertyInterface(E.pt)},outerRadius:{get:ExpressionPropertyInterface(E.or)},outerRoundness:{get:ExpressionPropertyInterface(E.os)},innerRadius:{get:ExpressionPropertyInterface(E.ir)},innerRoundness:{get:ExpressionPropertyInterface(E.is)},_name:{value:x.nm}}),A.mn=x.mn,A}function y(x,b,T){function A(P){return x.p.ix===P?A.position:x.r.ix===P?A.roundness:x.s.ix===P||P==="Size"||P==="ADBE Vector Rect Size"?A.size:null}var C=propertyGroupFactory(A,T),E=b.sh.ty==="tm"?b.sh.prop:b.sh;return A.propertyIndex=x.ix,E.p.setGroupProperty(PropertyInterface("Position",C)),E.s.setGroupProperty(PropertyInterface("Size",C)),E.r.setGroupProperty(PropertyInterface("Rotation",C)),Object.defineProperties(A,{position:{get:ExpressionPropertyInterface(E.p)},roundness:{get:ExpressionPropertyInterface(E.r)},size:{get:ExpressionPropertyInterface(E.s)},_name:{value:x.nm}}),A.mn=x.mn,A}function S(x,b,T){function A(P){return x.r.ix===P||P==="Round Corners 1"?A.radius:null}var C=propertyGroupFactory(A,T),E=b;return A.propertyIndex=x.ix,E.rd.setGroupProperty(PropertyInterface("Radius",C)),Object.defineProperties(A,{radius:{get:ExpressionPropertyInterface(E.rd)},_name:{value:x.nm}}),A.mn=x.mn,A}function _(x,b,T){function A(P){return x.c.ix===P||P==="Copies"?A.copies:x.o.ix===P||P==="Offset"?A.offset:null}var C=propertyGroupFactory(A,T),E=b;return A.propertyIndex=x.ix,E.c.setGroupProperty(PropertyInterface("Copies",C)),E.o.setGroupProperty(PropertyInterface("Offset",C)),Object.defineProperties(A,{copies:{get:ExpressionPropertyInterface(E.c)},offset:{get:ExpressionPropertyInterface(E.o)},_name:{value:x.nm}}),A.mn=x.mn,A}return function(x,b,T){var A;function C(P){if(typeof P=="number")return P=P===void 0?1:P,P===0?T:A[P-1];for(var M=0,I=A.length;M<I;){if(A[M]._name===P)return A[M];M+=1}return null}function E(){return T}return C.propertyGroup=propertyGroupFactory(C,E),A=a(x,b,C.propertyGroup),C.numProperties=A.length,C._name="Contents",C}}(),TextExpressionInterface=function(){return function(a){var t;function n(o){switch(o){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){a.textProperty.getValue();var s=a.textProperty.currentData.t;return(!t||s!==t.value)&&(t=new String(s),t.value=s||new String(s),Object.defineProperty(t,"style",{get:function(){return{fillColor:a.textProperty.currentData.fc}}})),t}}),n}}();function _typeof(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(n){return typeof n}:_typeof=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(a)}var FootageInterface=function(){var a=function(o){var s="",l=o.getFootageData();function u(){return s="",l=o.getFootageData(),c}function c(f){if(l[f])return s=f,l=l[f],_typeof(l)==="object"?c:l;var d=f.indexOf(s);if(d!==-1){var g=parseInt(f.substr(d+s.length),10);return l=l[g],_typeof(l)==="object"?c:l}return""}return u},t=function(o){function s(l){return l==="Outline"?s.outlineInterface():null}return s._name="Outline",s.outlineInterface=a(o),s};return function(n){function o(s){return s==="Data"?o.dataInterface:null}return o._name="Data",o.dataInterface=t(n),o}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(a){return interfaces[a]||null}var expressionHelpers=function(){function a(u,c,f){c.x&&(f.k=!0,f.x=!0,f.initiateExpression=ExpressionManager.initiateExpression,f.effectsSequence.push(f.initiateExpression(u,c,f).bind(f)))}function t(u){return u*=this.elem.globalData.frameRate,u-=this.offsetTime,u!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<u?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(u,this._cachingAtTime),this._cachingAtTime.lastFrame=u),this._cachingAtTime.value}function n(u){var c=-.01,f=this.getValueAtTime(u),d=this.getValueAtTime(u+c),g=0;if(f.length){var y;for(y=0;y<f.length;y+=1)g+=Math.pow(d[y]-f[y],2);g=Math.sqrt(g)*100}else g=0;return g}function o(u){if(this.vel!==void 0)return this.vel;var c=-.001,f=this.getValueAtTime(u),d=this.getValueAtTime(u+c),g;if(f.length){g=createTypedArray("float32",f.length);var y;for(y=0;y<f.length;y+=1)g[y]=(d[y]-f[y])/c}else g=(d-f)/c;return g}function s(){return this.pv}function l(u){this.propertyGroup=u}return{searchExpressions:a,getSpeedAtTime:n,getVelocityAtTime:o,getValueAtTime:t,getStaticValueAtTime:s,setGroupProperty:l}}();function addPropertyDecorator(){function a(S,_,x){if(!this.k||!this.keyframes)return this.pv;S=S?S.toLowerCase():"";var b=this.comp.renderedFrame,T=this.keyframes,A=T[T.length-1].t;if(b<=A)return this.pv;var C,E;x?(_?C=Math.abs(A-this.elem.comp.globalData.frameRate*_):C=Math.max(0,A-this.elem.data.ip),E=A-C):((!_||_>T.length-1)&&(_=T.length-1),E=T[T.length-1-_].t,C=A-E);var P,M,I;if(S==="pingpong"){var D=Math.floor((b-E)/C);if(D%2!==0)return this.getValueAtTime((C-(b-E)%C+E)/this.comp.globalData.frameRate,0)}else if(S==="offset"){var L=this.getValueAtTime(E/this.comp.globalData.frameRate,0),$=this.getValueAtTime(A/this.comp.globalData.frameRate,0),O=this.getValueAtTime(((b-E)%C+E)/this.comp.globalData.frameRate,0),V=Math.floor((b-E)/C);if(this.pv.length){for(I=new Array(L.length),M=I.length,P=0;P<M;P+=1)I[P]=($[P]-L[P])*V+O[P];return I}return($-L)*V+O}else if(S==="continue"){var F=this.getValueAtTime(A/this.comp.globalData.frameRate,0),z=this.getValueAtTime((A-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(I=new Array(F.length),M=I.length,P=0;P<M;P+=1)I[P]=F[P]+(F[P]-z[P])*((b-A)/this.comp.globalData.frameRate)/5e-4;return I}return F+(F-z)*((b-A)/.001)}return this.getValueAtTime(((b-E)%C+E)/this.comp.globalData.frameRate,0)}function t(S,_,x){if(!this.k)return this.pv;S=S?S.toLowerCase():"";var b=this.comp.renderedFrame,T=this.keyframes,A=T[0].t;if(b>=A)return this.pv;var C,E;x?(_?C=Math.abs(this.elem.comp.globalData.frameRate*_):C=Math.max(0,this.elem.data.op-A),E=A+C):((!_||_>T.length-1)&&(_=T.length-1),E=T[_].t,C=E-A);var P,M,I;if(S==="pingpong"){var D=Math.floor((A-b)/C);if(D%2===0)return this.getValueAtTime(((A-b)%C+A)/this.comp.globalData.frameRate,0)}else if(S==="offset"){var L=this.getValueAtTime(A/this.comp.globalData.frameRate,0),$=this.getValueAtTime(E/this.comp.globalData.frameRate,0),O=this.getValueAtTime((C-(A-b)%C+A)/this.comp.globalData.frameRate,0),V=Math.floor((A-b)/C)+1;if(this.pv.length){for(I=new Array(L.length),M=I.length,P=0;P<M;P+=1)I[P]=O[P]-($[P]-L[P])*V;return I}return O-($-L)*V}else if(S==="continue"){var F=this.getValueAtTime(A/this.comp.globalData.frameRate,0),z=this.getValueAtTime((A+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(I=new Array(F.length),M=I.length,P=0;P<M;P+=1)I[P]=F[P]+(F[P]-z[P])*(A-b)/.001;return I}return F+(F-z)*(A-b)/.001}return this.getValueAtTime((C-((A-b)%C+A))/this.comp.globalData.frameRate,0)}function n(S,_){if(!this.k)return this.pv;if(S=(S||.4)*.5,_=Math.floor(_||5),_<=1)return this.pv;var x=this.comp.renderedFrame/this.comp.globalData.frameRate,b=x-S,T=x+S,A=_>1?(T-b)/(_-1):1,C=0,E=0,P;this.pv.length?P=createTypedArray("float32",this.pv.length):P=0;for(var M;C<_;){if(M=this.getValueAtTime(b+C*A),this.pv.length)for(E=0;E<this.pv.length;E+=1)P[E]+=M[E];else P+=M;C+=1}if(this.pv.length)for(E=0;E<this.pv.length;E+=1)P[E]/=_;else P/=_;return P}function o(S){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var _=this._transformCachingAtTime.v;if(_.cloneFromProps(this.pre.props),this.appliedTransformations<1){var x=this.a.getValueAtTime(S);_.translate(-x[0]*this.a.mult,-x[1]*this.a.mult,x[2]*this.a.mult)}if(this.appliedTransformations<2){var b=this.s.getValueAtTime(S);_.scale(b[0]*this.s.mult,b[1]*this.s.mult,b[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var T=this.sk.getValueAtTime(S),A=this.sa.getValueAtTime(S);_.skewFromAxis(-T*this.sk.mult,A*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var C=this.r.getValueAtTime(S);_.rotate(-C*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var E=this.rz.getValueAtTime(S),P=this.ry.getValueAtTime(S),M=this.rx.getValueAtTime(S),I=this.or.getValueAtTime(S);_.rotateZ(-E*this.rz.mult).rotateY(P*this.ry.mult).rotateX(M*this.rx.mult).rotateZ(-I[2]*this.or.mult).rotateY(I[1]*this.or.mult).rotateX(I[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var D=this.px.getValueAtTime(S),L=this.py.getValueAtTime(S);if(this.data.p.z){var $=this.pz.getValueAtTime(S);_.translate(D*this.px.mult,L*this.py.mult,-$*this.pz.mult)}else _.translate(D*this.px.mult,L*this.py.mult,0)}else{var O=this.p.getValueAtTime(S);_.translate(O[0]*this.p.mult,O[1]*this.p.mult,-O[2]*this.p.mult)}return _}function s(){return this.v.clone(new Matrix)}var l=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(S,_,x){var b=l(S,_,x);return b.dynamicProperties.length?b.getValueAtTime=o.bind(b):b.getValueAtTime=s.bind(b),b.setGroupProperty=expressionHelpers.setGroupProperty,b};var u=PropertyFactory.getProp;PropertyFactory.getProp=function(S,_,x,b,T){var A=u(S,_,x,b,T);A.kf?A.getValueAtTime=expressionHelpers.getValueAtTime.bind(A):A.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(A),A.setGroupProperty=expressionHelpers.setGroupProperty,A.loopOut=a,A.loopIn=t,A.smooth=n,A.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(A),A.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(A),A.numKeys=_.a===1?_.k.length:0,A.propertyIndex=_.ix;var C=0;return x!==0&&(C=createTypedArray("float32",_.a===1?_.k[0].s.length:_.k.length)),A._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:C},expressionHelpers.searchExpressions(S,_,A),A.k&&T.addDynamicProperty(A),A};function c(S){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),S*=this.elem.globalData.frameRate,S-=this.offsetTime,S!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<S?this._caching.lastIndex:0,this._cachingAtTime.lastTime=S,this.interpolateShape(S,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var f=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();function g(){}g.prototype={vertices:function(_,x){this.k&&this.getValue();var b=this.v;x!==void 0&&(b=this.getValueAtTime(x,0));var T,A=b._length,C=b[_],E=b.v,P=createSizedArray(A);for(T=0;T<A;T+=1)_==="i"||_==="o"?P[T]=[C[T][0]-E[T][0],C[T][1]-E[T][1]]:P[T]=[C[T][0],C[T][1]];return P},points:function(_){return this.vertices("v",_)},inTangents:function(_){return this.vertices("i",_)},outTangents:function(_){return this.vertices("o",_)},isClosed:function(){return this.v.c},pointOnPath:function(_,x){var b=this.v;x!==void 0&&(b=this.getValueAtTime(x,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(b));for(var T=this._segmentsLength,A=T.lengths,C=T.totalLength*_,E=0,P=A.length,M=0,I;E<P;){if(M+A[E].addedLength>C){var D=E,L=b.c&&E===P-1?0:E+1,$=(C-M)/A[E].addedLength;I=bez.getPointInSegment(b.v[D],b.v[L],b.o[D],b.i[L],$,A[E]);break}else M+=A[E].addedLength;E+=1}return I||(I=b.c?[b.v[0][0],b.v[0][1]]:[b.v[b._length-1][0],b.v[b._length-1][1]]),I},vectorOnPath:function(_,x,b){_==1?_=this.v.c:_==0&&(_=.999);var T=this.pointOnPath(_,x),A=this.pointOnPath(_+.001,x),C=A[0]-T[0],E=A[1]-T[1],P=Math.sqrt(Math.pow(C,2)+Math.pow(E,2));if(P===0)return[0,0];var M=b==="tangent"?[C/P,E/P]:[-E/P,C/P];return M},tangentOnPath:function(_,x){return this.vectorOnPath(_,x,"tangent")},normalOnPath:function(_,x){return this.vectorOnPath(_,x,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([g],f),extendPrototype([g],d),d.prototype.getValueAtTime=c,d.prototype.initiateExpression=ExpressionManager.initiateExpression;var y=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(S,_,x,b,T){var A=y(S,_,x,b,T);return A.propertyIndex=_.ix,A.lock=!1,x===3?expressionHelpers.searchExpressions(S,_.pt,A):x===4&&expressionHelpers.searchExpressions(S,_.ks,A),A.k&&S.addDynamicProperty(A),A}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function a(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,n){var o=this.calculateExpression(n);if(t.t!==o){var s={};return this.copyData(s,t),s.t=o.toString(),s.__complete=!1,s}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),n=this.searchExpressions();return this.kf=t||n,this.kf},TextProperty.prototype.searchExpressions=a}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function a(t,n){var o=createNS("feMerge");o.setAttribute("result",t);var s,l;for(l=0;l<n.length;l+=1)s=createNS("feMergeNode"),s.setAttribute("in",n[l]),o.appendChild(s),o.appendChild(s);return o}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(a,t,n,o,s){this.filterManager=t;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=l,l.setAttribute("result",o+"_tint_1"),a.appendChild(l),l=createNS("feColorMatrix"),l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",o+"_tint_2"),a.appendChild(l),this.matrixFilter=l;var u=this.createMergeNode(o,[s,o+"_tint_1",o+"_tint_2"]);a.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(a,t,n,o){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",o),a.appendChild(s),this.matrixFilter=s}SVGFillFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(a,t,n){this.initialized=!1,this.filterManager=t,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var a=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,n,o,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,o=0):(o=this.filterManager.effectElements[0].p.v-1,s=o+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),o;o<s;o+=1)t=createNS("path"),n.appendChild(t),this.paths.push({p:t,m:o});if(this.filterManager.effectElements[10].p.v===3){var l=createNS("mask"),u=createElementID();l.setAttribute("id",u),l.setAttribute("mask-type","alpha"),l.appendChild(n),this.elem.globalData.defs.appendChild(l);var c=createNS("g");for(c.setAttribute("mask","url("+getLocationHref()+"#"+u+")");a[0];)c.appendChild(a[0]);this.elem.layerElement.appendChild(c),this.masker=l,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(a=this.elem.layerElement.children||this.elem.layerElement.childNodes;a.length;)this.elem.layerElement.removeChild(a[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(a){this.initialized||this.initialize();var t,n=this.paths.length,o,s;for(t=0;t<n;t+=1)if(this.paths[t].m!==-1&&(o=this.elem.maskManager.viewData[this.paths[t].m],s=this.paths[t].p,(a||this.filterManager._mdf||o.prop._mdf)&&s.setAttribute("d",o.lastPath),a||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||o.prop._mdf)){var l;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var u=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,c=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,f=s.getTotalLength();l="0 0 0 "+f*u+" ";var d=f*(c-u),g=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,y=Math.floor(d/g),S;for(S=0;S<y;S+=1)l+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+f*10+" 0 0"}else l="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",l)}if((a||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(a||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(a||this.filterManager.effectElements[3].p._mdf)){var _=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(_[0]*255)+","+bmFloor(_[1]*255)+","+bmFloor(_[2]*255)+")")}};function SVGTritoneFilter(a,t,n,o){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),a.appendChild(s);var l=createNS("feComponentTransfer");l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",o),this.matrixFilter=l;var u=createNS("feFuncR");u.setAttribute("type","table"),l.appendChild(u),this.feFuncR=u;var c=createNS("feFuncG");c.setAttribute("type","table"),l.appendChild(c),this.feFuncG=c;var f=createNS("feFuncB");f.setAttribute("type","table"),l.appendChild(f),this.feFuncB=f,a.appendChild(l)}SVGTritoneFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,s=o[0]+" "+n[0]+" "+t[0],l=o[1]+" "+n[1]+" "+t[1],u=o[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",l),this.feFuncB.setAttribute("tableValues",u)}};function SVGProLevelsFilter(a,t,n,o){this.filterManager=t;var s=this.filterManager.effectElements,l=createNS("feComponentTransfer");(s[10].p.k||s[10].p.v!==0||s[11].p.k||s[11].p.v!==1||s[12].p.k||s[12].p.v!==1||s[13].p.k||s[13].p.v!==0||s[14].p.k||s[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",l)),(s[17].p.k||s[17].p.v!==0||s[18].p.k||s[18].p.v!==1||s[19].p.k||s[19].p.v!==1||s[20].p.k||s[20].p.v!==0||s[21].p.k||s[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",l)),(s[24].p.k||s[24].p.v!==0||s[25].p.k||s[25].p.v!==1||s[26].p.k||s[26].p.v!==1||s[27].p.k||s[27].p.v!==0||s[28].p.k||s[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",l)),(s[31].p.k||s[31].p.v!==0||s[32].p.k||s[32].p.v!==1||s[33].p.k||s[33].p.v!==1||s[34].p.k||s[34].p.v!==0||s[35].p.k||s[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",l)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(l.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(l)),(s[3].p.k||s[3].p.v!==0||s[4].p.k||s[4].p.v!==1||s[5].p.k||s[5].p.v!==1||s[6].p.k||s[6].p.v!==0||s[7].p.k||s[7].p.v!==1)&&(l=createNS("feComponentTransfer"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",o),a.appendChild(l),this.feFuncRComposed=this.createFeFunc("feFuncR",l),this.feFuncGComposed=this.createFeFunc("feFuncG",l),this.feFuncBComposed=this.createFeFunc("feFuncB",l))}SVGProLevelsFilter.prototype.createFeFunc=function(a,t){var n=createNS(a);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(a,t,n,o,s){for(var l=0,u=256,c,f=Math.min(a,t),d=Math.max(a,t),g=Array.call(null,{length:u}),y,S=0,_=s-o,x=t-a;l<=256;)c=l/256,c<=f?y=x<0?s:o:c>=d?y=x<0?o:s:y=o+_*Math.pow((c-a)/x,1/n),g[S]=y,S+=1,l+=256/(u-1);return g.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(a||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(a||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(a||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(a||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(a||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(a,t,n,o,s){var l=t.container.globalData.renderConfig.filterSize,u=t.data.fs||l;a.setAttribute("x",u.x||l.x),a.setAttribute("y",u.y||l.y),a.setAttribute("width",u.width||l.width),a.setAttribute("height",u.height||l.height),this.filterManager=t;var c=createNS("feGaussianBlur");c.setAttribute("in","SourceAlpha"),c.setAttribute("result",o+"_drop_shadow_1"),c.setAttribute("stdDeviation","0"),this.feGaussianBlur=c,a.appendChild(c);var f=createNS("feOffset");f.setAttribute("dx","25"),f.setAttribute("dy","0"),f.setAttribute("in",o+"_drop_shadow_1"),f.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=f,a.appendChild(f);var d=createNS("feFlood");d.setAttribute("flood-color","#00ff00"),d.setAttribute("flood-opacity","1"),d.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=d,a.appendChild(d);var g=createNS("feComposite");g.setAttribute("in",o+"_drop_shadow_3"),g.setAttribute("in2",o+"_drop_shadow_2"),g.setAttribute("operator","in"),g.setAttribute("result",o+"_drop_shadow_4"),a.appendChild(g);var y=this.createMergeNode(o,[o+"_drop_shadow_4",s]);a.appendChild(y)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){if((a||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),a||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((a||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),a||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=n*Math.cos(o),l=n*Math.sin(o);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",l)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(a,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=a,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(a){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===a)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(a,t){var n=a.layerElement.parentNode;if(n){for(var o=n.children,s=0,l=o.length;s<l&&o[s]!==a.layerElement;)s+=1;var u;s<=l-2&&(u=o[s+1]);var c=createNS("use");c.setAttribute("href","#"+t),u?n.insertBefore(c,u):n.appendChild(c)}},SVGMatte3Effect.prototype.setElementAsMask=function(a,t){if(!this.findSymbol(t)){var n=createElementID(),o=createNS("mask");o.setAttribute("id",t.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var s=a.globalData.defs;s.appendChild(o);var l=createNS("symbol");l.setAttribute("id",n),this.replaceInParent(t,n),l.appendChild(t.layerElement),s.appendChild(l);var u=createNS("use");u.setAttribute("href","#"+n),o.appendChild(u),t.data.hd=!1,t.show()}a.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var a=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,o=t.length;n<o;)t[n]&&t[n].data.ind===a&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(a,t,n,o){a.setAttribute("x","-100%"),a.setAttribute("y","-100%"),a.setAttribute("width","300%"),a.setAttribute("height","300%"),this.filterManager=t;var s=createNS("feGaussianBlur");s.setAttribute("result",o),a.appendChild(s),this.feGaussianBlur=s}SVGGaussianBlurEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var t=.3,n=this.filterManager.effectElements[0].p.v*t,o=this.filterManager.effectElements[1].p.v,s=o==3?0:n,l=o==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+l);var u=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",u)}};function TransformEffect(){}TransformEffect.prototype.init=function(a){this.effectsManager=a,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(a){if(this._opMdf=!1,this._mdf=!1,a||this.effectsManager._mdf){var t=this.effectsManager.effectElements,n=t[0].p.v,o=t[1].p.v,s=t[2].p.v===1,l=t[3].p.v,u=s?l:t[4].p.v,c=t[5].p.v,f=t[6].p.v,d=t[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(u*.01,l*.01,1),this.matrix.rotate(-d*degToRads),this.matrix.skewFromAxis(-c*degToRads,(f+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(a,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(a){this.init(a)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports),_sfc_main$i=defineComponent({__name:"LottieAnimation",props:{animationData:{type:Object,required:!0},width:{type:String,default:"100%"},height:{type:String,default:"100%"},loop:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},speed:{type:Number,default:1}},emits:["animation-loaded","animation-complete"],setup(a,{expose:t,emit:n}){const o=a,s=n,l=ref(null);let u=null;return onMounted(()=>{l.value&&(u=lottie.loadAnimation({container:l.value,renderer:"svg",loop:o.loop,autoplay:o.autoplay,animationData:o.animationData}),o.speed!==1&&u.setSpeed(o.speed),u.addEventListener("DOMLoaded",()=>{s("animation-loaded")}),u.addEventListener("complete",()=>{s("animation-complete")}))}),watch(()=>o.animationData,c=>{u&&l.value&&(u.destroy(),u=lottie.loadAnimation({container:l.value,renderer:"svg",loop:o.loop,autoplay:o.autoplay,animationData:c}),o.speed!==1&&u.setSpeed(o.speed))},{deep:!0}),watch(()=>o.speed,c=>{u&&u.setSpeed(c)}),onUnmounted(()=>{u&&(u.destroy(),u=null)}),t({play:()=>u==null?void 0:u.play(),stop:()=>u==null?void 0:u.stop(),pause:()=>u==null?void 0:u.pause(),goToAndPlay:c=>u==null?void 0:u.goToAndPlay(c,!0),goToAndStop:c=>u==null?void 0:u.goToAndStop(c,!0)}),(c,f)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:l,class:"lottie-container",style:normalizeStyle$1({width:a.width,height:a.height})},null,4))}}),_export_sfc=(a,t)=>{const n=a.__vccOpts||a;for(const[o,s]of t)n[o]=s;return n},LottieAnimation=_export_sfc(_sfc_main$i,[["__scopeId","data-v-0c22d208"]]),v$4="5.7.1",fr$4=30,ip$4=0,op$4=60,w$4=48,h$4=48,nm$4="",ddd$4=0,assets$4=[],layers$4=[{ddd:0,ind:1,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{t:0,s:[0],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[5],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[0],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[32,32]},p:{a:0,k:[0,0]}},{ty:"st",c:{a:1,k:[{t:0,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[.302,.58,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"fl",c:{a:1,k:[{t:0,s:[.231,.51,.965,.6],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[.302,.58,.965,.8],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[.231,.51,.965,.6],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""},{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{c:!0,v:[[-6,-3],[0,5],[6,-3],[0,-6],[-6,-3]],i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]]}}},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"fl",c:{a:1,k:[{t:0,s:[1,1,1,.6],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[1,1,1,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[1,1,1,.6],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[110,110],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""}],ip:0,op:60,st:0}],markers$4=[],psychAnimation={v:v$4,fr:fr$4,ip:ip$4,op:op$4,w:w$4,h:h$4,nm:nm$4,ddd:ddd$4,assets:assets$4,layers:layers$4,markers:markers$4},v$3="5.7.1",fr$3=30,ip$3=0,op$3=60,w$3=48,h$3=48,nm$3="",ddd$3=0,assets$3=[],layers$3=[{ddd:0,ind:1,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[2,40]},p:{a:0,k:[0,0]},r:{a:0,k:1}},{ty:"fl",c:{a:1,k:[{t:0,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[.302,.58,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""},{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12]},p:{a:0,k:[0,-15]}},{ty:"fl",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[120,120],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"1"},{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[8,8]},p:{a:0,k:[0,0]}},{ty:"fl",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[90,90],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"2"},{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[10,10]},p:{a:0,k:[0,15]}},{ty:"fl",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[110,110],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"3"}],ip:0,op:60,st:0}],markers$3=[],timelineAnimation={v:v$3,fr:fr$3,ip:ip$3,op:op$3,w:w$3,h:h$3,nm:nm$3,ddd:ddd$3,assets:assets$3,layers:layers$3,markers:markers$3},v$2="5.7.1",fr$2=30,ip$2=0,op$2=60,w$2=48,h$2=48,nm$2="",ddd$2=0,assets$2=[],layers$2=[{ddd:0,ind:1,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{t:0,s:[0],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[360],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[34,34]},p:{a:0,k:[0,0]}},{ty:"st",c:{a:1,k:[{t:0,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[.302,.58,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[.231,.51,.965,1],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},w:{a:0,k:3},lc:2,lj:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""}],ip:0,op:60,st:0},{ddd:0,ind:2,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{t:0,s:[0],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[360],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{c:!1,v:[[0,0],[0,-12]],i:[[0,0],[0,0]],o:[[0,0],[0,0]]}}},{ty:"st",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"1"},{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{c:!1,v:[[0,0],[8,0]],i:[[0,0],[0,0]],o:[[0,0],[0,0]]}}},{ty:"st",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"2"}],ip:0,op:60,st:0},{ddd:0,ind:3,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:1,k:[{t:0,s:[100,100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[120,120,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[8,8]},p:{a:0,k:[0,0]}},{ty:"fl",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""}],ip:0,op:60,st:0}],markers$2=[],countdownAnimation={v:v$2,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2},v$1="5.7.1",fr$1=30,ip$1=0,op$1=60,w$1=48,h$1=48,nm$1="",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[24,24,0]},a:{a:0,k:[0,0,0]},s:{a:1,k:[{t:0,s:[100,100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[110,110,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[100,100,100],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{c:!0,v:[[-16,-9],[16,-9],[16,9],[-16,9],[-16,-9]],i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]]}}},{ty:"st",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"fl",c:{a:1,k:[{t:0,s:[.231,.51,.965,.2],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[.302,.58,.965,.3],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[.231,.51,.965,.2],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]},o:{a:0,k:100},r:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""},{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{c:!0,v:[[-16,-9],[0,0],[16,-9]],i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]]}}},{ty:"st",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""},{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:1,k:[{t:0,s:[{c:!1,v:[[-10,3],[0,6],[10,3]],i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]]}],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:30,s:[{c:!1,v:[[-10,4],[0,7],[10,4]],i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]]}],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}},{t:60,s:[{c:!1,v:[[-10,3],[0,6],[10,3]],i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]]}],i:{x:[.5],y:[1]},o:{x:[.5],y:[0]}}]}},{ty:"st",c:{a:0,k:[.231,.51,.965,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:""}],ip:0,op:60,st:0}],markers$1=[],letterAnimation={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},v="5.7.4",fr=30,ip=0,op=60,w=100,h=100,nm="M Letter Animation",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"M Shape",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[50,50,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[0,80],[0,0],[25,40],[50,0],[50,80]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.37,.37,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"M",np:2,cix:3,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Animation",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[50,50,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[0,0,100]},{t:15,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[0,80],[0,0],[25,40],[50,0],[50,80]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.37,.37,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"M",np:2,cix:3,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0}],markers=[],miaoAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},_hoisted_1$f=["onClick"],_hoisted_2$7={class:"w-6 h-6"},_hoisted_3$6={class:"mt-1 text-xs md:text-sm transition-all duration-300 font-alibaba"},_hoisted_4$6={key:0,class:"absolute -bottom-px left-0 w-full h-0.5 bg-primary rounded-full transition-all duration-300"},_sfc_main$h=defineComponent({__name:"LottieTabbar",props:{tabs:{},activeTab:{},class:{}},emits:["update:activeTab"],setup(a,{emit:t}){const n=a,o=t,s=computed(()=>({:psychAnimation,:timelineAnimation,:countdownAnimation,:letterAnimation,:miaoAnimation})),l=c=>s.value[c]||{},u=c=>{o("update:activeTab",c)};return(c,f)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("relative flex justify-center items-center",n.class))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.tabs,(d,g)=>(openBlock(),createElementBlock("div",{key:g,class:normalizeClass(["flex flex-col items-center mx-2 py-2 px-4 cursor-pointer relative transition-all duration-300",[c.activeTab===d?"text-primary font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300"]]),onClick:y=>u(d)},[createBaseVNode("div",_hoisted_2$7,[createVNode$1(LottieAnimation,{"animation-data":l(d),width:"24px",height:"24px",speed:c.activeTab===d?1.5:1,autoplay:!0,loop:!0,color:c.activeTab===d?"var(--primary)":"#000000"},null,8,["animation-data","speed","color"])]),createBaseVNode("span",_hoisted_3$6,toDisplayString(d),1),c.activeTab===d?(openBlock(),createElementBlock("div",_hoisted_4$6)):createCommentVNode("",!0)],10,_hoisted_1$f))),128))],2))}}),LottieTabbar=_export_sfc(_sfc_main$h,[["__scopeId","data-v-2ba1d208"]]),_hoisted_1$e={class:"min-h-screen bg-background text-foreground transition-colors duration-300"},_hoisted_2$6={class:"sticky top-0 z-50 backdrop-blur-md bg-white/70 dark:bg-black/70 border-b border-gray-200 dark:border-gray-700 shadow-sm transition-all duration-200"},_hoisted_3$5={class:"flex justify-between items-center px-4 py-2 max-w-6xl mx-auto"},_hoisted_4$5={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},_hoisted_5$5={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},_hoisted_6$4={class:"max-w-10xl mx-auto p-4"},_sfc_main$g=defineComponent({__name:"App",setup(a){const t=["","","","",""],n=["/psych-activity","/timeline","/countdown","/letter","/miao"],o=ref(t[0]),s=useRouter(),l=useRoute(),u=ref(!1);onMounted(()=>{const f=n.findIndex(y=>l.path===y);f!==-1&&(o.value=t[f]);const d=window.matchMedia("(prefers-color-scheme: dark)").matches,g=localStorage.getItem("theme");g==="dark"||!g&&d?(u.value=!0,document.documentElement.classList.add("dark")):(u.value=!1,document.documentElement.classList.remove("dark"))});const c=()=>{u.value=!u.value,u.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return watch(o,f=>{const d=t.indexOf(f);d!==-1&&s.push(n[d])}),(f,d)=>(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("header",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[createVNode$1(LottieTabbar,{tabs:t,"active-tab":o.value,"onUpdate:activeTab":d[0]||(d[0]=g=>o.value=g),class:"font-medium text-sm md:text-base"},null,8,["active-tab"]),createBaseVNode("button",{onClick:c,class:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 transition-colors duration-200","aria-label":""},[u.value?(openBlock(),createElementBlock("svg",_hoisted_4$5,d[1]||(d[1]=[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_5$5,d[2]||(d[2]=[createBaseVNode("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])))])])]),createBaseVNode("main",_hoisted_6$4,[createVNode$1(unref(RouterView))])]))}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(a,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},extendStatics$1(a,t)};function __extends$1(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics$1(a,t);function n(){this.constructor=a}a.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Browser=function(){function a(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return a}(),Env=function(){function a(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return a}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(a,t){var n=t.browser,o=a.match(/Firefox\/([\d.]+)/),s=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),l=a.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(a);o&&(n.firefox=!0,n.version=o[1]),s&&(n.ie=!0,n.version=s[1]),l&&(n.edge=!0,n.version=l[1],n.newEdge=+l[1].split(".")[0]>18),u&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var c=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in c||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in c)&&!("OTransition"in c),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(a){var t={};if(typeof JSON>"u")return t;for(var n=0;n<a.length;n++){var o=String.fromCharCode(n+32),s=(a.charCodeAt(n)-OFFSET)/SCALE;t[o]=s}return t}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var a,t;return function(n,o){if(!a){var s=platformApi.createCanvas();a=s&&s.getContext("2d")}if(a)return t!==o&&(t=a.font=o||DEFAULT_FONT),a.measureText(n);n=n||"",o=o||DEFAULT_FONT;var l=/((?:\d+)?\.?\d*)px/.exec(o),u=l&&+l[1]||DEFAULT_FONT_SIZE,c=0;if(o.indexOf("mono")>=0)c=u*n.length;else for(var f=0;f<n.length;f++){var d=DEFAULT_TEXT_WIDTH_MAP[n[f]];c+=d==null?u:d*u}return{width:c}}}(),loadImage:function(a,t,n){var o=new Image;return o.onload=t,o.onerror=n,o.src=a,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,t){return a["[object "+t+"]"]=!0,a},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,t){return a["[object "+t+"Array]"]=!0,a},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];typeof console<"u"&&console.error.apply(console,a)}function clone$4(a){if(a==null||typeof a!="object")return a;var t=a,n=objToString.call(a);if(n==="[object Array]"){if(!isPrimitive(a)){t=[];for(var o=0,s=a.length;o<s;o++)t[o]=clone$4(a[o])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(a)){var l=a.constructor;if(l.from)t=l.from(a);else{t=new l(a.length);for(var o=0,s=a.length;o<s;o++)t[o]=a[o]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(a)&&!isDom(a)){t={};for(var u in a)a.hasOwnProperty(u)&&u!==protoKey&&(t[u]=clone$4(a[u]))}return t}function merge(a,t,n){if(!isObject$3(t)||!isObject$3(a))return n?clone$4(t):a;for(var o in t)if(t.hasOwnProperty(o)&&o!==protoKey){var s=a[o],l=t[o];isObject$3(l)&&isObject$3(s)&&!isArray$2(l)&&!isArray$2(s)&&!isDom(l)&&!isDom(s)&&!isBuiltInObject(l)&&!isBuiltInObject(s)&&!isPrimitive(l)&&!isPrimitive(s)?merge(s,l,n):(n||!(o in a))&&(a[o]=clone$4(t[o]))}return a}function mergeAll(a,t){for(var n=a[0],o=1,s=a.length;o<s;o++)n=merge(n,a[o],t);return n}function extend(a,t){if(Object.assign)Object.assign(a,t);else for(var n in t)t.hasOwnProperty(n)&&n!==protoKey&&(a[n]=t[n]);return a}function defaults(a,t,n){for(var o=keys$1(t),s=0,l=o.length;s<l;s++){var u=o[s];(n?t[u]!=null:a[u]==null)&&(a[u]=t[u])}return a}function indexOf(a,t){if(a){if(a.indexOf)return a.indexOf(t);for(var n=0,o=a.length;n<o;n++)if(a[n]===t)return n}return-1}function inherits(a,t){var n=a.prototype;function o(){}o.prototype=t.prototype,a.prototype=new o;for(var s in n)n.hasOwnProperty(s)&&(a.prototype[s]=n[s]);a.prototype.constructor=a,a.superClass=t}function mixin(a,t,n){if(a="prototype"in a?a.prototype:a,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(t),s=0;s<o.length;s++){var l=o[s];l!=="constructor"&&(n?t[l]!=null:a[l]==null)&&(a[l]=t[l])}else defaults(a,t,n)}function isArrayLike(a){return!a||typeof a=="string"?!1:typeof a.length=="number"}function each$f(a,t,n){if(a&&t)if(a.forEach&&a.forEach===nativeForEach)a.forEach(t,n);else if(a.length===+a.length)for(var o=0,s=a.length;o<s;o++)t.call(n,a[o],o,a);else for(var l in a)a.hasOwnProperty(l)&&t.call(n,a[l],l,a)}function map$1(a,t,n){if(!a)return[];if(!t)return slice(a);if(a.map&&a.map===nativeMap)return a.map(t,n);for(var o=[],s=0,l=a.length;s<l;s++)o.push(t.call(n,a[s],s,a));return o}function reduce(a,t,n,o){if(a&&t){for(var s=0,l=a.length;s<l;s++)n=t.call(o,n,a[s],s,a);return n}}function filter$1(a,t,n){if(!a)return[];if(!t)return slice(a);if(a.filter&&a.filter===nativeFilter)return a.filter(t,n);for(var o=[],s=0,l=a.length;s<l;s++)t.call(n,a[s],s,a)&&o.push(a[s]);return o}function find(a,t,n){if(a&&t){for(var o=0,s=a.length;o<s;o++)if(t.call(n,a[o],o,a))return a[o]}}function keys$1(a){if(!a)return[];if(Object.keys)return Object.keys(a);var t=[];for(var n in a)a.hasOwnProperty(n)&&t.push(n);return t}function bindPolyfill(a,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return function(){return a.apply(t,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(a){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return a.apply(this,t.concat(nativeSlice.call(arguments)))}}function isArray$2(a){return Array.isArray?Array.isArray(a):objToString.call(a)==="[object Array]"}function isFunction(a){return typeof a=="function"}function isString(a){return typeof a=="string"}function isStringSafe(a){return objToString.call(a)==="[object String]"}function isNumber$2(a){return typeof a=="number"}function isObject$3(a){var t=typeof a;return t==="function"||!!a&&t==="object"}function isBuiltInObject(a){return!!BUILTIN_OBJECT[objToString.call(a)]}function isTypedArray(a){return!!TYPED_ARRAY[objToString.call(a)]}function isDom(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.ownerDocument=="object"}function isGradientObject(a){return a.colorStops!=null}function isImagePatternObject(a){return a.image!=null}function isRegExp(a){return objToString.call(a)==="[object RegExp]"}function eqNaN(a){return a!==a}function retrieve(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];for(var n=0,o=a.length;n<o;n++)if(a[n]!=null)return a[n]}function retrieve2(a,t){return a??t}function retrieve3(a,t,n){return a??t??n}function slice(a){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return nativeSlice.apply(a,t)}function normalizeCssArray$1(a){if(typeof a=="number")return[a,a,a,a];var t=a.length;return t===2?[a[0],a[1],a[0],a[1]]:t===3?[a[0],a[1],a[2],a[1]]:a}function assert(a,t){if(!a)throw new Error(t)}function trim$1(a){return a==null?null:typeof a.trim=="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(a){a[primitiveKey]=!0}function isPrimitive(a){return a[primitiveKey]}var MapPolyfill=function(){function a(){this.data={}}return a.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},a.prototype.has=function(t){return this.data.hasOwnProperty(t)},a.prototype.get=function(t){return this.data[t]},a.prototype.set=function(t,n){return this.data[t]=n,this},a.prototype.keys=function(){return keys$1(this.data)},a.prototype.forEach=function(t){var n=this.data;for(var o in n)n.hasOwnProperty(o)&&t(n[o],o)},a}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function a(t){var n=isArray$2(t);this.data=maybeNativeMap();var o=this;t instanceof a?t.each(s):t&&each$f(t,s);function s(l,u){n?o.set(l,u):o.set(u,l)}}return a.prototype.hasKey=function(t){return this.data.has(t)},a.prototype.get=function(t){return this.data.get(t)},a.prototype.set=function(t,n){return this.data.set(t,n),n},a.prototype.each=function(t,n){this.data.forEach(function(o,s){t.call(n,o,s)})},a.prototype.keys=function(){var t=this.data.keys();return isNativeMapSupported?Array.from(t):t},a.prototype.removeKey=function(t){this.data.delete(t)},a}();function createHashMap(a){return new HashMap(a)}function concatArray(a,t){for(var n=new a.constructor(a.length+t.length),o=0;o<a.length;o++)n[o]=a[o];for(var s=a.length,o=0;o<t.length;o++)n[o+s]=t[o];return n}function createObject(a,t){var n;if(Object.create)n=Object.create(a);else{var o=function(){};o.prototype=a,n=new o}return t&&extend(n,t),n}function disableUserSelect(a){var t=a.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function hasOwn(a,t){return a.hasOwnProperty(t)}function noop$2(){}var RADIAN_TO_DEGREE=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(a,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},extendStatics(a,t)};function __extends(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(a,t);function n(){this.constructor=a}a.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function create$2(a,t){return a==null&&(a=0),t==null&&(t=0),[a,t]}function copy$1(a,t){return a[0]=t[0],a[1]=t[1],a}function clone$3(a){return[a[0],a[1]]}function set$1(a,t,n){return a[0]=t,a[1]=n,a}function add(a,t,n){return a[0]=t[0]+n[0],a[1]=t[1]+n[1],a}function scaleAndAdd$1(a,t,n,o){return a[0]=t[0]+n[0]*o,a[1]=t[1]+n[1]*o,a}function sub(a,t,n){return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a}function len(a){return Math.sqrt(lenSquare(a))}function lenSquare(a){return a[0]*a[0]+a[1]*a[1]}function scale$3(a,t,n){return a[0]=t[0]*n,a[1]=t[1]*n,a}function normalize$3(a,t){var n=len(t);return n===0?(a[0]=0,a[1]=0):(a[0]=t[0]/n,a[1]=t[1]/n),a}function distance$1(a,t){return Math.sqrt((a[0]-t[0])*(a[0]-t[0])+(a[1]-t[1])*(a[1]-t[1]))}var dist$1=distance$1;function distanceSquare(a,t){return(a[0]-t[0])*(a[0]-t[0])+(a[1]-t[1])*(a[1]-t[1])}var distSquare=distanceSquare;function lerp$1(a,t,n,o){return a[0]=t[0]+o*(n[0]-t[0]),a[1]=t[1]+o*(n[1]-t[1]),a}function applyTransform$1(a,t,n){var o=t[0],s=t[1];return a[0]=n[0]*o+n[2]*s+n[4],a[1]=n[1]*o+n[3]*s+n[5],a}function min$1(a,t,n){return a[0]=Math.min(t[0],n[0]),a[1]=Math.min(t[1],n[1]),a}function max$1(a,t,n){return a[0]=Math.max(t[0],n[0]),a[1]=Math.max(t[1],n[1]),a}var Param=function(){function a(t,n){this.target=t,this.topTarget=n&&n.topTarget}return a}(),Draggable=function(){function a(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Param(n,t),"dragstart",t.event))},a.prototype._drag=function(t){var n=this._draggingTarget;if(n){var o=t.offsetX,s=t.offsetY,l=o-this._x,u=s-this._y;this._x=o,this._y=s,n.drift(l,u,t),this.handler.dispatchToElement(new Param(n,t),"drag",t.event);var c=this.handler.findHover(o,s,n).target,f=this._dropTarget;this._dropTarget=c,n!==c&&(f&&c!==f&&this.handler.dispatchToElement(new Param(f,t),"dragleave",t.event),c&&c!==f&&this.handler.dispatchToElement(new Param(c,t),"dragenter",t.event))}},a.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},a}(),Eventful=function(){function a(t){t&&(this._$eventProcessor=t)}return a.prototype.on=function(t,n,o,s){this._$handlers||(this._$handlers={});var l=this._$handlers;if(typeof n=="function"&&(s=o,o=n,n=null),!o||!t)return this;var u=this._$eventProcessor;n!=null&&u&&u.normalizeQuery&&(n=u.normalizeQuery(n)),l[t]||(l[t]=[]);for(var c=0;c<l[t].length;c++)if(l[t][c].h===o)return this;var f={h:o,query:n,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},d=l[t].length-1,g=l[t][d];return g&&g.callAtLast?l[t].splice(d,0,f):l[t].push(f),this},a.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},a.prototype.off=function(t,n){var o=this._$handlers;if(!o)return this;if(!t)return this._$handlers={},this;if(n){if(o[t]){for(var s=[],l=0,u=o[t].length;l<u;l++)o[t][l].h!==n&&s.push(o[t][l]);o[t]=s}o[t]&&o[t].length===0&&delete o[t]}else delete o[t];return this},a.prototype.trigger=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[t],l=this._$eventProcessor;if(s)for(var u=n.length,c=s.length,f=0;f<c;f++){var d=s[f];if(!(l&&l.filter&&d.query!=null&&!l.filter(t,d.query)))switch(u){case 0:d.h.call(d.ctx);break;case 1:d.h.call(d.ctx,n[0]);break;case 2:d.h.call(d.ctx,n[0],n[1]);break;default:d.h.apply(d.ctx,n);break}}return l&&l.afterTrigger&&l.afterTrigger(t),this},a.prototype.triggerWithContext=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[t],l=this._$eventProcessor;if(s)for(var u=n.length,c=n[u-1],f=s.length,d=0;d<f;d++){var g=s[d];if(!(l&&l.filter&&g.query!=null&&!l.filter(t,g.query)))switch(u){case 0:g.h.call(c);break;case 1:g.h.call(c,n[0]);break;case 2:g.h.call(c,n[0],n[1]);break;default:g.h.apply(c,n.slice(1,u-1));break}}return l&&l.afterTrigger&&l.afterTrigger(t),this},a}(),LN2=Math.log(2);function determinant(a,t,n,o,s,l){var u=o+"-"+s,c=a.length;if(l.hasOwnProperty(u))return l[u];if(t===1){var f=Math.round(Math.log((1<<c)-1&~s)/LN2);return a[n][f]}for(var d=o|1<<n,g=n+1;o&1<<g;)g++;for(var y=0,S=0,_=0;S<c;S++){var x=1<<S;x&s||(y+=(_%2?-1:1)*a[n][S]*determinant(a,t-1,g,d,s|x,l),_++)}return l[u]=y,y}function buildTransformer(a,t){var n=[[a[0],a[1],1,0,0,0,-t[0]*a[0],-t[0]*a[1]],[0,0,0,a[0],a[1],1,-t[1]*a[0],-t[1]*a[1]],[a[2],a[3],1,0,0,0,-t[2]*a[2],-t[2]*a[3]],[0,0,0,a[2],a[3],1,-t[3]*a[2],-t[3]*a[3]],[a[4],a[5],1,0,0,0,-t[4]*a[4],-t[4]*a[5]],[0,0,0,a[4],a[5],1,-t[5]*a[4],-t[5]*a[5]],[a[6],a[7],1,0,0,0,-t[6]*a[6],-t[6]*a[7]],[0,0,0,a[6],a[7],1,-t[7]*a[6],-t[7]*a[7]]],o={},s=determinant(n,8,0,0,0,o);if(s!==0){for(var l=[],u=0;u<8;u++)for(var c=0;c<8;c++)l[c]==null&&(l[c]=0),l[c]+=((u+c)%2?-1:1)*determinant(n,7,u===0?1:0,1<<u,1<<c,o)/s*t[u];return function(f,d,g){var y=d*l[6]+g*l[7]+1;f[0]=(d*l[0]+g*l[1]+l[2])/y,f[1]=(d*l[3]+g*l[4]+l[5])/y}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(a,t,n,o,s){return transformCoordWithViewport(_calcOut$1,t,o,s,!0)&&transformCoordWithViewport(a,n,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(a,t,n,o,s){if(t.getBoundingClientRect&&env.domSupported&&!isCanvasEl(t)){var l=t[EVENT_SAVED_PROP]||(t[EVENT_SAVED_PROP]={}),u=prepareCoordMarkers(t,l),c=preparePointerTransformer(u,l,s);if(c)return c(a,n,o),!0}return!1}function prepareCoordMarkers(a,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var o=["left","right"],s=["top","bottom"],l=0;l<4;l++){var u=document.createElement("div"),c=u.style,f=l%2,d=(l>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[f]+":0",s[d]+":0",o[1-f]+":auto",s[1-d]+":auto",""].join("!important;"),a.appendChild(u),n.push(u)}return n}function preparePointerTransformer(a,t,n){for(var o=n?"invTrans":"trans",s=t[o],l=t.srcCoords,u=[],c=[],f=!0,d=0;d<4;d++){var g=a[d].getBoundingClientRect(),y=2*d,S=g.left,_=g.top;u.push(S,_),f=f&&l&&S===l[y]&&_===l[y+1],c.push(a[d].offsetLeft,a[d].offsetTop)}return f&&s?s:(t.srcCoords=u,t[o]=n?buildTransformer(c,u):buildTransformer(u,c))}function isCanvasEl(a){return a.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(a){return a==null?"":(a+"").replace(replaceReg,function(t,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(a,t,n,o){return n=n||{},o?calculateZrXY(a,t,n):firefoxNotSupportOffsetXY&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):calculateZrXY(a,t,n),n}function calculateZrXY(a,t,n){if(env.domSupported&&a.getBoundingClientRect){var o=t.clientX,s=t.clientY;if(isCanvasEl(a)){var l=a.getBoundingClientRect();n.zrX=o-l.left,n.zrY=s-l.top;return}else if(transformCoordWithViewport(_calcOut,a,o,s)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(a){return a||window.event}function normalizeEvent(a,t,n){if(t=getNativeEvent(t),t.zrX!=null)return t;var o=t.type,s=o&&o.indexOf("touch")>=0;if(s){var u=o!=="touchend"?t.targetTouches[0]:t.changedTouches[0];u&&clientToLocal(a,u,t,n)}else{clientToLocal(a,t,t,n);var l=getWheelDeltaMayPolyfill(t);t.zrDelta=l?l/120:-(t.detail||0)/3}var c=t.button;return t.which==null&&c!==void 0&&MOUSE_EVENT_REG.test(t.type)&&(t.which=c&1?1:c&2?3:c&4?2:0),t}function getWheelDeltaMayPolyfill(a){var t=a.wheelDelta;if(t)return t;var n=a.deltaX,o=a.deltaY;if(n==null||o==null)return t;var s=Math.abs(o!==0?o:n),l=o>0?-1:o<0?1:n>0?-1:1;return 3*s*l}function addEventListener(a,t,n,o){a.addEventListener(t,n,o)}function removeEventListener(a,t,n,o){a.removeEventListener(t,n,o)}var stop=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(a){return a.which===2||a.which===3}var GestureMgr=function(){function a(){this._track=[]}return a.prototype.recognize=function(t,n,o){return this._doTrack(t,n,o),this._recognize(t)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(t,n,o){var s=t.touches;if(s){for(var l={points:[],touches:[],target:n,event:t},u=0,c=s.length;u<c;u++){var f=s[u],d=clientToLocal(o,f,{});l.points.push([d.zrX,d.zrY]),l.touches.push(f)}this._track.push(l)}},a.prototype._recognize=function(t){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var o=recognizers[n](this._track,t);if(o)return o}},a}();function dist(a){var t=a[1][0]-a[0][0],n=a[1][1]-a[0][1];return Math.sqrt(t*t+n*n)}function center$1(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var recognizers={pinch:function(a,t){var n=a.length;if(n){var o=(a[n-1]||{}).points,s=(a[n-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var l=dist(o)/dist(s);!isFinite(l)&&(l=1),t.pinchScale=l;var u=center$1(o);return t.pinchX=u[0],t.pinchY=u[1],{type:"pinch",target:a[0].target,event:t}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function copy(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function mul(a,t,n){var o=t[0]*n[0]+t[2]*n[1],s=t[1]*n[0]+t[3]*n[1],l=t[0]*n[2]+t[2]*n[3],u=t[1]*n[2]+t[3]*n[3],c=t[0]*n[4]+t[2]*n[5]+t[4],f=t[1]*n[4]+t[3]*n[5]+t[5];return a[0]=o,a[1]=s,a[2]=l,a[3]=u,a[4]=c,a[5]=f,a}function translate(a,t,n){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4]+n[0],a[5]=t[5]+n[1],a}function rotate$1(a,t,n,o){o===void 0&&(o=[0,0]);var s=t[0],l=t[2],u=t[4],c=t[1],f=t[3],d=t[5],g=Math.sin(n),y=Math.cos(n);return a[0]=s*y+c*g,a[1]=-s*g+c*y,a[2]=l*y+f*g,a[3]=-l*g+y*f,a[4]=y*(u-o[0])+g*(d-o[1])+o[0],a[5]=y*(d-o[1])-g*(u-o[0])+o[1],a}function scale$2(a,t,n){var o=n[0],s=n[1];return a[0]=t[0]*o,a[1]=t[1]*s,a[2]=t[2]*o,a[3]=t[3]*s,a[4]=t[4]*o,a[5]=t[5]*s,a}function invert(a,t){var n=t[0],o=t[2],s=t[4],l=t[1],u=t[3],c=t[5],f=n*u-l*o;return f?(f=1/f,a[0]=u*f,a[1]=-l*f,a[2]=-o*f,a[3]=n*f,a[4]=(o*c-u*s)*f,a[5]=(l*s-n*c)*f,a):null}function clone$2(a){var t=create$1();return copy(t,a),t}var Point=function(){function a(t,n){this.x=t||0,this.y=n||0}return a.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(t,n){return this.x=t,this.y=n,this},a.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},a.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},a.prototype.scale=function(t){this.x*=t,this.y*=t},a.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},a.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},a.prototype.dot=function(t){return this.x*t.x+this.y*t.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},a.prototype.distance=function(t){var n=this.x-t.x,o=this.y-t.y;return Math.sqrt(n*n+o*o)},a.prototype.distanceSquare=function(t){var n=this.x-t.x,o=this.y-t.y;return n*n+o*o},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(t){if(t){var n=this.x,o=this.y;return this.x=t[0]*n+t[2]*o+t[4],this.y=t[1]*n+t[3]*o+t[5],this}},a.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},a.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},a.set=function(t,n,o){t.x=n,t.y=o},a.copy=function(t,n){t.x=n.x,t.y=n.y},a.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},a.lenSquare=function(t){return t.x*t.x+t.y*t.y},a.dot=function(t,n){return t.x*n.x+t.y*n.y},a.add=function(t,n,o){t.x=n.x+o.x,t.y=n.y+o.y},a.sub=function(t,n,o){t.x=n.x-o.x,t.y=n.y-o.y},a.scale=function(t,n,o){t.x=n.x*o,t.y=n.y*o},a.scaleAndAdd=function(t,n,o,s){t.x=n.x+o.x*s,t.y=n.y+o.y*s},a.lerp=function(t,n,o,s){var l=1-s;t.x=l*n.x+s*o.x,t.y=l*n.y+s*o.y},a}(),mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point,rb=new Point,lb=new Point,rt=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function a(t,n,o,s){o<0&&(t=t+o,o=-o),s<0&&(n=n+s,s=-s),this.x=t,this.y=n,this.width=o,this.height=s}return a.prototype.union=function(t){var n=mathMin$a(t.x,this.x),o=mathMin$a(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(t.y+t.height,this.y+this.height)-o:this.height=t.height,this.x=n,this.y=o},a.prototype.applyTransform=function(t){a.applyTransform(this,this,t)},a.prototype.calculateTransform=function(t){var n=this,o=t.width/n.width,s=t.height/n.height,l=create$1();return translate(l,l,[-n.x,-n.y]),scale$2(l,l,[o,s]),translate(l,l,[t.x,t.y]),l},a.prototype.intersect=function(t,n){if(!t)return!1;t instanceof a||(t=a.create(t));var o=this,s=o.x,l=o.x+o.width,u=o.y,c=o.y+o.height,f=t.x,d=t.x+t.width,g=t.y,y=t.y+t.height,S=!(l<f||d<s||c<g||y<u);if(n){var _=1/0,x=0,b=Math.abs(l-f),T=Math.abs(d-s),A=Math.abs(c-g),C=Math.abs(y-u),E=Math.min(b,T),P=Math.min(A,C);l<f||d<s?E>x&&(x=E,b<T?Point.set(maxTv$1,-b,0):Point.set(maxTv$1,T,0)):E<_&&(_=E,b<T?Point.set(minTv$1,b,0):Point.set(minTv$1,-T,0)),c<g||y<u?P>x&&(x=P,A<C?Point.set(maxTv$1,0,-A):Point.set(maxTv$1,0,C)):E<_&&(_=E,A<C?Point.set(minTv$1,0,A):Point.set(minTv$1,0,-C))}return n&&Point.copy(n,S?minTv$1:maxTv$1),S},a.prototype.contain=function(t,n){var o=this;return t>=o.x&&t<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(t){a.copy(this,t)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return this.width===0||this.height===0},a.create=function(t){return new a(t.x,t.y,t.width,t.height)},a.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},a.applyTransform=function(t,n,o){if(!o){t!==n&&a.copy(t,n);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],l=o[3],u=o[4],c=o[5];t.x=n.x*s+u,t.y=n.y*l+c,t.width=n.width*s,t.height=n.height*l,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}lt.x=lb.x=n.x,lt.y=rt.y=n.y,rb.x=rt.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt.transform(o),rt.transform(o),rb.transform(o),lb.transform(o),t.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),t.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var f=mathMax$a(lt.x,rb.x,lb.x,rt.x),d=mathMax$a(lt.y,rb.y,lb.y,rt.y);t.width=f-t.x,t.height=d-t.y},a}(),SILENT="silent";function makeEventPacket(a,t,n){return{type:a,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(a){__extends(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Eventful),HoveredResult=function(){function a(t,n){this.x=t,this.y=n}return a}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(a){__extends(t,a);function t(n,o,s,l,u){var c=a.call(this)||this;return c._hovered=new HoveredResult(0,0),c.storage=n,c.painter=o,c.painterRoot=l,c._pointerSize=u,s=s||new EmptyProxy,c.proxy=null,c.setHandlerProxy(s),c._draggingMgr=new Draggable(c),c}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$f(handlerNames,function(o){n.on&&n.on(o,this[o],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var o=n.zrX,s=n.zrY,l=isOutsideBoundary(this,o,s),u=this._hovered,c=u.target;c&&!c.__zr&&(u=this.findHover(u.x,u.y),c=u.target);var f=this._hovered=l?new HoveredResult(o,s):this.findHover(o,s),d=f.target,g=this.proxy;g.setCursor&&g.setCursor(d?d.cursor:"default"),c&&d!==c&&this.dispatchToElement(u,"mouseout",n),this.dispatchToElement(f,"mousemove",n),d&&d!==c&&this.dispatchToElement(f,"mouseover",n)},t.prototype.mouseout=function(n){var o=n.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},t.prototype.dispatch=function(n,o){var s=this[n];s&&s.call(this,o)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var o=this.proxy;o.setCursor&&o.setCursor(n)},t.prototype.dispatchToElement=function(n,o,s){n=n||{};var l=n.target;if(!(l&&l.silent)){for(var u="on"+o,c=makeEventPacket(o,n,s);l&&(l[u]&&(c.cancelBubble=!!l[u].call(l,c)),l.trigger(o,c),l=l.__hostTarget?l.__hostTarget:l.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(o,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(f){typeof f[u]=="function"&&f[u].call(f,c),f.trigger&&f.trigger(o,c)}))}},t.prototype.findHover=function(n,o,s){var l=this.storage.getDisplayList(),u=new HoveredResult(n,o);if(setHoverTarget(l,u,n,o,s),this._pointerSize&&!u.target){for(var c=[],f=this._pointerSize,d=f/2,g=new BoundingRect(n-d,o-d,f,f),y=l.length-1;y>=0;y--){var S=l[y];S!==s&&!S.ignore&&!S.ignoreCoarsePointer&&(!S.parent||!S.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(S.getBoundingRect()),S.transform&&tmpRect$1.applyTransform(S.transform),tmpRect$1.intersect(g)&&c.push(S))}if(c.length)for(var _=4,x=Math.PI/12,b=Math.PI*2,T=0;T<d;T+=_)for(var A=0;A<b;A+=x){var C=n+T*Math.cos(A),E=o+T*Math.sin(A);if(setHoverTarget(c,u,C,E,s),u.target)return u}}return u},t.prototype.processGesture=function(n,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var s=this._gestureMgr;o==="start"&&s.clear();var l=s.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(o==="end"&&s.clear(),l){var u=l.type;n.gestureEvent=u;var c=new HoveredResult;c.target=l.target,this.dispatchToElement(c,u,l.event)}},t}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){Handler.prototype[a]=function(t){var n=t.zrX,o=t.zrY,s=isOutsideBoundary(this,n,o),l,u;if((a!=="mouseup"||!s)&&(l=this.findHover(n,o),u=l.target),a==="mousedown")this._downEl=u,this._downPoint=[t.zrX,t.zrY],this._upEl=u;else if(a==="mouseup")this._upEl=u;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(l,a,t)}});function isHover(a,t,n){if(a[a.rectHover?"rectContain":"contain"](t,n)){for(var o=a,s=void 0,l=!1;o;){if(o.ignoreClip&&(l=!0),!l){var u=o.getClipPath();if(u&&!u.contain(t,n))return!1}o.silent&&(s=!0);var c=o.__hostTarget;o=c||o.parent}return s?SILENT:!0}return!1}function setHoverTarget(a,t,n,o,s){for(var l=a.length-1;l>=0;l--){var u=a[l],c=void 0;if(u!==s&&!u.ignore&&(c=isHover(u,n,o))&&(!t.topTarget&&(t.topTarget=u),c!==SILENT)){t.target=u;break}}}function isOutsideBoundary(a,t,n){var o=a.painter;return t<0||t>o.getWidth()||n<0||n>o.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(a){for(var t=0;a>=DEFAULT_MIN_MERGE;)t|=a&1,a>>=1;return a+t}function makeAscendingRun(a,t,n,o){var s=t+1;if(s===n)return 1;if(o(a[s++],a[t])<0){for(;s<n&&o(a[s],a[s-1])<0;)s++;reverseRun(a,t,s)}else for(;s<n&&o(a[s],a[s-1])>=0;)s++;return s-t}function reverseRun(a,t,n){for(n--;t<n;){var o=a[t];a[t++]=a[n],a[n--]=o}}function binaryInsertionSort(a,t,n,o,s){for(o===t&&o++;o<n;o++){for(var l=a[o],u=t,c=o,f;u<c;)f=u+c>>>1,s(l,a[f])<0?c=f:u=f+1;var d=o-u;switch(d){case 3:a[u+3]=a[u+2];case 2:a[u+2]=a[u+1];case 1:a[u+1]=a[u];break;default:for(;d>0;)a[u+d]=a[u+d-1],d--}a[u]=l}}function gallopLeft(a,t,n,o,s,l){var u=0,c=0,f=1;if(l(a,t[n+s])>0){for(c=o-s;f<c&&l(a,t[n+s+f])>0;)u=f,f=(f<<1)+1,f<=0&&(f=c);f>c&&(f=c),u+=s,f+=s}else{for(c=s+1;f<c&&l(a,t[n+s-f])<=0;)u=f,f=(f<<1)+1,f<=0&&(f=c);f>c&&(f=c);var d=u;u=s-f,f=s-d}for(u++;u<f;){var g=u+(f-u>>>1);l(a,t[n+g])>0?u=g+1:f=g}return f}function gallopRight(a,t,n,o,s,l){var u=0,c=0,f=1;if(l(a,t[n+s])<0){for(c=s+1;f<c&&l(a,t[n+s-f])<0;)u=f,f=(f<<1)+1,f<=0&&(f=c);f>c&&(f=c);var d=u;u=s-f,f=s-d}else{for(c=o-s;f<c&&l(a,t[n+s+f])>=0;)u=f,f=(f<<1)+1,f<=0&&(f=c);f>c&&(f=c),u+=s,f+=s}for(u++;u<f;){var g=u+(f-u>>>1);l(a,t[n+g])<0?f=g:u=g+1}return f}function TimSort(a,t){var n=DEFAULT_MIN_GALLOPING,o,s,l=0,u=[];o=[],s=[];function c(_,x){o[l]=_,s[l]=x,l+=1}function f(){for(;l>1;){var _=l-2;if(_>=1&&s[_-1]<=s[_]+s[_+1]||_>=2&&s[_-2]<=s[_]+s[_-1])s[_-1]<s[_+1]&&_--;else if(s[_]>s[_+1])break;g(_)}}function d(){for(;l>1;){var _=l-2;_>0&&s[_-1]<s[_+1]&&_--,g(_)}}function g(_){var x=o[_],b=s[_],T=o[_+1],A=s[_+1];s[_]=b+A,_===l-3&&(o[_+1]=o[_+2],s[_+1]=s[_+2]),l--;var C=gallopRight(a[T],a,x,b,0,t);x+=C,b-=C,b!==0&&(A=gallopLeft(a[x+b-1],a,T,A,A-1,t),A!==0&&(b<=A?y(x,b,T,A):S(x,b,T,A)))}function y(_,x,b,T){var A=0;for(A=0;A<x;A++)u[A]=a[_+A];var C=0,E=b,P=_;if(a[P++]=a[E++],--T===0){for(A=0;A<x;A++)a[P+A]=u[C+A];return}if(x===1){for(A=0;A<T;A++)a[P+A]=a[E+A];a[P+T]=u[C];return}for(var M=n,I,D,L;;){I=0,D=0,L=!1;do if(t(a[E],u[C])<0){if(a[P++]=a[E++],D++,I=0,--T===0){L=!0;break}}else if(a[P++]=u[C++],I++,D=0,--x===1){L=!0;break}while((I|D)<M);if(L)break;do{if(I=gallopRight(a[E],u,C,x,0,t),I!==0){for(A=0;A<I;A++)a[P+A]=u[C+A];if(P+=I,C+=I,x-=I,x<=1){L=!0;break}}if(a[P++]=a[E++],--T===0){L=!0;break}if(D=gallopLeft(u[C],a,E,T,0,t),D!==0){for(A=0;A<D;A++)a[P+A]=a[E+A];if(P+=D,E+=D,T-=D,T===0){L=!0;break}}if(a[P++]=u[C++],--x===1){L=!0;break}M--}while(I>=DEFAULT_MIN_GALLOPING||D>=DEFAULT_MIN_GALLOPING);if(L)break;M<0&&(M=0),M+=2}if(n=M,n<1&&(n=1),x===1){for(A=0;A<T;A++)a[P+A]=a[E+A];a[P+T]=u[C]}else{if(x===0)throw new Error;for(A=0;A<x;A++)a[P+A]=u[C+A]}}function S(_,x,b,T){var A=0;for(A=0;A<T;A++)u[A]=a[b+A];var C=_+x-1,E=T-1,P=b+T-1,M=0,I=0;if(a[P--]=a[C--],--x===0){for(M=P-(T-1),A=0;A<T;A++)a[M+A]=u[A];return}if(T===1){for(P-=x,C-=x,I=P+1,M=C+1,A=x-1;A>=0;A--)a[I+A]=a[M+A];a[P]=u[E];return}for(var D=n;;){var L=0,$=0,O=!1;do if(t(u[E],a[C])<0){if(a[P--]=a[C--],L++,$=0,--x===0){O=!0;break}}else if(a[P--]=u[E--],$++,L=0,--T===1){O=!0;break}while((L|$)<D);if(O)break;do{if(L=x-gallopRight(u[E],a,_,x,x-1,t),L!==0){for(P-=L,C-=L,x-=L,I=P+1,M=C+1,A=L-1;A>=0;A--)a[I+A]=a[M+A];if(x===0){O=!0;break}}if(a[P--]=u[E--],--T===1){O=!0;break}if($=T-gallopLeft(a[C],u,0,T,T-1,t),$!==0){for(P-=$,E-=$,T-=$,I=P+1,M=E+1,A=0;A<$;A++)a[I+A]=u[M+A];if(T<=1){O=!0;break}}if(a[P--]=a[C--],--x===0){O=!0;break}D--}while(L>=DEFAULT_MIN_GALLOPING||$>=DEFAULT_MIN_GALLOPING);if(O)break;D<0&&(D=0),D+=2}if(n=D,n<1&&(n=1),T===1){for(P-=x,C-=x,I=P+1,M=C+1,A=x-1;A>=0;A--)a[I+A]=a[M+A];a[P]=u[E]}else{if(T===0)throw new Error;for(M=P-(T-1),A=0;A<T;A++)a[M+A]=u[A]}}return{mergeRuns:f,forceMergeRuns:d,pushRun:c}}function sort$2(a,t,n,o){n||(n=0),o||(o=a.length);var s=o-n;if(!(s<2)){var l=0;if(s<DEFAULT_MIN_MERGE){l=makeAscendingRun(a,n,o,t),binaryInsertionSort(a,n,o,n+l,t);return}var u=TimSort(a,t),c=minRunLength(s);do{if(l=makeAscendingRun(a,n,o,t),l<c){var f=s;f>c&&(f=c),binaryInsertionSort(a,n,n+f,n+l,t),l=f}u.pushRun(n,l),u.mergeRuns(),s-=l,n+=l}while(s!==0);u.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(a,t){return a.zlevel===t.zlevel?a.z===t.z?a.z2-t.z2:a.z-t.z:a.zlevel-t.zlevel}var Storage=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return a.prototype.traverse=function(t,n){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(t,n)},a.prototype.getDisplayList=function(t,n){n=n||!1;var o=this._displayList;return(t||!o.length)&&this.updateDisplayList(n),o},a.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,o=this._displayList,s=0,l=n.length;s<l;s++)this._updateAndAddDisplayable(n[s],null,t);o.length=this._displayListLen,sort$2(o,shapeCompareFunc)},a.prototype._updateAndAddDisplayable=function(t,n,o){if(!(t.ignore&&!o)){t.beforeUpdate(),t.update(),t.afterUpdate();var s=t.getClipPath();if(t.ignoreClip)n=null;else if(s){n?n=n.slice():n=[];for(var l=s,u=t;l;)l.parent=u,l.updateTransform(),n.push(l),u=l,l=l.getClipPath()}if(t.childrenRef){for(var c=t.childrenRef(),f=0;f<c.length;f++){var d=c[f];t.__dirty&&(d.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(d,n,o)}t.__dirty=0}else{var g=t;n&&n.length?g.__clipPaths=n:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(logInvalidZError(),g.z=0),isNaN(g.z2)&&(logInvalidZError(),g.z2=0),isNaN(g.zlevel)&&(logInvalidZError(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=t.getDecalElement&&t.getDecalElement();y&&this._updateAndAddDisplayable(y,n,o);var S=t.getTextGuideLine();S&&this._updateAndAddDisplayable(S,n,o);var _=t.getTextContent();_&&this._updateAndAddDisplayable(_,n,o)}},a.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},a.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,o=t.length;n<o;n++)this.delRoot(t[n]);return}var s=indexOf(this._roots,t);s>=0&&this._roots.splice(s,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};var easingFuncs={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var t,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,t=o/4):t=o*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)))},elasticOut:function(a){var t,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,t=o/4):t=o*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*a)*Math.sin((a-t)*(2*Math.PI)/o)+1)},elasticInOut:function(a){var t,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,t=o/4):t=o*Math.asin(1/n)/(2*Math.PI),(a*=2)<1?-.5*(n*Math.pow(2,10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)):n*Math.pow(2,-10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)*.5+1)},backIn:function(a){var t=1.70158;return a*a*((t+1)*a-t)},backOut:function(a){var t=1.70158;return--a*a*((t+1)*a+t)+1},backInOut:function(a){var t=2.5949095;return(a*=2)<1?.5*(a*a*((t+1)*a-t)):.5*((a-=2)*a*((t+1)*a+t)+2)},bounceIn:function(a){return 1-easingFuncs.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?easingFuncs.bounceIn(a*2)*.5:easingFuncs.bounceOut(a*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(a){return a>-1e-8&&a<EPSILON$4}function isNotAroundZero$1(a){return a>EPSILON$4||a<-1e-8}function cubicAt(a,t,n,o,s){var l=1-s;return l*l*(l*a+3*s*t)+s*s*(s*o+3*l*n)}function cubicDerivativeAt(a,t,n,o,s){var l=1-s;return 3*(((t-a)*l+2*(n-t)*s)*l+(o-n)*s*s)}function cubicRootAt(a,t,n,o,s,l){var u=o+3*(t-n)-a,c=3*(n-t*2+a),f=3*(t-a),d=a-s,g=c*c-3*u*f,y=c*f-9*u*d,S=f*f-3*c*d,_=0;if(isAroundZero$1(g)&&isAroundZero$1(y))if(isAroundZero$1(c))l[0]=0;else{var x=-f/c;x>=0&&x<=1&&(l[_++]=x)}else{var b=y*y-4*g*S;if(isAroundZero$1(b)){var T=y/g,x=-c/u+T,A=-T/2;x>=0&&x<=1&&(l[_++]=x),A>=0&&A<=1&&(l[_++]=A)}else if(b>0){var C=mathSqrt$3(b),E=g*c+1.5*u*(-y+C),P=g*c+1.5*u*(-y-C);E<0?E=-mathPow$2(-E,ONE_THIRD):E=mathPow$2(E,ONE_THIRD),P<0?P=-mathPow$2(-P,ONE_THIRD):P=mathPow$2(P,ONE_THIRD);var x=(-c-(E+P))/(3*u);x>=0&&x<=1&&(l[_++]=x)}else{var M=(2*g*c-3*u*y)/(2*mathSqrt$3(g*g*g)),I=Math.acos(M)/3,D=mathSqrt$3(g),L=Math.cos(I),x=(-c-2*D*L)/(3*u),A=(-c+D*(L+THREE_SQRT*Math.sin(I)))/(3*u),$=(-c+D*(L-THREE_SQRT*Math.sin(I)))/(3*u);x>=0&&x<=1&&(l[_++]=x),A>=0&&A<=1&&(l[_++]=A),$>=0&&$<=1&&(l[_++]=$)}}return _}function cubicExtrema(a,t,n,o,s){var l=6*n-12*t+6*a,u=9*t+3*o-3*a-9*n,c=3*t-3*a,f=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(l)){var d=-c/l;d>=0&&d<=1&&(s[f++]=d)}}else{var g=l*l-4*u*c;if(isAroundZero$1(g))s[0]=-l/(2*u);else if(g>0){var y=mathSqrt$3(g),d=(-l+y)/(2*u),S=(-l-y)/(2*u);d>=0&&d<=1&&(s[f++]=d),S>=0&&S<=1&&(s[f++]=S)}}return f}function cubicSubdivide(a,t,n,o,s,l){var u=(t-a)*s+a,c=(n-t)*s+t,f=(o-n)*s+n,d=(c-u)*s+u,g=(f-c)*s+c,y=(g-d)*s+d;l[0]=a,l[1]=u,l[2]=d,l[3]=y,l[4]=y,l[5]=g,l[6]=f,l[7]=o}function cubicProjectPoint(a,t,n,o,s,l,u,c,f,d,g){var y,S=.005,_=1/0,x,b,T,A;_v0[0]=f,_v0[1]=d;for(var C=0;C<1;C+=.05)_v1[0]=cubicAt(a,n,s,u,C),_v1[1]=cubicAt(t,o,l,c,C),T=distSquare(_v0,_v1),T<_&&(y=C,_=T);_=1/0;for(var E=0;E<32&&!(S<EPSILON_NUMERIC);E++)x=y-S,b=y+S,_v1[0]=cubicAt(a,n,s,u,x),_v1[1]=cubicAt(t,o,l,c,x),T=distSquare(_v1,_v0),x>=0&&T<_?(y=x,_=T):(_v2[0]=cubicAt(a,n,s,u,b),_v2[1]=cubicAt(t,o,l,c,b),A=distSquare(_v2,_v0),b<=1&&A<_?(y=b,_=A):S*=.5);return g&&(g[0]=cubicAt(a,n,s,u,y),g[1]=cubicAt(t,o,l,c,y)),mathSqrt$3(_)}function cubicLength(a,t,n,o,s,l,u,c,f){for(var d=a,g=t,y=0,S=1/f,_=1;_<=f;_++){var x=_*S,b=cubicAt(a,n,s,u,x),T=cubicAt(t,o,l,c,x),A=b-d,C=T-g;y+=Math.sqrt(A*A+C*C),d=b,g=T}return y}function quadraticAt$1(a,t,n,o){var s=1-o;return s*(s*a+2*o*t)+o*o*n}function quadraticDerivativeAt(a,t,n,o){return 2*((1-o)*(t-a)+o*(n-t))}function quadraticRootAt(a,t,n,o,s){var l=a-2*t+n,u=2*(t-a),c=a-o,f=0;if(isAroundZero$1(l)){if(isNotAroundZero$1(u)){var d=-c/u;d>=0&&d<=1&&(s[f++]=d)}}else{var g=u*u-4*l*c;if(isAroundZero$1(g)){var d=-u/(2*l);d>=0&&d<=1&&(s[f++]=d)}else if(g>0){var y=mathSqrt$3(g),d=(-u+y)/(2*l),S=(-u-y)/(2*l);d>=0&&d<=1&&(s[f++]=d),S>=0&&S<=1&&(s[f++]=S)}}return f}function quadraticExtremum(a,t,n){var o=a+n-2*t;return o===0?.5:(a-t)/o}function quadraticSubdivide(a,t,n,o,s){var l=(t-a)*o+a,u=(n-t)*o+t,c=(u-l)*o+l;s[0]=a,s[1]=l,s[2]=c,s[3]=c,s[4]=u,s[5]=n}function quadraticProjectPoint(a,t,n,o,s,l,u,c,f){var d,g=.005,y=1/0;_v0[0]=u,_v0[1]=c;for(var S=0;S<1;S+=.05){_v1[0]=quadraticAt$1(a,n,s,S),_v1[1]=quadraticAt$1(t,o,l,S);var _=distSquare(_v0,_v1);_<y&&(d=S,y=_)}y=1/0;for(var x=0;x<32&&!(g<EPSILON_NUMERIC);x++){var b=d-g,T=d+g;_v1[0]=quadraticAt$1(a,n,s,b),_v1[1]=quadraticAt$1(t,o,l,b);var _=distSquare(_v1,_v0);if(b>=0&&_<y)d=b,y=_;else{_v2[0]=quadraticAt$1(a,n,s,T),_v2[1]=quadraticAt$1(t,o,l,T);var A=distSquare(_v2,_v0);T<=1&&A<y?(d=T,y=A):g*=.5}}return f&&(f[0]=quadraticAt$1(a,n,s,d),f[1]=quadraticAt$1(t,o,l,d)),mathSqrt$3(y)}function quadraticLength(a,t,n,o,s,l,u){for(var c=a,f=t,d=0,g=1/u,y=1;y<=u;y++){var S=y*g,_=quadraticAt$1(a,n,s,S),x=quadraticAt$1(t,o,l,S),b=_-c,T=x-f;d+=Math.sqrt(b*b+T*T),c=_,f=x}return d}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(a){var t=a&&regexp.exec(a);if(t){var n=t[1].split(","),o=+trim$1(n[0]),s=+trim$1(n[1]),l=+trim$1(n[2]),u=+trim$1(n[3]);if(isNaN(o+s+l+u))return;var c=[];return function(f){return f<=0?0:f>=1?1:cubicRootAt(0,o,l,1,f,c)&&cubicAt(0,s,u,1,c[0])}}}var Clip=function(){function a(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||noop$2,this.ondestroy=t.ondestroy||noop$2,this.onrestart=t.onrestart||noop$2,t.easing&&this.setEasing(t.easing)}return a.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var o=this._life,s=t-this._startTime-this._pausedTime,l=s/o;l<0&&(l=0),l=Math.min(l,1);var u=this.easingFunc,c=u?u(l):l;if(this.onframe(c),l===1)if(this.loop){var f=s%o;this._startTime=t-f,this._pausedTime=0,this.onrestart()}else return!0;return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(t){this.easing=t,this.easingFunc=isFunction(t)?t:easingFuncs[t]||createCubicEasingFunc(t)},a}(),Entry=function(){function a(t){this.value=t}return a}(),LinkedList=function(){function a(){this._len=0}return a.prototype.insert=function(t){var n=new Entry(t);return this.insertEntry(n),n},a.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},a.prototype.remove=function(t){var n=t.prev,o=t.next;n?n.next=o:this.head=o,o?o.prev=n:this.tail=n,t.next=t.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),LRU=function(){function a(t){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=t}return a.prototype.put=function(t,n){var o=this._list,s=this._map,l=null;if(s[t]==null){var u=o.len(),c=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var f=o.head;o.remove(f),delete s[f.key],l=f.value,this._lastRemovedEntry=f}c?c.value=n:c=new Entry(n),c.key=t,o.insertEntry(c),s[t]=c}return l},a.prototype.get=function(t){var n=this._map[t],o=this._list;if(n!=null)return n!==o.tail&&(o.remove(n),o.insertEntry(n)),n.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(a){return a=Math.round(a),a<0?0:a>255?255:a}function clampCssAngle(a){return a=Math.round(a),a<0?0:a>360?360:a}function clampCssFloat(a){return a<0?0:a>1?1:a}function parseCssInt(a){var t=a;return t.length&&t.charAt(t.length-1)==="%"?clampCssByte(parseFloat(t)/100*255):clampCssByte(parseInt(t,10))}function parseCssFloat(a){var t=a;return t.length&&t.charAt(t.length-1)==="%"?clampCssFloat(parseFloat(t)/100):clampCssFloat(parseFloat(t))}function cssHueToRgb(a,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?a+(t-a)*n*6:n*2<1?t:n*3<2?a+(t-a)*(2/3-n)*6:a}function lerpNumber(a,t,n){return a+(t-a)*n}function setRgba(a,t,n,o,s){return a[0]=t,a[1]=n,a[2]=o,a[3]=s,a}function copyRgba(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(a,t){lastRemovedArr&&copyRgba(lastRemovedArr,t),lastRemovedArr=colorCache.put(a,lastRemovedArr||t.slice())}function parse(a,t){if(a){t=t||[];var n=colorCache.get(a);if(n)return copyRgba(t,n);a=a+"";var o=a.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(t,kCSSColorTable[o]),putToCache(a,t),t;var s=o.length;if(o.charAt(0)==="#"){if(s===4||s===5){var l=parseInt(o.slice(1,4),16);if(!(l>=0&&l<=4095)){setRgba(t,0,0,0,1);return}return setRgba(t,(l&3840)>>4|(l&3840)>>8,l&240|(l&240)>>4,l&15|(l&15)<<4,s===5?parseInt(o.slice(4),16)/15:1),putToCache(a,t),t}else if(s===7||s===9){var l=parseInt(o.slice(1,7),16);if(!(l>=0&&l<=16777215)){setRgba(t,0,0,0,1);return}return setRgba(t,(l&16711680)>>16,(l&65280)>>8,l&255,s===9?parseInt(o.slice(7),16)/255:1),putToCache(a,t),t}return}var u=o.indexOf("("),c=o.indexOf(")");if(u!==-1&&c+1===s){var f=o.substr(0,u),d=o.substr(u+1,c-(u+1)).split(","),g=1;switch(f){case"rgba":if(d.length!==4)return d.length===3?setRgba(t,+d[0],+d[1],+d[2],1):setRgba(t,0,0,0,1);g=parseCssFloat(d.pop());case"rgb":if(d.length>=3)return setRgba(t,parseCssInt(d[0]),parseCssInt(d[1]),parseCssInt(d[2]),d.length===3?g:parseCssFloat(d[3])),putToCache(a,t),t;setRgba(t,0,0,0,1);return;case"hsla":if(d.length!==4){setRgba(t,0,0,0,1);return}return d[3]=parseCssFloat(d[3]),hsla2rgba(d,t),putToCache(a,t),t;case"hsl":if(d.length!==3){setRgba(t,0,0,0,1);return}return hsla2rgba(d,t),putToCache(a,t),t;default:return}}setRgba(t,0,0,0,1)}}function hsla2rgba(a,t){var n=(parseFloat(a[0])%360+360)%360/360,o=parseCssFloat(a[1]),s=parseCssFloat(a[2]),l=s<=.5?s*(o+1):s+o-s*o,u=s*2-l;return t=t||[],setRgba(t,clampCssByte(cssHueToRgb(u,l,n+1/3)*255),clampCssByte(cssHueToRgb(u,l,n)*255),clampCssByte(cssHueToRgb(u,l,n-1/3)*255),1),a.length===4&&(t[3]=a[3]),t}function rgba2hsla(a){if(a){var t=a[0]/255,n=a[1]/255,o=a[2]/255,s=Math.min(t,n,o),l=Math.max(t,n,o),u=l-s,c=(l+s)/2,f,d;if(u===0)f=0,d=0;else{c<.5?d=u/(l+s):d=u/(2-l-s);var g=((l-t)/6+u/2)/u,y=((l-n)/6+u/2)/u,S=((l-o)/6+u/2)/u;t===l?f=S-y:n===l?f=1/3+g-S:o===l&&(f=2/3+y-g),f<0&&(f+=1),f>1&&(f-=1)}var _=[f*360,d,c];return a[3]!=null&&_.push(a[3]),_}}function lift(a,t){var n=parse(a);if(n){for(var o=0;o<3;o++)t<0?n[o]=n[o]*(1-t)|0:n[o]=(255-n[o])*t+n[o]|0,n[o]>255?n[o]=255:n[o]<0&&(n[o]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function fastLerp(a,t,n){if(!(!(t&&t.length)||!(a>=0&&a<=1))){n=n||[];var o=a*(t.length-1),s=Math.floor(o),l=Math.ceil(o),u=t[s],c=t[l],f=o-s;return n[0]=clampCssByte(lerpNumber(u[0],c[0],f)),n[1]=clampCssByte(lerpNumber(u[1],c[1],f)),n[2]=clampCssByte(lerpNumber(u[2],c[2],f)),n[3]=clampCssFloat(lerpNumber(u[3],c[3],f)),n}}function lerp(a,t,n){if(!(!(t&&t.length)||!(a>=0&&a<=1))){var o=a*(t.length-1),s=Math.floor(o),l=Math.ceil(o),u=parse(t[s]),c=parse(t[l]),f=o-s,d=stringify([clampCssByte(lerpNumber(u[0],c[0],f)),clampCssByte(lerpNumber(u[1],c[1],f)),clampCssByte(lerpNumber(u[2],c[2],f)),clampCssFloat(lerpNumber(u[3],c[3],f))],"rgba");return n?{color:d,leftIndex:s,rightIndex:l,value:o}:d}}function modifyHSL(a,t,n,o){var s=parse(a);if(a)return s=rgba2hsla(s),t!=null&&(s[0]=clampCssAngle(t)),n!=null&&(s[1]=parseCssFloat(n)),o!=null&&(s[2]=parseCssFloat(o)),stringify(hsla2rgba(s),"rgba")}function modifyAlpha(a,t){var n=parse(a);if(n&&t!=null)return n[3]=clampCssFloat(t),stringify(n,"rgba")}function stringify(a,t){if(!(!a||!a.length)){var n=a[0]+","+a[1]+","+a[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+a[3]),t+"("+n+")"}}function lum(a,t){var n=parse(a);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var liftedColorCache=new LRU(100);function liftColor(a){if(isString(a)){var t=liftedColorCache.get(a);return t||(t=lift(a,-.1),liftedColorCache.put(a,t)),t}else if(isGradientObject(a)){var n=extend({},a);return n.colorStops=map$1(a.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),n}return a}var mathRound$1=Math.round;function normalizeColor(a){var t;if(!a||a==="transparent")a="none";else if(typeof a=="string"&&a.indexOf("rgba")>-1){var n=parse(a);n&&(a="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:a,opacity:t??1}}var EPSILON$3=1e-4;function isAroundZero(a){return a<EPSILON$3&&a>-1e-4}function round3(a){return mathRound$1(a*1e3)/1e3}function round4(a){return mathRound$1(a*1e4)/1e4}function getMatrixStr(a){return"matrix("+round3(a[0])+","+round3(a[1])+","+round3(a[2])+","+round3(a[3])+","+round4(a[4])+","+round4(a[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(a,t,n){return n==="top"?a+=t/2:n==="bottom"&&(a-=t/2),a}function hasShadow(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}function getShadowKey(a){var t=a.style,n=a.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function isImagePattern(a){return a&&!!a.image}function isSVGPattern(a){return a&&!!a.svgElement}function isPattern(a){return isImagePattern(a)||isSVGPattern(a)}function isLinearGradient(a){return a.type==="linear"}function isRadialGradient(a){return a.type==="radial"}function isGradient(a){return a&&(a.type==="linear"||a.type==="radial")}function getIdURL(a){return"url(#"+a+")"}function getPathPrecision(a){var t=a.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function getSRTTransformString(a){var t=a.x||0,n=a.y||0,o=(a.rotation||0)*RADIAN_TO_DEGREE,s=retrieve2(a.scaleX,1),l=retrieve2(a.scaleY,1),u=a.skewX||0,c=a.skewY||0,f=[];return(t||n)&&f.push("translate("+t+"px,"+n+"px)"),o&&f.push("rotate("+o+")"),(s!==1||l!==1)&&f.push("scale("+s+","+l+")"),(u||c)&&f.push("skew("+mathRound$1(u*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(c*RADIAN_TO_DEGREE)+"deg)"),f.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:typeof Buffer<"u"?function(a){return Buffer.from(a).toString("base64")}:function(a){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(a,t,n){return(t-a)*n+a}function interpolate1DArray(a,t,n,o){for(var s=t.length,l=0;l<s;l++)a[l]=interpolateNumber$1(t[l],n[l],o);return a}function interpolate2DArray(a,t,n,o){for(var s=t.length,l=s&&t[0].length,u=0;u<s;u++){a[u]||(a[u]=[]);for(var c=0;c<l;c++)a[u][c]=interpolateNumber$1(t[u][c],n[u][c],o)}return a}function add1DArray(a,t,n,o){for(var s=t.length,l=0;l<s;l++)a[l]=t[l]+n[l]*o;return a}function add2DArray(a,t,n,o){for(var s=t.length,l=s&&t[0].length,u=0;u<s;u++){a[u]||(a[u]=[]);for(var c=0;c<l;c++)a[u][c]=t[u][c]+n[u][c]*o}return a}function fillColorStops(a,t){for(var n=a.length,o=t.length,s=n>o?t:a,l=Math.min(n,o),u=s[l-1]||{color:[0,0,0,0],offset:0},c=l;c<Math.max(n,o);c++)s.push({offset:u.offset,color:u.color.slice()})}function fillArray(a,t,n){var o=a,s=t;if(!(!o.push||!s.push)){var l=o.length,u=s.length;if(l!==u){var c=l>u;if(c)o.length=u;else for(var f=l;f<u;f++)o.push(n===1?s[f]:arraySlice.call(s[f]))}for(var d=o[0]&&o[0].length,f=0;f<o.length;f++)if(n===1)isNaN(o[f])&&(o[f]=s[f]);else for(var g=0;g<d;g++)isNaN(o[f][g])&&(o[f][g]=s[f][g])}}function cloneValue(a){if(isArrayLike(a)){var t=a.length;if(isArrayLike(a[0])){for(var n=[],o=0;o<t;o++)n.push(arraySlice.call(a[o]));return n}return arraySlice.call(a)}return a}function rgba2String(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=a[3]==null?1:a[3],"rgba("+a.join(",")+")"}function guessArrayDim(a){return isArrayLike(a&&a[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(a){return a===VALUE_TYPE_LINEAR_GRADIENT||a===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(a){return a===VALUE_TYPE_1D_ARRAY||a===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function a(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(t,n,o){this._needsSort=!0;var s=this.keyframes,l=s.length,u=!1,c=VALUE_TYPE_UNKOWN,f=n;if(isArrayLike(n)){var d=guessArrayDim(n);c=d,(d===1&&!isNumber$2(n[0])||d===2&&!isNumber$2(n[0][0]))&&(u=!0)}else if(isNumber$2(n)&&!eqNaN(n))c=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))c=VALUE_TYPE_NUMBER;else{var g=parse(n);g&&(f=g,c=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var y=extend({},f);y.colorStops=map$1(n.colorStops,function(_){return{offset:_.offset,color:parse(_.color)}}),isLinearGradient(n)?c=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(c=VALUE_TYPE_RADIAL_GRADIENT),f=y}l===0?this.valType=c:(c!==this.valType||c===VALUE_TYPE_UNKOWN)&&(u=!0),this.discrete=this.discrete||u;var S={time:t,value:f,rawValue:n,percent:0};return o&&(S.easing=o,S.easingFunc=isFunction(o)?o:easingFuncs[o]||createCubicEasingFunc(o)),s.push(S),S},a.prototype.prepare=function(t,n){var o=this.keyframes;this._needsSort&&o.sort(function(b,T){return b.time-T.time});for(var s=this.valType,l=o.length,u=o[l-1],c=this.discrete,f=isArrayValueType(s),d=isGradientValueType(s),g=0;g<l;g++){var y=o[g],S=y.value,_=u.value;y.percent=y.time/t,c||(f&&g!==l-1?fillArray(S,_,s):d&&fillColorStops(S.colorStops,_.colorStops))}if(!c&&s!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&s===n.valType&&!n._finished){this._additiveTrack=n;for(var x=o[0].value,g=0;g<l;g++)s===VALUE_TYPE_NUMBER?o[g].additiveValue=o[g].value-x:s===VALUE_TYPE_COLOR?o[g].additiveValue=add1DArray([],o[g].value,x,-1):isArrayValueType(s)&&(o[g].additiveValue=s===VALUE_TYPE_1D_ARRAY?add1DArray([],o[g].value,x,-1):add2DArray([],o[g].value,x,-1))}},a.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,s=o?"additiveValue":"value",l=this.valType,u=this.keyframes,c=u.length,f=this.propName,d=l===VALUE_TYPE_COLOR,g,y=this._lastFr,S=Math.min,_,x;if(c===1)_=x=u[0];else{if(n<0)g=0;else if(n<this._lastFrP){var b=S(y+1,c-1);for(g=b;g>=0&&!(u[g].percent<=n);g--);g=S(g,c-2)}else{for(g=y;g<c&&!(u[g].percent>n);g++);g=S(g-1,c-2)}x=u[g+1],_=u[g]}if(_&&x){this._lastFr=g,this._lastFrP=n;var T=x.percent-_.percent,A=T===0?1:S((n-_.percent)/T,1);x.easingFunc&&(A=x.easingFunc(A));var C=o?this._additiveValue:d?tmpRgba:t[f];if((isArrayValueType(l)||d)&&!C&&(C=this._additiveValue=[]),this.discrete)t[f]=A<1?_.rawValue:x.rawValue;else if(isArrayValueType(l))l===VALUE_TYPE_1D_ARRAY?interpolate1DArray(C,_[s],x[s],A):interpolate2DArray(C,_[s],x[s],A);else if(isGradientValueType(l)){var E=_[s],P=x[s],M=l===VALUE_TYPE_LINEAR_GRADIENT;t[f]={type:M?"linear":"radial",x:interpolateNumber$1(E.x,P.x,A),y:interpolateNumber$1(E.y,P.y,A),colorStops:map$1(E.colorStops,function(D,L){var $=P.colorStops[L];return{offset:interpolateNumber$1(D.offset,$.offset,A),color:rgba2String(interpolate1DArray([],D.color,$.color,A))}}),global:P.global},M?(t[f].x2=interpolateNumber$1(E.x2,P.x2,A),t[f].y2=interpolateNumber$1(E.y2,P.y2,A)):t[f].r=interpolateNumber$1(E.r,P.r,A)}else if(d)interpolate1DArray(C,_[s],x[s],A),o||(t[f]=rgba2String(C));else{var I=interpolateNumber$1(_[s],x[s],A);o?this._additiveValue=I:t[f]=I}o&&this._addToTarget(t)}}},a.prototype._addToTarget=function(t){var n=this.valType,o=this.propName,s=this._additiveValue;n===VALUE_TYPE_NUMBER?t[o]=t[o]+s:n===VALUE_TYPE_COLOR?(parse(t[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,s,1),t[o]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(t[o],t[o],s,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(t[o],t[o],s,1)},a}(),Animator=function(){function a(t,n,o,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&s){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=o}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(t){this._target=t},a.prototype.when=function(t,n,o){return this.whenWithKeys(t,n,keys$1(n),o)},a.prototype.whenWithKeys=function(t,n,o,s){for(var l=this._tracks,u=0;u<o.length;u++){var c=o[u],f=l[c];if(!f){f=l[c]=new Track(c);var d=void 0,g=this._getAdditiveTrack(c);if(g){var y=g.keyframes,S=y[y.length-1];d=S&&S.value,g.valType===VALUE_TYPE_COLOR&&d&&(d=rgba2String(d))}else d=this._target[c];if(d==null)continue;t>0&&f.addKeyframe(0,cloneValue(d),s),this._trackKeys.push(c)}f.addKeyframe(t,cloneValue(n[c]),s)}return this._maxTime=Math.max(this._maxTime,t),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,o=0;o<n;o++)t[o].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var o=0;o<n.length;o++)n[o].call(this)},a.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,o=0;o<n.length;o++)t[n[o]].setFinished()},a.prototype._getAdditiveTrack=function(t){var n,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var l=o[s].getTrack(t);l&&(n=l)}return n},a.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,o=[],s=this._maxTime||0,l=0;l<this._trackKeys.length;l++){var u=this._trackKeys[l],c=this._tracks[u],f=this._getAdditiveTrack(u),d=c.keyframes,g=d.length;if(c.prepare(s,f),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var y=d[g-1];y&&(n._target[c.propName]=y.rawValue),c.setFinished()}else o.push(c)}if(o.length||this._force){var S=new Clip({life:s,loop:this._loop,delay:this._delay||0,onframe:function(_){n._started=2;var x=n._additiveAnimators;if(x){for(var b=!1,T=0;T<x.length;T++)if(x[T]._clip){b=!0;break}b||(n._additiveAnimators=null)}for(var T=0;T<o.length;T++)o[T].step(n._target,_);var A=n._onframeCbs;if(A)for(var T=0;T<A.length;T++)A[T](n._target,_)},ondestroy:function(){n._doneCallback()}});this._clip=S,this.animation&&this.animation.addClip(S),t&&S.setEasing(t)}else this._doneCallback();return this}},a.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},a.prototype.delay=function(t){return this._delay=t,this},a.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},a.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},a.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(t){return this._tracks[t]},a.prototype.getTracks=function(){var t=this;return map$1(this._trackKeys,function(n){return t._tracks[n]})},a.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,l=0;l<t.length;l++){var u=o[t[l]];u&&!u.isFinished()&&(n?u.step(this._target,1):this._started===1&&u.step(this._target,0),u.setFinished())}for(var c=!0,l=0;l<s.length;l++)if(!o[s[l]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},a.prototype.saveTo=function(t,n,o){if(t){n=n||this._trackKeys;for(var s=0;s<n.length;s++){var l=n[s],u=this._tracks[l];if(!(!u||u.isFinished())){var c=u.keyframes,f=c[o?0:c.length-1];f&&(t[l]=cloneValue(f.rawValue))}}}},a.prototype.__changeFinalValue=function(t,n){n=n||keys$1(t);for(var o=0;o<n.length;o++){var s=n[o],l=this._tracks[s];if(l){var u=l.keyframes;if(u.length>1){var c=u.pop();l.addKeyframe(c.time,t[s]),l.prepare(this._maxTime,l.getAdditiveTrack())}}}},a}();function getTime(){return new Date().getTime()}var Animation=function(a){__extends(t,a);function t(n){var o=a.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,n=n||{},o.stage=n.stage||{},o}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var o=n.getClip();o&&this.addClip(o)},t.prototype.removeClip=function(n){if(n.animation){var o=n.prev,s=n.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var o=n.getClip();o&&this.removeClip(o),n.animation=null},t.prototype.update=function(n){for(var o=getTime()-this._pausedTime,s=o-this._time,l=this._head;l;){var u=l.next,c=l.step(o,s);c&&(l.ondestroy(),this.removeClip(l)),l=u}this._time=o,n||(this.trigger("frame",s),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function o(){n._running&&(requestAnimationFrame$1(o),!n._paused&&n.update())}requestAnimationFrame$1(o)},t.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var o=n.next;n.prev=n.next=n.animation=null,n=o}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,o){o=o||{},this.start();var s=new Animator(n,o.loop);return this.addAnimator(s),s},t}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var a=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(a,function(s){var l=s.replace("mouse","pointer");return n.hasOwnProperty(l)?l:s});return{mouse:a,touch:t,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(a){var t=a.pointerType;return t==="pen"||t==="touch"}function setTouchTimer(a){a.touching=!0,a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}function markTouch(a){a&&(a.zrByTouch=!0)}function normalizeGlobalEvent(a,t){return normalizeEvent(a.dom,new FakeGlobalEvent(a,t),!0)}function isLocalEl(a,t){for(var n=t,o=!1;n&&n.nodeType!==9&&!(o=n.domBelongToZr||n!==t&&n===a.painterRoot);)n=n.parentNode;return o}var FakeGlobalEvent=function(){function a(t,n){this.stopPropagation=noop$2,this.stopImmediatePropagation=noop$2,this.preventDefault=noop$2,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return a}(),localDOMHandlers={mousedown:function(a){a=normalizeEvent(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=normalizeEvent(this.dom,a);var t=this.__mayPointerCapture;t&&(a.zrX!==t[0]||a.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=normalizeEvent(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){a=normalizeEvent(this.dom,a);var t=a.toElement||a.relatedTarget;isLocalEl(this,t)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){wheelEventSupported=!0,a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){wheelEventSupported||(a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),localDOMHandlers.mousemove.call(this,a),localDOMHandlers.mousedown.call(this,a)},touchmove:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"change"),localDOMHandlers.mousemove.call(this,a)},touchend:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"end"),localDOMHandlers.mouseup.call(this,a),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,a)},pointerdown:function(a){localDOMHandlers.mousedown.call(this,a)},pointermove:function(a){isPointerFromTouch(a)||localDOMHandlers.mousemove.call(this,a)},pointerup:function(a){localDOMHandlers.mouseup.call(this,a)},pointerout:function(a){isPointerFromTouch(a)||localDOMHandlers.mouseout.call(this,a)}};each$f(["click","dblclick","contextmenu"],function(a){localDOMHandlers[a]=function(t){t=normalizeEvent(this.dom,t),this.trigger(a,t)}});var globalDOMHandlers={pointermove:function(a){isPointerFromTouch(a)||globalDOMHandlers.mousemove.call(this,a)},pointerup:function(a){globalDOMHandlers.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),t&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function mountLocalDOMEventListeners(a,t){var n=t.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(t,o,function(s){n[o].call(a,s)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(t,o,function(s){n[o].call(a,s),setTouchTimer(t)})}),each$f(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(t,o,function(s){s=getNativeEvent(s),t.touching||n[o].call(a,s)})}))}function mountGlobalDOMEventListeners(a,t){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,n):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,n);function n(o){function s(l){l=getNativeEvent(l),isLocalEl(a,l.target)||(l=normalizeGlobalEvent(a,l),t.domHandlers[o].call(a,l))}mountSingleDOMEventListener(t,o,s,{capture:!0})}}function mountSingleDOMEventListener(a,t,n,o){a.mounted[t]=n,a.listenerOpts[t]=o,addEventListener(a.domTarget,t,n,o)}function unmountDOMEventListeners(a){var t=a.mounted;for(var n in t)t.hasOwnProperty(n)&&removeEventListener(a.domTarget,n,t[n],a.listenerOpts[n]);a.mounted={}}var DOMHandlerScope=function(){function a(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return a}(),HandlerDomProxy=function(a){__extends(t,a);function t(n,o){var s=a.call(this)||this;return s.__pointerCapturing=!1,s.dom=n,s.painterRoot=o,s._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(s._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(s,s._localHandlerScope),s}return t.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var o=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},t}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(a){return a>EPSILON$2||a<-5e-5}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function a(){}return a.prototype.getLocalTransform=function(t){return a.getLocalTransform(this,t)},a.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},a.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},a.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},a.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},a.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},a.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),o=this.transform;if(!(n||t)){o&&(mIdentity(o),this.invTransform=null);return}o=o||create$1(),n?this.getLocalTransform(o):mIdentity(o),t&&(n?mul(o,t,o):copy(o,t)),this.transform=o,this._resolveGlobalScaleRatio(o)},a.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,s=scaleTmp[1]<0?-1:1,l=((scaleTmp[0]-o)*n+o)/scaleTmp[0]||0,u=((scaleTmp[1]-s)*n+s)/scaleTmp[1]||0;t[0]*=l,t[1]*=l,t[2]*=u,t[3]*=u}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,t)},a.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},a.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],o=t[2]*t[2]+t[3]*t[3],s=Math.atan2(t[1],t[0]),l=Math.PI/2+s-Math.atan2(t[3],t[2]);o=Math.sqrt(o)*Math.cos(l),n=Math.sqrt(n),this.skewX=l,this.skewY=0,this.rotation=-s,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=o,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||create$1(),mul(tmpTransform,t.invTransform,n),n=tmpTransform);var o=this.originX,s=this.originY;(o||s)&&(originTransform[4]=o,originTransform[5]=s,mul(tmpTransform,n,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=s,n=tmpTransform),this.setLocalTransform(n)}},a.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},a.prototype.transformCoordToLocal=function(t,n){var o=[t,n],s=this.invTransform;return s&&applyTransform$1(o,o,s),o},a.prototype.transformCoordToGlobal=function(t,n){var o=[t,n],s=this.transform;return s&&applyTransform$1(o,o,s),o},a.prototype.getLineScale=function(){var t=this.transform;return t&&abs(t[0]-1)>1e-10&&abs(t[3]-1)>1e-10?Math.sqrt(abs(t[0]*t[3]-t[2]*t[1])):1},a.prototype.copyTransform=function(t){copyTransform(this,t)},a.getLocalTransform=function(t,n){n=n||[];var o=t.originX||0,s=t.originY||0,l=t.scaleX,u=t.scaleY,c=t.anchorX,f=t.anchorY,d=t.rotation||0,g=t.x,y=t.y,S=t.skewX?Math.tan(t.skewX):0,_=t.skewY?Math.tan(-t.skewY):0;if(o||s||c||f){var x=o+c,b=s+f;n[4]=-x*l-S*b*u,n[5]=-b*u-_*x*l}else n[4]=n[5]=0;return n[0]=l,n[3]=u,n[1]=_*l,n[2]=S*u,d&&rotate$1(n,n,d),n[4]+=o+g,n[5]+=s+y,n},a.initDefaultProps=function(){var t=a.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),a}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(a,t){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var o=TRANSFORMABLE_PROPS[n];a[o]=t[o]}}var textWidthCache={};function getWidth(a,t){t=t||DEFAULT_FONT;var n=textWidthCache[t];n||(n=textWidthCache[t]=new LRU(500));var o=n.get(a);return o==null&&(o=platformApi.measureText(a,t).width,n.put(a,o)),o}function innerGetBoundingRect(a,t,n,o){var s=getWidth(a,t),l=getLineHeight(t),u=adjustTextX(0,s,n),c=adjustTextY(0,l,o),f=new BoundingRect(u,c,s,l);return f}function getBoundingRect(a,t,n,o){var s=((a||"")+"").split(`
`),l=s.length;if(l===1)return innerGetBoundingRect(s[0],t,n,o);for(var u=new BoundingRect(0,0,0,0),c=0;c<s.length;c++){var f=innerGetBoundingRect(s[c],t,n,o);c===0?u.copy(f):u.union(f)}return u}function adjustTextX(a,t,n){return n==="right"?a-=t:n==="center"&&(a-=t/2),a}function adjustTextY(a,t,n){return n==="middle"?a-=t/2:n==="bottom"&&(a-=t),a}function getLineHeight(a){return getWidth("",a)}function parsePercent$1(a,t){return typeof a=="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*t:parseFloat(a):a}function calculateTextPosition(a,t,n){var o=t.position||"inside",s=t.distance!=null?t.distance:5,l=n.height,u=n.width,c=l/2,f=n.x,d=n.y,g="left",y="top";if(o instanceof Array)f+=parsePercent$1(o[0],n.width),d+=parsePercent$1(o[1],n.height),g=null,y=null;else switch(o){case"left":f-=s,d+=c,g="right",y="middle";break;case"right":f+=s+u,d+=c,y="middle";break;case"top":f+=u/2,d-=s,g="center",y="bottom";break;case"bottom":f+=u/2,d+=l+s,g="center";break;case"inside":f+=u/2,d+=c,g="center",y="middle";break;case"insideLeft":f+=s,d+=c,y="middle";break;case"insideRight":f+=u-s,d+=c,g="right",y="middle";break;case"insideTop":f+=u/2,d+=s,g="center";break;case"insideBottom":f+=u/2,d+=l-s,g="center",y="bottom";break;case"insideTopLeft":f+=s,d+=s;break;case"insideTopRight":f+=u-s,d+=s,g="right";break;case"insideBottomLeft":f+=s,d+=l-s,y="bottom";break;case"insideBottomRight":f+=u-s,d+=l-s,g="right",y="bottom";break}return a=a||{},a.x=f,a.y=d,a.align=g,a.verticalAlign=y,a}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(a,t){return a[t]=!0,a},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function a(t){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return a.prototype._init=function(t){this.attr(t)},a.prototype.drift=function(t,n,o){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=t,s[5]+=n,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,l=n.innerTransformable,u=void 0,c=void 0,f=!1;l.parent=s?this:null;var d=!1;if(l.copyTransform(n),o.position!=null){var g=tmpBoundingRect;o.layoutRect?g.copy(o.layoutRect):g.copy(this.getBoundingRect()),s||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,g):calculateTextPosition(tmpTextPosCalcRes,o,g),l.x=tmpTextPosCalcRes.x,l.y=tmpTextPosCalcRes.y,u=tmpTextPosCalcRes.align,c=tmpTextPosCalcRes.verticalAlign;var y=o.origin;if(y&&o.rotation!=null){var S=void 0,_=void 0;y==="center"?(S=g.width*.5,_=g.height*.5):(S=parsePercent$1(y[0],g.width),_=parsePercent$1(y[1],g.height)),d=!0,l.originX=-l.x+S+(s?0:g.x),l.originY=-l.y+_+(s?0:g.y)}}o.rotation!=null&&(l.rotation=o.rotation);var x=o.offset;x&&(l.x+=x[0],l.y+=x[1],d||(l.originX=-x[0],l.originY=-x[1]));var b=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,T=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),A=void 0,C=void 0,E=void 0;b&&this.canBeInsideText()?(A=o.insideFill,C=o.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(C==null||C==="auto")&&(C=this.getInsideTextStroke(A),E=!0)):(A=o.outsideFill,C=o.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(C==null||C==="auto")&&(C=this.getOutsideStroke(A),E=!0)),A=A||"#000",(A!==T.fill||C!==T.stroke||E!==T.autoStroke||u!==T.align||c!==T.verticalAlign)&&(f=!0,T.fill=A,T.stroke=C,T.autoStroke=E,T.align=u,T.verticalAlign=c,n.setDefaultTextStyle(T)),n.__dirty|=REDRAW_BIT,f&&n.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(t){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},a.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),o=typeof n=="string"&&parse(n);o||(o=[255,255,255,1]);for(var s=o[3],l=this.__zr.isDarkMode(),u=0;u<3;u++)o[u]=o[u]*s+(l?0:255)*(1-s);return o[3]=1,stringify(o,"rgba")},a.prototype.traverse=function(t,n){},a.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[t]=n},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(isObject$3(t))for(var o=t,s=keys$1(o),l=0;l<s.length;l++){var u=s[l];this.attrKV(u,t[u])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],l=s.__fromStateTransition;if(!(s.getLoop()||l&&l!==PRESERVED_NORMAL_STATE)){var u=s.targetName,c=u?n[u]:n;s.saveTo(c)}}},a.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,PRIMARY_STATES_KEYS$1)},a.prototype._savePrimaryToNormal=function(t,n,o){for(var s=0;s<o.length;s++){var l=o[s];t[l]!=null&&!(l in n)&&(n[l]=this[l])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(t){return this.states[t]},a.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},a.prototype.clearStates=function(t){this.useState(PRESERVED_NORMAL_STATE,!1,t)},a.prototype.useState=function(t,n,o,s){var l=t===PRESERVED_NORMAL_STATE,u=this.hasState();if(!(!u&&l)){var c=this.currentStates,f=this.stateTransition;if(!(indexOf(c,t)>=0&&(n||c.length===1))){var d;if(this.stateProxy&&!l&&(d=this.stateProxy(t)),d||(d=this.states&&this.states[t]),!d&&!l){logError("State "+t+" not exists.");return}l||this.saveCurrentToNormalState(d);var g=!!(d&&d.hoverLayer||s);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,d,this._normalState,n,!o&&!this.__inHover&&f&&f.duration>0,f);var y=this._textContent,S=this._textGuide;return y&&y.useState(t,n,o,g),S&&S.useState(t,n,o,g),l?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),d}}},a.prototype.useStates=function(t,n,o){if(!t.length)this.clearStates();else{var s=[],l=this.currentStates,u=t.length,c=u===l.length;if(c){for(var f=0;f<u;f++)if(t[f]!==l[f]){c=!1;break}}if(c)return;for(var f=0;f<u;f++){var d=t[f],g=void 0;this.stateProxy&&(g=this.stateProxy(d,t)),g||(g=this.states[d]),g&&s.push(g)}var y=s[u-1],S=!!(y&&y.hoverLayer||o);S&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(s),x=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(t.join(","),_,this._normalState,!1,!n&&!this.__inHover&&x&&x.duration>0,x);var b=this._textContent,T=this._textGuide;b&&b.useStates(t,n,S),T&&T.useStates(t,n,S),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},a.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},a.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},a.prototype.removeState=function(t){var n=indexOf(this.currentStates,t);if(n>=0){var o=this.currentStates.slice();o.splice(n,1),this.useStates(o)}},a.prototype.replaceState=function(t,n,o){var s=this.currentStates.slice(),l=indexOf(s,t),u=indexOf(s,n)>=0;l>=0?u?s.splice(l,1):s[l]=n:o&&!u&&s.push(n),this.useStates(s)},a.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},a.prototype._mergeStates=function(t){for(var n={},o,s=0;s<t.length;s++){var l=t[s];extend(n,l),l.textConfig&&(o=o||{},extend(o,l.textConfig))}return o&&(n.textConfig=o),n},a.prototype._applyStateObj=function(t,n,o,s,l,u){var c=!(n&&s);n&&n.textConfig?(this.textConfig=extend({},s?this.textConfig:o.textConfig),extend(this.textConfig,n.textConfig)):c&&o.textConfig&&(this.textConfig=o.textConfig);for(var f={},d=!1,g=0;g<PRIMARY_STATES_KEYS$1.length;g++){var y=PRIMARY_STATES_KEYS$1[g],S=l&&DEFAULT_ANIMATABLE_MAP[y];n&&n[y]!=null?S?(d=!0,f[y]=n[y]):this[y]=n[y]:c&&o[y]!=null&&(S?(d=!0,f[y]=o[y]):this[y]=o[y])}if(!l)for(var g=0;g<this.animators.length;g++){var _=this.animators[g],x=_.targetName;_.getLoop()||_.__changeFinalValue(x?(n||o)[x]:n||o)}d&&this._transitionState(t,f,u)},a.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},a.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},a.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Transformable,this._attachComponent(t),this._textContent=t,this.markRedraw())},a.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),extend(this.textConfig,t),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,o=this._textGuide;n&&(n.__inHover=t),o&&(o.__inHover=t)},a.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var o=0;o<n.length;o++)t.animation.addAnimator(n[o]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},a.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var o=0;o<n.length;o++)t.animation.removeAnimator(n[o]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},a.prototype.animate=function(t,n,o){var s=t?this[t]:this,l=new Animator(s,n,o);return t&&(l.targetName=t),this.addAnimator(l,t),l},a.prototype.addAnimator=function(t,n){var o=this.__zr,s=this;t.during(function(){s.updateDuringAnimation(n)}).done(function(){var l=s.animators,u=indexOf(l,t);u>=0&&l.splice(u,1)}),this.animators.push(t),o&&o.animation.addAnimator(t),o&&o.wakeUp()},a.prototype.updateDuringAnimation=function(t){this.markRedraw()},a.prototype.stopAnimation=function(t,n){for(var o=this.animators,s=o.length,l=[],u=0;u<s;u++){var c=o[u];!t||t===c.scope?c.stop(n):l.push(c)}return this.animators=l,this},a.prototype.animateTo=function(t,n,o){animateTo(this,t,n,o)},a.prototype.animateFrom=function(t,n,o){animateTo(this,t,n,o,!0)},a.prototype._transitionState=function(t,n,o,s){for(var l=animateTo(this,n,o,s),u=0;u<l.length;u++)l[u].__fromStateTransition=t},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var t=a.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=REDRAW_BIT;function n(o,s,l,u){Object.defineProperty(t,o,{get:function(){if(!this[s]){var f=this[s]=[];c(this,f)}return this[s]},set:function(f){this[l]=f[0],this[u]=f[1],this[s]=f,c(this,f)}});function c(f,d){Object.defineProperty(d,0,{get:function(){return f[l]},set:function(g){f[l]=g}}),Object.defineProperty(d,1,{get:function(){return f[u]},set:function(g){f[u]=g}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),a}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(a,t,n,o,s){n=n||{};var l=[];animateToShallow(a,"",a,t,n,o,l,s);var u=l.length,c=!1,f=n.done,d=n.aborted,g=function(){c=!0,u--,u<=0&&(c?f&&f():d&&d())},y=function(){u--,u<=0&&(c?f&&f():d&&d())};u||f&&f(),l.length>0&&n.during&&l[0].during(function(x,b){n.during(b)});for(var S=0;S<l.length;S++){var _=l[S];g&&_.done(g),y&&_.aborted(y),n.force&&_.duration(n.duration),_.start(n.easing)}return l}function copyArrShallow(a,t,n){for(var o=0;o<n;o++)a[o]=t[o]}function is2DArray(a){return isArrayLike(a[0])}function copyValue(a,t,n){if(isArrayLike(t[n]))if(isArrayLike(a[n])||(a[n]=[]),isTypedArray(t[n])){var o=t[n].length;a[n].length!==o&&(a[n]=new t[n].constructor(o),copyArrShallow(a[n],t[n],o))}else{var s=t[n],l=a[n],u=s.length;if(is2DArray(s))for(var c=s[0].length,f=0;f<u;f++)l[f]?copyArrShallow(l[f],s[f],c):l[f]=Array.prototype.slice.call(s[f]);else copyArrShallow(l,s,u);l.length=s.length}else a[n]=t[n]}function isValueSame(a,t){return a===t||isArrayLike(a)&&isArrayLike(t)&&is1DArraySame(a,t)}function is1DArraySame(a,t){var n=a.length;if(n!==t.length)return!1;for(var o=0;o<n;o++)if(a[o]!==t[o])return!1;return!0}function animateToShallow(a,t,n,o,s,l,u,c){for(var f=keys$1(o),d=s.duration,g=s.delay,y=s.additive,S=s.setToFinal,_=!isObject$3(l),x=a.animators,b=[],T=0;T<f.length;T++){var A=f[T],C=o[A];if(C!=null&&n[A]!=null&&(_||l[A]))if(isObject$3(C)&&!isArrayLike(C)&&!isGradientObject(C)){if(t){c||(n[A]=C,a.updateDuringAnimation(t));continue}animateToShallow(a,A,n[A],C,s,l&&l[A],u,c)}else b.push(A);else c||(n[A]=C,a.updateDuringAnimation(t),b.push(A))}var E=b.length;if(!y&&E)for(var P=0;P<x.length;P++){var M=x[P];if(M.targetName===t){var I=M.stopTracks(b);if(I){var D=indexOf(x,M);x.splice(D,1)}}}if(s.force||(b=filter$1(b,function(V){return!isValueSame(o[V],n[V])}),E=b.length),E>0||s.force&&!u.length){var L=void 0,$=void 0,O=void 0;if(c){$={},S&&(L={});for(var P=0;P<E;P++){var A=b[P];$[A]=n[A],S?L[A]=o[A]:n[A]=o[A]}}else if(S){O={};for(var P=0;P<E;P++){var A=b[P];O[A]=cloneValue(n[A]),copyValue(n,o,A)}}var M=new Animator(n,!1,!1,y?filter$1(x,function(F){return F.targetName===t}):null);M.targetName=t,s.scope&&(M.scope=s.scope),S&&L&&M.whenWithKeys(0,L,b),O&&M.whenWithKeys(0,O,b),M.whenWithKeys(d??500,c?$:o,b).delay(g||0),a.addAnimator(M,t),u.push(M)}}var Group$3=function(a){__extends(t,a);function t(n){var o=a.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(n),o}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===n)return o[s]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,o){if(n&&n!==this&&n.parent!==this&&o&&o.parent===this){var s=this._children,l=s.indexOf(o);l>=0&&(s.splice(l,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,o){var s=indexOf(this._children,n);return s>=0&&this.replaceAt(o,s),this},t.prototype.replaceAt=function(n,o){var s=this._children,l=s[o];if(n&&n!==this&&n.parent!==this&&n!==l){s[o]=n,l.parent=null;var u=this.__zr;u&&l.removeSelfFromZr(u),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var o=this.__zr;o&&o!==n.__zr&&n.addSelfToZr(o),o&&o.refresh()},t.prototype.remove=function(n){var o=this.__zr,s=this._children,l=indexOf(s,n);return l<0?this:(s.splice(l,1),n.parent=null,o&&n.removeSelfFromZr(o),o&&o.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,o=this.__zr,s=0;s<n.length;s++){var l=n[s];o&&l.removeSelfFromZr(o),l.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,o){for(var s=this._children,l=0;l<s.length;l++){var u=s[l];n.call(o,u,l)}return this},t.prototype.traverse=function(n,o){for(var s=0;s<this._children.length;s++){var l=this._children[s],u=n.call(o,l);l.isGroup&&!u&&l.traverse(n,o)}return this},t.prototype.addSelfToZr=function(n){a.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){a.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var o=new BoundingRect(0,0,0,0),s=n||this._children,l=[],u=null,c=0;c<s.length;c++){var f=s[c];if(!(f.ignore||f.invisible)){var d=f.getBoundingRect(),g=f.getLocalTransform(l);g?(BoundingRect.applyTransform(o,d,g),u=u||o.clone(),u.union(o)):(u=u||d.clone(),u.union(d))}}return u||o},t}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(a){delete instances$1[a]}function isDarkMode(a){if(!a)return!1;if(typeof a=="string")return lum(a,1)<DARK_MODE_THRESHOLD;if(a.colorStops){for(var t=a.colorStops,n=0,o=t.length,s=0;s<o;s++)n+=lum(t[s].color,1);return n/=o,n<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function a(t,n,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=n,this.id=t;var l=new Storage,u=o.renderer||"canvas";painterCtors[u]||(u=keys$1(painterCtors)[0]),o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var c=new painterCtors[u](n,l,o,t),f=o.ssr||c.ssrOnly;this.storage=l,this.painter=c;var d=!env.node&&!env.worker&&!f?new HandlerDomProxy(c.getViewportRoot(),c.root):null,g=o.useCoarsePointer,y=g==null||g==="auto"?env.touchEventsSupported:!!g,S=44,_;y&&(_=retrieve2(o.pointerSize,S)),this.handler=new Handler(l,c,d,c.root,_),this.animation=new Animation({stage:{update:f?null:function(){return s._flush(!0)}}}),f||this.animation.start()}return a.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},a.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},a.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=isDarkMode(t))},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(t){this._darkMode=t},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},a.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},a.prototype.flush=function(){this._disposed||this._flush(!1)},a.prototype._flush=function(t){var n,o=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var s=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},a.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},a.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},a.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},a.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},a.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},a.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},a.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},a.prototype.on=function(t,n,o){return this._disposed||this.handler.on(t,n,o),this},a.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},a.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},a.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Group$3&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},a.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},a}();function init$2(a,t){var n=new ZRender(guid(),a,t);return instances$1[n.id]=n,n}function registerPainter(a,t){painterCtors[a]=t}var ssrDataGetter;function getElementSSRData(a){if(typeof ssrDataGetter=="function")return ssrDataGetter(a)}function registerSSRDataGetter(a){ssrDataGetter=a}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(a){return a.replace(/^\s+|\s+$/g,"")}function linearMap$2(a,t,n,o){var s=t[0],l=t[1],u=n[0],c=n[1],f=l-s,d=c-u;if(f===0)return d===0?u:(u+c)/2;if(o)if(f>0){if(a<=s)return u;if(a>=l)return c}else{if(a>=s)return u;if(a<=l)return c}else{if(a===s)return u;if(a===l)return c}return(a-s)/f*d+u}function parsePercent(a,t){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%";break}return isString(a)?_trim(a).match(/%$/)?parseFloat(a)/100*t:parseFloat(a):a==null?NaN:+a}function round$3(a,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),ROUND_SUPPORTED_PRECISION_MAX),a=(+a).toFixed(t),n?a:+a}function asc$2(a){return a.sort(function(t,n){return t-n}),a}function getPrecision(a){if(a=+a,isNaN(a))return 0;if(a>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(a*t)/t===a)return n}return getPrecisionSafe(a)}function getPrecisionSafe(a){var t=a.toString().toLowerCase(),n=t.indexOf("e"),o=n>0?+t.slice(n+1):0,s=n>0?n:t.length,l=t.indexOf("."),u=l<0?0:s-1-l;return Math.max(0,u-o)}function getPixelPrecision(a,t){var n=Math.log,o=Math.LN10,s=Math.floor(n(a[1]-a[0])/o),l=Math.round(n(Math.abs(t[1]-t[0]))/o),u=Math.min(Math.max(-s+l,0),20);return isFinite(u)?u:20}function getPercentSeats(a,t){var n=reduce(a,function(_,x){return _+(isNaN(x)?0:x)},0);if(n===0)return[];for(var o=Math.pow(10,t),s=map$1(a,function(_){return(isNaN(_)?0:_)/n*o*100}),l=o*100,u=map$1(s,function(_){return Math.floor(_)}),c=reduce(u,function(_,x){return _+x},0),f=map$1(s,function(_,x){return _-u[x]});c<l;){for(var d=Number.NEGATIVE_INFINITY,g=null,y=0,S=f.length;y<S;++y)f[y]>d&&(d=f[y],g=y);++u[g],f[g]=0,++c}return map$1(u,function(_){return _/o})}function addSafe(a,t){var n=Math.max(getPrecision(a),getPrecision(t)),o=a+t;return n>ROUND_SUPPORTED_PRECISION_MAX?o:round$3(o,n)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(a){var t=Math.PI*2;return(a%t+t)%t}function isRadianAroundZero(a){return a>-1e-4&&a<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(a){if(a instanceof Date)return a;if(isString(a)){var t=TIME_REG.exec(a);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(a==null)return new Date(NaN);return new Date(Math.round(a))}function quantity(a){return Math.pow(10,quantityExponent(a))}function quantityExponent(a){if(a===0)return 0;var t=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,t)>=10&&t++,t}function nice(a,t){var n=quantityExponent(a),o=Math.pow(10,n),s=a/o,l;return s<1.5?l=1:s<2.5?l=2:s<4?l=3:s<7?l=5:l=10,a=l*o,n>=-20?+a.toFixed(n<0?-n:0):a}function quantile(a,t){var n=(a.length-1)*t+1,o=Math.floor(n),s=+a[o-1],l=n-o;return l?s+l*(a[o]-s):s}function reformIntervals(a){a.sort(function(f,d){return c(f,d,0)?-1:1});for(var t=-1/0,n=1,o=0;o<a.length;){for(var s=a[o].interval,l=a[o].close,u=0;u<2;u++)s[u]<=t&&(s[u]=t,l[u]=u?1:1-n),t=s[u],n=l[u];s[0]===s[1]&&l[0]*l[1]!==1?a.splice(o,1):o++}return a;function c(f,d,g){return f.interval[g]<d.interval[g]||f.interval[g]===d.interval[g]&&(f.close[g]-d.close[g]===(g?-1:1)||!g&&c(f,d,1))}}function numericToNumber(a){var t=parseFloat(a);return t==a&&(t!==0||!isString(a)||a.indexOf("x")<=0)?t:NaN}function isNumeric(a){return!isNaN(numericToNumber(a))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(a,t){return t===0?a:getGreatestCommonDividor(t,a%t)}function getLeastCommonMultiple(a,t){return a==null?t:t==null?a:a*t/getGreatestCommonDividor(a,t)}function throwError(a){throw new Error(a)}function interpolateNumber(a,t,n){return(t-a)*n+a}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(a){return a instanceof Array?a:a==null?[]:[a]}function defaultEmphasis(a,t,n){if(a){a[t]=a[t]||{},a.emphasis=a.emphasis||{},a.emphasis[t]=a.emphasis[t]||{};for(var o=0,s=n.length;o<s;o++){var l=n[o];!a.emphasis[t].hasOwnProperty(l)&&a[t].hasOwnProperty(l)&&(a.emphasis[t][l]=a[t][l])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(a){return isObject$3(a)&&!isArray$2(a)&&!(a instanceof Date)?a.value:a}function isDataItemOption(a){return isObject$3(a)&&!(a instanceof Array)}function mappingToExists(a,t,n){var o=n==="normalMerge",s=n==="replaceMerge",l=n==="replaceAll";a=a||[],t=(t||[]).slice();var u=createHashMap();each$f(t,function(f,d){if(!isObject$3(f)){t[d]=null;return}});var c=prepareResult(a,u,n);return(o||s)&&mappingById(c,a,u,t),o&&mappingByName(c,t),o||s?mappingByIndex(c,t,s):l&&mappingInReplaceAllMode(c,t),makeIdAndName(c),c}function prepareResult(a,t,n){var o=[];if(n==="replaceAll")return o;for(var s=0;s<a.length;s++){var l=a[s];l&&l.id!=null&&t.set(l.id,s),o.push({existing:n==="replaceMerge"||isComponentIdInternal(l)?null:l,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(a,t,n,o){each$f(o,function(s,l){if(!(!s||s.id==null)){var u=makeComparableKey(s.id),c=n.get(u);if(c!=null){var f=a[c];assert(!f.newOption,'Duplicated option on id "'+u+'".'),f.newOption=s,f.existing=t[c],o[l]=null}}})}function mappingByName(a,t){each$f(t,function(n,o){if(!(!n||n.name==null))for(var s=0;s<a.length;s++){var l=a[s].existing;if(!a[s].newOption&&l&&(l.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(l)&&keyExistAndEqual("name",l,n)){a[s].newOption=n,t[o]=null;return}}})}function mappingByIndex(a,t,n){each$f(t,function(o){if(o){for(var s,l=0;(s=a[l])&&(s.newOption||isComponentIdInternal(s.existing)||s.existing&&o.id!=null&&!keyExistAndEqual("id",o,s.existing));)l++;s?(s.newOption=o,s.brandNew=n):a.push({newOption:o,brandNew:n,existing:null,keyInfo:null}),l++}})}function mappingInReplaceAllMode(a,t){each$f(t,function(n){a.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(a){var t=createHashMap();each$f(a,function(n){var o=n.existing;o&&t.set(o.id,n)}),each$f(a,function(n){var o=n.newOption;assert(!o||o.id==null||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&t.set(o.id,n),!n.keyInfo&&(n.keyInfo={})}),each$f(a,function(n,o){var s=n.existing,l=n.newOption,u=n.keyInfo;if(isObject$3(l)){if(u.name=l.name!=null?makeComparableKey(l.name):s?s.name:DUMMY_COMPONENT_NAME_PREFIX+o,s)u.id=makeComparableKey(s.id);else if(l.id!=null)u.id=makeComparableKey(l.id);else{var c=0;do u.id="\0"+u.name+"\0"+c++;while(t.get(u.id))}t.set(u.id,n)}})}function keyExistAndEqual(a,t,n){var o=convertOptionIdName(t[a],null),s=convertOptionIdName(n[a],null);return o!=null&&s!=null&&o===s}function makeComparableKey(a){return convertOptionIdName(a,"")}function convertOptionIdName(a,t){return a==null?t:isString(a)?a:isNumber$2(a)||isStringSafe(a)?a+"":t}function isNameSpecified(a){var t=a.name;return!!(t&&t.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(a){return a&&a.id!=null&&makeComparableKey(a.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(a){return INTERNAL_COMPONENT_ID_PREFIX+a}function setComponentTypeToKeyInfo(a,t,n){each$f(a,function(o){var s=o.newOption;isObject$3(s)&&(o.keyInfo.mainType=t,o.keyInfo.subType=determineSubType(t,s,o.existing,n))})}function determineSubType(a,t,n,o){var s=t.type?t.type:n?n.subType:o.determineSubType(a,t);return s}function compressBatches(a,t){var n={},o={};return s(a||[],n),s(t||[],o,n),[l(n),l(o)];function s(u,c,f){for(var d=0,g=u.length;d<g;d++){var y=convertOptionIdName(u[d].seriesId,null);if(y==null)return;for(var S=normalizeToArray(u[d].dataIndex),_=f&&f[y],x=0,b=S.length;x<b;x++){var T=S[x];_&&_[T]?_[T]=null:(c[y]||(c[y]={}))[T]=1}}}function l(u,c){var f=[];for(var d in u)if(u.hasOwnProperty(d)&&u[d]!=null)if(c)f.push(+d);else{var g=l(u[d],!0);g.length&&f.push({seriesId:d,dataIndex:g})}return f}}function queryDataIndex(a,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return isArray$2(t.dataIndex)?map$1(t.dataIndex,function(n){return a.indexOfRawIndex(n)}):a.indexOfRawIndex(t.dataIndex);if(t.name!=null)return isArray$2(t.name)?map$1(t.name,function(n){return a.indexOfName(n)}):a.indexOfName(t.name)}function makeInner(){var a="__ec_inner_"+innerUniqueIndex++;return function(t){return t[a]||(t[a]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(a,t,n){var o=preParseFinder(t,n),s=o.mainTypeSpecified,l=o.queryOptionMap,u=o.others,c=u,f=n?n.defaultMainType:null;return!s&&f&&l.set(f,{}),l.each(function(d,g){var y=queryReferringComponents(a,g,d,{useDefault:f===g,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});c[g+"Models"]=y.models,c[g+"Model"]=y.models[0]}),c}function preParseFinder(a,t){var n;if(isString(a)){var o={};o[a+"Index"]=0,n=o}else n=a;var s=createHashMap(),l={},u=!1;return each$f(n,function(c,f){if(f==="dataIndex"||f==="dataIndexInside"){l[f]=c;return}var d=f.match(/^(\w+)(Index|Id|Name)$/)||[],g=d[1],y=(d[2]||"").toLowerCase();if(!(!g||!y||t&&t.includeMainTypes&&indexOf(t.includeMainTypes,g)<0)){u=u||!!g;var S=s.get(g)||s.set(g,{});S[y]=c}}),{mainTypeSpecified:u,queryOptionMap:s,others:l}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(a,t,n,o){o=o||SINGLE_REFERRING;var s=n.index,l=n.id,u=n.name,c={models:null,specified:s!=null||l!=null||u!=null};if(!c.specified){var f=void 0;return c.models=o.useDefault&&(f=a.getComponent(t))?[f]:[],c}return s==="none"||s===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),c.models=[],c):(s==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),s=l=u=null),c.models=a.queryComponents({mainType:t,index:s,id:l,name:u}),c)}function setAttribute(a,t,n){a.setAttribute?a.setAttribute(t,n):a[t]=n}function getAttribute(a,t){return a.getAttribute?a.getAttribute(t):a[t]}function getTooltipRenderMode(a){return a==="auto"?env.domSupported?"html":"richText":a||"html"}function groupData(a,t){var n=createHashMap(),o=[];return each$f(a,function(s){var l=t(s);(n.get(l)||(o.push(l),n.set(l,[]))).push(s)}),{keys:o,buckets:n}}function interpolateRawValues(a,t,n,o,s){var l=t==null||t==="auto";if(o==null)return o;if(isNumber$2(o)){var u=interpolateNumber(n||0,o,s);return round$3(u,l?Math.max(getPrecision(n||0),getPrecision(o)):t)}else{if(isString(o))return s<1?n:o;for(var c=[],f=n,d=o,g=Math.max(f?f.length:0,d.length),y=0;y<g;++y){var S=a.getDimensionInfo(y);if(S&&S.type==="ordinal")c[y]=(s<1&&f?f:d)[y];else{var _=f&&f[y]?f[y]:0,x=d[y],u=interpolateNumber(_,x,s);c[y]=round$3(u,l?Math.max(getPrecision(_),getPrecision(x)):t)}}return c}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(a){var t={main:"",sub:""};if(a){var n=a.split(TYPE_DELIMITER);t.main=n[0]||"",t.sub=n[1]||""}return t}function checkClassType(a){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function isExtendedClass(a){return!!(a&&a[IS_EXTENDED_CLASS])}function enableClassExtend(a,t){a.$constructor=a,a.extend=function(n){var o=this,s;return isESClass(o)?s=function(l){__extends$1(u,l);function u(){return l.apply(this,arguments)||this}return u}(o):(s=function(){(n.$constructor||o).apply(this,arguments)},inherits(s,this)),extend(s.prototype,n),s[IS_EXTENDED_CLASS]=!0,s.extend=this.extend,s.superCall=superCall,s.superApply=superApply,s.superClass=o,s}}function isESClass(a){return isFunction(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function mountExtend(a,t){a.extend=t.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(a){var t=["__\0is_clz",classBase++].join("_");a.prototype[t]=!0,a.isInstance=function(n){return!!(n&&n[t])}}function superCall(a,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.superClass.prototype[t].apply(a,n)}function superApply(a,t,n){return this.superClass.prototype[t].apply(a,n)}function enableClassManagement(a){var t={};a.registerClass=function(o){var s=o.type||o.prototype.type;if(s){checkClassType(s),o.prototype.type=s;var l=parseClassType(s);if(!l.sub)t[l.main]=o;else if(l.sub!==IS_CONTAINER){var u=n(l);u[l.sub]=o}}return o},a.getClass=function(o,s,l){var u=t[o];if(u&&u[IS_CONTAINER]&&(u=s?u[s]:null),l&&!u)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return u},a.getClassesByMainType=function(o){var s=parseClassType(o),l=[],u=t[s.main];return u&&u[IS_CONTAINER]?each$f(u,function(c,f){f!==IS_CONTAINER&&l.push(c)}):l.push(u),l},a.hasClass=function(o){var s=parseClassType(o);return!!t[s.main]},a.getAllClassMainTypes=function(){var o=[];return each$f(t,function(s,l){o.push(l)}),o},a.hasSubTypes=function(o){var s=parseClassType(o),l=t[s.main];return l&&l[IS_CONTAINER]};function n(o){var s=t[o.main];return(!s||!s[IS_CONTAINER])&&(s=t[o.main]={},s[IS_CONTAINER]=!0),s}}function makeStyleMapper(a,t){for(var n=0;n<a.length;n++)a[n][1]||(a[n][1]=a[n][0]);return t=t||!1,function(o,s,l){for(var u={},c=0;c<a.length;c++){var f=a[c][1];if(!(s&&indexOf(s,f)>=0||l&&indexOf(l,f)<0)){var d=o.getShallow(f,t);d!=null&&(u[a[c][0]]=d)}}return u}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function a(){}return a.prototype.getAreaStyle=function(t,n){return getAreaStyle(this,t,n)},a}(),globalImageCache=new LRU(50);function findExistImage(a){if(typeof a=="string"){var t=globalImageCache.get(a);return t&&t.image}else return a}function createOrUpdateImage(a,t,n,o,s){if(a)if(typeof a=="string"){if(t&&t.__zrImageSrc===a||!n)return t;var l=globalImageCache.get(a),u={hostEl:n,cb:o,cbPayload:s};return l?(t=l.image,!isImageReady(t)&&l.pending.push(u)):(t=platformApi.loadImage(a,imageOnLoad,imageOnLoad),t.__zrImageSrc=a,globalImageCache.put(a,t.__cachedImgObj={image:t,pending:[u]})),t}else return a;else return t}function imageOnLoad(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<a.pending.length;t++){var n=a.pending[t],o=n.cb;o&&o(this,n.cbPayload),n.hostEl.dirty()}a.pending.length=0}function isImageReady(a){return a&&a.width&&a.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(a,t,n,o,s,l){if(!n){a.text="",a.isTruncated=!1;return}var u=(t+"").split(`
`);l=prepareTruncateOptions(n,o,s,l);for(var c=!1,f={},d=0,g=u.length;d<g;d++)truncateSingleLine(f,u[d],l),u[d]=f.textLine,c=c||f.isTruncated;a.text=u.join(`
`),a.isTruncated=c}function prepareTruncateOptions(a,t,n,o){o=o||{};var s=extend({},o);s.font=t,n=retrieve2(n,"..."),s.maxIterations=retrieve2(o.maxIterations,2);var l=s.minChar=retrieve2(o.minChar,0);s.cnCharWidth=getWidth("",t);var u=s.ascCharWidth=getWidth("a",t);s.placeholder=retrieve2(o.placeholder,"");for(var c=a=Math.max(0,a-1),f=0;f<l&&c>=u;f++)c-=u;var d=getWidth(n,t);return d>c&&(n="",d=0),c=a-d,s.ellipsis=n,s.ellipsisWidth=d,s.contentWidth=c,s.containerWidth=a,s}function truncateSingleLine(a,t,n){var o=n.containerWidth,s=n.font,l=n.contentWidth;if(!o){a.textLine="",a.isTruncated=!1;return}var u=getWidth(t,s);if(u<=o){a.textLine=t,a.isTruncated=!1;return}for(var c=0;;c++){if(u<=l||c>=n.maxIterations){t+=n.ellipsis;break}var f=c===0?estimateLength(t,l,n.ascCharWidth,n.cnCharWidth):u>0?Math.floor(t.length*l/u):0;t=t.substr(0,f),u=getWidth(t,s)}t===""&&(t=n.placeholder),a.textLine=t,a.isTruncated=!0}function estimateLength(a,t,n,o){for(var s=0,l=0,u=a.length;l<u&&s<t;l++){var c=a.charCodeAt(l);s+=0<=c&&c<=127?n:o}return l}function parsePlainText(a,t){a!=null&&(a+="");var n=t.overflow,o=t.padding,s=t.font,l=n==="truncate",u=getLineHeight(s),c=retrieve2(t.lineHeight,u),f=!!t.backgroundColor,d=t.lineOverflow==="truncate",g=!1,y=t.width,S;y!=null&&(n==="break"||n==="breakAll")?S=a?wrapText(a,t.font,y,n==="breakAll",0).lines:[]:S=a?a.split(`
`):[];var _=S.length*c,x=retrieve2(t.height,_);if(_>x&&d){var b=Math.floor(x/c);g=g||S.length>b,S=S.slice(0,b)}if(a&&l&&y!=null)for(var T=prepareTruncateOptions(y,s,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),A={},C=0;C<S.length;C++)truncateSingleLine(A,S[C],T),S[C]=A.textLine,g=g||A.isTruncated;for(var E=x,P=0,C=0;C<S.length;C++)P=Math.max(getWidth(S[C],s),P);y==null&&(y=P);var M=P;return o&&(E+=o[0]+o[2],M+=o[1]+o[3],y+=o[1]+o[3]),f&&(M=y),{lines:S,height:x,outerWidth:M,outerHeight:E,lineHeight:c,calculatedLineHeight:u,contentWidth:P,contentHeight:_,width:y,isTruncated:g}}var RichTextToken=function(){function a(){}return a}(),RichTextLine=function(){function a(t){this.tokens=[],t&&(this.tokens=t)}return a}(),RichTextContentBlock=function(){function a(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return a}();function parseRichText(a,t){var n=new RichTextContentBlock;if(a!=null&&(a+=""),!a)return n;for(var o=t.width,s=t.height,l=t.overflow,u=(l==="break"||l==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:l==="breakAll"}:null,c=STYLE_REG.lastIndex=0,f;(f=STYLE_REG.exec(a))!=null;){var d=f.index;d>c&&pushTokens(n,a.substring(c,d),t,u),pushTokens(n,f[2],t,u,f[1]),c=STYLE_REG.lastIndex}c<a.length&&pushTokens(n,a.substring(c,a.length),t,u);var g=[],y=0,S=0,_=t.padding,x=l==="truncate",b=t.lineOverflow==="truncate",T={};function A(j,W,X){j.width=W,j.lineHeight=X,y+=X,S=Math.max(S,W)}e:for(var C=0;C<n.lines.length;C++){for(var E=n.lines[C],P=0,M=0,I=0;I<E.tokens.length;I++){var D=E.tokens[I],L=D.styleName&&t.rich[D.styleName]||{},$=D.textPadding=L.padding,O=$?$[1]+$[3]:0,V=D.font=L.font||t.font;D.contentHeight=getLineHeight(V);var F=retrieve2(L.height,D.contentHeight);if(D.innerHeight=F,$&&(F+=$[0]+$[2]),D.height=F,D.lineHeight=retrieve3(L.lineHeight,t.lineHeight,F),D.align=L&&L.align||t.align,D.verticalAlign=L&&L.verticalAlign||"middle",b&&s!=null&&y+D.lineHeight>s){var z=n.lines.length;I>0?(E.tokens=E.tokens.slice(0,I),A(E,M,P),n.lines=n.lines.slice(0,C+1)):n.lines=n.lines.slice(0,C),n.isTruncated=n.isTruncated||n.lines.length<z;break e}var U=L.width,H=U==null||U==="auto";if(typeof U=="string"&&U.charAt(U.length-1)==="%")D.percentWidth=U,g.push(D),D.contentWidth=getWidth(D.text,V);else{if(H){var N=L.backgroundColor,G=N&&N.image;G&&(G=findExistImage(G),isImageReady(G)&&(D.width=Math.max(D.width,G.width*F/G.height)))}var R=x&&o!=null?o-M:null;R!=null&&R<D.width?!H||R<O?(D.text="",D.width=D.contentWidth=0):(truncateText2(T,D.text,R-O,V,t.ellipsis,{minChar:t.truncateMinChar}),D.text=T.text,n.isTruncated=n.isTruncated||T.isTruncated,D.width=D.contentWidth=getWidth(D.text,V)):D.contentWidth=getWidth(D.text,V)}D.width+=O,M+=D.width,L&&(P=Math.max(P,D.lineHeight))}A(E,M,P)}n.outerWidth=n.width=retrieve2(o,S),n.outerHeight=n.height=retrieve2(s,y),n.contentHeight=y,n.contentWidth=S,_&&(n.outerWidth+=_[1]+_[3],n.outerHeight+=_[0]+_[2]);for(var C=0;C<g.length;C++){var D=g[C],B=D.percentWidth;D.width=parseInt(B,10)/100*n.width}return n}function pushTokens(a,t,n,o,s){var l=t==="",u=s&&n.rich[s]||{},c=a.lines,f=u.font||n.font,d=!1,g,y;if(o){var S=u.padding,_=S?S[1]+S[3]:0;if(u.width!=null&&u.width!=="auto"){var x=parsePercent$1(u.width,o.width)+_;c.length>0&&x+o.accumWidth>o.width&&(g=t.split(`
`),d=!0),o.accumWidth=x}else{var b=wrapText(t,f,o.width,o.breakAll,o.accumWidth);o.accumWidth=b.accumWidth+_,y=b.linesWidths,g=b.lines}}else g=t.split(`
`);for(var T=0;T<g.length;T++){var A=g[T],C=new RichTextToken;if(C.styleName=s,C.text=A,C.isLineHolder=!A&&!l,typeof u.width=="number"?C.width=u.width:C.width=y?y[T]:getWidth(A,f),!T&&!d){var E=(c[c.length-1]||(c[0]=new RichTextLine)).tokens,P=E.length;P===1&&E[0].isLineHolder?E[0]=C:(A||!P||l)&&E.push(C)}else c.push(new RichTextLine([C]))}}function isAlphabeticLetter(a){var t=a.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(a,t){return a[t]=!0,a},{});function isWordBreakChar(a){return isAlphabeticLetter(a)?!!breakCharMap[a]:!0}function wrapText(a,t,n,o,s){for(var l=[],u=[],c="",f="",d=0,g=0,y=0;y<a.length;y++){var S=a.charAt(y);if(S===`
`){f&&(c+=f,g+=d),l.push(c),u.push(g),c="",f="",d=0,g=0;continue}var _=getWidth(S,t),x=o?!1:!isWordBreakChar(S);if(l.length?g+_>n:s+g+_>n){g?(c||f)&&(x?(c||(c=f,f="",d=0,g=d),l.push(c),u.push(g-d),f+=S,d+=_,c="",g=d):(f&&(c+=f,f="",d=0),l.push(c),u.push(g),c=S,g=_)):x?(l.push(f),u.push(d),f=S,d=_):(l.push(S),u.push(_));continue}g+=_,x?(f+=S,d+=_):(f&&(c+=f,f="",d=0),c+=S)}return!l.length&&!c&&(c=a,f="",d=0),f&&(c+=f),c&&(l.push(c),u.push(g)),l.length===1&&(g+=s),{accumWidth:g,lines:l,linesWidths:u}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype._init=function(n){for(var o=keys$1(n),s=0;s<o.length;s++){var l=o[s];l==="style"?this.useStyle(n[l]):a.prototype.attrKV.call(this,l,n[l])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,o,s,l){var u=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,o)||u&&!u[0]&&!u[3])return!1;if(s&&this.__clipPaths){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(l&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},t.prototype.contain=function(n,o){return this.rectContain(n,o)},t.prototype.traverse=function(n,o){n.call(o,this)},t.prototype.rectContain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();return l.contain(s[0],s[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),l=this.style,u=l.shadowBlur||0,c=l.shadowOffsetX||0,f=l.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),o?BoundingRect.applyTransform(n,s,o):n.copy(s),(u||c||f)&&(n.width+=u*2+Math.abs(c),n.height+=u*2+Math.abs(f),n.x=Math.min(n.x,n.x+c-u),n.y=Math.min(n.y,n.y+f-u));var d=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-d),n.y=Math.floor(n.y-d),n.width=Math.ceil(n.width+1+d*2),n.height=Math.ceil(n.height+1+d*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,o){n!=="style"?a.prototype.attrKV.call(this,n,o):this.style?this.setStyle(o):this.useStyle(o)},t.prototype.setStyle=function(n,o){return typeof n=="string"?this.style[n]=o:extend(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},t.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},t.prototype._innerSaveToNormal=function(n){a.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,o,PRIMARY_STATES_KEYS)},t.prototype._applyStateObj=function(n,o,s,l,u,c){a.prototype._applyStateObj.call(this,n,o,s,l,u,c);var f=!(o&&l),d;if(o&&o.style?u?l?d=o.style:(d=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(d,o.style)):(d=this._mergeStyle(this.createStyle(),l?this.style:s.style),this._mergeStyle(d,o.style)):f&&(d=s.style),d)if(u){var g=this.style;if(this.style=this.createStyle(f?{}:g),f)for(var y=keys$1(g),S=0;S<y.length;S++){var _=y[S];_ in d&&(d[_]=d[_],this.style[_]=g[_])}for(var x=keys$1(d),S=0;S<x.length;S++){var _=x[S];this.style[_]=this.style[_]}this._transitionState(n,{style:d},c,this.getAnimationStyleProps())}else this.useStyle(d);for(var b=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,S=0;S<b.length;S++){var _=b[S];o&&o[_]!=null?this[_]=o[_]:f&&s[_]!=null&&(this[_]=s[_])}},t.prototype._mergeStates=function(n){for(var o=a.prototype._mergeStates.call(this,n),s,l=0;l<n.length;l++){var u=n[l];u.style&&(s=s||{},this._mergeStyle(s,u.style))}return s&&(o.style=s),o},t.prototype._mergeStyle=function(n,o){return extend(n,o),n},t.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),t}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(a,t,n){return tmpRect.copy(a.getBoundingRect()),a.transform&&tmpRect.applyTransform(a.transform),viewRect.width=t,viewRect.height=n,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(a,t,n){if(a.length!==0){for(var o=a[0],s=o[0],l=o[0],u=o[1],c=o[1],f=1;f<a.length;f++)o=a[f],s=mathMin$9(s,o[0]),l=mathMax$9(l,o[0]),u=mathMin$9(u,o[1]),c=mathMax$9(c,o[1]);t[0]=s,t[1]=u,n[0]=l,n[1]=c}}function fromLine(a,t,n,o,s,l){s[0]=mathMin$9(a,n),s[1]=mathMin$9(t,o),l[0]=mathMax$9(a,n),l[1]=mathMax$9(t,o)}var xDim=[],yDim=[];function fromCubic(a,t,n,o,s,l,u,c,f,d){var g=cubicExtrema,y=cubicAt,S=g(a,n,s,u,xDim);f[0]=1/0,f[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var _=0;_<S;_++){var x=y(a,n,s,u,xDim[_]);f[0]=mathMin$9(x,f[0]),d[0]=mathMax$9(x,d[0])}S=g(t,o,l,c,yDim);for(var _=0;_<S;_++){var b=y(t,o,l,c,yDim[_]);f[1]=mathMin$9(b,f[1]),d[1]=mathMax$9(b,d[1])}f[0]=mathMin$9(a,f[0]),d[0]=mathMax$9(a,d[0]),f[0]=mathMin$9(u,f[0]),d[0]=mathMax$9(u,d[0]),f[1]=mathMin$9(t,f[1]),d[1]=mathMax$9(t,d[1]),f[1]=mathMin$9(c,f[1]),d[1]=mathMax$9(c,d[1])}function fromQuadratic(a,t,n,o,s,l,u,c){var f=quadraticExtremum,d=quadraticAt$1,g=mathMax$9(mathMin$9(f(a,n,s),1),0),y=mathMax$9(mathMin$9(f(t,o,l),1),0),S=d(a,n,s,g),_=d(t,o,l,y);u[0]=mathMin$9(a,s,S),u[1]=mathMin$9(t,l,_),c[0]=mathMax$9(a,s,S),c[1]=mathMax$9(t,l,_)}function fromArc(a,t,n,o,s,l,u,c,f){var d=min$1,g=max$1,y=Math.abs(s-l);if(y%PI2$8<1e-4&&y>1e-4){c[0]=a-n,c[1]=t-o,f[0]=a+n,f[1]=t+o;return}if(start[0]=mathCos$4(s)*n+a,start[1]=mathSin$4(s)*o+t,end[0]=mathCos$4(l)*n+a,end[1]=mathSin$4(l)*o+t,d(c,start,end),g(f,start,end),s=s%PI2$8,s<0&&(s=s+PI2$8),l=l%PI2$8,l<0&&(l=l+PI2$8),s>l&&!u?l+=PI2$8:s<l&&u&&(s+=PI2$8),u){var S=l;l=s,s=S}for(var _=0;_<l;_+=Math.PI/2)_>s&&(extremity[0]=mathCos$4(_)*n+a,extremity[1]=mathSin$4(_)*o+t,d(c,extremity,c),g(f,extremity,f))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(a){var t=Math.round(a/PI$8*1e8)/1e8;return t%2*PI$8}function normalizeArcAngles(a,t){var n=modPI2(a[0]);n<0&&(n+=PI2$7);var o=n-a[0],s=a[1];s+=o,!t&&s-n>=PI2$7?s=n+PI2$7:t&&n-s>=PI2$7?s=n-PI2$7:!t&&n>s?s=n+(PI2$7-modPI2(n-s)):t&&n<s&&(s=n-(PI2$7-modPI2(s-n))),a[0]=n,a[1]=s}var PathProxy=function(){function a(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(t,n,o){o=o||0,o>0&&(this._ux=mathAbs$2(o/devicePixelRatio/t)||0,this._uy=mathAbs$2(o/devicePixelRatio/n)||0)},a.prototype.setDPR=function(t){this.dpr=t},a.prototype.setContext=function(t){this._ctx=t},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(CMD$4.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},a.prototype.lineTo=function(t,n){var o=mathAbs$2(t-this._xi),s=mathAbs$2(n-this._yi),l=o>this._ux||s>this._uy;if(this.addData(CMD$4.L,t,n),this._ctx&&l&&this._ctx.lineTo(t,n),l)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var u=o*o+s*s;u>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=u)}return this},a.prototype.bezierCurveTo=function(t,n,o,s,l,u){return this._drawPendingPt(),this.addData(CMD$4.C,t,n,o,s,l,u),this._ctx&&this._ctx.bezierCurveTo(t,n,o,s,l,u),this._xi=l,this._yi=u,this},a.prototype.quadraticCurveTo=function(t,n,o,s){return this._drawPendingPt(),this.addData(CMD$4.Q,t,n,o,s),this._ctx&&this._ctx.quadraticCurveTo(t,n,o,s),this._xi=o,this._yi=s,this},a.prototype.arc=function(t,n,o,s,l,u){this._drawPendingPt(),tmpAngles[0]=s,tmpAngles[1]=l,normalizeArcAngles(tmpAngles,u),s=tmpAngles[0],l=tmpAngles[1];var c=l-s;return this.addData(CMD$4.A,t,n,o,o,s,c,0,u?0:1),this._ctx&&this._ctx.arc(t,n,o,s,l,u),this._xi=mathCos$3(l)*o+t,this._yi=mathSin$3(l)*o+n,this},a.prototype.arcTo=function(t,n,o,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,o,s,l),this},a.prototype.rect=function(t,n,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,o,s),this.addData(CMD$4.R,t,n,o,s),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var t=this._ctx,n=this._x0,o=this._y0;return t&&t.closePath(),this._xi=n,this._yi=o,this},a.prototype.fill=function(t){t&&t.fill(),this.toStatic()},a.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var o=0;o<n;o++)this.data[o]=t[o];this._len=n},a.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,o=0,s=this._len,l=0;l<n;l++)o+=t[l].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o));for(var l=0;l<n;l++)for(var u=t[l].data,c=0;c<u.length;c++)this.data[s++]=u[c];this._len=s},a.prototype.addData=function(t,n,o,s,l,u,c,f,d){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},a.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(t)))}},a.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var t=this.data,n=0,o=0,s=0,l=0,u;for(u=0;u<this._len;){var c=t[u++],f=u===1;switch(f&&(n=t[u],o=t[u+1],s=n,l=o),c){case CMD$4.M:n=s=t[u++],o=l=t[u++],min2[0]=s,min2[1]=l,max2[0]=s,max2[1]=l;break;case CMD$4.L:fromLine(n,o,t[u],t[u+1],min2,max2),n=t[u++],o=t[u++];break;case CMD$4.C:fromCubic(n,o,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],min2,max2),n=t[u++],o=t[u++];break;case CMD$4.Q:fromQuadratic(n,o,t[u++],t[u++],t[u],t[u+1],min2,max2),n=t[u++],o=t[u++];break;case CMD$4.A:var d=t[u++],g=t[u++],y=t[u++],S=t[u++],_=t[u++],x=t[u++]+_;u+=1;var b=!t[u++];f&&(s=mathCos$3(_)*y+d,l=mathSin$3(_)*S+g),fromArc(d,g,y,S,_,x,b,min2,max2),n=mathCos$3(x)*y+d,o=mathSin$3(x)*S+g;break;case CMD$4.R:s=n=t[u++],l=o=t[u++];var T=t[u++],A=t[u++];fromLine(s,l,s+T,l+A,min2,max2);break;case CMD$4.Z:n=s,o=l;break}min$1(min,min,min2),max$1(max,max,max2)}return u===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},a.prototype._calculateLength=function(){var t=this.data,n=this._len,o=this._ux,s=this._uy,l=0,u=0,c=0,f=0;this._pathSegLen||(this._pathSegLen=[]);for(var d=this._pathSegLen,g=0,y=0,S=0;S<n;){var _=t[S++],x=S===1;x&&(l=t[S],u=t[S+1],c=l,f=u);var b=-1;switch(_){case CMD$4.M:l=c=t[S++],u=f=t[S++];break;case CMD$4.L:{var T=t[S++],A=t[S++],C=T-l,E=A-u;(mathAbs$2(C)>o||mathAbs$2(E)>s||S===n-1)&&(b=Math.sqrt(C*C+E*E),l=T,u=A);break}case CMD$4.C:{var P=t[S++],M=t[S++],T=t[S++],A=t[S++],I=t[S++],D=t[S++];b=cubicLength(l,u,P,M,T,A,I,D,10),l=I,u=D;break}case CMD$4.Q:{var P=t[S++],M=t[S++],T=t[S++],A=t[S++];b=quadraticLength(l,u,P,M,T,A,10),l=T,u=A;break}case CMD$4.A:var L=t[S++],$=t[S++],O=t[S++],V=t[S++],F=t[S++],z=t[S++],U=z+F;S+=1,x&&(c=mathCos$3(F)*O+L,f=mathSin$3(F)*V+$),b=mathMax$8(O,V)*mathMin$8(PI2$7,Math.abs(z)),l=mathCos$3(U)*O+L,u=mathSin$3(U)*V+$;break;case CMD$4.R:{c=l=t[S++],f=u=t[S++];var H=t[S++],N=t[S++];b=H*2+N*2;break}case CMD$4.Z:{var C=c-l,E=f-u;b=Math.sqrt(C*C+E*E),l=c,u=f;break}}b>=0&&(d[y++]=b,g+=b)}return this._pathLen=g,g},a.prototype.rebuildPath=function(t,n){var o=this.data,s=this._ux,l=this._uy,u=this._len,c,f,d,g,y,S,_=n<1,x,b,T=0,A=0,C,E=0,P,M;if(!(_&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,b=this._pathLen,C=n*b,!C)))e:for(var I=0;I<u;){var D=o[I++],L=I===1;switch(L&&(d=o[I],g=o[I+1],c=d,f=g),D!==CMD$4.L&&E>0&&(t.lineTo(P,M),E=0),D){case CMD$4.M:c=d=o[I++],f=g=o[I++],t.moveTo(d,g);break;case CMD$4.L:{y=o[I++],S=o[I++];var $=mathAbs$2(y-d),O=mathAbs$2(S-g);if($>s||O>l){if(_){var V=x[A++];if(T+V>C){var F=(C-T)/V;t.lineTo(d*(1-F)+y*F,g*(1-F)+S*F);break e}T+=V}t.lineTo(y,S),d=y,g=S,E=0}else{var z=$*$+O*O;z>E&&(P=y,M=S,E=z)}break}case CMD$4.C:{var U=o[I++],H=o[I++],N=o[I++],G=o[I++],R=o[I++],B=o[I++];if(_){var V=x[A++];if(T+V>C){var F=(C-T)/V;cubicSubdivide(d,U,N,R,F,tmpOutX),cubicSubdivide(g,H,G,B,F,tmpOutY),t.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}T+=V}t.bezierCurveTo(U,H,N,G,R,B),d=R,g=B;break}case CMD$4.Q:{var U=o[I++],H=o[I++],N=o[I++],G=o[I++];if(_){var V=x[A++];if(T+V>C){var F=(C-T)/V;quadraticSubdivide(d,U,N,F,tmpOutX),quadraticSubdivide(g,H,G,F,tmpOutY),t.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}T+=V}t.quadraticCurveTo(U,H,N,G),d=N,g=G;break}case CMD$4.A:var j=o[I++],W=o[I++],X=o[I++],ee=o[I++],te=o[I++],le=o[I++],fe=o[I++],q=!o[I++],re=X>ee?X:ee,J=mathAbs$2(X-ee)>.001,oe=te+le,ne=!1;if(_){var V=x[A++];T+V>C&&(oe=te+le*(C-T)/V,ne=!0),T+=V}if(J&&t.ellipse?t.ellipse(j,W,X,ee,fe,te,oe,q):t.arc(j,W,re,te,oe,q),ne)break e;L&&(c=mathCos$3(te)*X+j,f=mathSin$3(te)*ee+W),d=mathCos$3(oe)*X+j,g=mathSin$3(oe)*ee+W;break;case CMD$4.R:c=d=o[I],f=g=o[I+1],y=o[I++],S=o[I++];var Y=o[I++],Z=o[I++];if(_){var V=x[A++];if(T+V>C){var K=C-T;t.moveTo(y,S),t.lineTo(y+mathMin$8(K,Y),S),K-=Y,K>0&&t.lineTo(y+Y,S+mathMin$8(K,Z)),K-=Z,K>0&&t.lineTo(y+mathMax$8(Y-K,0),S+Z),K-=Y,K>0&&t.lineTo(y,S+mathMax$8(Z-K,0));break e}T+=V}t.rect(y,S,Y,Z);break;case CMD$4.Z:if(_){var V=x[A++];if(T+V>C){var F=(C-T)/V;t.lineTo(d*(1-F)+c*F,g*(1-F)+f*F);break e}T+=V}t.closePath(),d=c,g=f}}},a.prototype.clone=function(){var t=new a,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},a.CMD=CMD$4,a.initDefaultProps=function(){var t=a.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),a}();function containStroke$4(a,t,n,o,s,l,u){if(s===0)return!1;var c=s,f=0,d=a;if(u>t+c&&u>o+c||u<t-c&&u<o-c||l>a+c&&l>n+c||l<a-c&&l<n-c)return!1;if(a!==n)f=(t-o)/(a-n),d=(a*o-n*t)/(a-n);else return Math.abs(l-a)<=c/2;var g=f*l-u+d,y=g*g/(f*f+1);return y<=c/2*c/2}function containStroke$3(a,t,n,o,s,l,u,c,f,d,g){if(f===0)return!1;var y=f;if(g>t+y&&g>o+y&&g>l+y&&g>c+y||g<t-y&&g<o-y&&g<l-y&&g<c-y||d>a+y&&d>n+y&&d>s+y&&d>u+y||d<a-y&&d<n-y&&d<s-y&&d<u-y)return!1;var S=cubicProjectPoint(a,t,n,o,s,l,u,c,d,g,null);return S<=y/2}function containStroke$2(a,t,n,o,s,l,u,c,f){if(u===0)return!1;var d=u;if(f>t+d&&f>o+d&&f>l+d||f<t-d&&f<o-d&&f<l-d||c>a+d&&c>n+d&&c>s+d||c<a-d&&c<n-d&&c<s-d)return!1;var g=quadraticProjectPoint(a,t,n,o,s,l,c,f,null);return g<=d/2}var PI2$6=Math.PI*2;function normalizeRadian(a){return a%=PI2$6,a<0&&(a+=PI2$6),a}var PI2$5=Math.PI*2;function containStroke$1(a,t,n,o,s,l,u,c,f){if(u===0)return!1;var d=u;c-=a,f-=t;var g=Math.sqrt(c*c+f*f);if(g-d>n||g+d<n)return!1;if(Math.abs(o-s)%PI2$5<1e-4)return!0;if(l){var y=o;o=normalizeRadian(s),s=normalizeRadian(y)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$5);var S=Math.atan2(f,c);return S<0&&(S+=PI2$5),S>=o&&S<=s||S+PI2$5>=o&&S+PI2$5<=s}function windingLine(a,t,n,o,s,l){if(l>t&&l>o||l<t&&l<o||o===t)return 0;var u=(l-t)/(o-t),c=o<t?1:-1;(u===1||u===0)&&(c=o<t?.5:-.5);var f=u*(n-a)+a;return f===s?1/0:f>s?c:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(a,t){return Math.abs(a-t)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var a=extrema[0];extrema[0]=extrema[1],extrema[1]=a}function windingCubic(a,t,n,o,s,l,u,c,f,d){if(d>t&&d>o&&d>l&&d>c||d<t&&d<o&&d<l&&d<c)return 0;var g=cubicRootAt(t,o,l,c,d,roots);if(g===0)return 0;for(var y=0,S=-1,_=void 0,x=void 0,b=0;b<g;b++){var T=roots[b],A=T===0||T===1?.5:1,C=cubicAt(a,n,s,u,T);C<f||(S<0&&(S=cubicExtrema(t,o,l,c,extrema),extrema[1]<extrema[0]&&S>1&&swapExtrema(),_=cubicAt(t,o,l,c,extrema[0]),S>1&&(x=cubicAt(t,o,l,c,extrema[1]))),S===2?T<extrema[0]?y+=_<t?A:-A:T<extrema[1]?y+=x<_?A:-A:y+=c<x?A:-A:T<extrema[0]?y+=_<t?A:-A:y+=c<_?A:-A)}return y}function windingQuadratic(a,t,n,o,s,l,u,c){if(c>t&&c>o&&c>l||c<t&&c<o&&c<l)return 0;var f=quadraticRootAt(t,o,l,c,roots);if(f===0)return 0;var d=quadraticExtremum(t,o,l);if(d>=0&&d<=1){for(var g=0,y=quadraticAt$1(t,o,l,d),S=0;S<f;S++){var _=roots[S]===0||roots[S]===1?.5:1,x=quadraticAt$1(a,n,s,roots[S]);x<u||(roots[S]<d?g+=y<t?_:-_:g+=l<y?_:-_)}return g}else{var _=roots[0]===0||roots[0]===1?.5:1,x=quadraticAt$1(a,n,s,roots[0]);return x<u?0:l<t?_:-_}}function windingArc(a,t,n,o,s,l,u,c){if(c-=t,c>n||c<-n)return 0;var f=Math.sqrt(n*n-c*c);roots[0]=-f,roots[1]=f;var d=Math.abs(o-s);if(d<1e-4)return 0;if(d>=PI2$4-1e-4){o=0,s=PI2$4;var g=l?1:-1;return u>=roots[0]+a&&u<=roots[1]+a?g:0}if(o>s){var y=o;o=s,s=y}o<0&&(o+=PI2$4,s+=PI2$4);for(var S=0,_=0;_<2;_++){var x=roots[_];if(x+a>u){var b=Math.atan2(c,x),g=l?1:-1;b<0&&(b=PI2$4+b),(b>=o&&b<=s||b+PI2$4>=o&&b+PI2$4<=s)&&(b>Math.PI/2&&b<Math.PI*1.5&&(g=-g),S+=g)}}return S}function containPath(a,t,n,o,s){for(var l=a.data,u=a.len(),c=0,f=0,d=0,g=0,y=0,S,_,x=0;x<u;){var b=l[x++],T=x===1;switch(b===CMD$3.M&&x>1&&(n||(c+=windingLine(f,d,g,y,o,s))),T&&(f=l[x],d=l[x+1],g=f,y=d),b){case CMD$3.M:g=l[x++],y=l[x++],f=g,d=y;break;case CMD$3.L:if(n){if(containStroke$4(f,d,l[x],l[x+1],t,o,s))return!0}else c+=windingLine(f,d,l[x],l[x+1],o,s)||0;f=l[x++],d=l[x++];break;case CMD$3.C:if(n){if(containStroke$3(f,d,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],t,o,s))return!0}else c+=windingCubic(f,d,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],o,s)||0;f=l[x++],d=l[x++];break;case CMD$3.Q:if(n){if(containStroke$2(f,d,l[x++],l[x++],l[x],l[x+1],t,o,s))return!0}else c+=windingQuadratic(f,d,l[x++],l[x++],l[x],l[x+1],o,s)||0;f=l[x++],d=l[x++];break;case CMD$3.A:var A=l[x++],C=l[x++],E=l[x++],P=l[x++],M=l[x++],I=l[x++];x+=1;var D=!!(1-l[x++]);S=Math.cos(M)*E+A,_=Math.sin(M)*P+C,T?(g=S,y=_):c+=windingLine(f,d,S,_,o,s);var L=(o-A)*P/E+A;if(n){if(containStroke$1(A,C,P,M,M+I,D,t,L,s))return!0}else c+=windingArc(A,C,P,M,M+I,D,L,s);f=Math.cos(M+I)*E+A,d=Math.sin(M+I)*P+C;break;case CMD$3.R:g=f=l[x++],y=d=l[x++];var $=l[x++],O=l[x++];if(S=g+$,_=y+O,n){if(containStroke$4(g,y,S,y,t,o,s)||containStroke$4(S,y,S,_,t,o,s)||containStroke$4(S,_,g,_,t,o,s)||containStroke$4(g,_,g,y,t,o,s))return!0}else c+=windingLine(S,y,S,_,o,s),c+=windingLine(g,_,g,y,o,s);break;case CMD$3.Z:if(n){if(containStroke$4(f,d,g,y,t,o,s))return!0}else c+=windingLine(f,d,g,y,o,s);f=g,d=y;break}}return!n&&!isAroundEqual$1(d,y)&&(c+=windingLine(f,d,g,y,o,s)||0),c!==0}function contain$2(a,t,n){return containPath(a,0,!1,t,n)}function containStroke(a,t,n,o){return containPath(a,t,!0,n,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.update=function(){var n=this;a.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new t;s.buildPath===t.prototype.buildPath&&(s.buildPath=function(f){n.buildPath(f,n.shape)}),s.silent=!0;var l=s.style;for(var u in o)l[u]!==o[u]&&(l[u]=o[u]);l.fill=o.fill?o.decal:null,l.decal=null,l.shadowColor=null,o.strokeFirst&&(l.stroke=null);for(var c=0;c<pathCopyParams.length;++c)s[pathCopyParams[c]]=this[pathCopyParams[c]];s.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var o=keys$1(n);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var l=0;l<o.length;l++){var u=o[l],c=n[u];u==="style"?this.style?extend(this.style,c):this.useStyle(c):u==="shape"?extend(this.shape,c):a.prototype.attrKV.call(this,u,c)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString(n)){var o=lum(n,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},t.prototype.getInsideTextStroke=function(n){var o=this.style.fill;if(isString(o)){var s=this.__zr,l=!!(s&&s.isDarkMode()),u=lum(n,0)<DARK_MODE_THRESHOLD;if(l===u)return o}},t.prototype.buildPath=function(n,o,s){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},t.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return!(o==null||o==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,o=this.style,s=!n;if(s){var l=!1;this.path||(l=!0,this.createPathProxy());var u=this.path;(l||this.__dirty&SHAPE_CHANGED_BIT)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),n=u.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||s){c.copy(n);var f=o.strokeNoScale?this.getLineScale():1,d=o.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;d=Math.max(d,g??4)}f>1e-10&&(c.width+=d/f,c.height+=d/f,c.x-=d/f/2,c.y-=d/f/2)}return c}return n},t.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect(),u=this.style;if(n=s[0],o=s[1],l.contain(n,o)){var c=this.path;if(this.hasStroke()){var f=u.lineWidth,d=u.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),containStroke(c,f/d,n,o)))return!0}if(this.hasFill())return contain$2(c,n,o)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,o){n==="shape"?this.setShape(o):a.prototype.attrKV.call(this,n,o)},t.prototype.setShape=function(n,o){var s=this.shape;return s||(s=this.shape={}),typeof n=="string"?s[n]=o:extend(s,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},t.prototype._innerSaveToNormal=function(n){a.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.shape&&!o.shape&&(o.shape=extend({},this.shape))},t.prototype._applyStateObj=function(n,o,s,l,u,c){a.prototype._applyStateObj.call(this,n,o,s,l,u,c);var f=!(o&&l),d;if(o&&o.shape?u?l?d=o.shape:(d=extend({},s.shape),extend(d,o.shape)):(d=extend({},l?this.shape:s.shape),extend(d,o.shape)):f&&(d=s.shape),d)if(u){this.shape=extend({},this.shape);for(var g={},y=keys$1(d),S=0;S<y.length;S++){var _=y[S];typeof d[_]=="object"?this.shape[_]=d[_]:g[_]=d[_]}this._transitionState(n,{shape:g},c)}else this.shape=d,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var o=a.prototype._mergeStates.call(this,n),s,l=0;l<n.length;l++){var u=n[l];u.shape&&(s=s||{},this._mergeStyle(s,u.shape))}return s&&(o.shape=s),o},t.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var o=function(l){__extends(u,l);function u(c){var f=l.call(this,c)||this;return n.init&&n.init.call(f,c),f}return u.prototype.getDefaultStyle=function(){return clone$4(n.style)},u.prototype.getDefaultShape=function(){return clone$4(n.shape)},u}(t);for(var s in n)typeof n[s]=="function"&&(o.prototype[s]=n[s]);return o},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),t}(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(a){__extends(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return o!=null&&o!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},t.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var o=n.text;o!=null?o+="":o="";var s=getBoundingRect(o,n.font,n.textAlign,n.textBaseline);if(s.x+=n.x||0,s.y+=n.y||0,this.hasStroke()){var l=n.lineWidth;s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l}this._rect=s}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(a){return!!(a&&typeof a!="string"&&a.width&&a.height)}var ZRImage=function(a){__extends(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},t.prototype._getSize=function(n){var o=this.style,s=o[n];if(s!=null)return s;var l=isImageLike$1(o.image)?o.image:this.__image;if(!l)return 0;var u=n==="width"?"height":"width",c=o[u];return c==null?l[n]:l[n]/l[u]*c},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Displayable);ZRImage.prototype.type="image";function buildPath$2(a,t){var n=t.x,o=t.y,s=t.width,l=t.height,u=t.r,c,f,d,g;s<0&&(n=n+s,s=-s),l<0&&(o=o+l,l=-l),typeof u=="number"?c=f=d=g=u:u instanceof Array?u.length===1?c=f=d=g=u[0]:u.length===2?(c=d=u[0],f=g=u[1]):u.length===3?(c=u[0],f=g=u[1],d=u[2]):(c=u[0],f=u[1],d=u[2],g=u[3]):c=f=d=g=0;var y;c+f>s&&(y=c+f,c*=s/y,f*=s/y),d+g>s&&(y=d+g,d*=s/y,g*=s/y),f+d>l&&(y=f+d,f*=l/y,d*=l/y),c+g>l&&(y=c+g,c*=l/y,g*=l/y),a.moveTo(n+c,o),a.lineTo(n+s-f,o),f!==0&&a.arc(n+s-f,o+f,f,-Math.PI/2,0),a.lineTo(n+s,o+l-d),d!==0&&a.arc(n+s-d,o+l-d,d,0,Math.PI/2),a.lineTo(n+g,o+l),g!==0&&a.arc(n+g,o+l-g,g,Math.PI/2,Math.PI),a.lineTo(n,o+c),c!==0&&a.arc(n+c,o+c,c,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(a,t,n){if(t){var o=t.x1,s=t.x2,l=t.y1,u=t.y2;a.x1=o,a.x2=s,a.y1=l,a.y2=u;var c=n&&n.lineWidth;return c&&(round$2(o*2)===round$2(s*2)&&(a.x1=a.x2=subPixelOptimize$1(o,c,!0)),round$2(l*2)===round$2(u*2)&&(a.y1=a.y2=subPixelOptimize$1(l,c,!0))),a}}function subPixelOptimizeRect$1(a,t,n){if(t){var o=t.x,s=t.y,l=t.width,u=t.height;a.x=o,a.y=s,a.width=l,a.height=u;var c=n&&n.lineWidth;return c&&(a.x=subPixelOptimize$1(o,c,!0),a.y=subPixelOptimize$1(s,c,!0),a.width=Math.max(subPixelOptimize$1(o+l,c,!1)-a.x,l===0?0:1),a.height=Math.max(subPixelOptimize$1(s+u,c,!1)-a.y,u===0?0:1)),a}}function subPixelOptimize$1(a,t,n){if(!t)return a;var o=round$2(a*2);return(o+round$2(t))%2===0?o/2:(o+(n?1:-1))/2}var RectShape=function(){function a(){this.x=0,this.y=0,this.width=0,this.height=0}return a}(),subPixelOptimizeOutputShape$1={},Rect$2=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RectShape},t.prototype.buildPath=function(n,o){var s,l,u,c;if(this.subPixelOptimize){var f=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);s=f.x,l=f.y,u=f.width,c=f.height,f.r=o.r,o=f}else s=o.x,l=o.y,u=o.width,c=o.height;o.r?buildPath$2(n,o):n.rect(s,l,u,c)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(a){__extends(t,a);function t(n){var o=a.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(n),o}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var o=this._children[n];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):a.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var o=this.innerTransformable;return o?o.getLocalTransform(n):a.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){a.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=n},t.prototype.removeSelfFromZr=function(n){a.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect(0,0,0,0),o=this._children,s=[],l=null,u=0;u<o.length;u++){var c=o[u],f=c.getBoundingRect(),d=c.getLocalTransform(s);d?(n.copy(f),n.applyTransform(d),l=l||n.clone(),l.union(n)):(l=l||f.clone(),l.union(f))}this._rect=l||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,o){if(!o)return n;var s=o.rich,l=n.rich||s&&{};return extend(n,o),s&&l?(this._mergeRich(l,s),n.rich=l):l&&(n.rich=l),n},t.prototype._mergeRich=function(n,o){for(var s=keys$1(o),l=0;l<s.length;l++){var u=s[l];n[u]=n[u]||{},extend(n[u],o[u])}},t.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},t.prototype._getOrCreateChild=function(n){var o=this._children[this._childCursor];return(!o||!(o instanceof n))&&(o=new n),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},t.prototype._updatePlainTexts=function(){var n=this.style,o=n.font||DEFAULT_FONT,s=n.padding,l=getStyleText(n),u=parsePlainText(l,n),c=needDrawBackground(n),f=!!n.backgroundColor,d=u.outerHeight,g=u.outerWidth,y=u.contentWidth,S=u.lines,_=u.lineHeight,x=this._defaultStyle;this.isTruncated=!!u.isTruncated;var b=n.x||0,T=n.y||0,A=n.align||x.align||"left",C=n.verticalAlign||x.verticalAlign||"top",E=b,P=adjustTextY(T,u.contentHeight,C);if(c||s){var M=adjustTextX(b,g,A),I=adjustTextY(T,d,C);c&&this._renderBackground(n,n,M,I,g,d)}P+=_/2,s&&(E=getTextXForPadding(b,A,s),C==="top"?P+=s[0]:C==="bottom"&&(P-=s[2]));for(var D=0,L=!1,$=getFill("fill"in n?n.fill:(L=!0,x.fill)),O=getStroke("stroke"in n?n.stroke:!f&&(!x.autoStroke||L)?(D=DEFAULT_STROKE_LINE_WIDTH,x.stroke):null),V=n.textShadowBlur>0,F=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),z=u.calculatedLineHeight,U=0;U<S.length;U++){var H=this._getOrCreateChild(TSpan),N=H.createStyle();H.useStyle(N),N.text=S[U],N.x=E,N.y=P,N.textAlign=A,N.textBaseline="middle",N.opacity=n.opacity,N.strokeFirst=!0,V&&(N.shadowBlur=n.textShadowBlur||0,N.shadowColor=n.textShadowColor||"transparent",N.shadowOffsetX=n.textShadowOffsetX||0,N.shadowOffsetY=n.textShadowOffsetY||0),N.stroke=O,N.fill=$,O&&(N.lineWidth=n.lineWidth||D,N.lineDash=n.lineDash,N.lineDashOffset=n.lineDashOffset||0),N.font=o,setSeparateFont(N,n),P+=_,F&&H.setBoundingRect(new BoundingRect(adjustTextX(N.x,y,N.textAlign),adjustTextY(N.y,z,N.textBaseline),y,z))}},t.prototype._updateRichTexts=function(){var n=this.style,o=getStyleText(n),s=parseRichText(o,n),l=s.width,u=s.outerWidth,c=s.outerHeight,f=n.padding,d=n.x||0,g=n.y||0,y=this._defaultStyle,S=n.align||y.align,_=n.verticalAlign||y.verticalAlign;this.isTruncated=!!s.isTruncated;var x=adjustTextX(d,u,S),b=adjustTextY(g,c,_),T=x,A=b;f&&(T+=f[3],A+=f[0]);var C=T+l;needDrawBackground(n)&&this._renderBackground(n,n,x,b,u,c);for(var E=!!n.backgroundColor,P=0;P<s.lines.length;P++){for(var M=s.lines[P],I=M.tokens,D=I.length,L=M.lineHeight,$=M.width,O=0,V=T,F=C,z=D-1,U=void 0;O<D&&(U=I[O],!U.align||U.align==="left");)this._placeToken(U,n,L,A,V,"left",E),$-=U.width,V+=U.width,O++;for(;z>=0&&(U=I[z],U.align==="right");)this._placeToken(U,n,L,A,F,"right",E),$-=U.width,F-=U.width,z--;for(V+=(l-(V-T)-(C-F)-$)/2;O<=z;)U=I[O],this._placeToken(U,n,L,A,V+U.width/2,"center",E),V+=U.width,O++;A+=L}},t.prototype._placeToken=function(n,o,s,l,u,c,f){var d=o.rich[n.styleName]||{};d.text=n.text;var g=n.verticalAlign,y=l+s/2;g==="top"?y=l+n.height/2:g==="bottom"&&(y=l+s-n.height/2);var S=!n.isLineHolder&&needDrawBackground(d);S&&this._renderBackground(d,o,c==="right"?u-n.width:c==="center"?u-n.width/2:u,y-n.height/2,n.width,n.height);var _=!!d.backgroundColor,x=n.textPadding;x&&(u=getTextXForPadding(u,c,x),y-=n.height/2-x[0]-n.innerHeight/2);var b=this._getOrCreateChild(TSpan),T=b.createStyle();b.useStyle(T);var A=this._defaultStyle,C=!1,E=0,P=getFill("fill"in d?d.fill:"fill"in o?o.fill:(C=!0,A.fill)),M=getStroke("stroke"in d?d.stroke:"stroke"in o?o.stroke:!_&&!f&&(!A.autoStroke||C)?(E=DEFAULT_STROKE_LINE_WIDTH,A.stroke):null),I=d.textShadowBlur>0||o.textShadowBlur>0;T.text=n.text,T.x=u,T.y=y,I&&(T.shadowBlur=d.textShadowBlur||o.textShadowBlur||0,T.shadowColor=d.textShadowColor||o.textShadowColor||"transparent",T.shadowOffsetX=d.textShadowOffsetX||o.textShadowOffsetX||0,T.shadowOffsetY=d.textShadowOffsetY||o.textShadowOffsetY||0),T.textAlign=c,T.textBaseline="middle",T.font=n.font||DEFAULT_FONT,T.opacity=retrieve3(d.opacity,o.opacity,1),setSeparateFont(T,d),M&&(T.lineWidth=retrieve3(d.lineWidth,o.lineWidth,E),T.lineDash=retrieve2(d.lineDash,o.lineDash),T.lineDashOffset=o.lineDashOffset||0,T.stroke=M),P&&(T.fill=P);var D=n.contentWidth,L=n.contentHeight;b.setBoundingRect(new BoundingRect(adjustTextX(T.x,D,T.textAlign),adjustTextY(T.y,L,T.textBaseline),D,L))},t.prototype._renderBackground=function(n,o,s,l,u,c){var f=n.backgroundColor,d=n.borderWidth,g=n.borderColor,y=f&&f.image,S=f&&!y,_=n.borderRadius,x=this,b,T;if(S||n.lineHeight||d&&g){b=this._getOrCreateChild(Rect$2),b.useStyle(b.createStyle()),b.style.fill=null;var A=b.shape;A.x=s,A.y=l,A.width=u,A.height=c,A.r=_,b.dirtyShape()}if(S){var C=b.style;C.fill=f||null,C.fillOpacity=retrieve2(n.fillOpacity,1)}else if(y){T=this._getOrCreateChild(ZRImage),T.onload=function(){x.dirtyStyle()};var E=T.style;E.image=f.image,E.x=s,E.y=l,E.width=u,E.height=c}if(d&&g){var C=b.style;C.lineWidth=d,C.stroke=g,C.strokeOpacity=retrieve2(n.strokeOpacity,1),C.lineDash=n.borderDash,C.lineDashOffset=n.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(C.strokeFirst=!0,C.lineWidth*=2)}var P=(b||T).style;P.shadowBlur=n.shadowBlur||0,P.shadowColor=n.shadowColor||"transparent",P.shadowOffsetX=n.shadowOffsetX||0,P.shadowOffsetY=n.shadowOffsetY||0,P.opacity=retrieve3(n.opacity,o.opacity,1)},t.makeFont=function(n){var o="";return hasSeparateFont(n)&&(o=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),o&&trim$1(o)||n.textFont||n.font},t}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(a){return typeof a=="string"&&(a.indexOf("px")!==-1||a.indexOf("rem")!==-1||a.indexOf("em")!==-1)?a:isNaN(+a)?DEFAULT_FONT_SIZE+"px":a+"px"}function setSeparateFont(a,t){for(var n=0;n<FONT_PARTS.length;n++){var o=FONT_PARTS[n],s=t[o];s!=null&&(a[o]=s)}}function hasSeparateFont(a){return a.fontSize!=null||a.fontFamily||a.fontWeight}function normalizeTextStyle(a){return normalizeStyle(a),each$f(a.rich,normalizeStyle),a}function normalizeStyle(a){if(a){a.font=ZRText.makeFont(a);var t=a.align;t==="middle"&&(t="center"),a.align=t==null||VALID_TEXT_ALIGN[t]?t:"left";var n=a.verticalAlign;n==="center"&&(n="middle"),a.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var o=a.padding;o&&(a.padding=normalizeCssArray$1(a.padding))}}function getStroke(a,t){return a==null||t<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function getFill(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function getTextXForPadding(a,t,n){return t==="right"?a-n[1]:t==="center"?a+n[3]/2-n[1]/2:a+n[3]}function getStyleText(a){var t=a.text;return t!=null&&(t+=""),t}function needDrawBackground(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}var getECData=makeInner(),setCommonECData=function(a,t,n,o){if(o){var s=getECData(o);s.dataIndex=n,s.dataType=t,s.seriesIndex=a,s.ssrType="chart",o.type==="group"&&o.traverse(function(l){var u=getECData(l);u.seriesIndex=a,u.dataIndex=n,u.dataType=t,u.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(a){return a!=null&&a!=="none"}function doChangeHoverState(a,t,n){a.onHoverStateChange&&(a.hoverState||0)!==n&&a.onHoverStateChange(t),a.hoverState=n}function singleEnterEmphasis(a){doChangeHoverState(a,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(a){a.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(a){doChangeHoverState(a,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(a){a.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(a){a.selected=!0}function singleLeaveSelect(a){a.selected=!1}function updateElementState(a,t,n){t(a,n)}function traverseUpdateState(a,t,n){updateElementState(a,t,n),a.isGroup&&a.traverse(function(o){updateElementState(o,t,n)})}function setStatesFlag(a,t){switch(t){case"emphasis":a.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":a.hoverState=HOVER_STATE_NORMAL;break;case"blur":a.hoverState=HOVER_STATE_BLUR;break;case"select":a.selected=!0}}function getFromStateStyle(a,t,n,o){for(var s=a.style,l={},u=0;u<t.length;u++){var c=t[u],f=s[c];l[c]=f??(o&&o[c])}for(var u=0;u<a.animators.length;u++){var d=a.animators[u];d.__fromStateTransition&&d.__fromStateTransition.indexOf(n)<0&&d.targetName==="style"&&d.saveTo(l,t)}return l}function createEmphasisDefaultState(a,t,n,o){var s=n&&indexOf(n,"select")>=0,l=!1;if(a instanceof Path){var u=getSavedStates(a),c=s&&u.selectFill||u.normalFill,f=s&&u.selectStroke||u.normalStroke;if(hasFillOrStroke(c)||hasFillOrStroke(f)){o=o||{};var d=o.style||{};d.fill==="inherit"?(l=!0,o=extend({},o),d=extend({},d),d.fill=c):!hasFillOrStroke(d.fill)&&hasFillOrStroke(c)?(l=!0,o=extend({},o),d=extend({},d),d.fill=liftColor(c)):!hasFillOrStroke(d.stroke)&&hasFillOrStroke(f)&&(l||(o=extend({},o),d=extend({},d)),d.stroke=liftColor(f)),o.style=d}}if(o&&o.z2==null){l||(o=extend({},o));var g=a.z2EmphasisLift;o.z2=a.z2+(g??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(a,t,n){if(n&&n.z2==null){n=extend({},n);var o=a.z2SelectLift;n.z2=a.z2+(o??Z2_SELECT_LIFT)}return n}function createBlurDefaultState(a,t,n){var o=indexOf(a.currentStates,t)>=0,s=a.style.opacity,l=o?null:getFromStateStyle(a,["opacity"],t,{opacity:1});n=n||{};var u=n.style||{};return u.opacity==null&&(n=extend({},n),u=extend({opacity:o?s:l.opacity*.1},u),n.style=u),n}function elementStateProxy(a,t){var n=this.states[a];if(this.style){if(a==="emphasis")return createEmphasisDefaultState(this,a,t,n);if(a==="blur")return createBlurDefaultState(this,a,n);if(a==="select")return createSelectDefaultState(this,a,n)}return n}function setDefaultStateProxy(a){a.stateProxy=elementStateProxy;var t=a.getTextContent(),n=a.getTextGuideLine();t&&(t.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(a,t){!shouldSilent(a,t)&&!a.__highByOuter&&traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(a,t){!shouldSilent(a,t)&&!a.__highByOuter&&traverseUpdateState(a,singleLeaveEmphasis)}function enterEmphasis(a,t){a.__highByOuter|=1<<(t||0),traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasis(a,t){!(a.__highByOuter&=~(1<<(t||0)))&&traverseUpdateState(a,singleLeaveEmphasis)}function enterBlur(a){traverseUpdateState(a,singleEnterBlur)}function leaveBlur(a){traverseUpdateState(a,singleLeaveBlur)}function enterSelect(a){traverseUpdateState(a,singleEnterSelect)}function leaveSelect(a){traverseUpdateState(a,singleLeaveSelect)}function shouldSilent(a,t){return a.__highDownSilentOnTouch&&t.zrByTouch}function allLeaveBlur(a){var t=a.getModel(),n=[],o=[];t.eachComponent(function(s,l){var u=getComponentStates(l),c=s==="series",f=c?a.getViewOfSeriesModel(l):a.getViewOfComponentModel(l);!c&&o.push(f),u.isBlured&&(f.group.traverse(function(d){singleLeaveBlur(d)}),c&&n.push(l)),u.isBlured=!1}),each$f(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(n,!1,t)})}function blurSeries(a,t,n,o){var s=o.getModel();n=n||"coordinateSystem";function l(d,g){for(var y=0;y<g.length;y++){var S=d.getItemGraphicEl(g[y]);S&&leaveBlur(S)}}if(a!=null&&!(!t||t==="none")){var u=s.getSeriesByIndex(a),c=u.coordinateSystem;c&&c.master&&(c=c.master);var f=[];s.eachSeries(function(d){var g=u===d,y=d.coordinateSystem;y&&y.master&&(y=y.master);var S=y&&c?y===c:g;if(!(n==="series"&&!g||n==="coordinateSystem"&&!S||t==="series"&&g)){var _=o.getViewOfSeriesModel(d);if(_.group.traverse(function(T){T.__highByOuter&&g&&t==="self"||singleEnterBlur(T)}),isArrayLike(t))l(d.getData(),t);else if(isObject$3(t))for(var x=keys$1(t),b=0;b<x.length;b++)l(d.getData(x[b]),t[x[b]]);f.push(d),getComponentStates(d).isBlured=!0}}),s.eachComponent(function(d,g){if(d!=="series"){var y=o.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(f,!0,s)}})}}function blurComponent(a,t,n){if(!(a==null||t==null)){var o=n.getModel().getComponent(a,t);if(o){getComponentStates(o).isBlured=!0;var s=n.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(l){singleEnterBlur(l)})}}}function blurSeriesFromHighlightPayload(a,t,n){var o=a.seriesIndex,s=a.getData(t.dataType);if(s){var l=queryDataIndex(s,t);l=(isArray$2(l)?l[0]:l)||0;var u=s.getItemGraphicEl(l);if(!u)for(var c=s.count(),f=0;!u&&f<c;)u=s.getItemGraphicEl(f++);if(u){var d=getECData(u);blurSeries(o,d.focus,d.blurScope,n)}else{var g=a.get(["emphasis","focus"]),y=a.get(["emphasis","blurScope"]);g!=null&&blurSeries(o,g,y,n)}}}function findComponentHighDownDispatchers(a,t,n,o){var s={focusSelf:!1,dispatchers:null};if(a==null||a==="series"||t==null||n==null)return s;var l=o.getModel().getComponent(a,t);if(!l)return s;var u=o.getViewOfComponentModel(l);if(!u||!u.findHighDownDispatchers)return s;for(var c=u.findHighDownDispatchers(n),f,d=0;d<c.length;d++)if(getECData(c[d]).focus==="self"){f=!0;break}return{focusSelf:f,dispatchers:c}}function handleGlobalMouseOverForHighDown(a,t,n){var o=getECData(a),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n),l=s.dispatchers,u=s.focusSelf;l?(u&&blurComponent(o.componentMainType,o.componentIndex,n),each$f(l,function(c){return enterEmphasisWhenMouseOver(c,t)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,n),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,n),enterEmphasisWhenMouseOver(a,t))}function handleGlobalMouseOutForHighDown(a,t,n){allLeaveBlur(n);var o=getECData(a),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n).dispatchers;s?each$f(s,function(l){return leaveEmphasisWhenMouseOut(l,t)}):leaveEmphasisWhenMouseOut(a,t)}function toggleSelectionFromPayload(a,t,n){if(isSelectChangePayload(t)){var o=t.dataType,s=a.getData(o),l=queryDataIndex(s,t);isArray$2(l)||(l=[l]),a[t.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":t.type===SELECT_ACTION_TYPE?"select":"unselect"](l,o)}}function updateSeriesElementSelection(a){var t=a.getAllData();each$f(t,function(n){var o=n.data,s=n.type;o.eachItemGraphicEl(function(l,u){a.isSelected(u,s)?enterSelect(l):leaveSelect(l)})})}function getAllSelectedIndices(a){var t=[];return a.eachSeries(function(n){var o=n.getAllData();each$f(o,function(s){s.data;var l=s.type,u=n.getSelectedDataIndices();if(u.length>0){var c={dataIndex:u,seriesIndex:n.seriesIndex};l!=null&&(c.dataType=l),t.push(c)}})}),t}function enableHoverEmphasis(a,t,n){setAsHighDownDispatcher(a,!0),traverseUpdateState(a,setDefaultStateProxy),enableHoverFocus(a,t,n)}function disableHoverEmphasis(a){setAsHighDownDispatcher(a,!1)}function toggleHoverEmphasis(a,t,n,o){o?disableHoverEmphasis(a):enableHoverEmphasis(a,t,n)}function enableHoverFocus(a,t,n){var o=getECData(a);t!=null?(o.focus=t,o.blurScope=n):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(a,t,n,o){n=n||"itemStyle";for(var s=0;s<OTHER_STATES.length;s++){var l=OTHER_STATES[s],u=t.getModel([l,n]),c=a.ensureState(l);c.style=o?o(u):u[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(a,t){var n=t===!1,o=a;a.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!n||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!n)}function isHighDownDispatcher(a){return!!(a&&a.__highDownDispatcher)}function enableComponentHighDownFeatures(a,t,n){var o=getECData(a);o.componentMainType=t.mainType,o.componentIndex=t.componentIndex,o.componentHighDownName=n}function getHighlightDigit(a){var t=_highlightKeyMap[a];return t==null&&_highlightNextDigit<=32&&(t=_highlightKeyMap[a]=_highlightNextDigit++),t}function isSelectChangePayload(a){var t=a.type;return t===SELECT_ACTION_TYPE||t===UNSELECT_ACTION_TYPE||t===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(a){var t=a.type;return t===HIGHLIGHT_ACTION_TYPE||t===DOWNPLAY_ACTION_TYPE}function savePathStates(a){var t=getSavedStates(a);t.normalFill=a.style.fill,t.normalStroke=a.style.stroke;var n=a.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(a,t){if(t){var n=a.data,o=a.len(),s,l,u,c,f,d,g=CMD$2.M,y=CMD$2.C,S=CMD$2.L,_=CMD$2.R,x=CMD$2.A,b=CMD$2.Q;for(u=0,c=0;u<o;){switch(s=n[u++],c=u,l=0,s){case g:l=1;break;case S:l=1;break;case y:l=3;break;case b:l=2;break;case x:var T=t[4],A=t[5],C=mathSqrt$2(t[0]*t[0]+t[1]*t[1]),E=mathSqrt$2(t[2]*t[2]+t[3]*t[3]),P=mathAtan2(-t[1]/E,t[0]/C);n[u]*=C,n[u++]+=T,n[u]*=E,n[u++]+=A,n[u++]*=C,n[u++]*=E,n[u++]+=P,n[u++]+=P,u+=2,c=u;break;case _:d[0]=n[u++],d[1]=n[u++],applyTransform$1(d,d,t),n[c++]=d[0],n[c++]=d[1],d[0]+=n[u++],d[1]+=n[u++],applyTransform$1(d,d,t),n[c++]=d[0],n[c++]=d[1]}for(f=0;f<l;f++){var M=points$2[f];M[0]=n[u++],M[1]=n[u++],applyTransform$1(M,M,t),n[c++]=M[0],n[c++]=M[1]}}a.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function vRatio(a,t){return(a[0]*t[0]+a[1]*t[1])/(vMag(a)*vMag(t))}function vAngle(a,t){return(a[0]*t[1]<a[1]*t[0]?-1:1)*Math.acos(vRatio(a,t))}function processArc(a,t,n,o,s,l,u,c,f,d,g){var y=f*(PI$7/180),S=mathCos$2(y)*(a-n)/2+mathSin$2(y)*(t-o)/2,_=-1*mathSin$2(y)*(a-n)/2+mathCos$2(y)*(t-o)/2,x=S*S/(u*u)+_*_/(c*c);x>1&&(u*=mathSqrt$1(x),c*=mathSqrt$1(x));var b=(s===l?-1:1)*mathSqrt$1((u*u*(c*c)-u*u*(_*_)-c*c*(S*S))/(u*u*(_*_)+c*c*(S*S)))||0,T=b*u*_/c,A=b*-c*S/u,C=(a+n)/2+mathCos$2(y)*T-mathSin$2(y)*A,E=(t+o)/2+mathSin$2(y)*T+mathCos$2(y)*A,P=vAngle([1,0],[(S-T)/u,(_-A)/c]),M=[(S-T)/u,(_-A)/c],I=[(-1*S-T)/u,(-1*_-A)/c],D=vAngle(M,I);if(vRatio(M,I)<=-1&&(D=PI$7),vRatio(M,I)>=1&&(D=0),D<0){var L=Math.round(D/PI$7*1e6)/1e6;D=PI$7*2+L%2*PI$7}g.addData(d,C,E,u,c,P,D,y,l)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(a){var t=new PathProxy;if(!a)return t;var n=0,o=0,s=n,l=o,u,c=PathProxy.CMD,f=a.match(commandReg);if(!f)return t;for(var d=0;d<f.length;d++){for(var g=f[d],y=g.charAt(0),S=void 0,_=g.match(numberReg$1)||[],x=_.length,b=0;b<x;b++)_[b]=parseFloat(_[b]);for(var T=0;T<x;){var A=void 0,C=void 0,E=void 0,P=void 0,M=void 0,I=void 0,D=void 0,L=n,$=o,O=void 0,V=void 0;switch(y){case"l":n+=_[T++],o+=_[T++],S=c.L,t.addData(S,n,o);break;case"L":n=_[T++],o=_[T++],S=c.L,t.addData(S,n,o);break;case"m":n+=_[T++],o+=_[T++],S=c.M,t.addData(S,n,o),s=n,l=o,y="l";break;case"M":n=_[T++],o=_[T++],S=c.M,t.addData(S,n,o),s=n,l=o,y="L";break;case"h":n+=_[T++],S=c.L,t.addData(S,n,o);break;case"H":n=_[T++],S=c.L,t.addData(S,n,o);break;case"v":o+=_[T++],S=c.L,t.addData(S,n,o);break;case"V":o=_[T++],S=c.L,t.addData(S,n,o);break;case"C":S=c.C,t.addData(S,_[T++],_[T++],_[T++],_[T++],_[T++],_[T++]),n=_[T-2],o=_[T-1];break;case"c":S=c.C,t.addData(S,_[T++]+n,_[T++]+o,_[T++]+n,_[T++]+o,_[T++]+n,_[T++]+o),n+=_[T-2],o+=_[T-1];break;case"S":A=n,C=o,O=t.len(),V=t.data,u===c.C&&(A+=n-V[O-4],C+=o-V[O-3]),S=c.C,L=_[T++],$=_[T++],n=_[T++],o=_[T++],t.addData(S,A,C,L,$,n,o);break;case"s":A=n,C=o,O=t.len(),V=t.data,u===c.C&&(A+=n-V[O-4],C+=o-V[O-3]),S=c.C,L=n+_[T++],$=o+_[T++],n+=_[T++],o+=_[T++],t.addData(S,A,C,L,$,n,o);break;case"Q":L=_[T++],$=_[T++],n=_[T++],o=_[T++],S=c.Q,t.addData(S,L,$,n,o);break;case"q":L=_[T++]+n,$=_[T++]+o,n+=_[T++],o+=_[T++],S=c.Q,t.addData(S,L,$,n,o);break;case"T":A=n,C=o,O=t.len(),V=t.data,u===c.Q&&(A+=n-V[O-4],C+=o-V[O-3]),n=_[T++],o=_[T++],S=c.Q,t.addData(S,A,C,n,o);break;case"t":A=n,C=o,O=t.len(),V=t.data,u===c.Q&&(A+=n-V[O-4],C+=o-V[O-3]),n+=_[T++],o+=_[T++],S=c.Q,t.addData(S,A,C,n,o);break;case"A":E=_[T++],P=_[T++],M=_[T++],I=_[T++],D=_[T++],L=n,$=o,n=_[T++],o=_[T++],S=c.A,processArc(L,$,n,o,I,D,E,P,M,S,t);break;case"a":E=_[T++],P=_[T++],M=_[T++],I=_[T++],D=_[T++],L=n,$=o,n+=_[T++],o+=_[T++],S=c.A,processArc(L,$,n,o,I,D,E,P,M,S,t);break}}(y==="z"||y==="Z")&&(S=c.Z,t.addData(S),n=s,o=l),u=S}return t.toStatic(),t}var SVGPath=function(a){__extends(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(Path);function isPathProxy(a){return a.setData!=null}function createPathOptions(a,t){var n=createPathProxyFromString(a),o=extend({},t);return o.buildPath=function(s){if(isPathProxy(s)){s.setData(n.data);var l=s.getContext();l&&s.rebuildPath(l,1)}else{var l=s;n.rebuildPath(l,1)}},o.applyTransform=function(s){transformPath(n,s),this.dirtyShape()},o}function createFromString(a,t){return new SVGPath(createPathOptions(a,t))}function extendFromString(a,t){var n=createPathOptions(a,t),o=function(s){__extends(l,s);function l(u){var c=s.call(this,u)||this;return c.applyTransform=n.applyTransform,c.buildPath=n.buildPath,c}return l}(SVGPath);return o}function mergePath$1(a,t){for(var n=[],o=a.length,s=0;s<o;s++){var l=a[s];n.push(l.getUpdatedPathProxy(!0))}var u=new Path(t);return u.createPathProxy(),u.buildPath=function(c){if(isPathProxy(c)){c.appendPath(n);var f=c.getContext();f&&c.rebuildPath(f,1)}},u}function clonePath(a,t){t=t||{};var n=new Path;return a.shape&&n.setShape(a.shape),n.setStyle(a.style),t.bakeTransform?transformPath(n.path,a.getComputedTransform()):t.toLocal?n.setLocalTransform(a.getComputedTransform()):n.copyTransform(a),n.buildPath=a.buildPath,n.applyTransform=n.applyTransform,n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel,n}var CircleShape=function(){function a(){this.cx=0,this.cy=0,this.r=0}return a}(),Circle=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new CircleShape},t.prototype.buildPath=function(n,o){n.moveTo(o.cx+o.r,o.cy),n.arc(o.cx,o.cy,o.r,0,Math.PI*2)},t}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function a(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return a}(),Ellipse=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new EllipseShape},t.prototype.buildPath=function(n,o){var s=.5522848,l=o.cx,u=o.cy,c=o.rx,f=o.ry,d=c*s,g=f*s;n.moveTo(l-c,u),n.bezierCurveTo(l-c,u-g,l-d,u-f,l,u-f),n.bezierCurveTo(l+d,u-f,l+c,u-g,l+c,u),n.bezierCurveTo(l+c,u+g,l+d,u+f,l,u+f),n.bezierCurveTo(l-d,u+f,l-c,u+g,l-c,u),n.closePath()},t}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(a,t,n,o,s,l,u,c){var f=n-a,d=o-t,g=u-s,y=c-l,S=y*f-g*d;if(!(S*S<e))return S=(g*(t-l)-y*(a-s))/S,[a+S*f,t+S*d]}function computeCornerTangents(a,t,n,o,s,l,u){var c=a-n,f=t-o,d=(u?l:-l)/mathSqrt(c*c+f*f),g=d*f,y=-d*c,S=a+g,_=t+y,x=n+g,b=o+y,T=(S+x)/2,A=(_+b)/2,C=x-S,E=b-_,P=C*C+E*E,M=s-l,I=S*b-x*_,D=(E<0?-1:1)*mathSqrt(mathMax$7(0,M*M*P-I*I)),L=(I*E-C*D)/P,$=(-I*C-E*D)/P,O=(I*E+C*D)/P,V=(-I*C+E*D)/P,F=L-T,z=$-A,U=O-T,H=V-A;return F*F+z*z>U*U+H*H&&(L=O,$=V),{cx:L,cy:$,x0:-g,y0:-y,x1:L*(s/M-1),y1:$*(s/M-1)}}function normalizeCornerRadius(a){var t;if(isArray$2(a)){var n=a.length;if(!n)return a;n===1?t=[a[0],a[0],0,0]:n===2?t=[a[0],a[0],a[1],a[1]]:n===3?t=a.concat(a[2]):t=a}else t=[a,a,a,a];return t}function buildPath$1(a,t){var n,o=mathMax$7(t.r,0),s=mathMax$7(t.r0||0,0),l=o>0,u=s>0;if(!(!l&&!u)){if(l||(o=s,s=0),s>o){var c=o;o=s,s=c}var f=t.startAngle,d=t.endAngle;if(!(isNaN(f)||isNaN(d))){var g=t.cx,y=t.cy,S=!!t.clockwise,_=mathAbs$1(d-f),x=_>PI2$3&&_%PI2$3;if(x>e&&(_=x),!(o>e))a.moveTo(g,y);else if(_>PI2$3-e)a.moveTo(g+o*mathCos$1(f),y+o*mathSin$1(f)),a.arc(g,y,o,f,d,!S),s>e&&(a.moveTo(g+s*mathCos$1(d),y+s*mathSin$1(d)),a.arc(g,y,s,d,f,S));else{var b=void 0,T=void 0,A=void 0,C=void 0,E=void 0,P=void 0,M=void 0,I=void 0,D=void 0,L=void 0,$=void 0,O=void 0,V=void 0,F=void 0,z=void 0,U=void 0,H=o*mathCos$1(f),N=o*mathSin$1(f),G=s*mathCos$1(d),R=s*mathSin$1(d),B=_>e;if(B){var j=t.cornerRadius;j&&(n=normalizeCornerRadius(j),b=n[0],T=n[1],A=n[2],C=n[3]);var W=mathAbs$1(o-s)/2;if(E=mathMin$7(W,A),P=mathMin$7(W,C),M=mathMin$7(W,b),I=mathMin$7(W,T),$=D=mathMax$7(E,P),O=L=mathMax$7(M,I),(D>e||L>e)&&(V=o*mathCos$1(d),F=o*mathSin$1(d),z=s*mathCos$1(f),U=s*mathSin$1(f),_<PI$6)){var X=intersect(H,N,z,U,V,F,G,R);if(X){var ee=H-X[0],te=N-X[1],le=V-X[0],fe=F-X[1],q=1/mathSin$1(mathACos((ee*le+te*fe)/(mathSqrt(ee*ee+te*te)*mathSqrt(le*le+fe*fe)))/2),re=mathSqrt(X[0]*X[0]+X[1]*X[1]);$=mathMin$7(D,(o-re)/(q+1)),O=mathMin$7(L,(s-re)/(q-1))}}}if(!B)a.moveTo(g+H,y+N);else if($>e){var J=mathMin$7(A,$),oe=mathMin$7(C,$),ne=computeCornerTangents(z,U,H,N,o,J,S),Y=computeCornerTangents(V,F,G,R,o,oe,S);a.moveTo(g+ne.cx+ne.x0,y+ne.cy+ne.y0),$<D&&J===oe?a.arc(g+ne.cx,y+ne.cy,$,mathATan2(ne.y0,ne.x0),mathATan2(Y.y0,Y.x0),!S):(J>0&&a.arc(g+ne.cx,y+ne.cy,J,mathATan2(ne.y0,ne.x0),mathATan2(ne.y1,ne.x1),!S),a.arc(g,y,o,mathATan2(ne.cy+ne.y1,ne.cx+ne.x1),mathATan2(Y.cy+Y.y1,Y.cx+Y.x1),!S),oe>0&&a.arc(g+Y.cx,y+Y.cy,oe,mathATan2(Y.y1,Y.x1),mathATan2(Y.y0,Y.x0),!S))}else a.moveTo(g+H,y+N),a.arc(g,y,o,f,d,!S);if(!(s>e)||!B)a.lineTo(g+G,y+R);else if(O>e){var J=mathMin$7(b,O),oe=mathMin$7(T,O),ne=computeCornerTangents(G,R,V,F,s,-oe,S),Y=computeCornerTangents(H,N,z,U,s,-J,S);a.lineTo(g+ne.cx+ne.x0,y+ne.cy+ne.y0),O<L&&J===oe?a.arc(g+ne.cx,y+ne.cy,O,mathATan2(ne.y0,ne.x0),mathATan2(Y.y0,Y.x0),!S):(oe>0&&a.arc(g+ne.cx,y+ne.cy,oe,mathATan2(ne.y0,ne.x0),mathATan2(ne.y1,ne.x1),!S),a.arc(g,y,s,mathATan2(ne.cy+ne.y1,ne.cx+ne.x1),mathATan2(Y.cy+Y.y1,Y.cx+Y.x1),S),J>0&&a.arc(g+Y.cx,y+Y.cy,J,mathATan2(Y.y1,Y.x1),mathATan2(Y.y0,Y.x0),!S))}else a.lineTo(g+G,y+R),a.arc(g,y,s,d,f,S)}a.closePath()}}}var SectorShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return a}(),Sector=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SectorShape},t.prototype.buildPath=function(n,o){buildPath$1(n,o)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Path);Sector.prototype.type="sector";var RingShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return a}(),Ring=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RingShape},t.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.PI*2;n.moveTo(s+o.r,l),n.arc(s,l,o.r,0,u,!1),n.moveTo(s+o.r0,l),n.arc(s,l,o.r0,0,u,!0)},t}(Path);Ring.prototype.type="ring";function smoothBezier(a,t,n,o){var s=[],l=[],u=[],c=[],f,d,g,y;if(o){g=[1/0,1/0],y=[-1/0,-1/0];for(var S=0,_=a.length;S<_;S++)min$1(g,g,a[S]),max$1(y,y,a[S]);min$1(g,g,o[0]),max$1(y,y,o[1])}for(var S=0,_=a.length;S<_;S++){var x=a[S];if(n)f=a[S?S-1:_-1],d=a[(S+1)%_];else if(S===0||S===_-1){s.push(clone$3(a[S]));continue}else f=a[S-1],d=a[S+1];sub(l,d,f),scale$3(l,l,t);var b=distance$1(x,f),T=distance$1(x,d),A=b+T;A!==0&&(b/=A,T/=A),scale$3(u,l,-b),scale$3(c,l,T);var C=add([],x,u),E=add([],x,c);o&&(max$1(C,C,g),min$1(C,C,y),max$1(E,E,g),min$1(E,E,y)),s.push(C),s.push(E)}return n&&s.push(s.shift()),s}function buildPath(a,t,n){var o=t.smooth,s=t.points;if(s&&s.length>=2){if(o){var l=smoothBezier(s,o,n,t.smoothConstraint);a.moveTo(s[0][0],s[0][1]);for(var u=s.length,c=0;c<(n?u:u-1);c++){var f=l[c*2],d=l[c*2+1],g=s[(c+1)%u];a.bezierCurveTo(f[0],f[1],d[0],d[1],g[0],g[1])}}else{a.moveTo(s[0][0],s[0][1]);for(var c=1,y=s.length;c<y;c++)a.lineTo(s[c][0],s[c][1])}n&&a.closePath()}}var PolygonShape=function(){function a(){this.points=null,this.smooth=0,this.smoothConstraint=null}return a}(),Polygon=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new PolygonShape},t.prototype.buildPath=function(n,o){buildPath(n,o,!0)},t}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function a(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return a}(),Polyline$1=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PolylineShape},t.prototype.buildPath=function(n,o){buildPath(n,o,!1)},t}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}(),Line$1=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LineShape},t.prototype.buildPath=function(n,o){var s,l,u,c;if(this.subPixelOptimize){var f=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);s=f.x1,l=f.y1,u=f.x2,c=f.y2}else s=o.x1,l=o.y1,u=o.x2,c=o.y2;var d=o.percent;d!==0&&(n.moveTo(s,l),d<1&&(u=s*(1-d)+u*d,c=l*(1-d)+c*d),n.lineTo(u,c))},t.prototype.pointAt=function(n){var o=this.shape;return[o.x1*(1-n)+o.x2*n,o.y1*(1-n)+o.y2*n]},t}(Path);Line$1.prototype.type="line";var out=[],BezierCurveShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return a}();function someVectorAt(a,t,n){var o=a.cpx2,s=a.cpy2;return o!=null||s!=null?[(n?cubicDerivativeAt:cubicAt)(a.x1,a.cpx1,a.cpx2,a.x2,t),(n?cubicDerivativeAt:cubicAt)(a.y1,a.cpy1,a.cpy2,a.y2,t)]:[(n?quadraticDerivativeAt:quadraticAt$1)(a.x1,a.cpx1,a.x2,t),(n?quadraticDerivativeAt:quadraticAt$1)(a.y1,a.cpy1,a.y2,t)]}var BezierCurve=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BezierCurveShape},t.prototype.buildPath=function(n,o){var s=o.x1,l=o.y1,u=o.x2,c=o.y2,f=o.cpx1,d=o.cpy1,g=o.cpx2,y=o.cpy2,S=o.percent;S!==0&&(n.moveTo(s,l),g==null||y==null?(S<1&&(quadraticSubdivide(s,f,u,S,out),f=out[1],u=out[2],quadraticSubdivide(l,d,c,S,out),d=out[1],c=out[2]),n.quadraticCurveTo(f,d,u,c)):(S<1&&(cubicSubdivide(s,f,g,u,S,out),f=out[1],g=out[2],u=out[3],cubicSubdivide(l,d,y,c,S,out),d=out[1],y=out[2],c=out[3]),n.bezierCurveTo(f,d,g,y,u,c)))},t.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},t.prototype.tangentAt=function(n){var o=someVectorAt(this.shape,n,!0);return normalize$3(o,o)},t}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Arc=function(a){__extends(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ArcShape},t.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.max(o.r,0),c=o.startAngle,f=o.endAngle,d=o.clockwise,g=Math.cos(c),y=Math.sin(c);n.moveTo(g*u+s,y*u+l),n.arc(s,l,u,c,f,!d)},t}(Path);Arc.prototype.type="arc";var CompoundPath=function(a){__extends(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,o=this.shapeChanged(),s=0;s<n.length;s++)o=o||n[s].shapeChanged();o&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<n.length;s++)n[s].path||n[s].createPathProxy(),n[s].path.setScale(o[0],o[1],n[s].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,o){for(var s=o.paths||[],l=0;l<s.length;l++)s[l].buildPath(n,s[l].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],o=0;o<n.length;o++)n[o].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},t}(Path),Gradient=function(){function a(t){this.colorStops=t||[]}return a.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},a}(),LinearGradient=function(a){__extends(t,a);function t(n,o,s,l,u,c){var f=a.call(this,u)||this;return f.x=n??0,f.y=o??0,f.x2=s??1,f.y2=l??0,f.type="linear",f.global=c||!1,f}return t}(Gradient),RadialGradient=function(a){__extends(t,a);function t(n,o,s,l,u){var c=a.call(this,l)||this;return c.x=n??.5,c.y=o??.5,c.r=s??.5,c.type="radial",c.global=u||!1,c}return t}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function a(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point;for(var o=0;o<2;o++)this._axes[o]=new Point;t&&this.fromBoundingRect(t,n)}return a.prototype.fromBoundingRect=function(t,n){var o=this._corners,s=this._axes,l=t.x,u=t.y,c=l+t.width,f=u+t.height;if(o[0].set(l,u),o[1].set(c,u),o[2].set(c,f),o[3].set(l,f),n)for(var d=0;d<4;d++)o[d].transform(n);Point.sub(s[0],o[1],o[0]),Point.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize();for(var d=0;d<2;d++)this._origin[d]=s[d].dot(o[0])},a.prototype.intersect=function(t,n){var o=!0,s=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,t,minTv,maxTv,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(t,this,minTv,maxTv,s,-1)&&(o=!1,s)||s||Point.copy(n,o?minTv:maxTv),o},a.prototype._intersectCheckOneSide=function(t,n,o,s,l,u){for(var c=!0,f=0;f<2;f++){var d=this._axes[f];if(this._getProjMinMaxOnAxis(f,t._corners,extent),this._getProjMinMaxOnAxis(f,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(c=!1,l)return c;var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)>s.len()&&(g<y?Point.scale(s,d,-g*u):Point.scale(s,d,y*u))}else if(o){var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)<o.len()&&(g<y?Point.scale(o,d,g*u):Point.scale(o,d,-y*u))}}return c},a.prototype._getProjMinMaxOnAxis=function(t,n,o){for(var s=this._axes[t],l=this._origin,u=n[0].dot(s)+l[t],c=u,f=u,d=1;d<n.length;d++){var g=n[d].dot(s)+l[t];c=Math.min(g,c),f=Math.max(g,f)}o[0]=c,o[1]=f},a}(),m=[],IncrementalDisplayable=function(a){__extends(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,o){n.call(o,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,o){o?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,o){o=o||!1;for(var s=0;s<n.length;s++)this.addDisplayable(n[s],o)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var o=this._cursor;o<this._displayables.length;o++)n&&n(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)n&&n(this._temporaryDisplayables[o])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var o=this._displayables[n];o.parent=this,o.update(),o.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var o=this._temporaryDisplayables[n];o.parent=this,o.update(),o.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],l=s.getBoundingRect().clone();s.needLocalTransform()&&l.applyTransform(s.getLocalTransform(m)),n.union(l)}this._rect=n}return this._rect},t.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(l.contain(s[0],s[1]))for(var u=0;u<this._displayables.length;u++){var c=this._displayables[u];if(c.contain(n,o))return!0}return!1},t}(Displayable),transitionStore=makeInner();function getAnimationConfig(a,t,n,o,s){var l;if(t&&t.ecModel){var u=t.ecModel.getUpdatePayload();l=u&&u.animation}var c=t&&t.isAnimationEnabled(),f=a==="update";if(c){var d=void 0,g=void 0,y=void 0;o?(d=retrieve2(o.duration,200),g=retrieve2(o.easing,"cubicOut"),y=0):(d=t.getShallow(f?"animationDurationUpdate":"animationDuration"),g=t.getShallow(f?"animationEasingUpdate":"animationEasing"),y=t.getShallow(f?"animationDelayUpdate":"animationDelay")),l&&(l.duration!=null&&(d=l.duration),l.easing!=null&&(g=l.easing),l.delay!=null&&(y=l.delay)),isFunction(y)&&(y=y(n,s)),isFunction(d)&&(d=d(n));var S={duration:d||0,delay:y,easing:g};return S}else return null}function animateOrSetProps(a,t,n,o,s,l,u){var c=!1,f;isFunction(s)?(u=l,l=s,s=null):isObject$3(s)&&(l=s.cb,u=s.during,c=s.isFrom,f=s.removeOpt,s=s.dataIndex);var d=a==="leave";d||t.stopAnimation("leave");var g=getAnimationConfig(a,o,s,d?f||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(t,s):null);if(g&&g.duration>0){var y=g.duration,S=g.delay,_=g.easing,x={duration:y,delay:S||0,easing:_,done:l,force:!!l||!!u,setToFinal:!d,scope:a,during:u};c?t.animateFrom(n,x):t.animateTo(n,x)}else t.stopAnimation(),!c&&t.attr(n),u&&u(1),l&&l()}function updateProps$1(a,t,n,o,s,l){animateOrSetProps("update",a,t,n,o,s,l)}function initProps(a,t,n,o,s,l){animateOrSetProps("enter",a,t,n,o,s,l)}function isElementRemoved(a){if(!a.__zr)return!0;for(var t=0;t<a.animators.length;t++){var n=a.animators[t];if(n.scope==="leave")return!0}return!1}function removeElement(a,t,n,o,s,l){isElementRemoved(a)||animateOrSetProps("leave",a,t,n,o,s,l)}function fadeOutDisplayable(a,t,n,o){a.removeTextContent(),a.removeTextGuideLine(),removeElement(a,{style:{opacity:0}},t,n,o)}function removeElementWithFadeOut(a,t,n){function o(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(s){s.isGroup||fadeOutDisplayable(s,t,n,o)}):fadeOutDisplayable(a,t,n,o)}function saveOldStyle(a){transitionStore(a).oldStyle=a.style}function getOldStyle(a){return transitionStore(a).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(a){return Path.extend(a)}var extendPathFromString=extendFromString;function extendPath(a,t){return extendPathFromString(a,t)}function registerShape(a,t){_customShapeMap[a]=t}function getShapeClass(a){if(_customShapeMap.hasOwnProperty(a))return _customShapeMap[a]}function makePath(a,t,n,o){var s=createFromString(a,t);return n&&(o==="center"&&(n=centerGraphic(n,s.getBoundingRect())),resizePath(s,n)),s}function makeImage(a,t,n){var o=new ZRImage({style:{image:a,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(s){if(n==="center"){var l={width:s.width,height:s.height};o.setStyle(centerGraphic(t,l))}}});return o}function centerGraphic(a,t){var n=t.width/t.height,o=a.height*n,s;o<=a.width?s=a.height:(o=a.width,s=o/n);var l=a.x+a.width/2,u=a.y+a.height/2;return{x:l-o/2,y:u-s/2,width:o,height:s}}var mergePath=mergePath$1;function resizePath(a,t){if(a.applyTransform){var n=a.getBoundingRect(),o=n.calculateTransform(t);a.applyTransform(o)}}function subPixelOptimizeLine(a,t){return subPixelOptimizeLine$1(a,a,{lineWidth:t}),a}function subPixelOptimizeRect(a){return subPixelOptimizeRect$1(a.shape,a.shape,a.style),a}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(a,t){for(var n=identity([]);a&&a!==t;)mul(n,a.getLocalTransform(),n),a=a.parent;return n}function applyTransform(a,t,n){return t&&!isArrayLike(t)&&(t=Transformable.getLocalTransform(t)),n&&(t=invert([],t)),applyTransform$1([],a,t)}function transformDirection(a,t,n){var o=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),s=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),l=[a==="left"?-o:a==="right"?o:0,a==="top"?-s:a==="bottom"?s:0];return l=applyTransform(l,t,n),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"}function isNotGroup(a){return!a.isGroup}function isPath$1(a){return a.shape!=null}function groupTransition(a,t,n){if(!a||!t)return;function o(u){var c={};return u.traverse(function(f){isNotGroup(f)&&f.anid&&(c[f.anid]=f)}),c}function s(u){var c={x:u.x,y:u.y,rotation:u.rotation};return isPath$1(u)&&(c.shape=extend({},u.shape)),c}var l=o(a);t.traverse(function(u){if(isNotGroup(u)&&u.anid){var c=l[u.anid];if(c){var f=s(u);u.attr(s(c)),updateProps$1(u,f,n,getECData(u).dataIndex)}}})}function clipPointsByRect(a,t){return map$1(a,function(n){var o=n[0];o=mathMax$6(o,t.x),o=mathMin$6(o,t.x+t.width);var s=n[1];return s=mathMax$6(s,t.y),s=mathMin$6(s,t.y+t.height),[o,s]})}function clipRectByRect(a,t){var n=mathMax$6(a.x,t.x),o=mathMin$6(a.x+a.width,t.x+t.width),s=mathMax$6(a.y,t.y),l=mathMin$6(a.y+a.height,t.y+t.height);if(o>=n&&l>=s)return{x:n,y:s,width:o-n,height:l-s}}function createIcon(a,t,n){var o=extend({rectHover:!0},t),s=o.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},a)return a.indexOf("image://")===0?(s.image=a.slice(8),defaults(s,n),new ZRImage(o)):makePath(a.replace("path://",""),o,n,"center")}function linePolygonIntersect(a,t,n,o,s){for(var l=0,u=s[s.length-1];l<s.length;l++){var c=s[l];if(lineLineIntersect$1(a,t,n,o,c[0],c[1],u[0],u[1]))return!0;u=c}}function lineLineIntersect$1(a,t,n,o,s,l,u,c){var f=n-a,d=o-t,g=u-s,y=c-l,S=crossProduct2d$1(g,y,f,d);if(nearZero(S))return!1;var _=a-s,x=t-l,b=crossProduct2d$1(_,x,f,d)/S;if(b<0||b>1)return!1;var T=crossProduct2d$1(_,x,g,y)/S;return!(T<0||T>1)}function crossProduct2d$1(a,t,n,o){return a*o-n*t}function nearZero(a){return a<=1e-6&&a>=-1e-6}function setTooltipConfig(a){var t=a.itemTooltipOption,n=a.componentModel,o=a.itemName,s=isString(t)?{formatter:t}:t,l=n.mainType,u=n.componentIndex,c={componentType:l,name:o,$vars:["name"]};c[l+"Index"]=u;var f=a.formatterParamsExtra;f&&each$f(keys$1(f),function(g){hasOwn(c,g)||(c[g]=f[g],c.$vars.push(g))});var d=getECData(a.el);d.componentMainType=l,d.componentIndex=u,d.tooltipConfig={name:o,option:defaults({content:o,encodeHTMLContent:!0,formatterParams:c},s)}}function traverseElement(a,t){var n;a.isGroup&&(n=t(a)),n||a.traverse(t)}function traverseElements(a,t){if(a)if(isArray$2(a))for(var n=0;n<a.length;n++)traverseElement(a[n],t);else traverseElement(a,t)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$1,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(a,t){for(var n=0;n<SPECIAL_STATES.length;n++){var o=SPECIAL_STATES[n],s=t[o],l=a.ensureState(o);l.style=l.style||{},l.style.text=s}var u=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:t.normal}),a.useStates(u,!0)}function getLabelText(a,t,n){var o=a.labelFetcher,s=a.labelDataIndex,l=a.labelDimIndex,u=t.normal,c;o&&(c=o.getFormattedLabel(s,"normal",null,l,u&&u.get("formatter"),n!=null?{interpolatedValue:n}:null)),c==null&&(c=isFunction(a.defaultText)?a.defaultText(s,a,n):a.defaultText);for(var f={normal:c},d=0;d<SPECIAL_STATES.length;d++){var g=SPECIAL_STATES[d],y=t[g];f[g]=retrieve2(o?o.getFormattedLabel(s,g,null,l,y&&y.get("formatter")):null,c)}return f}function setLabelStyle(a,t,n,o){n=n||EMPTY_OBJ;for(var s=a instanceof ZRText,l=!1,u=0;u<DISPLAY_STATES.length;u++){var c=t[DISPLAY_STATES[u]];if(c&&c.getShallow("show")){l=!0;break}}var f=s?a:a.getTextContent();if(l){s||(f||(f=new ZRText,a.setTextContent(f)),a.stateProxy&&(f.stateProxy=a.stateProxy));var d=getLabelText(n,t),g=t.normal,y=!!g.getShallow("show"),S=createTextStyle(g,o&&o.normal,n,!1,!s);S.text=d.normal,s||a.setTextConfig(createTextConfig(g,n,!1));for(var u=0;u<SPECIAL_STATES.length;u++){var _=SPECIAL_STATES[u],c=t[_];if(c){var x=f.ensureState(_),b=!!retrieve2(c.getShallow("show"),y);if(b!==y&&(x.ignore=!b),x.style=createTextStyle(c,o&&o[_],n,!0,!s),x.style.text=d[_],!s){var T=a.ensureState(_);T.textConfig=createTextConfig(c,n,!0)}}}f.silent=!!g.getShallow("silent"),f.style.x!=null&&(S.x=f.style.x),f.style.y!=null&&(S.y=f.style.y),f.ignore=!y,f.useStyle(S),f.dirty(),n.enableTextSetter&&(labelInner(f).setLabelText=function(A){var C=getLabelText(n,t,A);setLabelText(f,C)})}else f&&(f.ignore=!0);a.dirty()}function getLabelStatesModels(a,t){t=t||"label";for(var n={normal:a.getModel(t)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];n[s]=a.getModel([s,t])}return n}function createTextStyle(a,t,n,o,s){var l={};return setTextStyleCommon(l,a,n,o,s),t&&extend(l,t),l}function createTextConfig(a,t,n){t=t||{};var o={},s,l=a.getShallow("rotate"),u=retrieve2(a.getShallow("distance"),n?null:5),c=a.getShallow("offset");return s=a.getShallow("position")||(n?null:"inside"),s==="outside"&&(s=t.defaultOutsidePosition||"top"),s!=null&&(o.position=s),c!=null&&(o.offset=c),l!=null&&(l*=Math.PI/180,o.rotation=l),u!=null&&(o.distance=u),o.outsideFill=a.get("color")==="inherit"?t.inheritColor||null:"auto",o}function setTextStyleCommon(a,t,n,o,s){n=n||EMPTY_OBJ;var l=t.ecModel,u=l&&l.option.textStyle,c=getRichItemNames(t),f;if(c){f={};for(var d in c)if(c.hasOwnProperty(d)){var g=t.getModel(["rich",d]);setTokenTextStyle(f[d]={},g,u,n,o,s,!1,!0)}}f&&(a.rich=f);var y=t.get("overflow");y&&(a.overflow=y);var S=t.get("minMargin");S!=null&&(a.margin=S),setTokenTextStyle(a,t,u,n,o,s,!0,!1)}function getRichItemNames(a){for(var t;a&&a!==a.ecModel;){var n=(a.option||EMPTY_OBJ).rich;if(n){t=t||{};for(var o=keys$1(n),s=0;s<o.length;s++){var l=o[s];t[l]=1}}a=a.parentModel}return t}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(a,t,n,o,s,l,u,c){n=!s&&n||EMPTY_OBJ;var f=o&&o.inheritColor,d=t.getShallow("color"),g=t.getShallow("textBorderColor"),y=retrieve2(t.getShallow("opacity"),n.opacity);(d==="inherit"||d==="auto")&&(f?d=f:d=null),(g==="inherit"||g==="auto")&&(f?g=f:g=null),l||(d=d||n.color,g=g||n.textBorderColor),d!=null&&(a.fill=d),g!=null&&(a.stroke=g);var S=retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth);S!=null&&(a.lineWidth=S);var _=retrieve2(t.getShallow("textBorderType"),n.textBorderType);_!=null&&(a.lineDash=_);var x=retrieve2(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);x!=null&&(a.lineDashOffset=x),!s&&y==null&&!c&&(y=o&&o.defaultOpacity),y!=null&&(a.opacity=y),!s&&!l&&a.fill==null&&o.inheritColor&&(a.fill=o.inheritColor);for(var b=0;b<TEXT_PROPS_WITH_GLOBAL.length;b++){var T=TEXT_PROPS_WITH_GLOBAL[b],A=retrieve2(t.getShallow(T),n[T]);A!=null&&(a[T]=A)}for(var b=0;b<TEXT_PROPS_SELF.length;b++){var T=TEXT_PROPS_SELF[b],A=t.getShallow(T);A!=null&&(a[T]=A)}if(a.verticalAlign==null){var C=t.getShallow("baseline");C!=null&&(a.verticalAlign=C)}if(!u||!o.disableBox){for(var b=0;b<TEXT_PROPS_BOX.length;b++){var T=TEXT_PROPS_BOX[b],A=t.getShallow(T);A!=null&&(a[T]=A)}var E=t.getShallow("borderType");E!=null&&(a.borderDash=E),(a.backgroundColor==="auto"||a.backgroundColor==="inherit")&&f&&(a.backgroundColor=f),(a.borderColor==="auto"||a.borderColor==="inherit")&&f&&(a.borderColor=f)}}function getFont(a,t){var n=t&&t.getModel("textStyle");return trim$1([a.fontStyle||n&&n.getShallow("fontStyle")||"",a.fontWeight||n&&n.getShallow("fontWeight")||"",(a.fontSize||n&&n.getShallow("fontSize")||12)+"px",a.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(a,t,n,o){if(a){var s=labelInner(a);s.prevValue=s.value,s.value=n;var l=t.normal;s.valueAnimation=l.get("valueAnimation"),s.valueAnimation&&(s.precision=l.get("precision"),s.defaultInterpolatedText=o,s.statesModels=t)}}function animateLabelValue(a,t,n,o,s){var l=labelInner(a);if(!l.valueAnimation||l.prevValue===l.value)return;var u=l.defaultInterpolatedText,c=retrieve2(l.interpolatedValue,l.prevValue),f=l.value;function d(g){var y=interpolateRawValues(n,l.precision,c,f,g);l.interpolatedValue=g===1?null:y;var S=getLabelText({labelDataIndex:t,labelFetcher:s,defaultText:u?u(y):y+""},l.statesModels,y);setLabelText(a,S)}a.percent=0,(l.prevValue==null?initProps:updateProps$1)(a,{percent:1},o,t,null,d)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function a(){}return a.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(PATH_COLOR):null)},a.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)n[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},a}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function a(){}return a.prototype.getLineStyle=function(t){return getLineStyle(this,t)},a}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function a(){}return a.prototype.getItemStyle=function(t,n){return getItemStyle(this,t,n)},a}(),Model=function(){function a(t,n,o){this.parentModel=n,this.ecModel=o,this.option=t}return a.prototype.init=function(t,n,o){},a.prototype.mergeOption=function(t,n){merge(this.option,t,!0)},a.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},a.prototype.getShallow=function(t,n){var o=this.option,s=o==null?o:o[t];if(s==null&&!n){var l=this.parentModel;l&&(s=l.getShallow(t))}return s},a.prototype.getModel=function(t,n){var o=t!=null,s=o?this.parsePath(t):null,l=o?this._doGet(s):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),new a(l,n,this.ecModel)},a.prototype.isEmpty=function(){return this.option==null},a.prototype.restoreData=function(){},a.prototype.clone=function(){var t=this.constructor;return new t(clone$4(this.option))},a.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},a.prototype.resolveParentPath=function(t){return t},a.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(t,n){var o=this.option;if(!t)return o;for(var s=0;s<t.length&&!(t[s]&&(o=o&&typeof o=="object"?o[t[s]]:null,o==null));s++);return o==null&&n&&(o=n._doGet(this.resolveParentPath(t),n.parentModel)),o},a}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(a){return[a||"",base++].join("_")}function enableSubTypeDefaulter(a){var t={};a.registerSubTypeDefaulter=function(n,o){var s=parseClassType(n);t[s.main]=o},a.determineSubType=function(n,o){var s=o.type;if(!s){var l=parseClassType(n).main;a.hasSubTypes(n)&&t[l]&&(s=t[l](o))}return s}}function enableTopologicalTravel(a,t){a.topologicalTravel=function(l,u,c,f){if(!l.length)return;var d=n(u),g=d.graph,y=d.noEntryList,S={};for(each$f(l,function(C){S[C]=!0});y.length;){var _=y.pop(),x=g[_],b=!!S[_];b&&(c.call(f,_,x.originalDeps.slice()),delete S[_]),each$f(x.successor,b?A:T)}each$f(S,function(){var C="";throw new Error(C)});function T(C){g[C].entryCount--,g[C].entryCount===0&&y.push(C)}function A(C){S[C]=!0,T(C)}};function n(l){var u={},c=[];return each$f(l,function(f){var d=o(u,f),g=d.originalDeps=t(f),y=s(g,l);d.entryCount=y.length,d.entryCount===0&&c.push(f),each$f(y,function(S){indexOf(d.predecessor,S)<0&&d.predecessor.push(S);var _=o(u,S);indexOf(_.successor,S)<0&&_.successor.push(f)})}),{graph:u,noEntryList:c}}function o(l,u){return l[u]||(l[u]={predecessor:[],successor:[]}),l[u]}function s(l,u){var c=[];return each$f(l,function(f){indexOf(u,f)>=0&&c.push(f)}),c}}function inheritDefaultOption(a,t){return merge(merge({},a,!0),t,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var a=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return a.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(a,t){a=a.toUpperCase(),localeModels[a]=new Model(t),localeStorage[a]=t}function createLocaleObject(a){if(isString(a)){var t=localeStorage[a.toUpperCase()]||{};return a===LOCALE_ZH||a===LOCALE_EN?clone$4(t):merge(clone$4(t),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(a),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(a){return localeModels[a]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(a,t){return a+="","0000".substr(0,t-a.length)+a}function getPrimaryTimeUnit(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function isPrimaryTimeUnit(a){return a===getPrimaryTimeUnit(a)}function getDefaultFormatPrecisionOfInterval(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(a,t,n,o){var s=parseDate(a),l=s[fullYearGetterName(n)](),u=s[monthGetterName(n)]()+1,c=Math.floor((u-1)/3)+1,f=s[dateGetterName(n)](),d=s["get"+(n?"UTC":"")+"Day"](),g=s[hoursGetterName(n)](),y=(g-1)%12+1,S=s[minutesGetterName(n)](),_=s[secondsGetterName(n)](),x=s[millisecondsGetterName(n)](),b=g>=12?"pm":"am",T=b.toUpperCase(),A=o instanceof Model?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),C=A.getModel("time"),E=C.get("month"),P=C.get("monthAbbr"),M=C.get("dayOfWeek"),I=C.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,b+"").replace(/{A}/g,T+"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,pad(l%100+"",2)).replace(/{Q}/g,c+"").replace(/{MMMM}/g,E[u-1]).replace(/{MMM}/g,P[u-1]).replace(/{MM}/g,pad(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,pad(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,M[d]).replace(/{ee}/g,I[d]).replace(/{e}/g,d+"").replace(/{HH}/g,pad(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,pad(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,pad(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,pad(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,pad(x,3)).replace(/{S}/g,x+"")}function leveledFormat(a,t,n,o,s){var l=null;if(isString(n))l=n;else if(isFunction(n))l=n(a.value,t,{level:a.level});else{var u=extend({},defaultLeveledFormatter);if(a.level>0)for(var c=0;c<primaryTimeUnits.length;++c)u[primaryTimeUnits[c]]="{primary|"+u[primaryTimeUnits[c]]+"}";var f=n?n.inherit===!1?n:defaults(n,u):u,d=getUnitFromValue(a.value,s);if(f[d])l=f[d];else if(f.inherit){for(var g=timeUnits.indexOf(d),c=g-1;c>=0;--c)if(f[d]){l=f[d];break}l=l||u.none}if(isArray$2(l)){var y=a.level==null?0:a.level>=0?a.level:l.length+a.level;y=Math.min(y,l.length-1),l=l[y]}}return format(new Date(a.value),l,s,o)}function getUnitFromValue(a,t){var n=parseDate(a),o=n[monthGetterName(t)]()+1,s=n[dateGetterName(t)](),l=n[hoursGetterName(t)](),u=n[minutesGetterName(t)](),c=n[secondsGetterName(t)](),f=n[millisecondsGetterName(t)](),d=f===0,g=d&&c===0,y=g&&u===0,S=y&&l===0,_=S&&s===1,x=_&&o===1;return x?"year":_?"month":S?"day":y?"hour":g?"minute":d?"second":"millisecond"}function getUnitValue(a,t,n){var o=isNumber$2(a)?parseDate(a):a;switch(t=t||getUnitFromValue(a,n),t){case"year":return o[fullYearGetterName(n)]();case"half-year":return o[monthGetterName(n)]()>=6?1:0;case"quarter":return Math.floor((o[monthGetterName(n)]()+1)/4);case"month":return o[monthGetterName(n)]();case"day":return o[dateGetterName(n)]();case"half-day":return o[hoursGetterName(n)]()/24;case"hour":return o[hoursGetterName(n)]();case"minute":return o[minutesGetterName(n)]();case"second":return o[secondsGetterName(n)]();case"millisecond":return o[millisecondsGetterName(n)]()}}function fullYearGetterName(a){return a?"getUTCFullYear":"getFullYear"}function monthGetterName(a){return a?"getUTCMonth":"getMonth"}function dateGetterName(a){return a?"getUTCDate":"getDate"}function hoursGetterName(a){return a?"getUTCHours":"getHours"}function minutesGetterName(a){return a?"getUTCMinutes":"getMinutes"}function secondsGetterName(a){return a?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(a){return a?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(a){return a?"setUTCFullYear":"setFullYear"}function monthSetterName(a){return a?"setUTCMonth":"setMonth"}function dateSetterName(a){return a?"setUTCDate":"setDate"}function hoursSetterName(a){return a?"setUTCHours":"setHours"}function minutesSetterName(a){return a?"setUTCMinutes":"setMinutes"}function secondsSetterName(a){return a?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(a){return a?"setUTCMilliseconds":"setMilliseconds"}function addCommas(a){if(!isNumeric(a))return isString(a)?a:"-";var t=(a+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function toCamelCase(a,t){return a=(a||"").toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()}),t&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(a,t,n){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function s(g){return g&&trim$1(g)?g:"-"}function l(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var u=t==="time",c=a instanceof Date;if(u||c){var f=u?parseDate(a):a;if(isNaN(+f)){if(c)return"-"}else return format(f,o,n)}if(t==="ordinal")return isStringSafe(a)?s(a):isNumber$2(a)&&l(a)?a+"":"-";var d=numericToNumber(a);return l(d)?addCommas(d):isStringSafe(a)?s(a):typeof a=="boolean"?a+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(a,t){return"{"+a+(t??"")+"}"};function formatTpl(a,t,n){isArray$2(t)||(t=[t]);var o=t.length;if(!o)return"";for(var s=t[0].$vars||[],l=0;l<s.length;l++){var u=TPL_VAR_ALIAS[l];a=a.replace(wrapVar(u),wrapVar(u,0))}for(var c=0;c<o;c++)for(var f=0;f<s.length;f++){var d=t[c][s[f]];a=a.replace(wrapVar(TPL_VAR_ALIAS[f],c),n?encodeHTML(d):d)}return a}function formatTplSimple(a,t,n){return each$f(t,function(o,s){a=a.replace("{"+s+"}",o)}),a}function getTooltipMarker(a,t){var n=isString(a)?{color:a,extraCssText:t}:a||{},o=n.color,s=n.type;t=n.extraCssText;var l=n.renderMode||"html";if(!o)return"";if(l==="html")return s==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(t||"")+'"></span>';var u=n.markerId||"markerX";return{renderMode:l,content:"{"+u+"|}  ",style:s==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(a,t){return t=t||"transparent",isString(a)?a:isObject$3(a)&&a.colorStops&&(a.colorStops[0]||{}).color||t}function windowOpen(a,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=a}else window.open(a,t)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(a,t,n,o,s){var l=0,u=0;o==null&&(o=1/0),s==null&&(s=1/0);var c=0;t.eachChild(function(f,d){var g=f.getBoundingRect(),y=t.childAt(d+1),S=y&&y.getBoundingRect(),_,x;if(a==="horizontal"){var b=g.width+(S?-S.x+g.x:0);_=l+b,_>o||f.newline?(l=0,_=b,u+=c+n,c=g.height):c=Math.max(c,g.height)}else{var T=g.height+(S?-S.y+g.y:0);x=u+T,x>s||f.newline?(l+=c+n,u=0,x=T,c=g.width):c=Math.max(c,g.width)}f.newline||(f.x=l,f.y=u,f.markRedraw(),a==="horizontal"?l=_+n:u=x+n)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(a,t,n){var o=t.width,s=t.height,l=parsePercent(a.left,o),u=parsePercent(a.top,s),c=parsePercent(a.right,o),f=parsePercent(a.bottom,s);return(isNaN(l)||isNaN(parseFloat(a.left)))&&(l=0),(isNaN(c)||isNaN(parseFloat(a.right)))&&(c=o),(isNaN(u)||isNaN(parseFloat(a.top)))&&(u=0),(isNaN(f)||isNaN(parseFloat(a.bottom)))&&(f=s),n=normalizeCssArray(n||0),{width:Math.max(c-l-n[1]-n[3],0),height:Math.max(f-u-n[0]-n[2],0)}}function getLayoutRect(a,t,n){n=normalizeCssArray(n||0);var o=t.width,s=t.height,l=parsePercent(a.left,o),u=parsePercent(a.top,s),c=parsePercent(a.right,o),f=parsePercent(a.bottom,s),d=parsePercent(a.width,o),g=parsePercent(a.height,s),y=n[2]+n[0],S=n[1]+n[3],_=a.aspect;switch(isNaN(d)&&(d=o-c-S-l),isNaN(g)&&(g=s-f-y-u),_!=null&&(isNaN(d)&&isNaN(g)&&(_>o/s?d=o*.8:g=s*.8),isNaN(d)&&(d=_*g),isNaN(g)&&(g=d/_)),isNaN(l)&&(l=o-c-d-S),isNaN(u)&&(u=s-f-g-y),a.left||a.right){case"center":l=o/2-d/2-n[3];break;case"right":l=o-d-S;break}switch(a.top||a.bottom){case"middle":case"center":u=s/2-g/2-n[0];break;case"bottom":u=s-g-y;break}l=l||0,u=u||0,isNaN(d)&&(d=o-S-l-(c||0)),isNaN(g)&&(g=s-y-u-(f||0));var x=new BoundingRect(l+n[3],u+n[0],d,g);return x.margin=n,x}function positionElement(a,t,n,o,s,l){var u=!s||!s.hv||s.hv[0],c=!s||!s.hv||s.hv[1],f=s&&s.boundingMode||"all";if(l=l||a,l.x=a.x,l.y=a.y,!u&&!c)return!1;var d;if(f==="raw")d=a.type==="group"?new BoundingRect(0,0,+t.width||0,+t.height||0):a.getBoundingRect();else if(d=a.getBoundingRect(),a.needLocalTransform()){var g=a.getLocalTransform();d=d.clone(),d.applyTransform(g)}var y=getLayoutRect(defaults({width:d.width,height:d.height},t),n,o),S=u?y.x-d.x:0,_=c?y.y-d.y:0;return f==="raw"?(l.x=S,l.y=_):(l.x+=S,l.y+=_),l===a&&a.markRedraw(),!0}function sizeCalculable(a,t){return a[HV_NAMES[t][0]]!=null||a[HV_NAMES[t][1]]!=null&&a[HV_NAMES[t][2]]!=null}function fetchLayoutMode(a){var t=a.layoutMode||a.constructor.layoutMode;return isObject$3(t)?t:t?{type:t}:null}function mergeLayoutParam(a,t,n){var o=n&&n.ignoreSize;!isArray$2(o)&&(o=[o,o]);var s=u(HV_NAMES[0],0),l=u(HV_NAMES[1],1);d(HV_NAMES[0],a,s),d(HV_NAMES[1],a,l);function u(g,y){var S={},_=0,x={},b=0,T=2;if(each$e(g,function(E){x[E]=a[E]}),each$e(g,function(E){c(t,E)&&(S[E]=x[E]=t[E]),f(S,E)&&_++,f(x,E)&&b++}),o[y])return f(t,g[1])?x[g[2]]=null:f(t,g[2])&&(x[g[1]]=null),x;if(b===T||!_)return x;if(_>=T)return S;for(var A=0;A<g.length;A++){var C=g[A];if(!c(S,C)&&c(a,C)){S[C]=a[C];break}}return S}function c(g,y){return g.hasOwnProperty(y)}function f(g,y){return g[y]!=null&&g[y]!=="auto"}function d(g,y,S){each$e(g,function(_){y[_]=S[_]})}}function getLayoutParams(a){return copyLayoutParams({},a)}function copyLayoutParams(a,t){return t&&a&&each$e(LOCATION_PARAMS,function(n){t.hasOwnProperty(n)&&(a[n]=t[n])}),a}var inner$l=makeInner(),ComponentModel=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this,n,o,s)||this;return l.uid=getUID("ec_cpt_model"),l}return t.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s)},t.prototype.mergeDefaultAndTheme=function(n,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(n):{},u=o.getTheme();merge(n,u.get(this.mainType)),merge(n,this.getDefaultOption()),s&&mergeLayoutParam(n,l,s)},t.prototype.mergeOption=function(n,o){merge(this.option,n,!0);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,n,s)},t.prototype.optionUpdated=function(n,o){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var o=inner$l(this);if(!o.defaultOption){for(var s=[],l=n;l;){var u=l.prototype.defaultOption;u&&s.push(u),l=l.superClass}for(var c={},f=s.length-1;f>=0;f--)c=merge(c,s[f],!0);o.defaultOption=c}return o.defaultOption},t.prototype.getReferringComponents=function(n,o){var s=n+"Index",l=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(s,!0),id:this.get(l,!0)},o)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(a){var t=[];return each$f(ComponentModel.getClassesByMainType(a),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=map$1(t,function(n){return parseClassType(n).main}),a!=="dataset"&&indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(a){innerGlobalModel(a).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(a,t,n){var o={},s=querySeriesUpstreamDatasetModel(t);if(!s||!a)return o;var l=[],u=[],c=t.ecModel,f=innerGlobalModel(c).datasetMap,d=s.uid+"_"+n.seriesLayoutBy,g,y;a=a.slice(),each$f(a,function(b,T){var A=isObject$3(b)?b:a[T]={name:b};A.type==="ordinal"&&g==null&&(g=T,y=x(A)),o[A.name]=[]});var S=f.get(d)||f.set(d,{categoryWayDim:y,valueWayDim:0});each$f(a,function(b,T){var A=b.name,C=x(b);if(g==null){var E=S.valueWayDim;_(o[A],E,C),_(u,E,C),S.valueWayDim+=C}else if(g===T)_(o[A],0,C),_(l,0,C);else{var E=S.categoryWayDim;_(o[A],E,C),_(u,E,C),S.categoryWayDim+=C}});function _(b,T,A){for(var C=0;C<A;C++)b.push(T+C)}function x(b){var T=b.dimsDef;return T?T.length:1}return l.length&&(o.itemName=l),u.length&&(o.seriesName=u),o}function makeSeriesEncodeForNameBased(a,t,n){var o={},s=querySeriesUpstreamDatasetModel(a);if(!s)return o;var l=t.sourceFormat,u=t.dimensionsDefine,c;(l===SOURCE_FORMAT_OBJECT_ROWS||l===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(u,function(g,y){(isObject$3(g)?g.name:g)==="name"&&(c=y)});var f=function(){for(var g={},y={},S=[],_=0,x=Math.min(5,n);_<x;_++){var b=doGuessOrdinal(t.data,l,t.seriesLayoutBy,u,t.startIndex,_);S.push(b);var T=b===BE_ORDINAL.Not;if(T&&g.v==null&&_!==c&&(g.v=_),(g.n==null||g.n===g.v||!T&&S[g.n]===BE_ORDINAL.Not)&&(g.n=_),A(g)&&S[g.n]!==BE_ORDINAL.Not)return g;T||(b===BE_ORDINAL.Might&&y.v==null&&_!==c&&(y.v=_),(y.n==null||y.n===y.v)&&(y.n=_))}function A(C){return C.v!=null&&C.n!=null}return A(g)?g:A(y)?y:null}();if(f){o.value=[f.v];var d=c??f.n;o.itemName=[d],o.seriesName=[d]}return o}function querySeriesUpstreamDatasetModel(a){var t=a.get("data",!0);if(!t)return queryReferringComponents(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(a){return!a.get("transform",!0)&&!a.get("fromTransformResult",!0)?[]:queryReferringComponents(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(a,t){return doGuessOrdinal(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,t)}function doGuessOrdinal(a,t,n,o,s,l){var u,c=5;if(isTypedArray(a))return BE_ORDINAL.Not;var f,d;if(o){var g=o[l];isObject$3(g)?(f=g.name,d=g.type):isString(g)&&(f=g)}if(d!=null)return d==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(t===SOURCE_FORMAT_ARRAY_ROWS){var y=a;if(n===SERIES_LAYOUT_BY_ROW){for(var S=y[l],_=0;_<(S||[]).length&&_<c;_++)if((u=P(S[s+_]))!=null)return u}else for(var _=0;_<y.length&&_<c;_++){var x=y[s+_];if(x&&(u=P(x[l]))!=null)return u}}else if(t===SOURCE_FORMAT_OBJECT_ROWS){var b=a;if(!f)return BE_ORDINAL.Not;for(var _=0;_<b.length&&_<c;_++){var T=b[_];if(T&&(u=P(T[f]))!=null)return u}}else if(t===SOURCE_FORMAT_KEYED_COLUMNS){var A=a;if(!f)return BE_ORDINAL.Not;var S=A[f];if(!S||isTypedArray(S))return BE_ORDINAL.Not;for(var _=0;_<S.length&&_<c;_++)if((u=P(S[_]))!=null)return u}else if(t===SOURCE_FORMAT_ORIGINAL)for(var C=a,_=0;_<C.length&&_<c;_++){var T=C[_],E=getDataItemValue(T);if(!isArray$2(E))return BE_ORDINAL.Not;if((u=P(E[l]))!=null)return u}function P(M){var I=isString(M);if(M!=null&&Number.isFinite(Number(M))&&M!=="")return I?BE_ORDINAL.Might:BE_ORDINAL.Not;if(I&&M!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(a,t){assert(internalOptionCreatorMap.get(a)==null&&t),internalOptionCreatorMap.set(a,t)}function concatInternalOptions(a,t,n){var o=internalOptionCreatorMap.get(t);if(!o)return n;var s=o(a);return s?n.concat(s):n}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function a(){}return a.prototype.getColorFromPalette=function(t,n,o){var s=normalizeToArray(this.get("color",!0)),l=this.get("colorLayer",!0);return getFromPalette(this,innerColor,s,l,t,n,o)},a.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},a}();function getDecalFromPalette(a,t,n,o){var s=normalizeToArray(a.get(["aria","decal","decals"]));return getFromPalette(a,innerDecal,s,null,t,n,o)}function getNearestPalette(a,t){for(var n=a.length,o=0;o<n;o++)if(a[o].length>t)return a[o];return a[n-1]}function getFromPalette(a,t,n,o,s,l,u){l=l||a;var c=t(l),f=c.paletteIdx||0,d=c.paletteNameMap=c.paletteNameMap||{};if(d.hasOwnProperty(s))return d[s];var g=u==null||!o?n:getNearestPalette(o,u);if(g=g||n,!(!g||!g.length)){var y=g[f];return s&&(d[s]=y),c.paletteIdx=(f+1)%g.length,y}}function clearPalette(a,t){t(a).paletteIdx=0,t(a).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(n,o,s,l,u,c){l=l||{},this.option=null,this._theme=new Model(l),this._locale=new Model(u),this._optionManager=c},t.prototype.setOption=function(n,o,s){var l=normalizeSetOptionInput(o);this._optionManager.setOption(n,s,l),this._resetOption(null,l)},t.prototype.resetOption=function(n,o){return this._resetOption(n,normalizeSetOptionInput(o))},t.prototype._resetOption=function(n,o){var s=!1,l=this._optionManager;if(!n||n==="recreate"){var u=l.mountOption(n==="recreate");!this.option||n==="recreate"?initBase(this,u):(this.restoreData(),this._mergeOption(u,o)),s=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var c=l.getTimelineOption(this);c&&(s=!0,this._mergeOption(c,o))}if(!n||n==="recreate"||n==="media"){var f=l.getMediaOption(this);f.length&&each$f(f,function(d){s=!0,this._mergeOption(d,o)},this)}return s},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,o){var s=this.option,l=this._componentsMap,u=this._componentsCount,c=[],f=createHashMap(),d=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(n,function(y,S){y!=null&&(ComponentModel.hasClass(S)?S&&(c.push(S),f.set(S,!0)):s[S]=s[S]==null?clone$4(y):merge(s[S],y,!0))}),d&&d.each(function(y,S){ComponentModel.hasClass(S)&&!f.get(S)&&(c.push(S),f.set(S,!0))}),ComponentModel.topologicalTravel(c,ComponentModel.getAllClassMainTypes(),g,this);function g(y){var S=concatInternalOptions(this,y,normalizeToArray(n[y])),_=l.get(y),x=_?d&&d.get(y)?"replaceMerge":"normalMerge":"replaceAll",b=mappingToExists(_,S,x);setComponentTypeToKeyInfo(b,y,ComponentModel),s[y]=null,l.set(y,null),u.set(y,0);var T=[],A=[],C=0,E;each$f(b,function(P,M){var I=P.existing,D=P.newOption;if(!D)I&&(I.mergeOption({},this),I.optionUpdated({},!1));else{var L=y==="series",$=ComponentModel.getClass(y,P.keyInfo.subType,!L);if(!$)return;if(y==="tooltip"){if(E)return;E=!0}if(I&&I.constructor===$)I.name=P.keyInfo.name,I.mergeOption(D,this),I.optionUpdated(D,!1);else{var O=extend({componentIndex:M},P.keyInfo);I=new $(D,this,this,O),extend(I,O),P.brandNew&&(I.__requireNewView=!0),I.init(D,this,this),I.optionUpdated(null,!0)}}I?(T.push(I.option),A.push(I),C++):(T.push(void 0),A.push(void 0))},this),s[y]=T,l.set(y,A),u.set(y,C),y==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},t.prototype.getOption=function(){var n=clone$4(this.option);return each$f(n,function(o,s){if(ComponentModel.hasClass(s)){for(var l=normalizeToArray(o),u=l.length,c=!1,f=u-1;f>=0;f--)l[f]&&!isComponentIdInternal(l[f])?c=!0:(l[f]=null,!c&&u--);l.length=u,n[s]=l}}),delete n[OPTION_INNER_KEY],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,o){var s=this._componentsMap.get(n);if(s){var l=s[o||0];if(l)return l;if(o==null){for(var u=0;u<s.length;u++)if(s[u])return s[u]}}},t.prototype.queryComponents=function(n){var o=n.mainType;if(!o)return[];var s=n.index,l=n.id,u=n.name,c=this._componentsMap.get(o);if(!c||!c.length)return[];var f;return s!=null?(f=[],each$f(normalizeToArray(s),function(d){c[d]&&f.push(c[d])})):l!=null?f=queryByIdOrName("id",l,c):u!=null?f=queryByIdOrName("name",u,c):f=filter$1(c,function(d){return!!d}),filterBySubType(f,n)},t.prototype.findComponents=function(n){var o=n.query,s=n.mainType,l=c(o),u=l?this.queryComponents(l):filter$1(this._componentsMap.get(s),function(d){return!!d});return f(filterBySubType(u,n));function c(d){var g=s+"Index",y=s+"Id",S=s+"Name";return d&&(d[g]!=null||d[y]!=null||d[S]!=null)?{mainType:s,index:d[g],id:d[y],name:d[S]}:null}function f(d){return n.filter?filter$1(d,n.filter):d}},t.prototype.eachComponent=function(n,o,s){var l=this._componentsMap;if(isFunction(n)){var u=o,c=n;l.each(function(y,S){for(var _=0;y&&_<y.length;_++){var x=y[_];x&&c.call(u,S,x,x.componentIndex)}})}else for(var f=isString(n)?l.get(n):isObject$3(n)?this.findComponents(n):null,d=0;f&&d<f.length;d++){var g=f[d];g&&o.call(s,g,g.componentIndex)}},t.prototype.getSeriesByName=function(n){var o=convertOptionIdName(n,null);return filter$1(this._componentsMap.get("series"),function(s){return!!s&&o!=null&&s.name===o})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return filter$1(this._componentsMap.get("series"),function(o){return!!o&&o.subType===n})},t.prototype.getSeries=function(){return filter$1(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,o){assertSeriesInitialized(this),each$f(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];n.call(o,l,s)},this)},t.prototype.eachRawSeries=function(n,o){each$f(this._componentsMap.get("series"),function(s){s&&n.call(o,s,s.componentIndex)})},t.prototype.eachSeriesByType=function(n,o,s){assertSeriesInitialized(this),each$f(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];u.subType===n&&o.call(s,u,l)},this)},t.prototype.eachRawSeriesByType=function(n,o,s){return each$f(this.getSeriesByType(n),o,s)},t.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,o){assertSeriesInitialized(this);var s=[];each$f(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];n.call(o,u,l)&&s.push(l)},this),this._seriesIndices=s,this._seriesIndicesMap=createHashMap(s)},t.prototype.restoreData=function(n){reCreateSeriesIndices(this);var o=this._componentsMap,s=[];o.each(function(l,u){ComponentModel.hasClass(u)&&s.push(u)}),ComponentModel.topologicalTravel(s,ComponentModel.getAllClassMainTypes(),function(l){each$f(o.get(l),function(u){u&&(l!=="series"||!isNotTargetSeries(u,n))&&u.restoreData()})})},t.internalField=function(){reCreateSeriesIndices=function(n){var o=n._seriesIndices=[];each$f(n._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),n._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(n){},initBase=function(n,o){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var s=o.aria;isObject$3(s)&&s.enabled==null&&(s.enabled=!0),mergeTheme(o,n._theme.option),merge(o,globalDefault,!1),n._mergeOption(o,null)}}(),t}(Model);function isNotTargetSeries(a,t){if(t){var n=t.seriesIndex,o=t.seriesId,s=t.seriesName;return n!=null&&a.componentIndex!==n||o!=null&&a.id!==o||s!=null&&a.name!==s}}function mergeTheme(a,t){var n=a.color&&!a.colorLayer;each$f(t,function(o,s){s==="colorLayer"&&n||ComponentModel.hasClass(s)||(typeof o=="object"?a[s]=a[s]?merge(a[s],o,!1):clone$4(o):a[s]==null&&(a[s]=o))})}function queryByIdOrName(a,t,n){if(isArray$2(t)){var o=createHashMap();return each$f(t,function(l){if(l!=null){var u=convertOptionIdName(l,null);u!=null&&o.set(l,!0)}}),filter$1(n,function(l){return l&&o.get(l[a])})}else{var s=convertOptionIdName(t,null);return filter$1(n,function(l){return l&&s!=null&&l[a]===s})}}function filterBySubType(a,t){return t.hasOwnProperty("subType")?filter$1(a,function(n){return n&&n.subType===t.subType}):a}function normalizeSetOptionInput(a){var t=createHashMap();return a&&each$f(normalizeToArray(a.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function a(t){each$f(availableMethods,function(n){this[n]=bind$1(t[n],t)},this)}return a}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(t,n){var o=[];each$f(coordinateSystemCreators,function(s,l){var u=s.create(t,n);o=o.concat(u||[])}),this._coordinateSystems=o},a.prototype.update=function(t,n){each$f(this._coordinateSystems,function(o){o.update&&o.update(t,n)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(t,n){coordinateSystemCreators[t]=n},a.get=function(t){return coordinateSystemCreators[t]},a}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function a(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return a.prototype.setOption=function(t,n,o){t&&(each$f(normalizeToArray(t.series),function(u){u&&u.data&&isTypedArray(u.data)&&setAsPrimitive(u.data)}),each$f(normalizeToArray(t.dataset),function(u){u&&u.source&&isTypedArray(u.source)&&setAsPrimitive(u.source)})),t=clone$4(t);var s=this._optionBackup,l=parseRawOption(t,n,!s);this._newBaseOption=l.baseOption,s?(l.timelineOptions.length&&(s.timelineOptions=l.timelineOptions),l.mediaList.length&&(s.mediaList=l.mediaList),l.mediaDefault&&(s.mediaDefault=l.mediaDefault)):this._optionBackup=l},a.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$4(t?n.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(t){var n,o=this._timelineOptions;if(o.length){var s=t.getComponent("timeline");s&&(n=clone$4(o[s.getCurrentIndex()]))}return n},a.prototype.getMediaOption=function(t){var n=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],c=[];if(!s.length&&!l)return c;for(var f=0,d=s.length;f<d;f++)applyMediaQuery(s[f].query,n,o)&&u.push(f);return!u.length&&l&&(u=[-1]),u.length&&!indicesEquals(u,this._currentMediaIndices)&&(c=map$1(u,function(g){return clone$4(g===-1?l.option:s[g].option)})),this._currentMediaIndices=u,c},a}();function parseRawOption(a,t,n){var o=[],s,l,u=a.baseOption,c=a.timeline,f=a.options,d=a.media,g=!!a.media,y=!!(f||c||u&&u.timeline);u?(l=u,l.timeline||(l.timeline=c)):((y||g)&&(a.options=a.media=null),l=a),g&&isArray$2(d)&&each$f(d,function(_){_&&_.option&&(_.query?o.push(_):s||(s=_))}),S(l),each$f(f,function(_){return S(_)}),each$f(o,function(_){return S(_.option)});function S(_){each$f(t,function(x){x(_,n)})}return{baseOption:l,timelineOptions:f||[],mediaDefault:s,mediaList:o}}function applyMediaQuery(a,t,n){var o={width:t,height:n,aspectratio:t/n},s=!0;return each$f(a,function(l,u){var c=u.match(QUERY_REG);if(!(!c||!c[1]||!c[2])){var f=c[1],d=c[2].toLowerCase();compare(o[d],l,f)||(s=!1)}}),s}function compare(a,t,n){return n==="min"?a>=t:n==="max"?a<=t:a===t}function indicesEquals(a,t){return a.join(",")===t.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(a){var t=a&&a.itemStyle;if(t)for(var n=0,o=POSSIBLE_STYLES.length;n<o;n++){var s=POSSIBLE_STYLES[n],l=t.normal,u=t.emphasis;l&&l[s]&&(a[s]=a[s]||{},a[s].normal?merge(a[s].normal,l[s]):a[s].normal=l[s],l[s]=null),u&&u[s]&&(a[s]=a[s]||{},a[s].emphasis?merge(a[s].emphasis,u[s]):a[s].emphasis=u[s],u[s]=null)}}function convertNormalEmphasis(a,t,n){if(a&&a[t]&&(a[t].normal||a[t].emphasis)){var o=a[t].normal,s=a[t].emphasis;o&&(n?(a[t].normal=a[t].emphasis=null,defaults(a[t],o)):a[t]=o),s&&(a.emphasis=a.emphasis||{},a.emphasis[t]=s,s.focus&&(a.emphasis.focus=s.focus),s.blurScope&&(a.emphasis.blurScope=s.blurScope))}}function removeEC3NormalStatus(a){convertNormalEmphasis(a,"itemStyle"),convertNormalEmphasis(a,"lineStyle"),convertNormalEmphasis(a,"areaStyle"),convertNormalEmphasis(a,"label"),convertNormalEmphasis(a,"labelLine"),convertNormalEmphasis(a,"upperLabel"),convertNormalEmphasis(a,"edgeLabel")}function compatTextStyle(a,t){var n=isObject$2(a)&&a[t],o=isObject$2(n)&&n.textStyle;if(o)for(var s=0,l=TEXT_STYLE_OPTIONS.length;s<l;s++){var u=TEXT_STYLE_OPTIONS[s];o.hasOwnProperty(u)&&(n[u]=o[u])}}function compatEC3CommonStyles(a){a&&(removeEC3NormalStatus(a),compatTextStyle(a,"label"),a.emphasis&&compatTextStyle(a.emphasis,"label"))}function processSeries(a){if(isObject$2(a)){compatEC2ItemStyle(a),removeEC3NormalStatus(a),compatTextStyle(a,"label"),compatTextStyle(a,"upperLabel"),compatTextStyle(a,"edgeLabel"),a.emphasis&&(compatTextStyle(a.emphasis,"label"),compatTextStyle(a.emphasis,"upperLabel"),compatTextStyle(a.emphasis,"edgeLabel"));var t=a.markPoint;t&&(compatEC2ItemStyle(t),compatEC3CommonStyles(t));var n=a.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var o=a.markArea;o&&compatEC3CommonStyles(o);var s=a.data;if(a.type==="graph"){s=s||a.nodes;var l=a.links||a.edges;if(l&&!isTypedArray(l))for(var u=0;u<l.length;u++)compatEC3CommonStyles(l[u]);each$f(a.categories,function(d){removeEC3NormalStatus(d)})}if(s&&!isTypedArray(s))for(var u=0;u<s.length;u++)compatEC3CommonStyles(s[u]);if(t=a.markPoint,t&&t.data)for(var c=t.data,u=0;u<c.length;u++)compatEC3CommonStyles(c[u]);if(n=a.markLine,n&&n.data)for(var f=n.data,u=0;u<f.length;u++)isArray$2(f[u])?(compatEC3CommonStyles(f[u][0]),compatEC3CommonStyles(f[u][1])):compatEC3CommonStyles(f[u]);a.type==="gauge"?(compatTextStyle(a,"axisLabel"),compatTextStyle(a,"title"),compatTextStyle(a,"detail")):a.type==="treemap"?(convertNormalEmphasis(a.breadcrumb,"itemStyle"),each$f(a.levels,function(d){removeEC3NormalStatus(d)})):a.type==="tree"&&removeEC3NormalStatus(a.leaves)}}function toArr(a){return isArray$2(a)?a:a?[a]:[]}function toObj(a){return(isArray$2(a)?a[0]:a)||{}}function globalCompatStyle(a,t){each$d(toArr(a.series),function(o){isObject$2(o)&&processSeries(o)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(n,function(o){each$d(toArr(a[o]),function(s){s&&(compatTextStyle(s,"axisLabel"),compatTextStyle(s.axisPointer,"label"))})}),each$d(toArr(a.parallel),function(o){var s=o&&o.parallelAxisDefault;compatTextStyle(s,"axisLabel"),compatTextStyle(s&&s.axisPointer,"label")}),each$d(toArr(a.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$d(toArr(a.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),each$d(toArr(a.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$d(toArr(o.regions),function(s){compatEC3CommonStyles(s)}))}),each$d(toArr(a.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var s=o.data;isArray$2(s)&&each$f(s,function(l){isObject$3(l)&&(convertNormalEmphasis(l,"label"),convertNormalEmphasis(l,"itemStyle"))})}),each$d(toArr(a.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$d(o.feature,function(s){convertNormalEmphasis(s,"iconStyle")})}),compatTextStyle(toObj(a.axisPointer),"label"),compatTextStyle(toObj(a.tooltip).axisPointer,"label")}function get(a,t){for(var n=t.split(","),o=a,s=0;s<n.length&&(o=o&&o[n[s]],o!=null);s++);return o}function set(a,t,n,o){for(var s=t.split(","),l=a,u,c=0;c<s.length-1;c++)u=s[c],l[u]==null&&(l[u]={}),l=l[u];l[s[c]]==null&&(l[s[c]]=n)}function compatLayoutProperties(a){a&&each$f(LAYOUT_PROPERTIES,function(t){t[0]in a&&!(t[1]in a)&&(a[t[1]]=a[t[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(a){var t=a&&a.itemStyle;if(t)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var o=BAR_ITEM_STYLE_MAP[n][1],s=BAR_ITEM_STYLE_MAP[n][0];t[o]!=null&&(t[s]=t[o])}}function compatPieLabel(a){a&&a.alignTo==="edge"&&a.margin!=null&&a.edgeDistance==null&&(a.edgeDistance=a.margin)}function compatSunburstState(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay)}function compatGraphFocus(a){a&&a.focusNodeAdjacency!=null&&(a.emphasis=a.emphasis||{},a.emphasis.focus==null&&(a.emphasis.focus="adjacency"))}function traverseTree(a,t){if(a)for(var n=0;n<a.length;n++)t(a[n]),a[n]&&traverseTree(a[n].children,t)}function globalBackwardCompat(a,t){globalCompatStyle(a,t),a.series=normalizeToArray(a.series),each$f(a.series,function(n){if(isObject$3(n)){var o=n.type;if(o==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(o==="pie"||o==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),compatPieLabel(n.label);var s=n.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)compatPieLabel(s[l]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(o==="gauge"){var u=get(n,"pointer.color");u!=null&&set(n,"itemStyle.color",u)}else if(o==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var s=n.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)typeof s[l]=="object"&&(compatBarItemStyle(s[l]),compatBarItemStyle(s[l]&&s[l].emphasis))}else if(o==="sunburst"){var c=n.highlightPolicy;c&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=c)),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(n):o==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&defaults(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),a.dataRange&&(a.visualMap=a.dataRange),each$f(COMPATITABLE_COMPONENTS,function(n){var o=a[n];o&&(isArray$2(o)||(o=[o]),each$f(o,function(s){compatLayoutProperties(s)}))})}function dataStack(a){var t=createHashMap();a.eachSeries(function(n){var o=n.get("stack");if(o){var s=t.get(o)||t.set(o,[]),l=n.getData(),u={stackResultDimension:l.getCalculationInfo("stackResultDimension"),stackedOverDimension:l.getCalculationInfo("stackedOverDimension"),stackedDimension:l.getCalculationInfo("stackedDimension"),stackedByDimension:l.getCalculationInfo("stackedByDimension"),isStackedByIndex:l.getCalculationInfo("isStackedByIndex"),data:l,seriesModel:n};if(!u.stackedDimension||!(u.isStackedByIndex||u.stackedByDimension))return;s.length&&l.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(u)}}),t.each(calculateStack)}function calculateStack(a){each$f(a,function(t,n){var o=[],s=[NaN,NaN],l=[t.stackResultDimension,t.stackedOverDimension],u=t.data,c=t.isStackedByIndex,f=t.seriesModel.get("stackStrategy")||"samesign";u.modify(l,function(d,g,y){var S=u.get(t.stackedDimension,y);if(isNaN(S))return s;var _,x;c?x=u.getRawIndex(y):_=u.get(t.stackedByDimension,y);for(var b=NaN,T=n-1;T>=0;T--){var A=a[T];if(c||(x=A.data.rawIndexOf(A.stackedByDimension,_)),x>=0){var C=A.data.getByRawIndex(A.stackResultDimension,x);if(f==="all"||f==="positive"&&C>0||f==="negative"&&C<0||f==="samesign"&&S>=0&&C>0||f==="samesign"&&S<=0&&C<0){S=addSafe(S,C),b=C;break}}}return o[0]=S,o[1]=b,o})})}var SourceImpl=function(){function a(t){this.data=t.data||(t.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=t.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=t.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var o=0;o<n.length;o++){var s=n[o];s.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(s.type="ordinal")}}return a}();function isSourceInstance(a){return a instanceof SourceImpl}function createSource(a,t,n){n=n||detectSourceFormat(a);var o=t.seriesLayoutBy,s=determineSourceDimensions(a,n,o,t.sourceHeader,t.dimensions),l=new SourceImpl({data:a,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:clone$4(t)});return l}function createSourceFromSeriesDataOption(a){return new SourceImpl({data:a,sourceFormat:isTypedArray(a)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(a){return new SourceImpl({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:clone$4(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount})}function detectSourceFormat(a){var t=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(a))t=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$2(a)){a.length===0&&(t=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,o=a.length;n<o;n++){var s=a[n];if(s!=null){if(isArray$2(s)||isTypedArray(s)){t=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(s)){t=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(a)){for(var l in a)if(hasOwn(a,l)&&isArrayLike(a[l])){t=SOURCE_FORMAT_KEYED_COLUMNS;break}}return t}function determineSourceDimensions(a,t,n,o,s){var l,u;if(!a)return{dimensionsDefine:normalizeDimensionsOption(s),startIndex:u,dimensionsDetectedCount:l};if(t===SOURCE_FORMAT_ARRAY_ROWS){var c=a;o==="auto"||o==null?arrayRowsTravelFirst(function(d){d!=null&&d!=="-"&&(isString(d)?u==null&&(u=1):u=0)},n,c,10):u=isNumber$2(o)?o:o?1:0,!s&&u===1&&(s=[],arrayRowsTravelFirst(function(d,g){s[g]=d!=null?d+"":""},n,c,1/0)),l=s?s.length:n===SERIES_LAYOUT_BY_ROW?c.length:c[0]?c[0].length:null}else if(t===SOURCE_FORMAT_OBJECT_ROWS)s||(s=objectRowsCollectDimensions(a));else if(t===SOURCE_FORMAT_KEYED_COLUMNS)s||(s=[],each$f(a,function(d,g){s.push(g)}));else if(t===SOURCE_FORMAT_ORIGINAL){var f=getDataItemValue(a[0]);l=isArray$2(f)&&f.length||1}return{startIndex:u,dimensionsDefine:normalizeDimensionsOption(s),dimensionsDetectedCount:l}}function objectRowsCollectDimensions(a){for(var t=0,n;t<a.length&&!(n=a[t++]););if(n)return keys$1(n)}function normalizeDimensionsOption(a){if(a){var t=createHashMap();return map$1(a,function(n,o){n=isObject$3(n)?n:{name:n};var s={name:n.name,displayName:n.displayName,type:n.type};if(s.name==null)return s;s.name+="",s.displayName==null&&(s.displayName=s.name);var l=t.get(s.name);return l?s.name+="-"+l.count++:t.set(s.name,{count:1}),s})}}function arrayRowsTravelFirst(a,t,n,o){if(t===SERIES_LAYOUT_BY_ROW)for(var s=0;s<n.length&&s<o;s++)a(n[s]?n[s][0]:null,s);else for(var l=n[0]||[],s=0;s<l.length&&s<o;s++)a(l[s],s)}function shouldRetrieveDataByName(a){var t=a.sourceFormat;return t===SOURCE_FORMAT_OBJECT_ROWS||t===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function a(t,n){var o=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=o;var s=this._data=o.data;o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=n,this._data=s),mountMethods(this,s,o)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(t,n){},a.prototype.appendData=function(t){},a.prototype.clean=function(){},a.protoInitialize=function(){var t=a.prototype;t.pure=!1,t.persistent=!0}(),a.internalField=function(){var t;mountMethods=function(u,c,f){var d=f.sourceFormat,g=f.seriesLayoutBy,y=f.startIndex,S=f.dimensionsDefine,_=providerMethods[getMethodMapKey(d,g)];if(extend(u,_),d===SOURCE_FORMAT_TYPED_ARRAY)u.getItem=n,u.count=s,u.fillStorage=o;else{var x=getRawSourceItemGetter(d,g);u.getItem=bind$1(x,null,c,y,S);var b=getRawSourceDataCounter(d,g);u.count=bind$1(b,null,c,y,S)}};var n=function(u,c){u=u-this._offset,c=c||[];for(var f=this._data,d=this._dimSize,g=d*u,y=0;y<d;y++)c[y]=f[g+y];return c},o=function(u,c,f,d){for(var g=this._data,y=this._dimSize,S=0;S<y;S++){for(var _=d[S],x=_[0]==null?1/0:_[0],b=_[1]==null?-1/0:_[1],T=c-u,A=f[S],C=0;C<T;C++){var E=g[C*y+S];A[u+C]=E,E<x&&(x=E),E>b&&(b=E)}_[0]=x,_[1]=b}},s=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:l},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:l},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(u){var c=this._data;each$f(u,function(f,d){for(var g=c[d]||(c[d]=[]),y=0;y<(f||[]).length;y++)g.push(f[y])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:l},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(u){this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},t);function l(u){for(var c=0;c<u.length;c++)this._data.push(u[c])}}(),a}(),getItemSimply=function(a,t,n,o){return a[o]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,t,n,o){return a[o+t]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,t,n,o,s){o+=t;for(var l=s||[],u=a,c=0;c<u.length;c++){var f=u[c];l[c]=f?f[o]:null}return l},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,t,n,o,s){for(var l=s||[],u=0;u<n.length;u++){var c=n[u].name,f=a[c];l[u]=f?f[o]:null}return l},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(a,t){var n=rawSourceItemGetterMap[getMethodMapKey(a,t)];return n}var countSimply=function(a,t,n){return a.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,t,n){return Math.max(0,a.length-t)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,t,n){var o=a[0];return o?Math.max(0,o.length-t):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,t,n){var o=n[0].name,s=a[o];return s?s.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(a,t){var n=rawSourceDataCounterMap[getMethodMapKey(a,t)];return n}var getRawValueSimply=function(a,t,n){return a[t]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(a,t,n){return a[n]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(a,t,n){var o=getDataItemValue(a);return o instanceof Array?o[t]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(a){var t=rawSourceValueGetterMap[a];return t}function getMethodMapKey(a,t){return a===SOURCE_FORMAT_ARRAY_ROWS?a+"_"+t:a}function retrieveRawValue(a,t,n){if(a){var o=a.getRawDataItem(t);if(o!=null){var s=a.getStore(),l=s.getSource().sourceFormat;if(n!=null){var u=a.getDimensionIndex(n),c=s.getDimensionProperty(u);return getRawSourceValueGetter(l)(o,u,c)}else{var f=o;return l===SOURCE_FORMAT_ORIGINAL&&(f=getDataItemValue(o)),f}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function a(){}return a.prototype.getDataParams=function(t,n){var o=this.getData(n),s=this.getRawValue(t,n),l=o.getRawIndex(t),u=o.getName(t),c=o.getRawDataItem(t),f=o.getItemVisual(t,"style"),d=f&&f[o.getItemVisual(t,"drawType")||"fill"],g=f&&f.stroke,y=this.mainType,S=y==="series",_=o.userOutput&&o.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:u,dataIndex:l,data:c,dataType:n,value:s,color:d,borderColor:g,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(t,n,o,s,l,u){n=n||"normal";var c=this.getData(o),f=this.getDataParams(t,o);if(u&&(f.value=u.interpolatedValue),s!=null&&isArray$2(f.value)&&(f.value=f.value[s]),!l){var d=c.getItemModel(t);l=d.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction(l))return f.status=n,f.dimensionIndex=s,l(f);if(isString(l)){var g=formatTpl(l,f);return g.replace(DIMENSION_LABEL_REG,function(y,S){var _=S.length,x=S;x.charAt(0)==="["&&x.charAt(_-1)==="]"&&(x=+x.slice(1,_-1));var b=retrieveRawValue(c,t,x);if(u&&isArray$2(u.interpolatedValue)){var T=c.getDimensionIndex(x);T>=0&&(b=u.interpolatedValue[T])}return b!=null?b+"":""})}},a.prototype.getRawValue=function(t,n){return retrieveRawValue(this.getData(n),t)},a.prototype.formatTooltip=function(t,n,o){},a}();function normalizeTooltipFormatResult(a){var t,n;return isObject$3(a)?a.type&&(n=a):t=a,{text:t,frag:n}}function createTask(a){return new Task(a)}var Task=function(){function a(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return a.prototype.perform=function(t){var n=this._upstream,o=t&&t.skip;if(this._dirty&&n){var s=this.context;s.data=s.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var l;this._plan&&!o&&(l=this._plan(this.context));var u=g(this._modBy),c=this._modDataCount||0,f=g(t&&t.modBy),d=t&&t.modDataCount||0;(u!==f||c!==d)&&(l="reset");function g(C){return!(C>=1)&&(C=1),C}var y;(this._dirty||l==="reset")&&(this._dirty=!1,y=this._doReset(o)),this._modBy=f,this._modDataCount=d;var S=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,x=Math.min(S!=null?this._dueIndex+S:1/0,this._dueEnd);if(!o&&(y||_<x)){var b=this._progress;if(isArray$2(b))for(var T=0;T<b.length;T++)this._doProgress(b[T],_,x,f,d);else this._doProgress(b,_,x,f,d)}this._dueIndex=x;var A=this._settedOutputEnd!=null?this._settedOutputEnd:x;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(t,n,o,s,l){iterator.reset(n,o,s,l),this._callingProgress=t,this._callingProgress({start:n,end:o,count:o-n,next:iterator.next},this.context)},a.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,o;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(o=n.forceFirstProgress,n=n.progress),isArray$2(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},a}(),iterator=function(){var a,t,n,o,s,l={reset:function(f,d,g,y){t=f,a=d,n=g,o=y,s=Math.ceil(o/n),l.next=n>1&&o>0?c:u}};return l;function u(){return t<a?t++:null}function c(){var f=t%s*n+Math.ceil(t/s),d=t>=a?null:f<o?f:t;return t++,d}}();function parseDataValue(a,t){var n=t&&t.type;return n==="ordinal"?a:(n==="time"&&!isNumber$2(a)&&a!=null&&a!=="-"&&(a=+parseDate(a)),a==null||a===""?NaN:Number(a))}var valueParserMap=createHashMap({number:function(a){return parseFloat(a)},time:function(a){return+parseDate(a)},trim:function(a){return isString(a)?trim$1(a):a}});function getRawValueParser(a){return valueParserMap.get(a)}var ORDER_COMPARISON_OP_MAP={lt:function(a,t){return a<t},lte:function(a,t){return a<=t},gt:function(a,t){return a>t},gte:function(a,t){return a>=t}},FilterOrderComparator=function(){function a(t,n){if(!isNumber$2(n)){var o="";throwError(o)}this._opFn=ORDER_COMPARISON_OP_MAP[t],this._rvalFloat=numericToNumber(n)}return a.prototype.evaluate=function(t){return isNumber$2(t)?this._opFn(t,this._rvalFloat):this._opFn(numericToNumber(t),this._rvalFloat)},a}(),SortOrderComparator=function(){function a(t,n){var o=t==="desc";this._resultLT=o?1:-1,n==null&&(n=o?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return a.prototype.evaluate=function(t,n){var o=isNumber$2(t)?t:numericToNumber(t),s=isNumber$2(n)?n:numericToNumber(n),l=isNaN(o),u=isNaN(s);if(l&&(o=this._incomparable),u&&(s=this._incomparable),l&&u){var c=isString(t),f=isString(n);c&&(o=f?t:0),f&&(s=c?n:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},a}(),FilterEqualityComparator=function(){function a(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=numericToNumber(n)}return a.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var o=typeof t;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(n=numericToNumber(t)===this._rvalFloat)}return this._isEQ?n:!n},a}();function createFilterComparator(a,t){return a==="eq"||a==="ne"?new FilterEqualityComparator(a==="eq",t):hasOwn(ORDER_COMPARISON_OP_MAP,a)?new FilterOrderComparator(a,t):null}var ExternalSource=function(){function a(){}return a.prototype.getRawData=function(){throw new Error("not supported")},a.prototype.getRawDataItem=function(t){throw new Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(t){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(t,n){},a.prototype.retrieveValueFromItem=function(t,n){},a.prototype.convertValue=function(t,n){return parseDataValue(t,n)},a}();function createExternalSource(a,t){var n=new ExternalSource,o=a.data,s=n.sourceFormat=a.sourceFormat,l=a.startIndex,u="";a.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(u);var c=[],f={},d=a.dimensionsDefine;if(d)each$f(d,function(b,T){var A=b.name,C={index:T,name:A,displayName:b.displayName};if(c.push(C),A!=null){var E="";hasOwn(f,A)&&throwError(E),f[A]=C}});else for(var g=0;g<a.dimensionsDetectedCount;g++)c.push({index:g});var y=getRawSourceItemGetter(s,SERIES_LAYOUT_BY_COLUMN);t.__isBuiltIn&&(n.getRawDataItem=function(b){return y(o,l,c,b)},n.getRawData=bind$1(getRawData,null,a)),n.cloneRawData=bind$1(cloneRawData,null,a);var S=getRawSourceDataCounter(s,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(S,null,o,l,c);var _=getRawSourceValueGetter(s);n.retrieveValue=function(b,T){var A=y(o,l,c,b);return x(A,T)};var x=n.retrieveValueFromItem=function(b,T){if(b!=null){var A=c[T];if(A)return _(b,T,A.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,c,f),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,c),n}function getRawData(a){var t=a.sourceFormat;if(!isSupportedSourceFormat(t)){var n="";throwError(n)}return a.data}function cloneRawData(a){var t=a.sourceFormat,n=a.data;if(!isSupportedSourceFormat(t)){var o="";throwError(o)}if(t===SOURCE_FORMAT_ARRAY_ROWS){for(var s=[],l=0,u=n.length;l<u;l++)s.push(n[l].slice());return s}else if(t===SOURCE_FORMAT_OBJECT_ROWS){for(var s=[],l=0,u=n.length;l<u;l++)s.push(extend({},n[l]));return s}}function getDimensionInfo(a,t,n){if(n!=null){if(isNumber$2(n)||!isNaN(n)&&!hasOwn(t,n))return a[n];if(hasOwn(t,n))return t[n]}}function cloneAllDimensionInfo(a){return clone$4(a)}var externalTransformMap=createHashMap();function registerExternalTransform(a){a=clone$4(a);var t=a.type,n="";t||throwError(n);var o=t.split(":");o.length!==2&&throwError(n);var s=!1;o[0]==="echarts"&&(t=o[1],s=!0),a.__isBuiltIn=s,externalTransformMap.set(t,a)}function applyDataTransform(a,t,n){var o=normalizeToArray(a),s=o.length,l="";s||throwError(l);for(var u=0,c=s;u<c;u++){var f=o[u];t=applySingleDataTransform(f,t),u!==c-1&&(t.length=Math.max(t.length,1))}return t}function applySingleDataTransform(a,t,n,o){var s="";t.length||throwError(s),isObject$3(a)||throwError(s);var l=a.type,u=externalTransformMap.get(l);u||throwError(s);var c=map$1(t,function(d){return createExternalSource(d,u)}),f=normalizeToArray(u.transform({upstream:c[0],upstreamList:c,config:clone$4(a.config)}));return map$1(f,function(d,g){var y="";isObject$3(d)||throwError(y),d.data||throwError(y);var S=detectSourceFormat(d.data);isSupportedSourceFormat(S)||throwError(y);var _,x=t[0];if(x&&g===0&&!d.dimensions){var b=x.startIndex;b&&(d.data=x.data.slice(0,b).concat(d.data)),_={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:b,dimensions:x.metaRawOption.dimensions}}else _={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:d.dimensions};return createSource(d.data,_,null)})}function isSupportedSourceFormat(a){return a===SOURCE_FORMAT_ARRAY_ROWS||a===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(a){return a>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(a){var t=a.constructor;return t===Array?a.slice():new t(a)}function prepareStore(a,t,n,o,s){var l=dataCtors[n||"float"];if(s){var u=a[t],c=u&&u.length;if(c!==o){for(var f=new l(o),d=0;d<c;d++)f[d]=u[d];a[t]=f}}else a[t]=new l(o)}var DataStore=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return a.prototype.initData=function(t,n,o){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=t.getSource(),l=this.defaultDimValueGetter=defaultDimValueGetters[s.sourceFormat];this._dimValueGetter=o||l,this._rawExtent=[],shouldRetrieveDataByName(s),this._dimensions=map$1(n,function(u){return{type:u.type,property:u.property}}),this._initDataFromProvider(0,t.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(t,n){var o=this._calcDimNameToIdx,s=this._dimensions,l=o.get(t);if(l!=null){if(s[l].type===n)return l}else l=s.length;return s[l]={type:n},o.set(t,l),this._chunks[l]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[l]=getInitialExtent(),l},a.prototype.collectOrdinalMeta=function(t,n){var o=this._chunks[t],s=this._dimensions[t],l=this._rawExtent,u=s.ordinalOffset||0,c=o.length;u===0&&(l[t]=getInitialExtent());for(var f=l[t],d=u;d<c;d++){var g=o[d]=n.parseAndCollect(o[d]);isNaN(g)||(f[0]=Math.min(g,f[0]),f[1]=Math.max(g,f[1]))}s.ordinalMeta=n,s.ordinalOffset=c,s.type="ordinal"},a.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],o=n.ordinalMeta;return o},a.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},a.prototype.appendData=function(t){var n=this._provider,o=this.count();n.appendData(t);var s=n.count();return n.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},a.prototype.appendValues=function(t,n){for(var o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,c=this.count(),f=c+Math.max(t.length,n||0),d=0;d<l;d++){var g=s[d];prepareStore(o,d,g.type,f,!0)}for(var y=[],S=c;S<f;S++)for(var _=S-c,x=0;x<l;x++){var g=s[x],b=defaultDimValueGetters.arrayRows.call(this,t[_]||y,g.property,_,x);o[x][S]=b;var T=u[x];b<T[0]&&(T[0]=b),b>T[1]&&(T[1]=b)}return this._rawCount=this._count=f,{start:c,end:f}},a.prototype._initDataFromProvider=function(t,n,o){for(var s=this._provider,l=this._chunks,u=this._dimensions,c=u.length,f=this._rawExtent,d=map$1(u,function(C){return C.property}),g=0;g<c;g++){var y=u[g];f[g]||(f[g]=getInitialExtent()),prepareStore(l,g,y.type,n,o)}if(s.fillStorage)s.fillStorage(t,n,l,f);else for(var S=[],_=t;_<n;_++){S=s.getItem(_,S);for(var x=0;x<c;x++){var b=l[x],T=this._dimValueGetter(S,d[x],_,x);b[_]=T;var A=f[x];T<A[0]&&(A[0]=T),T>A[1]&&(A[1]=T)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=n,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var o=this._chunks[t];return o?o[this.getRawIndex(n)]:NaN},a.prototype.getValues=function(t,n){var o=[],s=[];if(n==null){n=t,t=[];for(var l=0;l<this._dimensions.length;l++)s.push(l)}else s=t;for(var l=0,u=s.length;l<u;l++)o.push(this.get(s[l],n));return o},a.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var o=this._chunks[t];return o?o[n]:NaN},a.prototype.getSum=function(t){var n=this._chunks[t],o=0;if(n)for(var s=0,l=this.count();s<l;s++){var u=this.get(t,s);isNaN(u)||(o+=u)}return o},a.prototype.getMedian=function(t){var n=[];this.each([t],function(l){isNaN(l)||n.push(l)});var o=n.sort(function(l,u){return l-u}),s=this.count();return s===0?0:s%2===1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},a.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,o=n[t];if(o!=null&&o<this._count&&o===t)return t;for(var s=0,l=this._count-1;s<=l;){var u=(s+l)/2|0;if(n[u]<t)s=u+1;else if(n[u]>t)l=u-1;else return u}return-1},a.prototype.indicesOfNearest=function(t,n,o){var s=this._chunks,l=s[t],u=[];if(!l)return u;o==null&&(o=1/0);for(var c=1/0,f=-1,d=0,g=0,y=this.count();g<y;g++){var S=this.getRawIndex(g),_=n-l[S],x=Math.abs(_);x<=o&&((x<c||x===c&&_>=0&&f<0)&&(c=x,f=_,d=0),_===f&&(u[d++]=g))}return u.length=d,u},a.prototype.getIndices=function(){var t,n=this._indices;if(n){var o=n.constructor,s=this._count;if(o===Array){t=new o(s);for(var l=0;l<s;l++)t[l]=n[l]}else t=new o(n.buffer,0,s)}else{var o=getIndicesCtor(this._rawCount);t=new o(this.count());for(var l=0;l<t.length;l++)t[l]=l}return t},a.prototype.filter=function(t,n){if(!this._count)return this;for(var o=this.clone(),s=o.count(),l=getIndicesCtor(o._rawCount),u=new l(s),c=[],f=t.length,d=0,g=t[0],y=o._chunks,S=0;S<s;S++){var _=void 0,x=o.getRawIndex(S);if(f===0)_=n(S);else if(f===1){var b=y[g][x];_=n(b,S)}else{for(var T=0;T<f;T++)c[T]=y[t[T]][x];c[T]=S,_=n.apply(null,c)}_&&(u[d++]=x)}return d<s&&(o._indices=u),o._count=d,o._extent=[],o._updateGetRawIdx(),o},a.prototype.selectRange=function(t){var n=this.clone(),o=n._count;if(!o)return this;var s=keys$1(t),l=s.length;if(!l)return this;var u=n.count(),c=getIndicesCtor(n._rawCount),f=new c(u),d=0,g=s[0],y=t[g][0],S=t[g][1],_=n._chunks,x=!1;if(!n._indices){var b=0;if(l===1){for(var T=_[s[0]],A=0;A<o;A++){var C=T[A];(C>=y&&C<=S||isNaN(C))&&(f[d++]=b),b++}x=!0}else if(l===2){for(var T=_[s[0]],E=_[s[1]],P=t[s[1]][0],M=t[s[1]][1],A=0;A<o;A++){var C=T[A],I=E[A];(C>=y&&C<=S||isNaN(C))&&(I>=P&&I<=M||isNaN(I))&&(f[d++]=b),b++}x=!0}}if(!x)if(l===1)for(var A=0;A<u;A++){var D=n.getRawIndex(A),C=_[s[0]][D];(C>=y&&C<=S||isNaN(C))&&(f[d++]=D)}else for(var A=0;A<u;A++){for(var L=!0,D=n.getRawIndex(A),$=0;$<l;$++){var O=s[$],C=_[O][D];(C<t[O][0]||C>t[O][1])&&(L=!1)}L&&(f[d++]=n.getRawIndex(A))}return d<u&&(n._indices=f),n._count=d,n._extent=[],n._updateGetRawIdx(),n},a.prototype.map=function(t,n){var o=this.clone(t);return this._updateDims(o,t,n),o},a.prototype.modify=function(t,n){this._updateDims(this,t,n)},a.prototype._updateDims=function(t,n,o){for(var s=t._chunks,l=[],u=n.length,c=t.count(),f=[],d=t._rawExtent,g=0;g<n.length;g++)d[n[g]]=getInitialExtent();for(var y=0;y<c;y++){for(var S=t.getRawIndex(y),_=0;_<u;_++)f[_]=s[n[_]][S];f[u]=y;var x=o&&o.apply(null,f);if(x!=null){typeof x!="object"&&(l[0]=x,x=l);for(var g=0;g<x.length;g++){var b=n[g],T=x[g],A=d[b],C=s[b];C&&(C[S]=T),T<A[0]&&(A[0]=T),T>A[1]&&(A[1]=T)}}}},a.prototype.lttbDownSample=function(t,n){var o=this.clone([t],!0),s=o._chunks,l=s[t],u=this.count(),c=0,f=Math.floor(1/n),d=this.getRawIndex(0),g,y,S,_=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(u/f)+2)*2,u));_[c++]=d;for(var x=1;x<u-1;x+=f){for(var b=Math.min(x+f,u-1),T=Math.min(x+f*2,u),A=(T+b)/2,C=0,E=b;E<T;E++){var P=this.getRawIndex(E),M=l[P];isNaN(M)||(C+=M)}C/=T-b;var I=x,D=Math.min(x+f,u),L=x-1,$=l[d];g=-1,S=I;for(var O=-1,V=0,E=I;E<D;E++){var P=this.getRawIndex(E),M=l[P];if(isNaN(M)){V++,O<0&&(O=P);continue}y=Math.abs((L-A)*(M-$)-(L-E)*(C-$)),y>g&&(g=y,S=P)}V>0&&V<D-I&&(_[c++]=Math.min(O,S),S=Math.max(O,S)),_[c++]=S,d=S}return _[c++]=this.getRawIndex(u-1),o._count=c,o._indices=_,o.getRawIndex=this._getRawIdx,o},a.prototype.minmaxDownSample=function(t,n){for(var o=this.clone([t],!0),s=o._chunks,l=Math.floor(1/n),u=s[t],c=this.count(),f=new(getIndicesCtor(this._rawCount))(Math.ceil(c/l)*2),d=0,g=0;g<c;g+=l){var y=g,S=u[this.getRawIndex(y)],_=g,x=u[this.getRawIndex(_)],b=l;g+l>c&&(b=c-g);for(var T=0;T<b;T++){var A=this.getRawIndex(g+T),C=u[A];C<S&&(S=C,y=g+T),C>x&&(x=C,_=g+T)}var E=this.getRawIndex(y),P=this.getRawIndex(_);y<_?(f[d++]=E,f[d++]=P):(f[d++]=P,f[d++]=E)}return o._count=d,o._indices=f,o._updateGetRawIdx(),o},a.prototype.downSample=function(t,n,o,s){for(var l=this.clone([t],!0),u=l._chunks,c=[],f=Math.floor(1/n),d=u[t],g=this.count(),y=l._rawExtent[t]=getInitialExtent(),S=new(getIndicesCtor(this._rawCount))(Math.ceil(g/f)),_=0,x=0;x<g;x+=f){f>g-x&&(f=g-x,c.length=f);for(var b=0;b<f;b++){var T=this.getRawIndex(x+b);c[b]=d[T]}var A=o(c),C=this.getRawIndex(Math.min(x+s(c,A)||0,g-1));d[C]=A,A<y[0]&&(y[0]=A),A>y[1]&&(y[1]=A),S[_++]=C}return l._count=_,l._indices=S,l._updateGetRawIdx(),l},a.prototype.each=function(t,n){if(this._count)for(var o=t.length,s=this._chunks,l=0,u=this.count();l<u;l++){var c=this.getRawIndex(l);switch(o){case 0:n(l);break;case 1:n(s[t[0]][c],l);break;case 2:n(s[t[0]][c],s[t[1]][c],l);break;default:for(var f=0,d=[];f<o;f++)d[f]=s[t[f]][c];d[f]=l,n.apply(null,d)}}},a.prototype.getDataExtent=function(t){var n=this._chunks[t],o=getInitialExtent();if(!n)return o;var s=this.count(),l=!this._indices,u;if(l)return this._rawExtent[t].slice();if(u=this._extent[t],u)return u.slice();u=o;for(var c=u[0],f=u[1],d=0;d<s;d++){var g=this.getRawIndex(d),y=n[g];y<c&&(c=y),y>f&&(f=y)}return u=[c,f],this._extent[t]=u,u},a.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var o=[],s=this._chunks,l=0;l<s.length;l++)o.push(s[l][n]);return o},a.prototype.clone=function(t,n){var o=new a,s=this._chunks,l=t&&reduce(t,function(c,f){return c[f]=!0,c},{});if(l)for(var u=0;u<s.length;u++)o._chunks[u]=l[u]?cloneChunk(s[u]):s[u];else o._chunks=s;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},a.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$4(this._extent),t._rawExtent=clone$4(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var o=this._indices.length;n=new t(o);for(var s=0;s<o;s++)n[s]=this._indices[s]}else n=new t(this._indices);return n}return null},a.prototype._getRawIdxIdentity=function(t){return t},a.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function t(n,o,s,l){return parseDataValue(n[l],this._dimensions[l])}defaultDimValueGetters={arrayRows:t,objectRows:function(n,o,s,l){return parseDataValue(n[o],this._dimensions[l])},keyedColumns:t,original:function(n,o,s,l){var u=n&&(n.value==null?n:n.value);return parseDataValue(u instanceof Array?u[l]:u,this._dimensions[l])},typedArray:function(n,o,s,l){return n[l]}}}(),a}(),SourceManager=function(){function a(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),o=!!n.length,s,l;if(isSeries(t)){var u=t,c=void 0,f=void 0,d=void 0;if(o){var g=n[0];g.prepareSource(),d=g.getSource(),c=d.data,f=d.sourceFormat,l=[g._getVersionSign()]}else c=u.get("data",!0),f=isTypedArray(c)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,l=[];var y=this._getSourceMetaRawOption()||{},S=d&&d.metaRawOption||{},_=retrieve2(y.seriesLayoutBy,S.seriesLayoutBy)||null,x=retrieve2(y.sourceHeader,S.sourceHeader),b=retrieve2(y.dimensions,S.dimensions),T=_!==S.seriesLayoutBy||!!x!=!!S.sourceHeader||b;s=T?[createSource(c,{seriesLayoutBy:_,sourceHeader:x,dimensions:b},f)]:[]}else{var A=t;if(o){var C=this._applyTransform(n);s=C.sourceList,l=C.upstreamSignList}else{var E=A.get("source",!0);s=[createSource(E,this._getSourceMetaRawOption(),null)],l=[]}}this._setLocalSource(s,l)},a.prototype._applyTransform=function(t){var n=this._sourceHost,o=n.get("transform",!0),s=n.get("fromTransformResult",!0);if(s!=null){var l="";t.length!==1&&doThrow(l)}var u,c=[],f=[];return each$f(t,function(d){d.prepareSource();var g=d.getSource(s||0),y="";s!=null&&!g&&doThrow(y),c.push(g),f.push(d._getVersionSign())}),o?u=applyDataTransform(o,c,{datasetIndex:n.componentIndex}):s!=null&&(u=[cloneSourceShallow(c[0])]),{sourceList:u,upstreamSignList:f}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var o=t[n];if(o._isDirty()||this._upstreamSignList[n]!==o._getVersionSign())return!0}},a.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(t)}return n},a.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},a.prototype._innerGetDataStore=function(t,n,o){var s=0,l=this._storeList,u=l[s];u||(u=l[s]={});var c=u[o];if(!c){var f=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&f?c=f._innerGetDataStore(t,n,o):(c=new DataStore,c.initData(new DefaultDataProvider(n,t.length),t)),u[o]=c}return c},a.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var n=querySeriesUpstreamDatasetModel(t);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(t),function(o){return o.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,o,s;if(isSeries(t))n=t.get("seriesLayoutBy",!0),o=t.get("sourceHeader",!0),s=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var l=t;n=l.get("seriesLayoutBy",!0),o=l.get("sourceHeader",!0),s=l.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:o,dimensions:s}},a}();function disableTransformOptionMerge(a){var t=a.option.transform;t&&setAsPrimitive(a.option.transform)}function isSeries(a){return a.mainType==="series"}function doThrow(a){throw new Error(a)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(a){var t=a.lineHeight;return t==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(t+"")+"px"}function getTooltipTextStyle(a,t){var n=a.color||"#6e7079",o=a.fontSize||12,s=a.fontWeight||"400",l=a.color||"#464646",u=a.fontSize||14,c=a.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(s+""),valueStyle:"font-size:"+encodeHTML(u+"")+"px;color:"+encodeHTML(l)+";font-weight:"+encodeHTML(c+"")}:{nameStyle:{fontSize:o,fill:n,fontWeight:s},valueStyle:{fontSize:u,fill:l,fontWeight:c}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(a,t){return t.type=a,t}function isSectionFragment(a){return a.type==="section"}function getBuilder(a){return isSectionFragment(a)?buildSection:buildNameValue}function getBlockGapLevel(a){if(isSectionFragment(a)){var t=0,n=a.blocks.length,o=n>1||n>0&&!a.noHeader;return each$f(a.blocks,function(s){var l=getBlockGapLevel(s);l>=t&&(t=l+ +(o&&(!l||isSectionFragment(s)&&!s.noHeader)))}),t}return 0}function buildSection(a,t,n,o){var s=t.noHeader,l=getGap(getBlockGapLevel(t)),u=[],c=t.blocks||[];assert(!c||isArray$2(c)),c=c||[];var f=a.orderMode;if(t.sortBlocks&&f){c=c.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(d,f)){var g=new SortOrderComparator(d[f],null);c.sort(function(b,T){return g.evaluate(b.sortParam,T.sortParam)})}else f==="seriesDesc"&&c.reverse()}each$f(c,function(b,T){var A=t.valueFormatter,C=getBuilder(b)(A?extend(extend({},a),{valueFormatter:A}):a,b,T>0?l.html:0,o);C!=null&&u.push(C)});var y=a.renderMode==="richText"?u.join(l.richText):wrapBlockHTML(o,u.join(""),s?n:l.html);if(s)return y;var S=makeValueReadable(t.header,"ordinal",a.useUTC),_=getTooltipTextStyle(o,a.renderMode).nameStyle,x=getTooltipLineHeight(o);return a.renderMode==="richText"?wrapInlineNameRichText(a,S,_)+l.richText+y:wrapBlockHTML(o,'<div style="'+_+";"+x+';">'+encodeHTML(S)+"</div>"+y,n)}function buildNameValue(a,t,n,o){var s=a.renderMode,l=t.noName,u=t.noValue,c=!t.markerType,f=t.name,d=a.useUTC,g=t.valueFormatter||a.valueFormatter||function(P){return P=isArray$2(P)?P:[P],map$1(P,function(M,I){return makeValueReadable(M,isArray$2(_)?_[I]:_,d)})};if(!(l&&u)){var y=c?"":a.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",s),S=l?"":makeValueReadable(f,"ordinal",d),_=t.valueType,x=u?[]:g(t.value,t.dataIndex),b=!c||!l,T=!c&&l,A=getTooltipTextStyle(o,s),C=A.nameStyle,E=A.valueStyle;return s==="richText"?(c?"":y)+(l?"":wrapInlineNameRichText(a,S,C))+(u?"":wrapInlineValueRichText(a,x,b,T,E)):wrapBlockHTML(o,(c?"":y)+(l?"":wrapInlineNameHTML(S,!c,C))+(u?"":wrapInlineValueHTML(x,b,T,E)),n)}}function buildTooltipMarkup(a,t,n,o,s,l){if(a){var u=getBuilder(a),c={useUTC:s,renderMode:n,orderMode:o,markupStyleCreator:t,valueFormatter:a.valueFormatter};return u(c,a,0,l)}}function getGap(a){return{html:HTML_GAPS[a],richText:RICH_TEXT_GAPS[a]}}function wrapBlockHTML(a,t,n){var o='<div style="clear:both"></div>',s="margin: "+n+"px 0 0",l=getTooltipLineHeight(a);return'<div style="'+s+";"+l+';">'+t+o+"</div>"}function wrapInlineNameHTML(a,t,n){var o=t?"margin-left:2px":"";return'<span style="'+n+";"+o+'">'+encodeHTML(a)+"</span>"}function wrapInlineValueHTML(a,t,n,o){var s=n?"10px":"20px",l=t?"float:right;margin-left:"+s:"";return a=isArray$2(a)?a:[a],'<span style="'+l+";"+o+'">'+map$1(a,function(u){return encodeHTML(u)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(a,t,n){return a.markupStyleCreator.wrapRichTextStyle(t,n)}function wrapInlineValueRichText(a,t,n,o,s){var l=[s],u=o?10:20;return n&&l.push({padding:[0,0,0,u],align:"right"}),a.markupStyleCreator.wrapRichTextStyle(isArray$2(t)?t.join("  "):t,l)}function retrieveVisualColorForTooltipMarker(a,t){var n=a.getData().getItemVisual(t,"style"),o=n[a.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(a,t){var n=a.get("padding");return n??(t==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function a(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(t,n,o){var s=o==="richText"?this._generateStyleName():null,l=getTooltipMarker({color:n,type:t,renderMode:o,markerId:s});return isString(l)?l:(this.richTextStyles[s]=l.style,l.content)},a.prototype.wrapRichTextStyle=function(t,n){var o={};isArray$2(n)?each$f(n,function(l){return extend(o,l)}):extend(o,n);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+t+"}"},a}();function defaultSeriesFormatTooltip(a){var t=a.series,n=a.dataIndex,o=a.multipleSeries,s=t.getData(),l=s.mapDimensionsAll("defaultedTooltip"),u=l.length,c=t.getRawValue(n),f=isArray$2(c),d=retrieveVisualColorForTooltipMarker(t,n),g,y,S,_;if(u>1||f&&!u){var x=formatTooltipArrayValue(c,t,n,l,d);g=x.inlineValues,y=x.inlineValueTypes,S=x.blocks,_=x.inlineValues[0]}else if(u){var b=s.getDimensionInfo(l[0]);_=g=retrieveRawValue(s,n,l[0]),y=b.type}else _=g=f?c[0]:c;var T=isNameSpecified(t),A=T&&t.name||"",C=s.getName(n),E=o?A:C;return createTooltipMarkup("section",{header:A,noHeader:o||!T,sortParam:_,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:d,name:E,noName:!trim$1(E),value:g,valueType:y,dataIndex:n})].concat(S||[])})}function formatTooltipArrayValue(a,t,n,o,s){var l=t.getData(),u=reduce(a,function(y,S,_){var x=l.getDimensionInfo(_);return y=y||x&&x.tooltip!==!1&&x.displayName!=null},!1),c=[],f=[],d=[];o.length?each$f(o,function(y){g(retrieveRawValue(l,n,y),y)}):each$f(a,g);function g(y,S){var _=l.getDimensionInfo(S);!_||_.otherDims.tooltip===!1||(u?d.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:s,name:_.displayName,value:y,valueType:_.type})):(c.push(y),f.push(_.type)))}return{inlineValues:c,inlineValueTypes:f,blocks:d}}var inner$k=makeInner();function getSelectionKey(a,t){return a.getName(t)||a.getId(t)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,o,s){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,s);var l=inner$k(this).sourceManager=new SourceManager(this);l.prepareSource();var u=this.getInitialData(n,s);wrapData(u,this),this.dataTask.context.data=u,inner$k(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},t.prototype.mergeDefaultAndTheme=function(n,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(n):{},u=this.subType;ComponentModel.hasClass(u)&&(u+="Series"),merge(n,o.getTheme().get(this.subType)),merge(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),s&&mergeLayoutParam(n,l,s)},t.prototype.mergeOption=function(n,o){n=merge(this.option,n,!0),this.fillDataTextStyle(n.data);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,n,s);var l=inner$k(this).sourceManager;l.dirty(),l.prepareSource();var u=this.getInitialData(n,o);wrapData(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,inner$k(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},t.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var o=["show"],s=0;s<n.length;s++)n[s]&&n[s].label&&defaultEmphasis(n[s],"label",o)},t.prototype.getInitialData=function(n,o){},t.prototype.appendData=function(n){var o=this.getRawData();o.appendData(n.data)},t.prototype.getData=function(n){var o=getCurrentTask(this);if(o){var s=o.context.data;return n==null||!s.getLinkedData?s:s.getLinkedData(n)}else return inner$k(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var o=getCurrentTask(this);if(o){var s=o.context;s.outputData=n,o!==this.dataTask&&(s.data=n)}inner$k(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},t.prototype.getSourceManager=function(){return inner$k(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,o,s){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:o})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env.node&&!(n&&n.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,o,s){var l=this.ecModel,u=PaletteMixin.prototype.getColorFromPalette.call(this,n,o,s);return u||(u=l.getColorFromPalette(n,o,s)),u},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,o){this._innerSelect(this.getData(o),n)},t.prototype.unselect=function(n,o){var s=this.option.selectedMap;if(s){var l=this.option.selectedMode,u=this.getData(o);if(l==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var c=0;c<n.length;c++){var f=n[c],d=getSelectionKey(u,f);s[d]=!1,this._selectedDataIndicesMap[d]=-1}}},t.prototype.toggleSelect=function(n,o){for(var s=[],l=0;l<n.length;l++)s[0]=n[l],this.isSelected(n[l],o)?this.unselect(s,o):this.select(s,o)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,o=keys$1(n),s=[],l=0;l<o.length;l++){var u=n[o[l]];u>=0&&s.push(u)}return s},t.prototype.isSelected=function(n,o){var s=this.option.selectedMap;if(!s)return!1;var l=this.getData(o);return(s==="all"||s[getSelectionKey(l,n)])&&!l.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,o){var s,l,u=this.option,c=u.selectedMode,f=o.length;if(!(!c||!f)){if(c==="series")u.selectedMap="all";else if(c==="multiple"){isObject$3(u.selectedMap)||(u.selectedMap={});for(var d=u.selectedMap,g=0;g<f;g++){var y=o[g],S=getSelectionKey(n,y);d[S]=!0,this._selectedDataIndicesMap[S]=n.getRawIndex(y)}}else if(c==="single"||c===!0){var _=o[f-1],S=getSelectionKey(n,_);u.selectedMap=(s={},s[S]=!0,s),this._selectedDataIndicesMap=(l={},l[S]=n.getRawIndex(_),l)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var o=[];n.hasItemOption&&n.each(function(s){var l=n.getRawDataItem(s);l&&l.selected&&o.push(s)}),o.length>0&&this._innerSelect(n,o)}},t.registerClass=function(n){return ComponentModel.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(a){var t=a.name;isNameSpecified(a)||(a.name=getSeriesAutoName(a)||t)}function getSeriesAutoName(a){var t=a.getRawData(),n=t.mapDimensionsAll("seriesName"),o=[];return each$f(n,function(s){var l=t.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")}function dataTaskCount(a){return a.model.getRawData().count()}function dataTaskReset(a){var t=a.model;return t.setData(t.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(a,t){t.outputData&&a.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wrapData(a,t){each$f(concatArray(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(n){a.wrapMethod(n,curry$1(onDataChange,t))})}function onDataChange(a,t){var n=getCurrentTask(a);return n&&n.setOutputEnd((t||this).count()),t}function getCurrentTask(a){var t=(a.ecModel||{}).scheduler,n=t&&t.getPipeline(a.uid);if(n){var o=n.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(a.uid))}return o}}var ComponentView=function(){function a(){this.group=new Group$3,this.uid=getUID("viewComponent")}return a.prototype.init=function(t,n){},a.prototype.render=function(t,n,o,s){},a.prototype.dispose=function(t,n){},a.prototype.updateView=function(t,n,o,s){},a.prototype.updateLayout=function(t,n,o,s){},a.prototype.updateVisual=function(t,n,o,s){},a.prototype.toggleBlurSeries=function(t,n,o){},a.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},a}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var a=makeInner();return function(t){var n=a(t),o=t.pipelineContext,s=!!n.large,l=!!n.progressiveRender,u=n.large=!!(o&&o.large),c=n.progressiveRender=!!(o&&o.progressiveRender);return(s!==u||l!==c)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function a(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return a.prototype.init=function(t,n){},a.prototype.render=function(t,n,o,s){},a.prototype.highlight=function(t,n,o,s){var l=t.getData(s&&s.dataType);l&&toggleHighlight(l,s,"emphasis")},a.prototype.downplay=function(t,n,o,s){var l=t.getData(s&&s.dataType);l&&toggleHighlight(l,s,"normal")},a.prototype.remove=function(t,n){this.group.removeAll()},a.prototype.dispose=function(t,n){},a.prototype.updateView=function(t,n,o,s){this.render(t,n,o,s)},a.prototype.updateLayout=function(t,n,o,s){this.render(t,n,o,s)},a.prototype.updateVisual=function(t,n,o,s){this.render(t,n,o,s)},a.prototype.eachRendered=function(t){traverseElements(this.group,t)},a.markUpdateMethod=function(t,n){inner$j(t).updateMethod=n},a.protoInitialize=function(){var t=a.prototype;t.type="chart"}(),a}();function elSetState(a,t,n){a&&isHighDownDispatcher(a)&&(t==="emphasis"?enterEmphasis:leaveEmphasis)(a,n)}function toggleHighlight(a,t,n){var o=queryDataIndex(a,t),s=t&&t.highlightKey!=null?getHighlightDigit(t.highlightKey):null;o!=null?each$f(normalizeToArray(o),function(l){elSetState(a.getItemGraphicEl(l),n,s)}):a.eachItemGraphicEl(function(l){elSetState(l,n,s)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(a){return renderPlanner(a.model)}function renderTaskReset(a){var t=a.model,n=a.ecModel,o=a.api,s=a.payload,l=t.pipelineContext.progressiveRender,u=a.view,c=s&&inner$j(s).updateMethod,f=l?"incrementalPrepareRender":c&&u[c]?c:"render";return f!=="render"&&u[f](t,n,o,s),progressMethodMap[f]}var progressMethodMap={incrementalPrepareRender:{progress:function(a,t){t.view.incrementalRender(a,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(a,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(a,t,n){var o,s=0,l=0,u=null,c,f,d,g;t=t||0;function y(){l=new Date().getTime(),u=null,a.apply(f,d||[])}var S=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];o=new Date().getTime(),f=this,d=_;var b=g||t,T=g||n;g=null,c=o-(T?s:l)-b,clearTimeout(u),T?u=setTimeout(y,b):c>=0?y():u=setTimeout(y,-c),s=o};return S.clear=function(){u&&(clearTimeout(u),u=null)},S.debounceNextCall=function(_){g=_},S}function createOrUpdate(a,t,n,o){var s=a[t];if(s){var l=s[ORIGIN_METHOD]||s,u=s[THROTTLE_TYPE],c=s[RATE];if(c!==n||u!==o){if(n==null||!o)return a[t]=l;s=a[t]=throttle(l,n,o==="debounce"),s[ORIGIN_METHOD]=l,s[THROTTLE_TYPE]=o,s[RATE]=n}return s}}function clear$1(a,t){var n=a[t];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),a[t]=n[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(a,t){var n=a.visualStyleMapper||defaultStyleMappers[t];return n||(console.warn("Unknown style type '"+t+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(a,t){var n=a.visualDrawType||defaultColorKey[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){var n=a.getData(),o=a.visualStyleAccessPath||"itemStyle",s=a.getModel(o),l=getStyleMapper(a,o),u=l(s),c=s.getShallow("decal");c&&(n.setVisual("decal",c),c.dirty=!0);var f=getDefaultColorKey(a,o),d=u[f],g=isFunction(d)?d:null,y=u.fill==="auto"||u.stroke==="auto";if(!u[f]||g||y){var S=a.getColorFromPalette(a.name,null,t.getSeriesCount());u[f]||(u[f]=S,n.setVisual("colorFromPalette",!0)),u.fill=u.fill==="auto"||isFunction(u.fill)?S:u.fill,u.stroke=u.stroke==="auto"||isFunction(u.stroke)?S:u.stroke}if(n.setVisual("style",u),n.setVisual("drawType",f),!t.isSeriesFiltered(a)&&g)return n.setVisual("colorFromPalette",!1),{dataEach:function(_,x){var b=a.getDataParams(x),T=extend({},u);T[f]=g(b),_.setItemVisual(x,"style",T)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){if(!(a.ignoreStyleOnData||t.isSeriesFiltered(a))){var n=a.getData(),o=a.visualStyleAccessPath||"itemStyle",s=getStyleMapper(a,o),l=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(u,c){var f=u.getRawDataItem(c);if(f&&f[o]){sharedModel.option=f[o];var d=s(sharedModel),g=u.ensureUniqueItemVisual(c,"style");extend(g,d),sharedModel.option.decal&&(u.setItemVisual(c,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),l in d&&u.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(a){var t=createHashMap();a.eachSeries(function(n){var o=n.getColorBy();if(!n.isColorBySeries()){var s=n.type+"-"+o,l=t.get(s);l||(l={},t.set(s,l)),inner$i(n).scope=l}}),a.eachSeries(function(n){if(!(n.isColorBySeries()||a.isSeriesFiltered(n))){var o=n.getRawData(),s={},l=n.getData(),u=inner$i(n).scope,c=n.visualStyleAccessPath||"itemStyle",f=getDefaultColorKey(n,c);l.each(function(d){var g=l.getRawIndex(d);s[g]=d}),o.each(function(d){var g=s[d],y=l.getItemVisual(g,"colorFromPalette");if(y){var S=l.ensureUniqueItemVisual(g,"style"),_=o.getName(d)||d+"",x=o.count();S[f]=n.getColorFromPalette(_,u,x)}})}})}},PI$5=Math.PI;function defaultLoading(a,t){t=t||{},defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$3,o=new Rect$2({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(o);var s=new ZRText({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),l=new Rect$2({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(l);var u;return t.showSpinner&&(u=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),u.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),n.add(u)),n.resize=function(){var c=s.getBoundingRect().width,f=t.showSpinner?t.spinnerRadius:0,d=(a.getWidth()-f*2-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner&&c?0:5+c/2)+(t.showSpinner?0:c/2)+(c?0:f),g=a.getHeight()/2;t.showSpinner&&u.setShape({cx:d,cy:g}),l.setShape({x:d-f,y:g-f,width:f*2,height:f*2}),o.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},n.resize(),n}var Scheduler=function(){function a(t,n,o,s){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=n,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return a.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},a.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var o=this._pipelineMap.get(t.__pipeline.id),s=o.context,l=!n&&o.progressiveEnabled&&(!s||s.progressiveRender)&&t.__idxInPipeline>o.blockIndex,u=l?o.step:null,c=s&&s.modDataCount,f=c!=null?Math.ceil(c/u):null;return{step:u,modBy:f,modDataCount:c}}},a.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},a.prototype.updateStreamModes=function(t,n){var o=this._pipelineMap.get(t.uid),s=t.getData(),l=s.count(),u=o.progressiveEnabled&&n.incrementalPrepareRender&&l>=o.threshold,c=t.get("large")&&l>=t.get("largeThreshold"),f=t.get("progressiveChunkMode")==="mod"?l:null;t.pipelineContext=o.context={progressiveRender:u,modDataCount:f,large:c}},a.prototype.restorePipelines=function(t){var n=this,o=n._pipelineMap=createHashMap();t.eachSeries(function(s){var l=s.getProgressive(),u=s.uid;o.set(u,{id:u,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:l&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(l||700),count:0}),n._pipe(s,s.dataTask)})},a.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),o=this.api;each$f(this._allHandlers,function(s){var l=t.get(s.uid)||t.set(s.uid,{}),u="";assert(!(s.reset&&s.overallReset),u),s.reset&&this._createSeriesStageTask(s,l,n,o),s.overallReset&&this._createOverallStageTask(s,l,n,o)},this)},a.prototype.prepareView=function(t,n,o,s){var l=t.renderTask,u=l.context;u.model=n,u.ecModel=o,u.api=s,l.__block=!t.incrementalPrepareRender,this._pipe(n,l)},a.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},a.prototype.performVisualTasks=function(t,n,o){this._performStageTasks(this._visualHandlers,t,n,o)},a.prototype._performStageTasks=function(t,n,o,s){s=s||{};var l=!1,u=this;each$f(t,function(f,d){if(!(s.visualType&&s.visualType!==f.visualType)){var g=u._stageTaskMap.get(f.uid),y=g.seriesTaskMap,S=g.overallTask;if(S){var _,x=S.agentStubMap;x.each(function(T){c(s,T)&&(T.dirty(),_=!0)}),_&&S.dirty(),u.updatePayload(S,o);var b=u.getPerformArgs(S,s.block);x.each(function(T){T.perform(b)}),S.perform(b)&&(l=!0)}else y&&y.each(function(T,A){c(s,T)&&T.dirty();var C=u.getPerformArgs(T,s.block);C.skip=!f.performRawSeries&&n.isSeriesFiltered(T.context.model),u.updatePayload(T,o),T.perform(C)&&(l=!0)})}});function c(f,d){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(d.__pipeline.id))}this.unfinished=l||this.unfinished},a.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(o){n=o.dataTask.perform()||n}),this.unfinished=n||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},a.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},a.prototype._createSeriesStageTask=function(t,n,o,s){var l=this,u=n.seriesTaskMap,c=n.seriesTaskMap=createHashMap(),f=t.seriesType,d=t.getTargetSeries;t.createOnAllSeries?o.eachRawSeries(g):f?o.eachRawSeriesByType(f,g):d&&d(o,s).each(g);function g(y){var S=y.uid,_=c.set(S,u&&u.get(S)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));_.context={model:y,ecModel:o,api:s,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:l},l._pipe(y,_)}},a.prototype._createOverallStageTask=function(t,n,o,s){var l=this,u=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});u.context={ecModel:o,api:s,overallReset:t.overallReset,scheduler:l};var c=u.agentStubMap,f=u.agentStubMap=createHashMap(),d=t.seriesType,g=t.getTargetSeries,y=!0,S=!1,_="";assert(!t.createOnAllSeries,_),d?o.eachRawSeriesByType(d,x):g?g(o,s).each(x):(y=!1,each$f(o.getSeries(),x));function x(b){var T=b.uid,A=f.set(T,c&&c.get(T)||(S=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));A.context={model:b,overallProgress:y},A.agent=u,A.__block=y,l._pipe(b,A)}S&&u.dirty()},a.prototype._pipe=function(t,n){var o=t.uid,s=this._pipelineMap.get(o);!s.head&&(s.head=n),s.tail&&s.tail.pipe(n),s.tail=n,n.__idxInPipeline=s.count++,n.__pipeline=s},a.wrapStageHandler=function(t,n){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID("stageHandler"),n&&(t.visualType=n),t},a}();function overallTaskReset(a){a.overallReset(a.ecModel,a.api,a.payload)}function stubReset(a){return a.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function seriesTaskReset(a){a.useClearVisual&&a.data.clearAllVisual();var t=a.resetDefines=normalizeToArray(a.reset(a.model,a.ecModel,a.api,a.payload));return t.length>1?map$1(t,function(n,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(a){return function(t,n){var o=n.data,s=n.resetDefines[a];if(s&&s.dataEach)for(var l=t.start;l<t.end;l++)s.dataEach(o,l);else s&&s.progress&&s.progress(t,o)}}function seriesTaskCount(a){return a.data.count()}function detectSeriseType(a){seriesType=null;try{a(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(a){seriesType=a};ecModelMock.eachComponent=function(a){a.mainType==="series"&&a.subType&&(seriesType=a.subType)};function mockMethods(a,t){for(var n in t.prototype)a[n]=noop$2}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function a(){}return a.prototype.normalizeQuery=function(t){var n={},o={},s={};if(isString(t)){var l=parseClassType(t);n.mainType=l.main||null,n.subType=l.sub||null}else{var u=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};each$f(t,function(f,d){for(var g=!1,y=0;y<u.length;y++){var S=u[y],_=d.lastIndexOf(S);if(_>0&&_===d.length-S.length){var x=d.slice(0,_);x!=="data"&&(n.mainType=x,n[S.toLowerCase()]=f,g=!0)}}c.hasOwnProperty(d)&&(o[d]=f,g=!0),g||(s[d]=f)})}return{cptQuery:n,dataQuery:o,otherQuery:s}},a.prototype.filter=function(t,n){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,l=o.packedEvent,u=o.model,c=o.view;if(!u||!c)return!0;var f=n.cptQuery,d=n.dataQuery;return g(f,u,"mainType")&&g(f,u,"subType")&&g(f,u,"index","componentIndex")&&g(f,u,"name")&&g(f,u,"id")&&g(d,l,"name")&&g(d,l,"dataIndex")&&g(d,l,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,n.otherQuery,s,l));function g(y,S,_,x){return y[_]==null||S[x||_]===y[_]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){var n=a.getData();if(a.legendIcon&&n.setVisual("legendIcon",a.legendIcon),!a.hasSymbolVisual)return;for(var o={},s={},l=!1,u=0;u<SYMBOL_PROPS_WITH_CB.length;u++){var c=SYMBOL_PROPS_WITH_CB[u],f=a.get(c);isFunction(f)?(l=!0,s[c]=f):o[c]=f}if(o.symbol=o.symbol||a.defaultSymbol,n.setVisual(extend({legendIcon:a.legendIcon||o.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},o)),t.isSeriesFiltered(a))return;var d=keys$1(s);function g(y,S){for(var _=a.getRawValue(S),x=a.getDataParams(S),b=0;b<d.length;b++){var T=d[b];y.setItemVisual(S,T,s[T](_,x))}}return{dataEach:l?g:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){if(!a.hasSymbolVisual||t.isSeriesFiltered(a))return;var n=a.getData();function o(s,l){for(var u=s.getItemModel(l),c=0;c<SYMBOL_PROPS.length;c++){var f=SYMBOL_PROPS[c],d=u.getShallow(f,!0);d!=null&&s.setItemVisual(l,f,d)}}return{dataEach:n.hasItemOption?o:null}}};function getItemVisualFromData(a,t,n){switch(n){case"color":var o=a.getItemVisual(t,"style");return o[a.getVisual("drawType")];case"opacity":return a.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(t,n)}}function getVisualFromData(a,t){switch(t){case"color":var n=a.getVisual("style");return n[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(t)}}function setItemVisualFromData(a,t,n,o){switch(n){case"color":var s=a.ensureUniqueItemVisual(t,"style");s[a.getVisual("drawType")]=o,a.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(t,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(t,n,o);break}}function createLegacyDataSelectAction(a,t){function n(o,s){var l=[];return o.eachComponent({mainType:"series",subType:a,query:s},function(u){l.push(u.seriesIndex)}),l}each$f([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(o){t(o[0],function(s,l,u){s=extend({},s),u.dispatchAction(extend(s,{type:o[1],seriesIndex:n(l,s)}))})})}function handleSeriesLegacySelectEvents(a,t,n,o,s){var l=a+t;n.isSilent(l)||o.eachComponent({mainType:"series",subType:"pie"},function(u){for(var c=u.seriesIndex,f=u.option.selectedMap,d=s.selected,g=0;g<d.length;g++)if(d[g].seriesIndex===c){var y=u.getData(),S=queryDataIndex(y,s.fromActionPayload);n.trigger(l,{type:l,seriesId:u.id,name:isArray$2(S)?y.getName(S[0]):y.getName(S),selected:isString(f)?f:extend({},f)})}})}function handleLegacySelectEvents(a,t,n){a.on("selectchanged",function(o){var s=n.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",t,s,o),handleSeriesLegacySelectEvents("pie","selectchanged",t,s,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",t,s,o),handleSeriesLegacySelectEvents("pie","selected",t,s,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",t,s,o),handleSeriesLegacySelectEvents("pie","unselected",t,s,o))})}function findEventDispatcher(a,t,n){for(var o;a&&!(t(a)&&(o=a,n));)a=a.__hostTarget||a.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function a(){this._id="__ec_inner_"+wmUniqueIndex++}return a.prototype.get=function(t){return this._guard(t)[this._id]},a.prototype.set=function(t,n){var o=this._guard(t);return supportDefineProperty?Object.defineProperty(o,this._id,{value:n,enumerable:!1,configurable:!0}):o[this._id]=n,this},a.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},a.prototype.has=function(t){return!!this._guard(t)[this._id]},a.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},a}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,t){var n=t.cx,o=t.cy,s=t.width/2,l=t.height/2;a.moveTo(n,o-l),a.lineTo(n+s,o+l),a.lineTo(n-s,o+l),a.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,t){var n=t.cx,o=t.cy,s=t.width/2,l=t.height/2;a.moveTo(n,o-l),a.lineTo(n+s,o),a.lineTo(n,o+l),a.lineTo(n-s,o),a.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,t){var n=t.x,o=t.y,s=t.width/5*3,l=Math.max(s,t.height),u=s/2,c=u*u/(l-u),f=o-l+u+c,d=Math.asin(c/u),g=Math.cos(d)*u,y=Math.sin(d),S=Math.cos(d),_=u*.6,x=u*.7;a.moveTo(n-g,f+c),a.arc(n,f,u,Math.PI-d,Math.PI*2+d),a.bezierCurveTo(n+g-y*_,f+c+S*_,n,o-x,n,o),a.bezierCurveTo(n,o-x,n-g+y*_,f+c+S*_,n-g,f+c),a.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,t){var n=t.height,o=t.width,s=t.x,l=t.y,u=o/3*2;a.moveTo(s,l),a.lineTo(s+u,l+n),a.lineTo(s,l+n/4*3),a.lineTo(s-u,l+n),a.lineTo(s,l),a.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(a,t,n,o,s){s.x1=a,s.y1=t+o/2,s.x2=a+n,s.y2=t+o/2},rect:function(a,t,n,o,s){s.x=a,s.y=t,s.width=n,s.height=o},roundRect:function(a,t,n,o,s){s.x=a,s.y=t,s.width=n,s.height=o,s.r=Math.min(n,o)/4},square:function(a,t,n,o,s){var l=Math.min(n,o);s.x=a,s.y=t,s.width=l,s.height=l},circle:function(a,t,n,o,s){s.cx=a+n/2,s.cy=t+o/2,s.r=Math.min(n,o)/2},diamond:function(a,t,n,o,s){s.cx=a+n/2,s.cy=t+o/2,s.width=n,s.height=o},pin:function(a,t,n,o,s){s.x=a+n/2,s.y=t+o/2,s.width=n,s.height=o},arrow:function(a,t,n,o,s){s.x=a+n/2,s.y=t+o/2,s.width=n,s.height=o},triangle:function(a,t,n,o,s){s.cx=a+n/2,s.cy=t+o/2,s.width=n,s.height=o}},symbolBuildProxies={};each$f(symbolCtors,function(a,t){symbolBuildProxies[t]=new a});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,t,n){var o=calculateTextPosition(a,t,n),s=this.shape;return s&&s.symbolType==="pin"&&t.position==="inside"&&(o.y=n.y+n.height*.4),o},buildPath:function(a,t,n){var o=t.symbolType;if(o!=="none"){var s=symbolBuildProxies[o];s||(o="rect",s=symbolBuildProxies[o]),symbolShapeMakers[o](t.x,t.y,t.width,t.height,s.shape),s.buildPath(a,s.shape,n)}}});function symbolPathSetColor(a,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=a,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=a:n.fill=a,this.markRedraw()}}function createSymbol$1(a,t,n,o,s,l,u){var c=a.indexOf("empty")===0;c&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var f;return a.indexOf("image://")===0?f=makeImage(a.slice(8),new BoundingRect(t,n,o,s),u?"center":"cover"):a.indexOf("path://")===0?f=makePath(a.slice(7),{},new BoundingRect(t,n,o,s),u?"center":"cover"):f=new SymbolClz({shape:{symbolType:a,x:t,y:n,width:o,height:s}}),f.__isEmptyBrush=c,f.setColor=symbolPathSetColor,l&&f.setColor(l),f}function normalizeSymbolSize(a){return isArray$2(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function normalizeSymbolOffset(a,t){if(a!=null)return isArray$2(a)||(a=[a,a]),[parsePercent(a[0],t[0])||0,parsePercent(retrieve2(a[1],a[0]),t[1])||0]}function isSafeNum(a){return isFinite(a)}function createLinearGradient(a,t,n){var o=t.x==null?0:t.x,s=t.x2==null?1:t.x2,l=t.y==null?0:t.y,u=t.y2==null?0:t.y2;t.global||(o=o*n.width+n.x,s=s*n.width+n.x,l=l*n.height+n.y,u=u*n.height+n.y),o=isSafeNum(o)?o:0,s=isSafeNum(s)?s:1,l=isSafeNum(l)?l:0,u=isSafeNum(u)?u:0;var c=a.createLinearGradient(o,l,s,u);return c}function createRadialGradient(a,t,n){var o=n.width,s=n.height,l=Math.min(o,s),u=t.x==null?.5:t.x,c=t.y==null?.5:t.y,f=t.r==null?.5:t.r;t.global||(u=u*o+n.x,c=c*s+n.y,f=f*l),u=isSafeNum(u)?u:.5,c=isSafeNum(c)?c:.5,f=f>=0&&isSafeNum(f)?f:.5;var d=a.createRadialGradient(u,c,0,u,c,f);return d}function getCanvasGradient(a,t,n){for(var o=t.type==="radial"?createRadialGradient(a,t,n):createLinearGradient(a,t,n),s=t.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}function isClipPathChanged(a,t){if(a===t||!a&&!t)return!1;if(!a||!t||a.length!==t.length)return!0;for(var n=0;n<a.length;n++)if(a[n]!==t[n])return!0;return!1}function parseInt10(a){return parseInt(a,10)}function getSize$1(a,t,n){var o=["width","height"][t],s=["clientWidth","clientHeight"][t],l=["paddingLeft","paddingTop"][t],u=["paddingRight","paddingBottom"][t];if(n[o]!=null&&n[o]!=="auto")return parseFloat(n[o]);var c=document.defaultView.getComputedStyle(a);return(a[s]||parseInt10(c[o])||parseInt10(a.style[o]))-(parseInt10(c[l])||0)-(parseInt10(c[u])||0)|0}function normalizeLineDash(a,t){return!a||a==="solid"||!(t>0)?null:a==="dashed"?[4*t,2*t]:a==="dotted"?[t]:isNumber$2(a)?[a]:isArray$2(a)?a:null}function getLineDash(a){var t=a.style,n=t.lineDash&&t.lineWidth>0&&normalizeLineDash(t.lineDash,t.lineWidth),o=t.lineDashOffset;if(n){var s=t.strokeNoScale&&a.getLineScale?a.getLineScale():1;s&&s!==1&&(n=map$1(n,function(l){return l/s}),o/=s)}return[n,o]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(a){var t=a.stroke;return!(t==null||t==="none"||!(a.lineWidth>0))}function isValidStrokeFillStyle(a){return typeof a=="string"&&a!=="none"}function styleHasFill(a){var t=a.fill;return t!=null&&t!=="none"}function doFillPath(a,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=a.globalAlpha;a.globalAlpha=t.fillOpacity*t.opacity,a.fill(),a.globalAlpha=n}else a.fill()}function doStrokePath(a,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=a.globalAlpha;a.globalAlpha=t.strokeOpacity*t.opacity,a.stroke(),a.globalAlpha=n}else a.stroke()}function createCanvasPattern(a,t,n){var o=createOrUpdateImage(t.image,t.__image,n);if(isImageReady(o)){var s=a.createPattern(o,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&s&&s.setTransform){var l=new DOMMatrix;l.translateSelf(t.x||0,t.y||0),l.rotateSelf(0,0,(t.rotation||0)*RADIAN_TO_DEGREE),l.scaleSelf(t.scaleX||1,t.scaleY||1),s.setTransform(l)}return s}}function brushPath(a,t,n,o){var s,l=styleHasStroke(n),u=styleHasFill(n),c=n.strokePercent,f=c<1,d=!t.path;(!t.silent||f)&&d&&t.createPathProxy();var g=t.path||pathProxyForDraw,y=t.__dirty;if(!o){var S=n.fill,_=n.stroke,x=u&&!!S.colorStops,b=l&&!!_.colorStops,T=u&&!!S.image,A=l&&!!_.image,C=void 0,E=void 0,P=void 0,M=void 0,I=void 0;(x||b)&&(I=t.getBoundingRect()),x&&(C=y?getCanvasGradient(a,S,I):t.__canvasFillGradient,t.__canvasFillGradient=C),b&&(E=y?getCanvasGradient(a,_,I):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),T&&(P=y||!t.__canvasFillPattern?createCanvasPattern(a,S,t):t.__canvasFillPattern,t.__canvasFillPattern=P),A&&(M=y||!t.__canvasStrokePattern?createCanvasPattern(a,_,t):t.__canvasStrokePattern,t.__canvasStrokePattern=P),x?a.fillStyle=C:T&&(P?a.fillStyle=P:u=!1),b?a.strokeStyle=E:A&&(M?a.strokeStyle=M:l=!1)}var D=t.getGlobalScale();g.setScale(D[0],D[1],t.segmentIgnoreThreshold);var L,$;a.setLineDash&&n.lineDash&&(s=getLineDash(t),L=s[0],$=s[1]);var O=!0;(d||y&SHAPE_CHANGED_BIT)&&(g.setDPR(a.dpr),f?g.setContext(null):(g.setContext(a),O=!1),g.reset(),t.buildPath(g,t.shape,o),g.toStatic(),t.pathUpdated()),O&&g.rebuildPath(a,f?c:1),L&&(a.setLineDash(L),a.lineDashOffset=$),o||(n.strokeFirst?(l&&doStrokePath(a,n),u&&doFillPath(a,n)):(u&&doFillPath(a,n),l&&doStrokePath(a,n))),L&&a.setLineDash([])}function brushImage(a,t,n){var o=t.__image=createOrUpdateImage(n.image,t.__image,t,t.onload);if(!(!o||!isImageReady(o))){var s=n.x||0,l=n.y||0,u=t.getWidth(),c=t.getHeight(),f=o.width/o.height;if(u==null&&c!=null?u=c*f:c==null&&u!=null?c=u/f:u==null&&c==null&&(u=o.width,c=o.height),n.sWidth&&n.sHeight){var d=n.sx||0,g=n.sy||0;a.drawImage(o,d,g,n.sWidth,n.sHeight,s,l,u,c)}else if(n.sx&&n.sy){var d=n.sx,g=n.sy,y=u-d,S=c-g;a.drawImage(o,d,g,y,S,s,l,u,c)}else a.drawImage(o,s,l,u,c)}}function brushText(a,t,n){var o,s=n.text;if(s!=null&&(s+=""),s){a.font=n.font||DEFAULT_FONT,a.textAlign=n.textAlign,a.textBaseline=n.textBaseline;var l=void 0,u=void 0;a.setLineDash&&n.lineDash&&(o=getLineDash(t),l=o[0],u=o[1]),l&&(a.setLineDash(l),a.lineDashOffset=u),n.strokeFirst?(styleHasStroke(n)&&a.strokeText(s,n.x,n.y),styleHasFill(n)&&a.fillText(s,n.x,n.y)):(styleHasFill(n)&&a.fillText(s,n.x,n.y),styleHasStroke(n)&&a.strokeText(s,n.x,n.y)),l&&a.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(a,t,n,o,s){var l=!1;if(!o&&(n=n||{},t===n))return!1;if(o||t.opacity!==n.opacity){flushPathDrawn(a,s),l=!0;var u=Math.max(Math.min(t.opacity,1),0);a.globalAlpha=isNaN(u)?DEFAULT_COMMON_STYLE.opacity:u}(o||t.blend!==n.blend)&&(l||(flushPathDrawn(a,s),l=!0),a.globalCompositeOperation=t.blend||DEFAULT_COMMON_STYLE.blend);for(var c=0;c<SHADOW_NUMBER_PROPS.length;c++){var f=SHADOW_NUMBER_PROPS[c];(o||t[f]!==n[f])&&(l||(flushPathDrawn(a,s),l=!0),a[f]=a.dpr*(t[f]||0))}return(o||t.shadowColor!==n.shadowColor)&&(l||(flushPathDrawn(a,s),l=!0),a.shadowColor=t.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),l}function bindPathAndTextCommonStyle(a,t,n,o,s){var l=getStyle(t,s.inHover),u=o?null:n&&getStyle(n,s.inHover)||{};if(l===u)return!1;var c=bindCommonProps(a,l,u,o,s);if((o||l.fill!==u.fill)&&(c||(flushPathDrawn(a,s),c=!0),isValidStrokeFillStyle(l.fill)&&(a.fillStyle=l.fill)),(o||l.stroke!==u.stroke)&&(c||(flushPathDrawn(a,s),c=!0),isValidStrokeFillStyle(l.stroke)&&(a.strokeStyle=l.stroke)),(o||l.opacity!==u.opacity)&&(c||(flushPathDrawn(a,s),c=!0),a.globalAlpha=l.opacity==null?1:l.opacity),t.hasStroke()){var f=l.lineWidth,d=f/(l.strokeNoScale&&t.getLineScale?t.getLineScale():1);a.lineWidth!==d&&(c||(flushPathDrawn(a,s),c=!0),a.lineWidth=d)}for(var g=0;g<STROKE_PROPS.length;g++){var y=STROKE_PROPS[g],S=y[0];(o||l[S]!==u[S])&&(c||(flushPathDrawn(a,s),c=!0),a[S]=l[S]||y[1])}return c}function bindImageStyle(a,t,n,o,s){return bindCommonProps(a,getStyle(t,s.inHover),n&&getStyle(n,s.inHover),o,s)}function setContextTransform(a,t){var n=t.transform,o=a.dpr||1;n?a.setTransform(o*n[0],o*n[1],o*n[2],o*n[3],o*n[4],o*n[5]):a.setTransform(o,0,0,o,0,0)}function updateClipStatus(a,t,n){for(var o=!1,s=0;s<a.length;s++){var l=a[s];o=o||l.isZeroArea(),setContextTransform(t,l),t.beginPath(),l.buildPath(t,l.shape),t.clip()}n.allClipped=o}function isTransformChanged(a,t){return a&&t?a[0]!==t[0]||a[1]!==t[1]||a[2]!==t[2]||a[3]!==t[3]||a[4]!==t[4]||a[5]!==t[5]:!(!a&&!t)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(a){var t=styleHasFill(a),n=styleHasStroke(a);return!(a.lineDash||!(+t^+n)||t&&typeof a.fill!="string"||n&&typeof a.stroke!="string"||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)}function flushPathDrawn(a,t){t.batchFill&&a.fill(),t.batchStroke&&a.stroke(),t.batchFill="",t.batchStroke=""}function getStyle(a,t){return t&&a.__hoverStyle||a.style}function brushSingle(a,t){brush$1(a,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(a,t,n,o){var s=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var l=t.__clipPaths,u=n.prevElClipPaths,c=!1,f=!1;if((!u||isClipPathChanged(l,u))&&(u&&u.length&&(flushPathDrawn(a,n),a.restore(),f=c=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),l&&l.length&&(flushPathDrawn(a,n),a.save(),updateClipStatus(l,a,n),c=!0),n.prevElClipPaths=l),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var d=n.prevEl;d||(f=c=!0);var g=t instanceof Path&&t.autoBatch&&canPathBatch(t.style);c||isTransformChanged(s,d.transform)?(flushPathDrawn(a,n),setContextTransform(a,t)):g||flushPathDrawn(a,n);var y=getStyle(t,n.inHover);t instanceof Path?(n.lastDrawType!==DRAW_TYPE_PATH&&(f=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(a,t,d,f,n),(!g||!n.batchFill&&!n.batchStroke)&&a.beginPath(),brushPath(a,t,y,g),g&&(n.batchFill=y.fill||"",n.batchStroke=y.stroke||"")):t instanceof TSpan?(n.lastDrawType!==DRAW_TYPE_TEXT&&(f=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(a,t,d,f,n),brushText(a,t,y)):t instanceof ZRImage?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(f=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(a,t,d,f,n),brushImage(a,t,y)):t.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(f=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(a,t,n)),g&&o&&flushPathDrawn(a,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function brushIncremental(a,t,n){var o=t.getDisplayables(),s=t.getTemporalDisplayables();a.save();var l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},u,c;for(u=t.getCursor(),c=o.length;u<c;u++){var f=o[u];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(a,f,l,u===c-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),l.prevEl=f}for(var d=0,g=s.length;d<g;d++){var f=s[d];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(a,f,l,d===g-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),l.prevEl=f}t.clearTemporalDisplayables(),t.notClear=!0,a.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(a,t){if(a==="none")return null;var n=t.getDevicePixelRatio(),o=t.getZr(),s=o.painter.type==="svg";a.dirty&&decalMap.delete(a);var l=decalMap.get(a);if(l)return l;var u=defaults(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});u.backgroundColor==="none"&&(u.backgroundColor=null);var c={repeat:"repeat"};return f(c),c.rotation=u.rotation,c.scaleX=c.scaleY=s?1:1/n,decalMap.set(a,c),a.dirty=!1,c;function f(d){for(var g=[n],y=!0,S=0;S<decalKeys.length;++S){var _=u[decalKeys[S]];if(_!=null&&!isArray$2(_)&&!isString(_)&&!isNumber$2(_)&&typeof _!="boolean"){y=!1;break}g.push(_)}var x;if(y){x=g.join(",")+(s?"-svg":"");var b=decalCache.get(x);b&&(s?d.svgElement=b:d.image=b)}var T=normalizeDashArrayX(u.dashArrayX),A=normalizeDashArrayY(u.dashArrayY),C=normalizeSymbolArray(u.symbol),E=getLineBlockLengthX(T),P=getLineBlockLengthY(A),M=!s&&platformApi.createCanvas(),I=s&&{tag:"g",attrs:{},key:"dcl",children:[]},D=$(),L;M&&(M.width=D.width*n,M.height=D.height*n,L=M.getContext("2d")),O(),y&&decalCache.put(x,M||I),d.image=M,d.svgElement=I,d.svgWidth=D.width,d.svgHeight=D.height;function $(){for(var V=1,F=0,z=E.length;F<z;++F)V=getLeastCommonMultiple(V,E[F]);for(var U=1,F=0,z=C.length;F<z;++F)U=getLeastCommonMultiple(U,C[F].length);V*=U;var H=P*E.length*C.length;return{width:Math.max(1,Math.min(V,u.maxTileWidth)),height:Math.max(1,Math.min(H,u.maxTileHeight))}}function O(){L&&(L.clearRect(0,0,M.width,M.height),u.backgroundColor&&(L.fillStyle=u.backgroundColor,L.fillRect(0,0,M.width,M.height)));for(var V=0,F=0;F<A.length;++F)V+=A[F];if(V<=0)return;for(var z=-P,U=0,H=0,N=0;z<D.height;){if(U%2===0){for(var G=H/2%C.length,R=0,B=0,j=0;R<D.width*2;){for(var W=0,F=0;F<T[N].length;++F)W+=T[N][F];if(W<=0)break;if(B%2===0){var X=(1-u.symbolSize)*.5,ee=R+T[N][B]*X,te=z+A[U]*X,le=T[N][B]*u.symbolSize,fe=A[U]*u.symbolSize,q=j/2%C[G].length;re(ee,te,le,fe,C[G][q])}R+=T[N][B],++j,++B,B===T[N].length&&(B=0)}++N,N===T.length&&(N=0)}z+=A[U],++H,++U,U===A.length&&(U=0)}function re(J,oe,ne,Y,Z){var K=s?1:n,Q=createSymbol$1(Z,J*K,oe*K,ne*K,Y*K,u.color,u.symbolKeepAspect);if(s){var ie=o.painter.renderOneToVNode(Q);ie&&I.children.push(ie)}else brushSingle(L,Q)}}}}function normalizeSymbolArray(a){if(!a||a.length===0)return[["rect"]];if(isString(a))return[[a]];for(var t=!0,n=0;n<a.length;++n)if(!isString(a[n])){t=!1;break}if(t)return normalizeSymbolArray([a]);for(var o=[],n=0;n<a.length;++n)isString(a[n])?o.push([a[n]]):o.push(a[n]);return o}function normalizeDashArrayX(a){if(!a||a.length===0)return[[0,0]];if(isNumber$2(a)){var t=Math.ceil(a);return[[t,t]]}for(var n=!0,o=0;o<a.length;++o)if(!isNumber$2(a[o])){n=!1;break}if(n)return normalizeDashArrayX([a]);for(var s=[],o=0;o<a.length;++o)if(isNumber$2(a[o])){var t=Math.ceil(a[o]);s.push([t,t])}else{var t=map$1(a[o],function(c){return Math.ceil(c)});t.length%2===1?s.push(t.concat(t)):s.push(t)}return s}function normalizeDashArrayY(a){if(!a||typeof a=="object"&&a.length===0)return[0,0];if(isNumber$2(a)){var t=Math.ceil(a);return[t,t]}var n=map$1(a,function(o){return Math.ceil(o)});return a.length%2?n.concat(n):n}function getLineBlockLengthX(a){return map$1(a,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(a){for(var t=0,n=0;n<a.length;++n)t+=a[n];return a.length%2===1?t*2:t}function decalVisual(a,t){a.eachRawSeries(function(n){if(!a.isSeriesFiltered(n)){var o=n.getData();o.hasItemVisual()&&o.each(function(u){var c=o.getItemVisual(u,"decal");if(c){var f=o.ensureUniqueItemVisual(u,"style");f.decal=createOrUpdatePatternFromDecal(c,t)}});var s=o.getVisual("decal");if(s){var l=o.getVisual("style");l.decal=createOrUpdatePatternFromDecal(s,t)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(a,t){implsStore[a]=t}function getImpl(a){return implsStore[a]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(a){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,a,t)}}function createRegisterEventWithLowercaseMessageCenter(a){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return toLowercaseNameAndCallEventful(this,a,t)}}function toLowercaseNameAndCallEventful(a,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful.prototype[t].apply(a,n)}var MessageCenter=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this,new ECEventProcessor)||this;l._chartsViews=[],l._chartsMap={},l._componentsViews=[],l._componentsMap={},l._pendingActions=[],s=s||{},isString(o)&&(o=themeStorage[o]),l._dom=n;var u="canvas",c="auto",f=!1;s.ssr&&registerSSRDataGetter(function(S){var _=getECData(S),x=_.dataIndex;if(x!=null){var b=createHashMap();return b.set("series_index",_.seriesIndex),b.set("data_index",x),_.ssrType&&b.set("ssr_type",_.ssrType),b}});var d=l._zr=init$2(n,{renderer:s.renderer||u,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:retrieve2(s.useDirtyRect,f),useCoarsePointer:retrieve2(s.useCoarsePointer,c),pointerSize:s.pointerSize});l._ssr=s.ssr,l._throttledZrFlush=throttle(bind$1(d.flush,d),17),o=clone$4(o),o&&globalBackwardCompat(o,!0),l._theme=o,l._locale=createLocaleObject(s.locale||SYSTEM_LANG),l._coordSysMgr=new CoordinateSystemManager;var g=l._api=createExtensionAPI(l);function y(S,_){return S.__prio-_.__prio}return sort$2(visualFuncs,y),sort$2(dataProcessorFuncs,y),l._scheduler=new Scheduler(l,g,dataProcessorFuncs,visualFuncs),l._messageCenter=new MessageCenter,l._initEvents(),l.resize=bind$1(l.resize,l),d.animation.on("frame",l._onframe,l),bindRenderedEvent(d,l),bindMouseEvent(d,l),setAsPrimitive(l),l}return t.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(f){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,f}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(n.unfinished){var s=TEST_FRAME_REMAIN_TIME,l=this._model,u=this._api;n.unfinished=!1;do{var c=+new Date;n.performSeriesTasks(l),n.performDataProcessorTasks(l),updateStreamModes(this,l),n.performVisualTasks(l),renderSeries(this,this._model,u,"remain",{}),s-=+new Date-c}while(s>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,o,s){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var l,u,c;if(isObject$3(o)&&(s=o.lazyUpdate,l=o.silent,u=o.replaceMerge,c=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var f=new OptionManager(this._api),d=this._theme,g=this._model=new GlobalModel;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,d,this._locale,f)}this._model.setOption(n,{replaceMerge:u},optionPreprocessorFuncs);var y={seriesTransition:c,optionChanged:!0};if(s)this[PENDING_UPDATE]={silent:l,updateParams:y},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,y)}catch(S){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,S}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var o=this._zr.painter;return o.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var o=this._zr.painter;return o.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(env.svgSupported){var n=this._zr,o=n.storage.getDisplayList();return each$f(o,function(s){s.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var o=n.excludeComponents,s=this._model,l=[],u=this;each$f(o,function(f){s.eachComponent({mainType:f},function(d){var g=u._componentsMap[d.__viewId];g.group.ignore||(l.push(g),g.group.ignore=!0)})});var c=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$f(l,function(f){f.group.ignore=!1}),c},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var o=n.type==="svg",s=this.group,l=Math.min,u=Math.max,c=1/0;if(connectedGroups[s]){var f=c,d=c,g=-c,y=-c,S=[],_=n&&n.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(E,P){if(E.group===s){var M=o?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(clone$4(n)),I=E.getDom().getBoundingClientRect();f=l(I.left,f),d=l(I.top,d),g=u(I.right,g),y=u(I.bottom,y),S.push({dom:M,left:I.left,top:I.top})}}),f*=_,d*=_,g*=_,y*=_;var x=g-f,b=y-d,T=platformApi.createCanvas(),A=init$2(T,{renderer:o?"svg":"canvas"});if(A.resize({width:x,height:b}),o){var C="";return each$f(S,function(E){var P=E.left-f,M=E.top-d;C+='<g transform="translate('+P+","+M+')">'+E.dom+"</g>"}),A.painter.getSvgRoot().innerHTML=C,n.connectedBackgroundColor&&A.painter.setBackgroundColor(n.connectedBackgroundColor),A.refreshImmediately(),A.painter.toDataURL()}else return n.connectedBackgroundColor&&A.add(new Rect$2({shape:{x:0,y:0,width:x,height:b},style:{fill:n.connectedBackgroundColor}})),each$f(S,function(E){var P=new ZRImage({style:{x:E.left*_-f,y:E.top*_-d,image:E.dom}});A.add(P)}),A.refreshImmediately(),T.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,o){return doConvertPixel(this,"convertToPixel",n,o)},t.prototype.convertFromPixel=function(n,o){return doConvertPixel(this,"convertFromPixel",n,o)},t.prototype.containPixel=function(n,o){if(this._disposed){this.id;return}var s=this._model,l,u=parseFinder$1(s,n);return each$f(u,function(c,f){f.indexOf("Models")>=0&&each$f(c,function(d){var g=d.coordinateSystem;if(g&&g.containPoint)l=l||!!g.containPoint(o);else if(f==="seriesModels"){var y=this._chartsMap[d.__viewId];y&&y.containPoint&&(l=l||y.containPoint(o,d))}},this)},this),!!l},t.prototype.getVisual=function(n,o){var s=this._model,l=parseFinder$1(s,n,{defaultMainType:"series"}),u=l.seriesModel,c=u.getData(),f=l.hasOwnProperty("dataIndexInside")?l.dataIndexInside:l.hasOwnProperty("dataIndex")?c.indexOfRawIndex(l.dataIndex):null;return f!=null?getItemVisualFromData(c,f,o):getVisualFromData(c,o)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;each$f(MOUSE_EVENT_NAMES,function(o){var s=function(l){var u=n.getModel(),c=l.target,f,d=o==="globalout";if(d?f={}:c&&findEventDispatcher(c,function(x){var b=getECData(x);if(b&&b.dataIndex!=null){var T=b.dataModel||u.getSeriesByIndex(b.seriesIndex);return f=T&&T.getDataParams(b.dataIndex,b.dataType,c)||{},!0}else if(b.eventData)return f=extend({},b.eventData),!0},!0),f){var g=f.componentType,y=f.componentIndex;(g==="markLine"||g==="markPoint"||g==="markArea")&&(g="series",y=f.seriesIndex);var S=g&&y!=null&&u.getComponent(g,y),_=S&&n[S.mainType==="series"?"_chartsMap":"_componentsMap"][S.__viewId];f.event=l,f.type=o,n._$eventProcessor.eventInfo={targetEl:c,packedEvent:f,model:S,view:_},n.trigger(o,f)}};s.zrEventfulCallAtLast=!0,n._zr.on(o,s,n)}),each$f(eventActionMap,function(o,s){n._messageCenter.on(s,function(l){this.trigger(s,l)},n)}),each$f(["selectchanged"],function(o){n._messageCenter.on(o,function(s){this.trigger(o,s)},n)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,s=o._api,l=o._model;each$f(o._componentsViews,function(u){u.dispose(l,s)}),each$f(o._chartsViews,function(u){u.dispose(l,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},t.prototype.resize=function(n){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(n);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var s=o.resetOption("media"),l=n&&n.silent;this[PENDING_UPDATE]&&(l==null&&(l=this[PENDING_UPDATE].silent),s=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{s&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,u}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},t.prototype.showLoading=function(n,o){if(this._disposed){this.id;return}if(isObject$3(n)&&(o=n,n=""),n=n||"default",this.hideLoading(),!!loadingEffects[n]){var s=loadingEffects[n](this._api,o),l=this._zr;this._loadingFX=s,l.add(s)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var o=extend({},n);return o.type=eventActionMap[n.type],o},t.prototype.dispatchAction=function(n,o){if(this._disposed){this.id;return}if(isObject$3(o)||(o={silent:!!o}),!!actions[n.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var s=o.silent;doDispatchAction.call(this,n,s);var l=o.flush;l?this._zr.flush():l!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}},t.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var o=n.seriesIndex,s=this.getModel(),l=s.getSeriesByIndex(o);l.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){prepare=function(y){var S=y._scheduler;S.restorePipelines(y._model),S.prepareStageTasks(),prepareView(y,!0),prepareView(y,!1),S.plan()},prepareView=function(y,S){for(var _=y._model,x=y._scheduler,b=S?y._componentsViews:y._chartsViews,T=S?y._componentsMap:y._chartsMap,A=y._zr,C=y._api,E=0;E<b.length;E++)b[E].__alive=!1;S?_.eachComponent(function(I,D){I!=="series"&&P(D)}):_.eachSeries(P);function P(I){var D=I.__requireNewView;I.__requireNewView=!1;var L="_ec_"+I.id+"_"+I.type,$=!D&&T[L];if(!$){var O=parseClassType(I.type),V=S?ComponentView.getClass(O.main,O.sub):ChartView.getClass(O.sub);$=new V,$.init(_,C),T[L]=$,b.push($),A.add($.group)}I.__viewId=$.__id=L,$.__alive=!0,$.__model=I,$.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!S&&x.prepareView($,I,_,C)}for(var E=0;E<b.length;){var M=b[E];M.__alive?E++:(!S&&M.renderTask.dispose(),A.remove(M.group),M.dispose(_,C),b.splice(E,1),T[M.__id]===M&&delete T[M.__id],M.__id=M.group.__ecComponentInfo=null)}},updateDirectly=function(y,S,_,x,b){var T=y._model;if(T.setUpdatePayload(_),!x){each$f([].concat(y._componentsViews).concat(y._chartsViews),M);return}var A={};A[x+"Id"]=_[x+"Id"],A[x+"Index"]=_[x+"Index"],A[x+"Name"]=_[x+"Name"];var C={mainType:x,query:A};b&&(C.subType=b);var E=_.excludeSeriesId,P;E!=null&&(P=createHashMap(),each$f(normalizeToArray(E),function(I){var D=convertOptionIdName(I,null);D!=null&&P.set(D,!0)})),T&&T.eachComponent(C,function(I){var D=P&&P.get(I.id)!=null;if(!D)if(isHighDownPayload(_))if(I instanceof SeriesModel)_.type===HIGHLIGHT_ACTION_TYPE&&!_.notBlur&&!I.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(I,_,y._api);else{var L=findComponentHighDownDispatchers(I.mainType,I.componentIndex,_.name,y._api),$=L.focusSelf,O=L.dispatchers;_.type===HIGHLIGHT_ACTION_TYPE&&$&&!_.notBlur&&blurComponent(I.mainType,I.componentIndex,y._api),O&&each$f(O,function(V){_.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(V):leaveEmphasis(V)})}else isSelectChangePayload(_)&&I instanceof SeriesModel&&(toggleSelectionFromPayload(I,_,y._api),updateSeriesElementSelection(I),markStatusToUpdate(y))},y),T&&T.eachComponent(C,function(I){var D=P&&P.get(I.id)!=null;D||M(y[x==="series"?"_chartsMap":"_componentsMap"][I.__viewId])},y);function M(I){I&&I.__alive&&I[S]&&I[S](I.__model,T,y._api,_)}},updateMethods={prepareAndUpdate:function(y){prepare(this),updateMethods.update.call(this,y,{optionChanged:y.newOption!=null})},update:function(y,S){var _=this._model,x=this._api,b=this._zr,T=this._coordSysMgr,A=this._scheduler;if(_){_.setUpdatePayload(y),A.restoreData(_,y),A.performSeriesTasks(_),T.create(_,x),A.performDataProcessorTasks(_,y),updateStreamModes(this,_),T.update(_,x),n(_),A.performVisualTasks(_,y),render(this,_,x,y,S);var C=_.get("backgroundColor")||"transparent",E=_.get("darkMode");b.setBackgroundColor(C),E!=null&&E!=="auto"&&b.setDarkMode(E),lifecycle.trigger("afterupdate",_,x)}},updateTransform:function(y){var S=this,_=this._model,x=this._api;if(_){_.setUpdatePayload(y);var b=[];_.eachComponent(function(A,C){if(A!=="series"){var E=S.getViewOfComponentModel(C);if(E&&E.__alive)if(E.updateTransform){var P=E.updateTransform(C,_,x,y);P&&P.update&&b.push(E)}else b.push(E)}});var T=createHashMap();_.eachSeries(function(A){var C=S._chartsMap[A.__viewId];if(C.updateTransform){var E=C.updateTransform(A,_,x,y);E&&E.update&&T.set(A.uid,1)}else T.set(A.uid,1)}),n(_),this._scheduler.performVisualTasks(_,y,{setDirty:!0,dirtyMap:T}),renderSeries(this,_,x,y,{},T),lifecycle.trigger("afterupdate",_,x)}},updateView:function(y){var S=this._model;S&&(S.setUpdatePayload(y),ChartView.markUpdateMethod(y,"updateView"),n(S),this._scheduler.performVisualTasks(S,y,{setDirty:!0}),render(this,S,this._api,y,{}),lifecycle.trigger("afterupdate",S,this._api))},updateVisual:function(y){var S=this,_=this._model;_&&(_.setUpdatePayload(y),_.eachSeries(function(x){x.getData().clearAllVisual()}),ChartView.markUpdateMethod(y,"updateVisual"),n(_),this._scheduler.performVisualTasks(_,y,{visualType:"visual",setDirty:!0}),_.eachComponent(function(x,b){if(x!=="series"){var T=S.getViewOfComponentModel(b);T&&T.__alive&&T.updateVisual(b,_,S._api,y)}}),_.eachSeries(function(x){var b=S._chartsMap[x.__viewId];b.updateVisual(x,_,S._api,y)}),lifecycle.trigger("afterupdate",_,this._api))},updateLayout:function(y){updateMethods.update.call(this,y)}},doConvertPixel=function(y,S,_,x){if(y._disposed){y.id;return}for(var b=y._model,T=y._coordSysMgr.getCoordinateSystems(),A,C=parseFinder$1(b,_),E=0;E<T.length;E++){var P=T[E];if(P[S]&&(A=P[S](b,C,x))!=null)return A}},updateStreamModes=function(y,S){var _=y._chartsMap,x=y._scheduler;S.eachSeries(function(b){x.updateStreamModes(b,_[b.__viewId])})},doDispatchAction=function(y,S){var _=this,x=this.getModel(),b=y.type,T=y.escapeConnect,A=actions[b],C=A.actionInfo,E=(C.update||"update").split(":"),P=E.pop(),M=E[0]!=null&&parseClassType(E[0]);this[IN_MAIN_PROCESS_KEY]=!0;var I=[y],D=!1;y.batch&&(D=!0,I=map$1(y.batch,function(U){return U=defaults(extend({},U),y),U.batch=null,U}));var L=[],$,O=isSelectChangePayload(y),V=isHighDownPayload(y);if(V&&allLeaveBlur(this._api),each$f(I,function(U){if($=A.action(U,_._model,_._api),$=$||extend({},U),$.type=C.event||$.type,L.push($),V){var H=preParseFinder(y),N=H.queryOptionMap,G=H.mainTypeSpecified,R=G?N.keys()[0]:"series";updateDirectly(_,P,U,R),markStatusToUpdate(_)}else O?(updateDirectly(_,P,U,"series"),markStatusToUpdate(_)):M&&updateDirectly(_,P,U,M.main,M.sub)}),P!=="none"&&!V&&!O&&!M)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,y),this[PENDING_UPDATE]=null):updateMethods[P].call(this,y)}catch(U){throw this[IN_MAIN_PROCESS_KEY]=!1,U}if(D?$={type:C.event||b,escapeConnect:T,batch:L}:$=L[0],this[IN_MAIN_PROCESS_KEY]=!1,!S){var F=this._messageCenter;if(F.trigger($.type,$),O){var z={type:"selectchanged",escapeConnect:T,selected:getAllSelectedIndices(x),isFromClick:y.isFromClick||!1,fromAction:y.type,fromActionPayload:y};F.trigger(z.type,z)}}},flushPendingActions=function(y){for(var S=this._pendingActions;S.length;){var _=S.shift();doDispatchAction.call(this,_,y)}},triggerUpdatedEvent=function(y){!y&&this.trigger("updated")},bindRenderedEvent=function(y,S){y.on("rendered",function(_){S.trigger("rendered",_),y.animation.isFinished()&&!S[PENDING_UPDATE]&&!S._scheduler.unfinished&&!S._pendingActions.length&&S.trigger("finished")})},bindMouseEvent=function(y,S){y.on("mouseover",function(_){var x=_.target,b=findEventDispatcher(x,isHighDownDispatcher);b&&(handleGlobalMouseOverForHighDown(b,_,S._api),markStatusToUpdate(S))}).on("mouseout",function(_){var x=_.target,b=findEventDispatcher(x,isHighDownDispatcher);b&&(handleGlobalMouseOutForHighDown(b,_,S._api),markStatusToUpdate(S))}).on("click",function(_){var x=_.target,b=findEventDispatcher(x,function(C){return getECData(C).dataIndex!=null},!0);if(b){var T=b.selected?"unselect":"select",A=getECData(b);S._api.dispatchAction({type:T,dataType:A.dataType,dataIndexInside:A.dataIndex,seriesIndex:A.seriesIndex,isFromClick:!0})}})};function n(y){y.clearColorPalette(),y.eachSeries(function(S){S.clearColorPalette()})}function o(y){var S=[],_=[],x=!1;if(y.eachComponent(function(C,E){var P=E.get("zlevel")||0,M=E.get("z")||0,I=E.getZLevelKey();x=x||!!I,(C==="series"?_:S).push({zlevel:P,z:M,idx:E.componentIndex,type:C,key:I})}),x){var b=S.concat(_),T,A;sort$2(b,function(C,E){return C.zlevel===E.zlevel?C.z-E.z:C.zlevel-E.zlevel}),each$f(b,function(C){var E=y.getComponent(C.type,C.idx),P=C.zlevel,M=C.key;T!=null&&(P=Math.max(T,P)),M?(P===T&&M!==A&&P++,A=M):A&&(P===T&&P++,A=""),T=P,E.setZLevel(P)})}}render=function(y,S,_,x,b){o(S),renderComponents(y,S,_,x,b),each$f(y._chartsViews,function(T){T.__alive=!1}),renderSeries(y,S,_,x,b),each$f(y._chartsViews,function(T){T.__alive||T.remove(S,_)})},renderComponents=function(y,S,_,x,b,T){each$f(T||y._componentsViews,function(A){var C=A.__model;d(C,A),A.render(C,S,_,x),c(C,A),g(C,A)})},renderSeries=function(y,S,_,x,b,T){var A=y._scheduler;b=extend(b||{},{updatedSeries:S.getSeries()}),lifecycle.trigger("series:beforeupdate",S,_,b);var C=!1;S.eachSeries(function(E){var P=y._chartsMap[E.__viewId];P.__alive=!0;var M=P.renderTask;A.updatePayload(M,x),d(E,P),T&&T.get(E.uid)&&M.dirty(),M.perform(A.getPerformArgs(M))&&(C=!0),P.group.silent=!!E.get("silent"),u(E,P),updateSeriesElementSelection(E)}),A.unfinished=C||A.unfinished,lifecycle.trigger("series:layoutlabels",S,_,b),lifecycle.trigger("series:transition",S,_,b),S.eachSeries(function(E){var P=y._chartsMap[E.__viewId];c(E,P),g(E,P)}),l(y,S),lifecycle.trigger("series:afterupdate",S,_,b)},markStatusToUpdate=function(y){y[STATUS_NEEDS_UPDATE_KEY]=!0,y.getZr().wakeUp()},applyChangedStates=function(y){y[STATUS_NEEDS_UPDATE_KEY]&&(y.getZr().storage.traverse(function(S){isElementRemoved(S)||s(S)}),y[STATUS_NEEDS_UPDATE_KEY]=!1)};function s(y){for(var S=[],_=y.currentStates,x=0;x<_.length;x++){var b=_[x];b==="emphasis"||b==="blur"||b==="select"||S.push(b)}y.selected&&y.states.select&&S.push("select"),y.hoverState===HOVER_STATE_EMPHASIS&&y.states.emphasis?S.push("emphasis"):y.hoverState===HOVER_STATE_BLUR&&y.states.blur&&S.push("blur"),y.useStates(S)}function l(y,S){var _=y._zr,x=_.storage,b=0;x.traverse(function(T){T.isGroup||b++}),b>S.get("hoverLayerThreshold")&&!env.node&&!env.worker&&S.eachSeries(function(T){if(!T.preventUsingHoverLayer){var A=y._chartsMap[T.__viewId];A.__alive&&A.eachRendered(function(C){C.states.emphasis&&(C.states.emphasis.hoverLayer=!0)})}})}function u(y,S){var _=y.get("blendMode")||null;S.eachRendered(function(x){x.isGroup||(x.style.blend=_)})}function c(y,S){if(!y.preventAutoZ){var _=y.get("z")||0,x=y.get("zlevel")||0;S.eachRendered(function(b){return f(b,_,x,-1/0),!0})}}function f(y,S,_,x){var b=y.getTextContent(),T=y.getTextGuideLine(),A=y.isGroup;if(A)for(var C=y.childrenRef(),E=0;E<C.length;E++)x=Math.max(f(C[E],S,_,x),x);else y.z=S,y.zlevel=_,x=Math.max(y.z2,x);if(b&&(b.z=S,b.zlevel=_,isFinite(x)&&(b.z2=x+2)),T){var P=y.textGuideLineConfig;T.z=S,T.zlevel=_,isFinite(x)&&(T.z2=x+(P&&P.showAbove?1:-1))}return x}function d(y,S){S.eachRendered(function(_){if(!isElementRemoved(_)){var x=_.getTextContent(),b=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function g(y,S){var _=y.getModel("stateAnimation"),x=y.isAnimationEnabled(),b=_.get("duration"),T=b>0?{duration:b,delay:_.get("delay"),easing:_.get("easing")}:null;S.eachRendered(function(A){if(A.states&&A.states.emphasis){if(isElementRemoved(A))return;if(A instanceof Path&&savePathStates(A),A.__dirty){var C=A.prevStates;C&&A.useStates(C)}if(x){A.stateTransition=T;var E=A.getTextContent(),P=A.getTextGuideLine();E&&(E.stateTransition=T),P&&(P.stateTransition=T)}A.__dirty&&s(A)}})}createExtensionAPI=function(y){return new(function(S){__extends$1(_,S);function _(){return S!==null&&S.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(x){for(;x;){var b=x.__ecComponentInfo;if(b!=null)return y._model.getComponent(b.mainType,b.index);x=x.parent}},_.prototype.enterEmphasis=function(x,b){enterEmphasis(x,b),markStatusToUpdate(y)},_.prototype.leaveEmphasis=function(x,b){leaveEmphasis(x,b),markStatusToUpdate(y)},_.prototype.enterBlur=function(x){enterBlur(x),markStatusToUpdate(y)},_.prototype.leaveBlur=function(x){leaveBlur(x),markStatusToUpdate(y)},_.prototype.enterSelect=function(x){enterSelect(x),markStatusToUpdate(y)},_.prototype.leaveSelect=function(x){leaveSelect(x),markStatusToUpdate(y)},_.prototype.getModel=function(){return y.getModel()},_.prototype.getViewOfComponentModel=function(x){return y.getViewOfComponentModel(x)},_.prototype.getViewOfSeriesModel=function(x){return y.getViewOfSeriesModel(x)},_}(ExtensionAPI))(y)},enableConnect=function(y){function S(_,x){for(var b=0;b<_.length;b++){var T=_[b];T[CONNECT_STATUS_KEY]=x}}each$f(eventActionMap,function(_,x){y._messageCenter.on(x,function(b){if(connectedGroups[y.group]&&y[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(b&&b.escapeConnect)return;var T=y.makeActionFromEvent(b),A=[];each$f(instances,function(C){C!==y&&C.group===y.group&&A.push(C)}),S(A,CONNECT_STATUS_PENDING),each$f(A,function(C){C[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&C.dispatchAction(T)}),S(A,CONNECT_STATUS_UPDATED)}})})}}(),t}(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(a,t,n){var o=this;function s(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];t&&t.apply&&t.apply(this,l),o.off(a,s)}this.on.call(this,a,s,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(a){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(a,t,n){{var o=getInstanceByDom(a);if(o)return o}var s=new ECharts(a,t,n);return s.id="ec_"+idBase++,instances[s.id]=s,setAttribute(a,DOM_ATTRIBUTE_KEY,s.id),enableConnect(s),lifecycle.trigger("afterinit",s),s}function getInstanceByDom(a){return instances[getAttribute(a,DOM_ATTRIBUTE_KEY)]}function registerTheme(a,t){themeStorage[a]=t}function registerPreprocessor(a){indexOf(optionPreprocessorFuncs,a)<0&&optionPreprocessorFuncs.push(a)}function registerProcessor(a,t){normalizeRegister(dataProcessorFuncs,a,t,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(a){registerUpdateLifecycle("afterinit",a)}function registerPostUpdate(a){registerUpdateLifecycle("afterupdate",a)}function registerUpdateLifecycle(a,t){lifecycle.on(a,t)}function registerAction(a,t,n){isFunction(t)&&(n=t,t="");var o=isObject$3(a)?a.type:[a,a={event:t}][0];a.event=(a.event||o).toLowerCase(),t=a.event,!eventActionMap[t]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(t)),actions[o]||(actions[o]={action:n,actionInfo:a}),eventActionMap[t]=o)}function registerCoordinateSystem(a,t){CoordinateSystemManager.register(a,t)}function registerLayout(a,t){normalizeRegister(visualFuncs,a,t,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(a,t){normalizeRegister(visualFuncs,a,t,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(a,t,n,o,s){if((isFunction(t)||isObject$3(t))&&(n=t,t=o),!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var l=Scheduler.wrapStageHandler(n,s);l.__prio=t,l.__raw=n,a.push(l)}}function registerLoading(a,t){loadingEffects[a]=t}function registerMap$1(a,t,n){var o=getImpl("registerMap");o&&o(a,t,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$2);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$2);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$2);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$2);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$2);registerTheme("light",lightTheme);registerTheme("dark",theme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(a){ComponentModel.registerClass(a)},registerComponentView:function(a){ComponentView.registerClass(a)},registerSeriesModel:function(a){SeriesModel.registerClass(a)},registerChartView:function(a){ChartView.registerClass(a)},registerSubTypeDefaulter:function(a,t){ComponentModel.registerSubTypeDefaulter(a,t)},registerPainter:function(a,t){registerPainter(a,t)}};function use(a){if(isArray$2(a)){each$f(a,function(t){use(t)});return}indexOf(extensions,a)>=0||(extensions.push(a),isFunction(a)&&(a={install:a}),a.install(extensionRegisters))}function dataIndexMapValueLength(a){return a==null?0:a.length||1}function defaultKeyGetter(a){return a}var DataDiffer=function(){function a(t,n,o,s,l,u){this._old=t,this._new=n,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=s||defaultKeyGetter,this.context=l,this._diffModeMultiple=u==="multiple"}return a.prototype.add=function(t){return this._add=t,this},a.prototype.update=function(t){return this._update=t,this},a.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},a.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},a.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},a.prototype.remove=function(t){return this._remove=t,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var t=this._old,n=this._new,o={},s=new Array(t.length),l=new Array(n.length);this._initIndexMap(t,null,s,"_oldKeyGetter"),this._initIndexMap(n,o,l,"_newKeyGetter");for(var u=0;u<t.length;u++){var c=s[u],f=o[c],d=dataIndexMapValueLength(f);if(d>1){var g=f.shift();f.length===1&&(o[c]=f[0]),this._update&&this._update(g,u)}else d===1?(o[c]=null,this._update&&this._update(f,u)):this._remove&&this._remove(u)}this._performRestAdd(l,o)},a.prototype._executeMultiple=function(){var t=this._old,n=this._new,o={},s={},l=[],u=[];this._initIndexMap(t,o,l,"_oldKeyGetter"),this._initIndexMap(n,s,u,"_newKeyGetter");for(var c=0;c<l.length;c++){var f=l[c],d=o[f],g=s[f],y=dataIndexMapValueLength(d),S=dataIndexMapValueLength(g);if(y>1&&S===1)this._updateManyToOne&&this._updateManyToOne(g,d),s[f]=null;else if(y===1&&S>1)this._updateOneToMany&&this._updateOneToMany(g,d),s[f]=null;else if(y===1&&S===1)this._update&&this._update(g,d),s[f]=null;else if(y>1&&S>1)this._updateManyToMany&&this._updateManyToMany(g,d),s[f]=null;else if(y>1)for(var _=0;_<y;_++)this._remove&&this._remove(d[_]);else this._remove&&this._remove(d)}this._performRestAdd(u,s)},a.prototype._performRestAdd=function(t,n){for(var o=0;o<t.length;o++){var s=t[o],l=n[s],u=dataIndexMapValueLength(l);if(u>1)for(var c=0;c<u;c++)this._add&&this._add(l[c]);else u===1&&this._add&&this._add(l);n[s]=null}},a.prototype._initIndexMap=function(t,n,o,s){for(var l=this._diffModeMultiple,u=0;u<t.length;u++){var c="_ec_"+this[s](t[u],u);if(l||(o[u]=c),!!n){var f=n[c],d=dataIndexMapValueLength(f);d===0?(n[c]=u,l&&o.push(c)):d===1?n[c]=[f,u]:f.push(u)}}},a}(),DimensionUserOuput=function(){function a(t,n){this._encode=t,this._schema=n}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function summarizeDimensions(a,t){var n={},o=n.encode={},s=createHashMap(),l=[],u=[],c={};each$f(a.dimensions,function(S){var _=a.getDimensionInfo(S),x=_.coordDim;if(x){var b=_.coordDimIndex;getOrCreateEncodeArr(o,x)[b]=S,_.isExtraCoord||(s.set(x,1),mayLabelDimType(_.type)&&(l[0]=S),getOrCreateEncodeArr(c,x)[b]=a.getDimensionIndex(_.name)),_.defaultTooltip&&u.push(S)}VISUAL_DIMENSIONS.each(function(T,A){var C=getOrCreateEncodeArr(o,A),E=_.otherDims[A];E!=null&&E!==!1&&(C[E]=_.name)})});var f=[],d={};s.each(function(S,_){var x=o[_];d[_]=x[0],f=f.concat(x)}),n.dataDimsOnCoord=f,n.dataDimIndicesOnCoord=map$1(f,function(S){return a.getDimensionInfo(S).storeDimIndex}),n.encodeFirstDimNotExtra=d;var g=o.label;g&&g.length&&(l=g.slice());var y=o.tooltip;return y&&y.length?u=y.slice():u.length||(u=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=u,n.userOutput=new DimensionUserOuput(c,t),n}function getOrCreateEncodeArr(a,t){return a.hasOwnProperty(t)||(a[t]=[]),a[t]}function getDimensionTypeByAxis(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function mayLabelDimType(a){return!(a==="ordinal"||a==="time")}var SeriesDimensionDefine=function(){function a(t){this.otherDims={},t!=null&&extend(this,t)}return a}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function a(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},a.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},a.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},a.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(t),s="",l=[],u=0,c=0;u<t;u++){var f=void 0,d=void 0,g=void 0,y=this.dimensions[c];if(y&&y.storeDimIndex===u)f=n?y.name:null,d=y.type,g=y.ordinalMeta,c++;else{var S=this.getSourceDimension(u);S&&(f=n?S.name:null,d=S.type)}l.push({property:f,type:d,ordinalMeta:g}),n&&f!=null&&(!y||!y.isCalculationCoord)&&(s+=o?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),s+="$",s+=dimTypeShort[d]||"f",g&&(s+=g.uid),s+="$"}var _=this.source,x=[_.seriesLayoutBy,_.startIndex,s].join("$$");return{dimensions:l,hash:x}},a.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,o=0;n<this._fullDimCount;n++){var s=void 0,l=this.dimensions[o];if(l&&l.storeDimIndex===n)l.isCalculationCoord||(s=l.name),o++;else{var u=this.getSourceDimension(n);u&&(s=u.name)}t.push(s)}return t},a.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function isSeriesDataSchema(a){return a instanceof SeriesDataSchema}function createDimNameMap(a){for(var t=createHashMap(),n=0;n<(a||[]).length;n++){var o=a[n],s=isObject$3(o)?o.name:o;s!=null&&t.get(s)==null&&t.set(s,n)}return t}function ensureSourceDimNameMap(a){var t=inner$h(a);return t.dimNameMap||(t.dimNameMap=createDimNameMap(a.dimensionsDefine))}function shouldOmitUnusedDimensions(a){return a>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function a(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var o,s=!1;isSeriesDataSchema(t)?(o=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(s=!0,o=t),o=o||["x","y"];for(var l={},u=[],c={},f=!1,d={},g=0;g<o.length;g++){var y=o[g],S=isString(y)?new SeriesDimensionDefine({name:y}):y instanceof SeriesDimensionDefine?y:new SeriesDimensionDefine(y),_=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=_,S.coordDimIndex=0);var x=S.otherDims=S.otherDims||{};u.push(_),l[_]=S,d[_]!=null&&(f=!0),S.createInvertedIndices&&(c[_]=[]),x.itemName===0&&(this._nameDimIdx=g),x.itemId===0&&(this._idDimIdx=g),s&&(S.storeDimIndex=g)}if(this.dimensions=u,this._dimInfos=l,this._initGetDimensionInfo(f),this.hostModel=n,this._invertedIndicesMap=c,this._dimOmitted){var b=this._dimIdxToName=createHashMap();each$f(u,function(T){b.set(l[T].storeDimIndex,T)})}}return a.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var o=this._dimIdxToName.get(n);if(o!=null)return o;var s=this._schema.getSourceDimension(n);if(s)return s.name},a.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var o=this._getDimInfo(t);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},a.prototype._recognizeDimIndex=function(t){if(isNumber$2(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},a.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},a.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},a.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(o){return n.hasOwnProperty(o)?n[o]:void 0}:function(o){return n[o]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(t,n){var o=this._dimSummary;if(n==null)return o.encodeFirstDimNotExtra[t];var s=o.encode[t];return s?s[n]:null},a.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,o=n.encode[t];return(o||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(t,n,o){var s=this,l;if(t instanceof DataStore&&(l=t),!l){var u=this.dimensions,c=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,u.length):t;l=new DataStore;var f=map(u,function(d){return{type:s._dimInfos[d].type,property:d}});l.initData(c,f,o)}this._store=l,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,l.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},a.prototype.appendValues=function(t,n){var o=this._store.appendValues(t,n&&n.length),s=o.start,l=o.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var c=s;c<l;c++){var f=c-s;this._nameList[c]=n[f],u&&makeIdFromName(this,c)}},a.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,o=0;o<n.length;o++){var s=this._dimInfos[n[o]];s.ordinalMeta&&t.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!t.fillStorage},a.prototype._doInit=function(t,n){if(!(t>=n)){var o=this._store,s=o.getProvider();this._updateOrdinalMeta();var l=this._nameList,u=this._idList,c=s.getSource().sourceFormat,f=c===SOURCE_FORMAT_ORIGINAL;if(f&&!s.pure)for(var d=[],g=t;g<n;g++){var y=s.getItem(g,d);if(!this.hasItemOption&&isDataItemOption(y)&&(this.hasItemOption=!0),y){var S=y.name;l[g]==null&&S!=null&&(l[g]=convertOptionIdName(S,null));var _=y.id;u[g]==null&&_!=null&&(u[g]=convertOptionIdName(_,null))}}if(this._shouldMakeIdFromName())for(var g=t;g<n;g++)makeIdFromName(this,g);prepareInvertedIndex(this)}},a.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},a.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},a.prototype.setCalculationInfo=function(t,n){isObject$1(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=n},a.prototype.getName=function(t){var n=this.getRawIndex(t),o=this._nameList[n];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,n)),o==null&&(o=""),o},a.prototype._getCategory=function(t,n){var o=this._store.get(t,n),s=this._store.getOrdinalMeta(t);return s?s.categories[o]:o},a.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(t,n){var o=this._store,s=this._dimInfos[t];if(s)return o.get(s.storeDimIndex,n)},a.prototype.getByRawIndex=function(t,n){var o=this._store,s=this._dimInfos[t];if(s)return o.getByRawIndex(s.storeDimIndex,n)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},a.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},a.prototype.getValues=function(t,n){var o=this,s=this._store;return isArray$2(t)?s.getValues(map(t,function(l){return o._getStoreDimIndex(l)}),n):s.getValues(t)},a.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,o=0,s=n.length;o<s;o++)if(isNaN(this._store.get(n[o],t)))return!1;return!0},a.prototype.indexOfName=function(t){for(var n=0,o=this._store.count();n<o;n++)if(this.getName(n)===t)return n;return-1},a.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},a.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},a.prototype.rawIndexOf=function(t,n){var o=t&&this._invertedIndicesMap[t],s=o&&o[n];return s==null||isNaN(s)?INDEX_NOT_FOUND:s},a.prototype.indicesOfNearest=function(t,n,o){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,o)},a.prototype.each=function(t,n,o){isFunction(t)&&(o=n,n=t,t=[]);var s=o||this,l=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(l,s?bind$1(n,s):n)},a.prototype.filterSelf=function(t,n,o){isFunction(t)&&(o=n,n=t,t=[]);var s=o||this,l=map(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(l,s?bind$1(n,s):n),this},a.prototype.selectRange=function(t){var n=this,o={},s=keys$1(t);return each$f(s,function(l){var u=n._getStoreDimIndex(l);o[u]=t[l]}),this._store=this._store.selectRange(o),this},a.prototype.mapArray=function(t,n,o){isFunction(t)&&(o=n,n=t,t=[]),o=o||this;var s=[];return this.each(t,function(){s.push(n&&n.apply(this,arguments))},o),s},a.prototype.map=function(t,n,o,s){var l=o||s||this,u=map(normalizeDimensions(t),this._getStoreDimIndex,this),c=cloneListForMapAndSample(this);return c._store=this._store.map(u,l?bind$1(n,l):n),c},a.prototype.modify=function(t,n,o,s){var l=o||s||this,u=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(u,l?bind$1(n,l):n)},a.prototype.downSample=function(t,n,o,s){var l=cloneListForMapAndSample(this);return l._store=this._store.downSample(this._getStoreDimIndex(t),n,o,s),l},a.prototype.minmaxDownSample=function(t,n){var o=cloneListForMapAndSample(this);return o._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),o},a.prototype.lttbDownSample=function(t,n){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),o},a.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},a.prototype.getItemModel=function(t){var n=this.hostModel,o=this.getRawDataItem(t);return new Model(o,n,n&&n.ecModel)},a.prototype.diff=function(t){var n=this;return new DataDiffer(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(t,o)},function(o){return getId(n,o)})},a.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},a.prototype.setVisual=function(t,n){this._visual=this._visual||{},isObject$1(t)?extend(this._visual,t):this._visual[t]=n},a.prototype.getItemVisual=function(t,n){var o=this._itemVisuals[t],s=o&&o[n];return s??this.getVisual(n)},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(t,n){var o=this._itemVisuals,s=o[t];s||(s=o[t]={});var l=s[n];return l==null&&(l=this.getVisual(n),isArray$2(l)?l=l.slice():isObject$1(l)&&(l=extend({},l)),s[n]=l),l},a.prototype.setItemVisual=function(t,n,o){var s=this._itemVisuals[t]||{};this._itemVisuals[t]=s,isObject$1(n)?extend(s,n):s[n]=o},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(t,n){isObject$1(t)?extend(this._layout,t):this._layout[t]=n},a.prototype.getLayout=function(t){return this._layout[t]},a.prototype.getItemLayout=function(t){return this._itemLayouts[t]},a.prototype.setItemLayout=function(t,n,o){this._itemLayouts[t]=o?extend(this._itemLayouts[t]||{},n):n},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(t,n){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,t,n),this._graphicEls[t]=n},a.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},a.prototype.eachItemGraphicEl=function(t,n){each$f(this._graphicEls,function(o,s){o&&t&&t.call(n,o,s)})},a.prototype.cloneShallow=function(t){return t||(t=new a(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(t,this),t._store=this._store,t},a.prototype.wrapMethod=function(t,n){var o=this[t];isFunction(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var s=o.apply(this,arguments);return n.apply(this,[s].concat(slice(arguments)))})},a.internalField=function(){prepareInvertedIndex=function(t){var n=t._invertedIndicesMap;each$f(n,function(o,s){var l=t._dimInfos[s],u=l.ordinalMeta,c=t._store;if(u){o=n[s]=new CtorInt32Array(u.categories.length);for(var f=0;f<o.length;f++)o[f]=INDEX_NOT_FOUND;for(var f=0;f<c.count();f++)o[c.get(l.storeDimIndex,f)]=f}})},getIdNameFromStore=function(t,n,o){return convertOptionIdName(t._getCategory(n,o),null)},getId=function(t,n){var o=t._idList[n];return o==null&&t._idDimIdx!=null&&(o=getIdNameFromStore(t,t._idDimIdx,n)),o==null&&(o=ID_PREFIX+n),o},normalizeDimensions=function(t){return isArray$2(t)||(t=t!=null?[t]:[]),t},cloneListForMapAndSample=function(t){var n=new a(t._schema?t._schema:map(t.dimensions,t._getDimInfo,t),t.hostModel);return transferProperties(n,t),n},transferProperties=function(t,n){each$f(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(o){n.hasOwnProperty(o)&&(t[o]=n[o])}),t.__wrappedMethods=n.__wrappedMethods,each$f(CLONE_PROPERTIES,function(o){t[o]=clone$4(n[o])}),t._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(t,n){var o=t._nameList,s=t._idList,l=t._nameDimIdx,u=t._idDimIdx,c=o[n],f=s[n];if(c==null&&l!=null&&(o[n]=c=getIdNameFromStore(t,l,n)),f==null&&u!=null&&(s[n]=f=getIdNameFromStore(t,u,n)),f==null&&c!=null){var d=t._nameRepeatCount,g=d[c]=(d[c]||0)+1;f=c,g>1&&(f+="__ec__"+g),s[n]=f}}}(),a}();function prepareSeriesDataSchema(a,t){isSourceInstance(a)||(a=createSourceFromSeriesDataOption(a)),t=t||{};var n=t.coordDimensions||[],o=t.dimensionsDefine||a.dimensionsDefine||[],s=createHashMap(),l=[],u=getDimCount(a,n,o,t.dimensionsCount),c=t.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(u),f=o===a.dimensionsDefine,d=f?ensureSourceDimNameMap(a):createDimNameMap(o),g=t.encodeDefine;!g&&t.encodeDefaulter&&(g=t.encodeDefaulter(a,u));for(var y=createHashMap(g),S=new CtorInt32Array$1(u),_=0;_<S.length;_++)S[_]=-1;function x($){var O=S[$];if(O<0){var V=o[$],F=isObject$3(V)?V:{name:V},z=new SeriesDimensionDefine,U=F.name;U!=null&&d.get(U)!=null&&(z.name=z.displayName=U),F.type!=null&&(z.type=F.type),F.displayName!=null&&(z.displayName=F.displayName);var H=l.length;return S[$]=H,z.storeDimIndex=$,l.push(z),z}return l[O]}if(!c)for(var _=0;_<u;_++)x(_);y.each(function($,O){var V=normalizeToArray($).slice();if(V.length===1&&!isString(V[0])&&V[0]<0){y.set(O,!1);return}var F=y.set(O,[]);each$f(V,function(z,U){var H=isString(z)?d.get(z):z;H!=null&&H<u&&(F[U]=H,T(x(H),O,U))})});var b=0;each$f(n,function($){var O,V,F,z;if(isString($))O=$,z={};else{z=$,O=z.name;var U=z.ordinalMeta;z.ordinalMeta=null,z=extend({},z),z.ordinalMeta=U,V=z.dimsDef,F=z.otherDims,z.name=z.coordDim=z.coordDimIndex=z.dimsDef=z.otherDims=null}var H=y.get(O);if(H!==!1){if(H=normalizeToArray(H),!H.length)for(var N=0;N<(V&&V.length||1);N++){for(;b<u&&x(b).coordDim!=null;)b++;b<u&&H.push(b++)}each$f(H,function(G,R){var B=x(G);if(f&&z.type!=null&&(B.type=z.type),T(defaults(B,z),O,R),B.name==null&&V){var j=V[R];!isObject$3(j)&&(j={name:j}),B.name=B.displayName=j.name,B.defaultTooltip=j.defaultTooltip}F&&defaults(B.otherDims,F)})}});function T($,O,V){VISUAL_DIMENSIONS.get(O)!=null?$.otherDims[O]=V:($.coordDim=O,$.coordDimIndex=V,s.set(O,!0))}var A=t.generateCoord,C=t.generateCoordCount,E=C!=null;C=A?C||1:0;var P=A||"value";function M($){$.name==null&&($.name=$.coordDim)}if(c)each$f(l,function($){M($)}),l.sort(function($,O){return $.storeDimIndex-O.storeDimIndex});else for(var I=0;I<u;I++){var D=x(I),L=D.coordDim;L==null&&(D.coordDim=genCoordDimName(P,s,E),D.coordDimIndex=0,(!A||C<=0)&&(D.isExtraCoord=!0),C--),M(D),D.type==null&&(guessOrdinal(a,I)===BE_ORDINAL.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return removeDuplication(l),new SeriesDataSchema({source:a,dimensions:l,fullDimensionCount:u,dimensionOmitted:c})}function removeDuplication(a){for(var t=createHashMap(),n=0;n<a.length;n++){var o=a[n],s=o.name,l=t.get(s)||0;l>0&&(o.name=s+(l-1)),l++,t.set(s,l)}}function getDimCount(a,t,n,o){var s=Math.max(a.dimensionsDetectedCount||1,t.length,n.length,o||0);return each$f(t,function(l){var u;isObject$3(l)&&(u=l.dimsDef)&&(s=Math.max(s,u.length))}),s}function genCoordDimName(a,t,n){if(n||t.hasKey(a)){for(var o=0;t.hasKey(a+o);)o++;a+=o}return t.set(a,!0),a}var CoordSysInfo=function(){function a(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return a}();function getCoordSysInfoBySeries(a){var t=a.get("coordinateSystem"),n=new CoordSysInfo(t),o=fetchers[t];if(o)return o(a,n,n.axisMap,n.categoryAxisMap),n}var fetchers={cartesian2d:function(a,t,n,o){var s=a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"],n.set("x",s),n.set("y",l),isCategory(s)&&(o.set("x",s),t.firstCategoryDimIndex=0),isCategory(l)&&(o.set("y",l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(a,t,n,o){var s=a.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["single"],n.set("single",s),isCategory(s)&&(o.set("single",s),t.firstCategoryDimIndex=0)},polar:function(a,t,n,o){var s=a.getReferringComponents("polar",SINGLE_REFERRING).models[0],l=s.findAxisModel("radiusAxis"),u=s.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",u),isCategory(l)&&(o.set("radius",l),t.firstCategoryDimIndex=0),isCategory(u)&&(o.set("angle",u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(a,t,n,o){t.coordSysDims=["lng","lat"]},parallel:function(a,t,n,o){var s=a.ecModel,l=s.getComponent("parallel",a.get("parallelIndex")),u=t.coordSysDims=l.dimensions.slice();each$f(l.parallelAxisIndex,function(c,f){var d=s.getComponent("parallelAxis",c),g=u[f];n.set(g,d),isCategory(d)&&(o.set(g,d),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=f))})}};function isCategory(a){return a.get("type")==="category"}function enableDataStack(a,t,n){n=n||{};var o=n.byIndex,s=n.stackedCoordDimension,l,u,c;isLegacyDimensionsInput(t)?l=t:(u=t.schema,l=u.dimensions,c=t.store);var f=!!(a&&a.get("stack")),d,g,y,S;if(each$f(l,function(C,E){isString(C)&&(l[E]=C={name:C}),f&&!C.isExtraCoord&&(!o&&!d&&C.ordinalMeta&&(d=C),!g&&C.type!=="ordinal"&&C.type!=="time"&&(!s||s===C.coordDim)&&(g=C))}),g&&!o&&!d&&(o=!0),g){y="__\0ecstackresult_"+a.id,S="__\0ecstackedover_"+a.id,d&&(d.createInvertedIndices=!0);var _=g.coordDim,x=g.type,b=0;each$f(l,function(C){C.coordDim===_&&b++});var T={name:y,coordDim:_,coordDimIndex:b,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length},A={name:S,coordDim:S,coordDimIndex:b+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length+1};u?(c&&(T.storeDimIndex=c.ensureCalculationDimension(S,x),A.storeDimIndex=c.ensureCalculationDimension(y,x)),u.appendCalculationDimension(T),u.appendCalculationDimension(A)):(l.push(T),l.push(A))}return{stackedDimension:g&&g.name,stackedByDimension:d&&d.name,isStackedByIndex:o,stackedOverDimension:S,stackResultDimension:y}}function isLegacyDimensionsInput(a){return!isSeriesDataSchema(a.schema)}function isDimensionStacked(a,t){return!!t&&t===a.getCalculationInfo("stackedDimension")}function getStackedDimension(a,t){return isDimensionStacked(a,t)?a.getCalculationInfo("stackResultDimension"):t}function getCoordSysDimDefs(a,t){var n=a.get("coordinateSystem"),o=CoordinateSystemManager.get(n),s;return t&&t.coordSysDims&&(s=map$1(t.coordSysDims,function(l){var u={name:l},c=t.axisMap.get(l);if(c){var f=c.get("type");u.type=getDimensionTypeByAxis(f)}return u})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}function injectOrdinalMeta(a,t,n){var o,s;return n&&each$f(a,function(l,u){var c=l.coordDim,f=n.categoryAxisMap.get(c);f&&(o==null&&(o=u),l.ordinalMeta=f.getOrdinalMeta(),t&&(l.createInvertedIndices=!0)),l.otherDims.itemName!=null&&(s=!0)}),!s&&o!=null&&(a[o].otherDims.itemName=0),o}function createSeriesData(a,t,n){n=n||{};var o=t.getSourceManager(),s,l=!1;a?(l=!0,s=createSourceFromSeriesDataOption(a)):(s=o.getSource(),l=s.sourceFormat===SOURCE_FORMAT_ORIGINAL);var u=getCoordSysInfoBySeries(t),c=getCoordSysDimDefs(t,u),f=n.useEncodeDefaulter,d=isFunction(f)?f:f?curry$1(makeSeriesEncodeForAxisCoordSys,c,t):null,g={coordDimensions:c,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!l},y=prepareSeriesDataSchema(s,g),S=injectOrdinalMeta(y.dimensions,n.createInvertedIndices,u),_=l?null:o.getSharedDataStore(y),x=enableDataStack(t,{schema:y,store:_}),b=new SeriesData(y,t);b.setCalculationInfo(x);var T=S!=null&&isNeedCompleteOrdinalData(s)?function(A,C,E,P){return P===S?E:this.defaultDimValueGetter(A,C,E,P)}:null;return b.hasItemOption=!1,b.initData(l?s:_,null,T),b}function isNeedCompleteOrdinalData(a){if(a.sourceFormat===SOURCE_FORMAT_ORIGINAL){var t=firstDataNotNull(a.data||[]);return!isArray$2(getDataItemValue(t))}}function firstDataNotNull(a){for(var t=0;t<a.length&&a[t]==null;)t++;return a[t]}var Scale=function(){function a(t){this._setting=t||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(t){return this._setting[t]},a.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},a.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(t,n){var o=this._extent;isNaN(t)||(o[0]=t),isNaN(n)||(o[1]=n)},a.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(t){this._isBlank=t},a}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function a(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase}return a.createByAxisModel=function(t){var n=t.option,o=n.data,s=o&&map$1(o,getName);return new a({categories:s,needCollect:!s,deduplication:n.dedplication!==!1})},a.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},a.prototype.parseAndCollect=function(t){var n,o=this._needCollect;if(!isString(t)&&!o)return t;if(o&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var s=this._getOrCreateMap();return n=s.get(t),n==null&&(o?(n=this.categories.length,this.categories[n]=t,s.set(t,n)):n=NaN),n},a.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},a}();function getName(a){return isObject$3(a)&&a.value!=null?a.value:a+""}function isIntervalOrLogScale(a){return a.type==="interval"||a.type==="log"}function intervalScaleNiceTicks(a,t,n,o){var s={},l=a[1]-a[0],u=s.interval=nice(l/t);n!=null&&u<n&&(u=s.interval=n),o!=null&&u>o&&(u=s.interval=o);var c=s.intervalPrecision=getIntervalPrecision(u),f=s.niceTickExtent=[round$3(Math.ceil(a[0]/u)*u,c),round$3(Math.floor(a[1]/u)*u,c)];return fixExtent(f,a),s}function increaseInterval(a){var t=Math.pow(10,quantityExponent(a)),n=a/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,round$3(n*t)}function getIntervalPrecision(a){return getPrecision(a)+2}function clamp$2(a,t,n){a[t]=Math.max(Math.min(a[t],n[1]),n[0])}function fixExtent(a,t){!isFinite(a[0])&&(a[0]=t[0]),!isFinite(a[1])&&(a[1]=t[1]),clamp$2(a,0,t),clamp$2(a,1,t),a[0]>a[1]&&(a[0]=a[1])}function contain$1(a,t){return a>=t[0]&&a<=t[1]}function normalize$2(a,t){return t[1]===t[0]?.5:(a-t[0])/(t[1]-t[0])}function scale$1(a,t){return a*(t[1]-t[0])+t[0]}var OrdinalScale=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new OrdinalMeta({})),isArray$2(s)&&(s=new OrdinalMeta({categories:map$1(s,function(l){return isObject$3(l)?l.value:l})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return t.prototype.parse=function(n){return n==null?NaN:isString(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),contain$1(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),normalize$2(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(scale$1(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],o=this._extent,s=o[0];s<=o[1];)n.push({value:s}),s++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=n.ordinalNumbers,s=this._ordinalNumbersByTick=[],l=this._ticksByOrdinalNumber=[],u=0,c=this._ordinalMeta.categories.length,f=Math.min(c,o.length);u<f;++u){var d=o[u];s[u]=d,l[d]=u}for(var g=0;u<c;++u){for(;l[g]!=null;)g++;s.push(g),l[g]=u}},t.prototype._getTickNumber=function(n){var o=this._ticksByOrdinalNumber;return o&&n>=0&&n<o.length?o[n]:n},t.prototype.getRawOrdinalNumber=function(n){var o=this._ordinalNumbersByTick;return o&&n>=0&&n<o.length?o[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var o=this.getRawOrdinalNumber(n.value),s=this._ordinalMeta.categories[o];return s==null?"":s+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,o){this.unionExtent(n.getApproximateExtent(o))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$3,IntervalScale=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return contain$1(n,this._extent)},t.prototype.normalize=function(n){return normalize$2(n,this._extent)},t.prototype.scale=function(n){return scale$1(n,this._extent)},t.prototype.setExtent=function(n,o){var s=this._extent;isNaN(n)||(s[0]=parseFloat(n)),isNaN(o)||(s[1]=parseFloat(o))},t.prototype.unionExtent=function(n){var o=this._extent;n[0]<o[0]&&(o[0]=n[0]),n[1]>o[1]&&(o[1]=n[1]),this.setExtent(o[0],o[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(n)},t.prototype.getTicks=function(n){var o=this._interval,s=this._extent,l=this._niceExtent,u=this._intervalPrecision,c=[];if(!o)return c;var f=1e4;s[0]<l[0]&&(n?c.push({value:roundNumber(l[0]-o,u)}):c.push({value:s[0]}));for(var d=l[0];d<=l[1]&&(c.push({value:d}),d=roundNumber(d+o,u),d!==c[c.length-1].value);)if(c.length>f)return[];var g=c.length?c[c.length-1].value:l[1];return s[1]>g&&(n?c.push({value:roundNumber(g+o,u)}):c.push({value:s[1]})),c},t.prototype.getMinorTicks=function(n){for(var o=this.getTicks(!0),s=[],l=this.getExtent(),u=1;u<o.length;u++){for(var c=o[u],f=o[u-1],d=0,g=[],y=c.value-f.value,S=y/n;d<n-1;){var _=roundNumber(f.value+(d+1)*S);_>l[0]&&_<l[1]&&g.push(_),d++}s.push(g)}return s},t.prototype.getLabel=function(n,o){if(n==null)return"";var s=o&&o.precision;s==null?s=getPrecision(n.value)||0:s==="auto"&&(s=this._intervalPrecision);var l=roundNumber(n.value,s,!0);return addCommas(l)},t.prototype.calcNiceTicks=function(n,o,s){n=n||5;var l=this._extent,u=l[1]-l[0];if(isFinite(u)){u<0&&(u=-u,l.reverse());var c=intervalScaleNiceTicks(l,n,o,s);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var s=Math.abs(o[0]);n.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var u=this._interval;n.fixMin||(o[0]=roundNumber(Math.floor(o[0]/u)*u)),n.fixMax||(o[1]=roundNumber(Math.ceil(o[1]/u)*u))},t.prototype.setNiceExtent=function(n,o){this._niceExtent=[n,o]},t.type="interval",t}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(a){return isArray$2(a)?supportFloat32Array?new Float32Array(a):a:new Float32ArrayCtor(a)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(a){return a.get("stack")||STACK_PREFIX+a.seriesIndex}function getAxisKey$1(a){return a.dim+a.index}function getLayoutOnAxis(a){var t=[],n=a.axis,o="axis0";if(n.type==="category"){for(var s=n.getBandWidth(),l=0;l<a.count;l++)t.push(defaults({bandWidth:s,axisKey:o,stackId:STACK_PREFIX+l},a));for(var u=doCalBarWidthAndOffset(t),c=[],l=0;l<a.count;l++){var f=u[o][STACK_PREFIX+l];f.offsetCenter=f.offset+f.width/2,c.push(f)}return c}}function prepareLayoutBarSeries(a,t){var n=[];return t.eachSeriesByType(a,function(o){isOnCartesian(o)&&n.push(o)}),n}function getValueAxesMinGaps(a){var t={};each$f(a,function(f){var d=f.coordinateSystem,g=d.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=f.getData(),S=g.dim+"_"+g.index,_=y.getDimensionIndex(y.mapDimension(g.dim)),x=y.getStore(),b=0,T=x.count();b<T;++b){var A=x.get(_,b);t[S]?t[S].push(A):t[S]=[A]}});var n={};for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s){s.sort(function(f,d){return f-d});for(var l=null,u=1;u<s.length;++u){var c=s[u]-s[u-1];c>0&&(l=l===null?c:Math.min(l,c))}n[o]=l}}return n}function makeColumnLayout(a){var t=getValueAxesMinGaps(a),n=[];return each$f(a,function(o){var s=o.coordinateSystem,l=s.getBaseAxis(),u=l.getExtent(),c;if(l.type==="category")c=l.getBandWidth();else if(l.type==="value"||l.type==="time"){var f=l.dim+"_"+l.index,d=t[f],g=Math.abs(u[1]-u[0]),y=l.scale.getExtent(),S=Math.abs(y[1]-y[0]);c=d?g/S*d:g}else{var _=o.getData();c=Math.abs(u[1]-u[0])/_.count()}var x=parsePercent(o.get("barWidth"),c),b=parsePercent(o.get("barMaxWidth"),c),T=parsePercent(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),c),A=o.get("barGap"),C=o.get("barCategoryGap");n.push({bandWidth:c,barWidth:x,barMaxWidth:b,barMinWidth:T,barGap:A,barCategoryGap:C,axisKey:getAxisKey$1(l),stackId:getSeriesStackId$1(o)})}),doCalBarWidthAndOffset(n)}function doCalBarWidthAndOffset(a){var t={};each$f(a,function(o,s){var l=o.axisKey,u=o.bandWidth,c=t[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},f=c.stacks;t[l]=c;var d=o.stackId;f[d]||c.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var g=o.barWidth;g&&!f[d].width&&(f[d].width=g,g=Math.min(c.remainedWidth,g),c.remainedWidth-=g);var y=o.barMaxWidth;y&&(f[d].maxWidth=y);var S=o.barMinWidth;S&&(f[d].minWidth=S);var _=o.barGap;_!=null&&(c.gap=_);var x=o.barCategoryGap;x!=null&&(c.categoryGap=x)});var n={};return each$f(t,function(o,s){n[s]={};var l=o.stacks,u=o.bandWidth,c=o.categoryGap;if(c==null){var f=keys$1(l).length;c=Math.max(35-f*4,15)+"%"}var d=parsePercent(c,u),g=parsePercent(o.gap,1),y=o.remainedWidth,S=o.autoWidthCount,_=(y-d)/(S+(S-1)*g);_=Math.max(_,0),each$f(l,function(A){var C=A.maxWidth,E=A.minWidth;if(A.width){var P=A.width;C&&(P=Math.min(P,C)),E&&(P=Math.max(P,E)),A.width=P,y-=P+g*P,S--}else{var P=_;C&&C<P&&(P=Math.min(C,y)),E&&E>P&&(P=E),P!==_&&(A.width=P,y-=P+g*P,S--)}}),_=(y-d)/(S+(S-1)*g),_=Math.max(_,0);var x=0,b;each$f(l,function(A,C){A.width||(A.width=_),b=A,x+=A.width*(1+g)}),b&&(x-=b.width*g);var T=-x/2;each$f(l,function(A,C){n[s][C]=n[s][C]||{bandWidth:u,offset:T,width:A.width},T+=A.width*(1+g)})}),n}function retrieveColumnLayout(a,t,n){if(a&&t){var o=a[getAxisKey$1(t)];return o}}function layout$3(a,t){var n=prepareLayoutBarSeries(a,t),o=makeColumnLayout(n);each$f(n,function(s){var l=s.getData(),u=s.coordinateSystem,c=u.getBaseAxis(),f=getSeriesStackId$1(s),d=o[getAxisKey$1(c)][f],g=d.offset,y=d.width;l.setLayout({bandWidth:d.bandWidth,offset:g,size:y})})}function createProgressiveLayout(a){return{seriesType:a,plan:createRenderPlanner(),reset:function(t){if(isOnCartesian(t)){var n=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),l=o.getOtherAxis(s),u=n.getDimensionIndex(n.mapDimension(l.dim)),c=n.getDimensionIndex(n.mapDimension(s.dim)),f=t.get("showBackground",!0),d=n.mapDimension(l.dim),g=n.getCalculationInfo("stackResultDimension"),y=isDimensionStacked(n,d)&&!!n.getCalculationInfo("stackedOnSeries"),S=l.isHorizontal(),_=getValueAxisStart(s,l),x=isInLargeMode(t),b=t.get("barMinHeight")||0,T=g&&n.getDimensionIndex(g),A=n.getLayout("size"),C=n.getLayout("offset");return{progress:function(E,P){for(var M=E.count,I=x&&createFloat32Array(M*3),D=x&&f&&createFloat32Array(M*3),L=x&&createFloat32Array(M),$=o.master.getRect(),O=S?$.width:$.height,V,F=P.getStore(),z=0;(V=E.next())!=null;){var U=F.get(y?T:u,V),H=F.get(c,V),N=_,G=void 0;y&&(G=+U-F.get(u,V));var R=void 0,B=void 0,j=void 0,W=void 0;if(S){var X=o.dataToPoint([U,H]);if(y){var ee=o.dataToPoint([G,H]);N=ee[0]}R=N,B=X[1]+C,j=X[0]-N,W=A,Math.abs(j)<b&&(j=(j<0?-1:1)*b)}else{var X=o.dataToPoint([H,U]);if(y){var ee=o.dataToPoint([H,G]);N=ee[1]}R=X[0]+C,B=N,j=A,W=X[1]-N,Math.abs(W)<b&&(W=(W<=0?-1:1)*b)}x?(I[z]=R,I[z+1]=B,I[z+2]=S?j:W,D&&(D[z]=S?$.x:R,D[z+1]=S?B:$.y,D[z+2]=O),L[V]=V):P.setItemLayout(V,{x:R,y:B,width:j,height:W}),z+=3}x&&P.setLayout({largePoints:I,largeDataIndices:L,largeBackgroundPoints:D,valueAxisHorizontal:S})}}}}}}function isOnCartesian(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function isInLargeMode(a){return a.pipelineContext&&a.pipelineContext.large}function getValueAxisStart(a,t){var n=t.model.get("startValue");return n||(n=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?n>0?n:1:n))}var bisect=function(a,t,n,o){for(;n<o;){var s=n+o>>>1;a[s][1]<t?n=s+1:o=s}return n},TimeScale=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="time",o}return t.prototype.getLabel=function(n){var o=this.getSetting("useUTC");return format(n.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,o,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,o,s){var l=this.getSetting("useUTC"),u=this.getSetting("locale");return leveledFormat(n,o,s,u,l)},t.prototype.getTicks=function(){var n=this._interval,o=this._extent,s=[];if(!n)return s;s.push({value:o[0],level:0});var l=this.getSetting("useUTC"),u=getIntervalTicks(this._minLevelUnit,this._approxInterval,l,o);return s=s.concat(u),s.push({value:o[1],level:0}),s},t.prototype.calcNiceExtent=function(n){var o=this._extent;if(o[0]===o[1]&&(o[0]-=ONE_DAY,o[1]+=ONE_DAY),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-ONE_DAY}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,o,s){n=n||10;var l=this._extent,u=l[1]-l[0];this._approxInterval=u/n,o!=null&&this._approxInterval<o&&(this._approxInterval=o),s!=null&&this._approxInterval>s&&(this._approxInterval=s);var c=scaleIntervals.length,f=Math.min(bisect(scaleIntervals,this._approxInterval,0,c),c-1);this._interval=scaleIntervals[f][1],this._minLevelUnit=scaleIntervals[Math.max(f-1,0)][0]},t.prototype.parse=function(n){return isNumber$2(n)?n:+parseDate(n)},t.prototype.contain=function(n){return contain$1(this.parse(n),this._extent)},t.prototype.normalize=function(n){return normalize$2(this.parse(n),this._extent)},t.prototype.scale=function(n){return scale$1(n,this._extent)},t.type="time",t}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(a,t,n,o){var s=parseDate(t),l=parseDate(n),u=function(x){return getUnitValue(s,x,o)===getUnitValue(l,x,o)},c=function(){return u("year")},f=function(){return c()&&u("month")},d=function(){return f()&&u("day")},g=function(){return d()&&u("hour")},y=function(){return g()&&u("minute")},S=function(){return y()&&u("second")},_=function(){return S()&&u("millisecond")};switch(a){case"year":return c();case"month":return f();case"day":return d();case"hour":return g();case"minute":return y();case"second":return S();case"millisecond":return _()}}function getDateInterval(a,t){return a/=ONE_DAY,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function getMonthInterval(a){var t=30*ONE_DAY;return a/=t,a>6?6:a>3?3:a>2?2:1}function getHourInterval(a){return a/=ONE_HOUR,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function getMinutesAndSecondsInterval(a,t){return a/=t?ONE_MINUTE:ONE_SECOND,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function getMillisecondsInterval(a){return nice(a)}function getFirstTimestampOfUnit(a,t,n){var o=new Date(a);switch(getPrimaryTimeUnit(t)){case"year":case"month":o[monthSetterName(n)](0);case"day":o[dateSetterName(n)](1);case"hour":o[hoursSetterName(n)](0);case"minute":o[minutesSetterName(n)](0);case"second":o[secondsSetterName(n)](0),o[millisecondsSetterName(n)](0)}return o.getTime()}function getIntervalTicks(a,t,n,o){var s=1e4,l=timeUnits,u=0;function c(O,V,F,z,U,H,N){for(var G=new Date(V),R=V,B=G[z]();R<F&&R<=o[1];)N.push({value:R}),B+=O,G[U](B),R=G.getTime();N.push({value:R,notAdd:!0})}function f(O,V,F){var z=[],U=!V.length;if(!isUnitValueSame(getPrimaryTimeUnit(O),o[0],o[1],n)){U&&(V=[{value:getFirstTimestampOfUnit(new Date(o[0]),O,n)},{value:o[1]}]);for(var H=0;H<V.length-1;H++){var N=V[H].value,G=V[H+1].value;if(N!==G){var R=void 0,B=void 0,j=void 0,W=!1;switch(O){case"year":R=Math.max(1,Math.round(t/ONE_DAY/365)),B=fullYearGetterName(n),j=fullYearSetterName(n);break;case"half-year":case"quarter":case"month":R=getMonthInterval(t),B=monthGetterName(n),j=monthSetterName(n);break;case"week":case"half-week":case"day":R=getDateInterval(t),B=dateGetterName(n),j=dateSetterName(n),W=!0;break;case"half-day":case"quarter-day":case"hour":R=getHourInterval(t),B=hoursGetterName(n),j=hoursSetterName(n);break;case"minute":R=getMinutesAndSecondsInterval(t,!0),B=minutesGetterName(n),j=minutesSetterName(n);break;case"second":R=getMinutesAndSecondsInterval(t,!1),B=secondsGetterName(n),j=secondsSetterName(n);break;case"millisecond":R=getMillisecondsInterval(t),B=millisecondsGetterName(n),j=millisecondsSetterName(n);break}c(R,N,G,B,j,W,z),O==="year"&&F.length>1&&H===0&&F.unshift({value:F[0].value-R})}}for(var H=0;H<z.length;H++)F.push(z[H]);return z}}for(var d=[],g=[],y=0,S=0,_=0;_<l.length&&u++<s;++_){var x=getPrimaryTimeUnit(l[_]);if(isPrimaryTimeUnit(l[_])){f(l[_],d[d.length-1]||[],g);var b=l[_+1]?getPrimaryTimeUnit(l[_+1]):null;if(x!==b){if(g.length){S=y,g.sort(function(O,V){return O.value-V.value});for(var T=[],A=0;A<g.length;++A){var C=g[A].value;(A===0||g[A-1].value!==C)&&(T.push(g[A]),C>=o[0]&&C<=o[1]&&y++)}var E=(o[1]-o[0])/t;if(y>E*1.5&&S>E/1.5||(d.push(T),y>E||a===l[_]))break}g=[]}}}for(var P=filter$1(map$1(d,function(O){return filter$1(O,function(V){return V.value>=o[0]&&V.value<=o[1]&&!V.notAdd})}),function(O){return O.length>0}),M=[],I=P.length-1,_=0;_<P.length;++_)for(var D=P[_],L=0;L<D.length;++L)M.push({value:D[L].value,level:I-_});M.sort(function(O,V){return O.value-V.value});for(var $=[],_=0;_<M.length;++_)(_===0||M[_].value!==M[_-1].value)&&$.push(M[_]);return $}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new IntervalScale,n._interval=0,n}return t.prototype.getTicks=function(n){var o=this._originalScale,s=this._extent,l=o.getExtent(),u=intervalScaleProto.getTicks.call(this,n);return map$1(u,function(c){var f=c.value,d=round$3(mathPow$1(this.base,f));return d=f===s[0]&&this._fixMin?fixRoundingError(d,l[0]):d,d=f===s[1]&&this._fixMax?fixRoundingError(d,l[1]):d,{value:d}},this)},t.prototype.setExtent=function(n,o){var s=mathLog$1(this.base);n=mathLog$1(Math.max(0,n))/s,o=mathLog$1(Math.max(0,o))/s,intervalScaleProto.setExtent.call(this,n,o)},t.prototype.getExtent=function(){var n=this.base,o=scaleProto.getExtent.call(this);o[0]=mathPow$1(n,o[0]),o[1]=mathPow$1(n,o[1]);var s=this._originalScale,l=s.getExtent();return this._fixMin&&(o[0]=fixRoundingError(o[0],l[0])),this._fixMax&&(o[1]=fixRoundingError(o[1],l[1])),o},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var o=this.base;n[0]=mathLog$1(n[0])/mathLog$1(o),n[1]=mathLog$1(n[1])/mathLog$1(o),scaleProto.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,o){this.unionExtent(n.getApproximateExtent(o))},t.prototype.calcNiceTicks=function(n){n=n||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var l=quantity(s),u=n/s*l;for(u<=.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;)l*=10;var c=[round$3(mathCeil$1(o[0]/l)*l),round$3(mathFloor$1(o[1]/l)*l)];this._interval=l,this._niceExtent=c}},t.prototype.calcNiceExtent=function(n){intervalScaleProto.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=mathLog$1(n)/mathLog$1(this.base),contain$1(n,this._extent)},t.prototype.normalize=function(n){return n=mathLog$1(n)/mathLog$1(this.base),normalize$2(n,this._extent)},t.prototype.scale=function(n){return n=scale$1(n,this._extent),mathPow$1(this.base,n)},t.type="log",t}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(a,t){return roundingErrorFix(a,getPrecision(t))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function a(t,n,o){this._prepareParams(t,n,o)}return a.prototype._prepareParams=function(t,n,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var l=n.get("min",!0);l==null&&(l=n.get("startValue",!0));var u=this._modelMinRaw=l;isFunction(u)?this._modelMinNum=parseAxisModelMinMax(t,u({min:o[0],max:o[1]})):u!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(t,u));var c=this._modelMaxRaw=n.get("max",!0);if(isFunction(c)?this._modelMaxNum=parseAxisModelMinMax(t,c({min:o[0],max:o[1]})):c!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(t,c)),s)this._axisDataLen=n.getCategories().length;else{var f=n.get("boundaryGap"),d=isArray$2(f)?f:[f||0,f||0];typeof d[0]=="boolean"||typeof d[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(d[0],1),parsePercent$1(d[1],1)]}},a.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,o=this._dataMax,s=this._axisDataLen,l=this._boundaryGapInner,u=t?null:o-n||Math.abs(n),c=this._modelMinRaw==="dataMin"?n:this._modelMinNum,f=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,d=c!=null,g=f!=null;c==null&&(c=t?s?0:NaN:n-l[0]*u),f==null&&(f=t?s?s-1:NaN:o+l[1]*u),(c==null||!isFinite(c))&&(c=NaN),(f==null||!isFinite(f))&&(f=NaN);var y=eqNaN(c)||eqNaN(f)||t&&!s;this._needCrossZero&&(c>0&&f>0&&!d&&(c=0),c<0&&f<0&&!g&&(f=0));var S=this._determinedMin,_=this._determinedMax;return S!=null&&(c=S,d=!0),_!=null&&(f=_,g=!0),{min:c,max:f,minFixed:d,maxFixed:g,isBlank:y}},a.prototype.modifyDataMinMax=function(t,n){this[DATA_MIN_MAX_ATTR[t]]=n},a.prototype.setDeterminedMinMax=function(t,n){var o=DETERMINED_MIN_MAX_ATTR[t];this[o]=n},a.prototype.freeze=function(){this.frozen=!0},a}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(a,t,n){var o=a.rawExtentInfo;return o||(o=new ScaleRawExtentInfo(a,t,n),a.rawExtentInfo=o,o)}function parseAxisModelMinMax(a,t){return t==null?null:eqNaN(t)?NaN:a.parse(t)}function getScaleExtent(a,t){var n=a.type,o=ensureScaleRawExtentInfo(a,t,a.getExtent()).calculate();a.setBlank(o.isBlank);var s=o.min,l=o.max,u=t.ecModel;if(u&&n==="time"){var c=prepareLayoutBarSeries("bar",u),f=!1;if(each$f(c,function(y){f=f||y.getBaseAxis()===t.axis}),f){var d=makeColumnLayout(c),g=adjustScaleForOverflow(s,l,t,d);s=g.min,l=g.max}}return{extent:[s,l],fixMin:o.minFixed,fixMax:o.maxFixed}}function adjustScaleForOverflow(a,t,n,o){var s=n.axis.getExtent(),l=Math.abs(s[1]-s[0]),u=retrieveColumnLayout(o,n.axis);if(u===void 0)return{min:a,max:t};var c=1/0;each$f(u,function(_){c=Math.min(_.offset,c)});var f=-1/0;each$f(u,function(_){f=Math.max(_.offset+_.width,f)}),c=Math.abs(c),f=Math.abs(f);var d=c+f,g=t-a,y=1-(c+f)/l,S=g/y-g;return t+=S*(f/d),a-=S*(c/d),{min:a,max:t}}function niceScaleExtent(a,t){var n=t,o=getScaleExtent(a,n),s=o.extent,l=n.get("splitNumber");a instanceof LogScale&&(a.base=n.get("logBase"));var u=a.type,c=n.get("interval"),f=u==="interval"||u==="time";a.setExtent(s[0],s[1]),a.calcNiceExtent({splitNumber:l,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:f?n.get("minInterval"):null,maxInterval:f?n.get("maxInterval"):null}),c!=null&&a.setInterval&&a.setInterval(c)}function createScaleByModel$1(a,t){if(t=t||a.get("type"),t)switch(t){case"category":return new OrdinalScale({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Scale.getClass(t)||IntervalScale)}}function ifAxisCrossZero(a){var t=a.scale.getExtent(),n=t[0],o=t[1];return!(n>0&&o>0||n<0&&o<0)}function makeLabelFormatter(a){var t=a.getLabelModel().get("formatter"),n=a.type==="category"?a.scale.getExtent()[0]:null;return a.scale.type==="time"?function(o){return function(s,l){return a.scale.getFormattedLabel(s,l,o)}}(t):isString(t)?function(o){return function(s){var l=a.scale.getLabel(s),u=o.replace("{value}",l??"");return u}}(t):isFunction(t)?function(o){return function(s,l){return n!=null&&(l=s.value-n),o(getAxisRawValue(a,s),l,s.level!=null?{level:s.level}:null)}}(t):function(o){return a.scale.getLabel(o)}}function getAxisRawValue(a,t){return a.type==="category"?a.scale.getLabel(t):t.value}function estimateLabelUnionRect(a){var t=a.model,n=a.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var o,s,l=n.getExtent();n instanceof OrdinalScale?s=n.count():(o=n.getTicks(),s=o.length);var u=a.getLabelModel(),c=makeLabelFormatter(a),f,d=1;s>40&&(d=Math.ceil(s/40));for(var g=0;g<s;g+=d){var y=o?o[g]:{value:l[0]+g},S=c(y,g),_=u.getTextRect(S),x=rotateTextRect(_,u.get("rotate")||0);f?f.union(x):f=x}return f}}function rotateTextRect(a,t){var n=t*Math.PI/180,o=a.width,s=a.height,l=o*Math.abs(Math.cos(n))+Math.abs(s*Math.sin(n)),u=o*Math.abs(Math.sin(n))+Math.abs(s*Math.cos(n)),c=new BoundingRect(a.x,a.y,l,u);return c}function getOptionCategoryInterval(a){var t=a.get("interval");return t??"auto"}function shouldShowAllLabels(a){return a.type==="category"&&getOptionCategoryInterval(a.getLabelModel())===0}function getDataDimensionsOnAxis(a,t){var n={};return each$f(a.mapDimensionsAll(t),function(o){n[getStackedDimension(a,o)]=!0}),keys$1(n)}function unionAxisExtentFromData(a,t,n){t&&each$f(getDataDimensionsOnAxis(t,n),function(o){var s=t.getApproximateExtent(o);s[0]<a[0]&&(a[0]=s[0]),s[1]>a[1]&&(a[1]=s[1])})}var AxisModelCommonMixin=function(){function a(){}return a.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},a.prototype.getCoordSysModel=function(){},a}(),EPSILON=1e-8;function isAroundEqual(a,t){return Math.abs(a-t)<EPSILON}function contain(a,t,n){var o=0,s=a[0];if(!s)return!1;for(var l=1;l<a.length;l++){var u=a[l];o+=windingLine(s[0],s[1],u[0],u[1],t,n),s=u}var c=a[0];return(!isAroundEqual(s[0],c[0])||!isAroundEqual(s[1],c[1]))&&(o+=windingLine(s[0],s[1],c[0],c[1],t,n)),o!==0}var TMP_TRANSFORM=[];function transformPoints(a,t){for(var n=0;n<a.length;n++)applyTransform$1(a[n],a[n],t)}function updateBBoxFromPoints(a,t,n,o){for(var s=0;s<a.length;s++){var l=a[s];o&&(l=o.project(l)),l&&isFinite(l[0])&&isFinite(l[1])&&(min$1(t,t,l),max$1(n,n,l))}}function centroid$1(a){for(var t=0,n=0,o=0,s=a.length,l=a[s-1][0],u=a[s-1][1],c=0;c<s;c++){var f=a[c][0],d=a[c][1],g=l*d-f*u;t+=g,n+=(l+f)*g,o+=(u+d)*g,l=f,u=d}return t?[n/t/3,o/t/3,t]:[a[0][0]||0,a[0][1]||0]}var Region=function(){function a(t){this.name=t}return a.prototype.setCenter=function(t){this._center=t},a.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},a}(),GeoJSONPolygonGeometry=function(){function a(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return a}(),GeoJSONLineStringGeometry=function(){function a(t){this.type="linestring",this.points=t}return a}(),GeoJSONRegion=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this,n)||this;return l.type="geoJSON",l.geometries=o,l._center=s&&[s[0],s[1]],l}return t.prototype.calcCenter=function(){for(var n=this.geometries,o,s=0,l=0;l<n.length;l++){var u=n[l],c=u.exterior,f=c&&c.length;f>s&&(o=u,s=f)}if(o)return centroid$1(o.exterior);var d=this.getBoundingRect();return[d.x+d.width/2,d.y+d.height/2]},t.prototype.getBoundingRect=function(n){var o=this._rect;if(o&&!n)return o;var s=[1/0,1/0],l=[-1/0,-1/0],u=this.geometries;return each$f(u,function(c){c.type==="polygon"?updateBBoxFromPoints(c.exterior,s,l,n):each$f(c.points,function(f){updateBBoxFromPoints(f,s,l,n)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])||(s[0]=s[1]=l[0]=l[1]=0),o=new BoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]),n||(this._rect=o),o},t.prototype.contain=function(n){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(n[0],n[1]))return!1;e:for(var l=0,u=s.length;l<u;l++){var c=s[l];if(c.type==="polygon"){var f=c.exterior,d=c.interiors;if(contain(f,n[0],n[1])){for(var g=0;g<(d?d.length:0);g++)if(contain(d[g],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=u.width/u.height;s?l||(l=s/c):s=c*l;for(var f=new BoundingRect(n,o,s,l),d=u.calculateTransform(f),g=this.geometries,y=0;y<g.length;y++){var S=g[y];S.type==="polygon"?(transformPoints(S.exterior,d),each$f(S.interiors,function(_){transformPoints(_,d)})):each$f(S.points,function(_){transformPoints(_,d)})}u=this._rect,u.copy(f),this._center=[u.x+u.width/2,u.y+u.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var o=new t(n,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},t}(Region),GeoSVGRegion=function(a){__extends$1(t,a);function t(n,o){var s=a.call(this,n)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,o=n.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],l=identity(TMP_TRANSFORM),u=n;u&&!u.isGeoSVGGraphicRoot;)mul(l,u.getLocalTransform(),l),u=u.parent;return invert(l,l),applyTransform$1(s,s,l),s},t}(Region);function decode(a){if(!a.UTF8Encoding)return a;var t=a,n=t.UTF8Scale;n==null&&(n=1024);var o=t.features;return each$f(o,function(s){var l=s.geometry,u=l.encodeOffsets,c=l.coordinates;if(u)switch(l.type){case"LineString":l.coordinates=decodeRing(c,u,n);break;case"Polygon":decodeRings(c,u,n);break;case"MultiLineString":decodeRings(c,u,n);break;case"MultiPolygon":each$f(c,function(f,d){return decodeRings(f,u[d],n)})}}),t.UTF8Encoding=!1,t}function decodeRings(a,t,n){for(var o=0;o<a.length;o++)a[o]=decodeRing(a[o],t[o],n)}function decodeRing(a,t,n){for(var o=[],s=t[0],l=t[1],u=0;u<a.length;u+=2){var c=a.charCodeAt(u)-64,f=a.charCodeAt(u+1)-64;c=c>>1^-(c&1),f=f>>1^-(f&1),c+=s,f+=l,s=c,l=f,o.push([c/n,f/n])}return o}function parseGeoJSON(a,t){return a=decode(a),map$1(filter$1(a.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var o=n.properties,s=n.geometry,l=[];switch(s.type){case"Polygon":var u=s.coordinates;l.push(new GeoJSONPolygonGeometry(u[0],u.slice(1)));break;case"MultiPolygon":each$f(s.coordinates,function(f){f[0]&&l.push(new GeoJSONPolygonGeometry(f[0],f.slice(1)))});break;case"LineString":l.push(new GeoJSONLineStringGeometry([s.coordinates]));break;case"MultiLineString":l.push(new GeoJSONLineStringGeometry(s.coordinates))}var c=new GeoJSONRegion(o[t||"name"],l,o.cp);return c.properties=o,c})}var inner$g=makeInner();function tickValuesToNumbers(a,t){var n=map$1(t,function(o){return a.scale.parse(o)});return a.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function createAxisLabels(a){var t=a.getLabelModel().get("customValues");if(t){var n=makeLabelFormatter(a),o=a.scale.getExtent(),s=tickValuesToNumbers(a,t),l=filter$1(s,function(u){return u>=o[0]&&u<=o[1]});return{labels:map$1(l,function(u){var c={value:u};return{formattedLabel:n(c),rawLabel:a.scale.getLabel(c),tickValue:u}})}}return a.type==="category"?makeCategoryLabels(a):makeRealNumberLabels(a)}function createAxisTicks(a,t){var n=a.getTickModel().get("customValues");if(n){var o=a.scale.getExtent(),s=tickValuesToNumbers(a,n);return{ticks:filter$1(s,function(l){return l>=o[0]&&l<=o[1]})}}return a.type==="category"?makeCategoryTicks(a,t):{ticks:map$1(a.scale.getTicks(),function(l){return l.value})}}function makeCategoryLabels(a){var t=a.getLabelModel(),n=makeCategoryLabelsActually(a,t);return!t.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function makeCategoryLabelsActually(a,t){var n=getListCache(a,"labels"),o=getOptionCategoryInterval(t),s=listCacheGet(n,o);if(s)return s;var l,u;return isFunction(o)?l=makeLabelsByCustomizedCategoryInterval(a,o):(u=o==="auto"?makeAutoCategoryInterval(a):o,l=makeLabelsByNumericCategoryInterval(a,u)),listCacheSet(n,o,{labels:l,labelCategoryInterval:u})}function makeCategoryTicks(a,t){var n=getListCache(a,"ticks"),o=getOptionCategoryInterval(t),s=listCacheGet(n,o);if(s)return s;var l,u;if((!t.get("show")||a.scale.isBlank())&&(l=[]),isFunction(o))l=makeLabelsByCustomizedCategoryInterval(a,o,!0);else if(o==="auto"){var c=makeCategoryLabelsActually(a,a.getLabelModel());u=c.labelCategoryInterval,l=map$1(c.labels,function(f){return f.tickValue})}else u=o,l=makeLabelsByNumericCategoryInterval(a,u,!0);return listCacheSet(n,o,{ticks:l,tickCategoryInterval:u})}function makeRealNumberLabels(a){var t=a.scale.getTicks(),n=makeLabelFormatter(a);return{labels:map$1(t,function(o,s){return{level:o.level,formattedLabel:n(o,s),rawLabel:a.scale.getLabel(o),tickValue:o.value}})}}function getListCache(a,t){return inner$g(a)[t]||(inner$g(a)[t]=[])}function listCacheGet(a,t){for(var n=0;n<a.length;n++)if(a[n].key===t)return a[n].value}function listCacheSet(a,t,n){return a.push({key:t,value:n}),n}function makeAutoCategoryInterval(a){var t=inner$g(a).autoInterval;return t??(inner$g(a).autoInterval=a.calculateCategoryInterval())}function calculateCategoryInterval(a){var t=fetchAutoCategoryIntervalCalculationParams(a),n=makeLabelFormatter(a),o=(t.axisRotate-t.labelRotate)/180*Math.PI,s=a.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var c=1;u>40&&(c=Math.max(1,Math.floor(u/40)));for(var f=l[0],d=a.dataToCoord(f+1)-a.dataToCoord(f),g=Math.abs(d*Math.cos(o)),y=Math.abs(d*Math.sin(o)),S=0,_=0;f<=l[1];f+=c){var x=0,b=0,T=getBoundingRect(n({value:f}),t.font,"center","top");x=T.width*1.3,b=T.height*1.3,S=Math.max(S,x,7),_=Math.max(_,b,7)}var A=S/g,C=_/y;isNaN(A)&&(A=1/0),isNaN(C)&&(C=1/0);var E=Math.max(0,Math.floor(Math.min(A,C))),P=inner$g(a.model),M=a.getExtent(),I=P.lastAutoInterval,D=P.lastTickCount;return I!=null&&D!=null&&Math.abs(I-E)<=1&&Math.abs(D-u)<=1&&I>E&&P.axisExtent0===M[0]&&P.axisExtent1===M[1]?E=I:(P.lastTickCount=u,P.lastAutoInterval=E,P.axisExtent0=M[0],P.axisExtent1=M[1]),E}function fetchAutoCategoryIntervalCalculationParams(a){var t=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function makeLabelsByNumericCategoryInterval(a,t,n){var o=makeLabelFormatter(a),s=a.scale,l=s.getExtent(),u=a.getLabelModel(),c=[],f=Math.max((t||0)+1,1),d=l[0],g=s.count();d!==0&&f>1&&g/f>2&&(d=Math.round(Math.ceil(d/f)*f));var y=shouldShowAllLabels(a),S=u.get("showMinLabel")||y,_=u.get("showMaxLabel")||y;S&&d!==l[0]&&b(l[0]);for(var x=d;x<=l[1];x+=f)b(x);_&&x-f!==l[1]&&b(l[1]);function b(T){var A={value:T};c.push(n?T:{formattedLabel:o(A),rawLabel:s.getLabel(A),tickValue:T})}return c}function makeLabelsByCustomizedCategoryInterval(a,t,n){var o=a.scale,s=makeLabelFormatter(a),l=[];return each$f(o.getTicks(),function(u){var c=o.getLabel(u),f=u.value;t(u.value,c)&&l.push(n?f:{formattedLabel:s(u),rawLabel:c,tickValue:f})}),l}var NORMALIZED_EXTENT=[0,1],Axis=function(){function a(t,n,o){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=o||[0,0]}return a.prototype.contain=function(t){var n=this._extent,o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return t>=o&&t<=s},a.prototype.containData=function(t){return this.scale.contain(t)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(t,n){var o=this._extent;o[0]=t,o[1]=n},a.prototype.dataToCoord=function(t,n){var o=this._extent,s=this.scale;return t=s.normalize(t),this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count())),linearMap$2(t,NORMALIZED_EXTENT,o,n)},a.prototype.coordToData=function(t,n){var o=this._extent,s=this.scale;this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count()));var l=linearMap$2(t,o,NORMALIZED_EXTENT,n);return this.scale.scale(l)},a.prototype.pointToData=function(t,n){},a.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),o=createAxisTicks(this,n),s=o.ticks,l=map$1(s,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),u=n.get("alignWithLabel");return fixOnBandTicksCoords(this,l,u,t.clamp),l},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var o=this.scale.getMinorTicks(n),s=map$1(o,function(l){return map$1(l,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this);return s},a.prototype.getViewLabels=function(){return createAxisLabels(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),o=n[1]-n[0]+(this.onBand?1:0);o===0&&(o=1);var s=Math.abs(t[1]-t[0]);return Math.abs(s)/o},a.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},a}();function fixExtentWithBands(a,t){var n=a[1]-a[0],o=t,s=n/o/2;a[0]+=s,a[1]-=s}function fixOnBandTicksCoords(a,t,n,o){var s=t.length;if(!a.onBand||n||!s)return;var l=a.getExtent(),u,c;if(s===1)t[0].coord=l[0],u=t[1]={coord:l[1],tickValue:t[0].tickValue};else{var f=t[s-1].tickValue-t[0].tickValue,d=(t[s-1].coord-t[0].coord)/f;each$f(t,function(_){_.coord-=d/2});var g=a.scale.getExtent();c=1+g[1]-t[s-1].tickValue,u={coord:t[s-1].coord+d*c,tickValue:g[1]+1},t.push(u)}var y=l[0]>l[1];S(t[0].coord,l[0])&&(o?t[0].coord=l[0]:t.shift()),o&&S(l[0],t[0].coord)&&t.unshift({coord:l[0]}),S(l[1],u.coord)&&(o?u.coord=l[1]:t.pop()),o&&S(u.coord,l[1])&&t.push({coord:l[1]});function S(_,x){return _=round$3(_),x=round$3(x),y?_>x:_<x}}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(a,t,n,o,s){var l=n.width,u=n.height;switch(a){case"top":o.set(n.x+l/2,n.y-t),s.set(0,-1);break;case"bottom":o.set(n.x+l/2,n.y+u+t),s.set(0,1);break;case"left":o.set(n.x-t,n.y+u/2),s.set(-1,0);break;case"right":o.set(n.x+l+t,n.y+u/2),s.set(1,0);break}}function projectPointToArc(a,t,n,o,s,l,u,c,f){u-=a,c-=t;var d=Math.sqrt(u*u+c*c);u/=d,c/=d;var g=u*n+a,y=c*n+t;if(Math.abs(o-s)%PI2$2<1e-4)return f[0]=g,f[1]=y,d-n;if(l){var S=o;o=normalizeRadian(s),s=normalizeRadian(S)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$2);var _=Math.atan2(c,u);if(_<0&&(_+=PI2$2),_>=o&&_<=s||_+PI2$2>=o&&_+PI2$2<=s)return f[0]=g,f[1]=y,d-n;var x=n*Math.cos(o)+a,b=n*Math.sin(o)+t,T=n*Math.cos(s)+a,A=n*Math.sin(s)+t,C=(x-u)*(x-u)+(b-c)*(b-c),E=(T-u)*(T-u)+(A-c)*(A-c);return C<E?(f[0]=x,f[1]=b,Math.sqrt(C)):(f[0]=T,f[1]=A,Math.sqrt(E))}function projectPointToLine(a,t,n,o,s,l,u,c){var f=s-a,d=l-t,g=n-a,y=o-t,S=Math.sqrt(g*g+y*y);g/=S,y/=S;var _=f*g+d*y,x=_/S;c&&(x=Math.min(Math.max(x,0),1)),x*=S;var b=u[0]=a+x*g,T=u[1]=t+x*y;return Math.sqrt((b-s)*(b-s)+(T-l)*(T-l))}function projectPointToRect(a,t,n,o,s,l,u){n<0&&(a=a+n,n=-n),o<0&&(t=t+o,o=-o);var c=a+n,f=t+o,d=u[0]=Math.min(Math.max(s,a),c),g=u[1]=Math.min(Math.max(l,t),f);return Math.sqrt((d-s)*(d-s)+(g-l)*(g-l))}var tmpPt=[];function nearestPointOnRect(a,t,n){var o=projectPointToRect(t.x,t.y,t.width,t.height,a.x,a.y,tmpPt);return n.set(tmpPt[0],tmpPt[1]),o}function nearestPointOnPath(a,t,n){for(var o=0,s=0,l=0,u=0,c,f,d=1/0,g=t.data,y=a.x,S=a.y,_=0;_<g.length;){var x=g[_++];_===1&&(o=g[_],s=g[_+1],l=o,u=s);var b=d;switch(x){case CMD$1.M:l=g[_++],u=g[_++],o=l,s=u;break;case CMD$1.L:b=projectPointToLine(o,s,g[_],g[_+1],y,S,tmpPt,!0),o=g[_++],s=g[_++];break;case CMD$1.C:b=cubicProjectPoint(o,s,g[_++],g[_++],g[_++],g[_++],g[_],g[_+1],y,S,tmpPt),o=g[_++],s=g[_++];break;case CMD$1.Q:b=quadraticProjectPoint(o,s,g[_++],g[_++],g[_],g[_+1],y,S,tmpPt),o=g[_++],s=g[_++];break;case CMD$1.A:var T=g[_++],A=g[_++],C=g[_++],E=g[_++],P=g[_++],M=g[_++];_+=1;var I=!!(1-g[_++]);c=Math.cos(P)*C+T,f=Math.sin(P)*E+A,_<=1&&(l=c,u=f);var D=(y-T)*E/C+T;b=projectPointToArc(T,A,E,P,P+M,I,D,S,tmpPt),o=Math.cos(P+M)*C+T,s=Math.sin(P+M)*E+A;break;case CMD$1.R:l=o=g[_++],u=s=g[_++];var L=g[_++],$=g[_++];b=projectPointToRect(l,u,L,$,y,S,tmpPt);break;case CMD$1.Z:b=projectPointToLine(o,s,l,u,y,S,tmpPt,!0),o=l,s=u;break}b<d&&(d=b,n.set(tmpPt[0],tmpPt[1]))}return d}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(a,t){if(a){var n=a.getTextGuideLine(),o=a.getTextContent();if(o&&n){var s=a.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],u=s.candidates||DEFAULT_SEARCH_SPACE,c=o.getBoundingRect().clone();c.applyTransform(o.getComputedTransform());var f=1/0,d=s.anchor,g=a.getComputedTransform(),y=g&&invert([],g),S=t.get("length2")||0;d&&pt2.copy(d);for(var _=0;_<u.length;_++){var x=u[_];getCandidateAnchor(x,0,c,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,S),pt1.transform(y);var b=a.getBoundingRect(),T=d?d.distance(pt1):a instanceof Path?nearestPointOnPath(pt1,a.path,pt2):nearestPointOnRect(pt1,b,pt2);T<f&&(f=T,pt1.transform(g),pt2.transform(g),pt2.toArray(l[0]),pt1.toArray(l[1]),pt0.toArray(l[2]))}limitTurnAngle(l,t.get("minTurnAngle")),n.setShape({points:l})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(a,t){if(t<=180&&t>0){t=t/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var n=dir.len(),o=dir2.len();if(!(n<.001||o<.001)){dir.scale(1/n),dir2.scale(1/o);var s=dir.dot(dir2),l=Math.cos(t);if(l<s){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI-t));var c=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(c))return;c<0?Point.copy(tmpProjPoint,pt1):c>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(a[1])}}}}function limitSurfaceAngle(a,t,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var o=dir.len(),s=dir2.len();if(!(o<.001||s<.001)){dir.scale(1/o),dir2.scale(1/s);var l=dir.dot(t),u=Math.cos(n);if(l<u){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var f=Math.PI/2,d=Math.acos(dir2.dot(t)),g=f+d-n;if(g>=f)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI/2-g));var y=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(y))return;y<0?Point.copy(tmpProjPoint,pt1):y>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(a[1])}}}}function setLabelLineState(a,t,n,o){var s=n==="normal",l=s?a:a.ensureState(n);l.ignore=t;var u=o.get("smooth");u&&u===!0&&(u=.3),l.shape=l.shape||{},u>0&&(l.shape.smooth=u);var c=o.getModel("lineStyle").getLineStyle();s?a.useStyle(c):l.style=c}function buildLabelLinePath(a,t){var n=t.smooth,o=t.points;if(o)if(a.moveTo(o[0][0],o[0][1]),n>0&&o.length>=3){var s=dist$1(o[0],o[1]),l=dist$1(o[1],o[2]);if(!s||!l){a.lineTo(o[1][0],o[1][1]),a.lineTo(o[2][0],o[2][1]);return}var u=Math.min(s,l)*n,c=lerp$1([],o[1],o[0],u/s),f=lerp$1([],o[1],o[2],u/l),d=lerp$1([],c,f,.5);a.bezierCurveTo(c[0],c[1],c[0],c[1],d[0],d[1]),a.bezierCurveTo(f[0],f[1],f[0],f[1],o[2][0],o[2][1])}else for(var g=1;g<o.length;g++)a.lineTo(o[g][0],o[g][1])}function setLabelLineStyle(a,t,n){var o=a.getTextGuideLine(),s=a.getTextContent();if(!s){o&&a.removeTextGuideLine();return}for(var l=t.normal,u=l.get("show"),c=s.ignore,f=0;f<DISPLAY_STATES.length;f++){var d=DISPLAY_STATES[f],g=t[d],y=d==="normal";if(g){var S=g.get("show"),_=y?c:retrieve2(s.states[d]&&s.states[d].ignore,c);if(_||!retrieve2(S,u)){var x=y?o:o&&o.states[d];x&&(x.ignore=!0),o&&setLabelLineState(o,!0,d,g);continue}o||(o=new Polyline$1,a.setTextGuideLine(o),!y&&(c||!u)&&setLabelLineState(o,!0,"normal",t.normal),a.stateProxy&&(o.stateProxy=a.stateProxy)),setLabelLineState(o,!1,d,g)}}if(o){defaults(o.style,n),o.style.fill=null;var b=l.get("showAbove"),T=a.textGuideLineConfig=a.textGuideLineConfig||{};T.showAbove=b||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(a,t){t=t||"labelLine";for(var n={normal:a.getModel(t)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];n[s]=a.getModel([s,t])}return n}function prepareLayoutList(a){for(var t=[],n=0;n<a.length;n++){var o=a[n];if(!o.defaultAttr.ignore){var s=o.label,l=s.getComputedTransform(),u=s.getBoundingRect(),c=!l||l[1]<1e-5&&l[2]<1e-5,f=s.style.margin||0,d=u.clone();d.applyTransform(l),d.x-=f/2,d.y-=f/2,d.width+=f,d.height+=f;var g=c?new OrientedBoundingRect(u,l):null;t.push({label:s,labelLine:o.labelLine,rect:d,localRect:u,obb:g,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:c,transform:l})}}return t}function shiftLayout(a,t,n,o,s,l){var u=a.length;if(u<2)return;a.sort(function(I,D){return I.rect[t]-D.rect[t]});for(var c=0,f,d=!1,g=0;g<u;g++){var y=a[g],S=y.rect;f=S[t]-c,f<0&&(S[t]-=f,y.label[t]-=f,d=!0),c=S[t]+S[n]}var _=a[0],x=a[u-1],b,T;A(),b<0&&P(-b,.8),T<0&&P(T,.8),A(),C(b,T,1),C(T,b,-1),A(),b<0&&M(-b),T<0&&M(T);function A(){b=_.rect[t]-o,T=s-x.rect[t]-x.rect[n]}function C(I,D,L){if(I<0){var $=Math.min(D,-I);if($>0){E($*L,0,u);var O=$+I;O<0&&P(-O*L,1)}else P(-I*L,1)}}function E(I,D,L){I!==0&&(d=!0);for(var $=D;$<L;$++){var O=a[$],V=O.rect;V[t]+=I,O.label[t]+=I}}function P(I,D){for(var L=[],$=0,O=1;O<u;O++){var V=a[O-1].rect,F=Math.max(a[O].rect[t]-V[t]-V[n],0);L.push(F),$+=F}if($){var z=Math.min(Math.abs(I)/$,D);if(I>0)for(var O=0;O<u-1;O++){var U=L[O]*z;E(U,0,O+1)}else for(var O=u-1;O>0;O--){var U=L[O-1]*z;E(-U,O,u)}}}function M(I){var D=I<0?-1:1;I=Math.abs(I);for(var L=Math.ceil(I/(u-1)),$=0;$<u-1;$++)if(D>0?E(L,0,$+1):E(-L,u-$-1,u),I-=L,I<=0)return}return d}function shiftLayoutOnX(a,t,n,o){return shiftLayout(a,"x","width",t,n)}function shiftLayoutOnY(a,t,n,o){return shiftLayout(a,"y","height",t,n)}function hideOverlap(a){var t=[];a.sort(function(b,T){return T.priority-b.priority});var n=new BoundingRect(0,0,0,0);function o(b){if(!b.ignore){var T=b.ensureState("emphasis");T.ignore==null&&(T.ignore=!1)}b.ignore=!0}for(var s=0;s<a.length;s++){var l=a[s],u=l.axisAligned,c=l.localRect,f=l.transform,d=l.label,g=l.labelLine;n.copy(l.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var y=l.obb,S=!1,_=0;_<t.length;_++){var x=t[_];if(n.intersect(x.rect)){if(u&&x.axisAligned){S=!0;break}if(x.obb||(x.obb=new OrientedBoundingRect(x.localRect,x.transform)),y||(y=new OrientedBoundingRect(c,f)),y.intersect(x.obb)){S=!0;break}}}S?(o(d),g&&o(g)):(d.attr("ignore",l.defaultAttr.ignore),g&&g.attr("ignore",l.defaultAttr.labelGuideIgnore),t.push(l))}}function cloneArr(a){if(a){for(var t=[],n=0;n<a.length;n++)t.push(a[n].slice());return t}}function prepareLayoutCallbackParams(a,t){var n=a.label,o=t&&t.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:cloneArr(o&&o.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(a,t,n){for(var o=0;o<n.length;o++){var s=n[o];t[s]!=null&&(a[s]=t[s])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(t,n,o,s,l){var u=s.style,c=s.__hostTarget,f=c.textConfig||{},d=s.getComputedTransform(),g=s.getBoundingRect().plain();BoundingRect.applyTransform(g,g,d),d?dummyTransformable.setLocalTransform(d):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var y=s.__hostTarget,S;if(y){S=y.getBoundingRect().plain();var _=y.getComputedTransform();BoundingRect.applyTransform(S,S,_)}var x=S&&y.getTextGuideLine();this._labelList.push({label:s,labelLine:x,seriesModel:o,dataIndex:t,dataType:n,layoutOption:l,computedLayoutOption:null,rect:g,hostRect:S,priority:S?S.width*S.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:x&&x.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:u.x,y:u.y,align:u.align,verticalAlign:u.verticalAlign,width:u.width,height:u.height,fontSize:u.fontSize},cursor:s.cursor,attachedPos:f.position,attachedRot:f.rotation}})},a.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var o=t.__model,s=o.get("labelLayout");(isFunction(s)||keys$1(s).length)&&t.group.traverse(function(l){if(l.ignore)return!0;var u=l.getTextContent(),c=getECData(l);u&&!u.disableLabelLayout&&n._addLabel(c.dataIndex,c.dataType,o,u,s)})},a.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),o=t.getHeight();function s(E,P){return function(){updateLabelLinePoints(E,P)}}for(var l=0;l<this._labelList.length;l++){var u=this._labelList[l],c=u.label,f=c.__hostTarget,d=u.defaultAttr,g=void 0;isFunction(u.layoutOption)?g=u.layoutOption(prepareLayoutCallbackParams(u,f)):g=u.layoutOption,g=g||{},u.computedLayoutOption=g;var y=Math.PI/180;f&&f.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:d.attachedPos,rotation:g.rotate!=null?g.rotate*y:d.attachedRot,offset:[g.dx||0,g.dy||0]});var S=!1;if(g.x!=null?(c.x=parsePercent(g.x,n),c.setStyle("x",0),S=!0):(c.x=d.x,c.setStyle("x",d.style.x)),g.y!=null?(c.y=parsePercent(g.y,o),c.setStyle("y",0),S=!0):(c.y=d.y,c.setStyle("y",d.style.y)),g.labelLinePoints){var _=f.getTextGuideLine();_&&(_.setShape({points:g.labelLinePoints}),S=!1)}var x=labelLayoutInnerStore(c);x.needsUpdateLabelLine=S,c.rotation=g.rotate!=null?g.rotate*y:d.rotation,c.scaleX=d.scaleX,c.scaleY=d.scaleY;for(var b=0;b<LABEL_OPTION_TO_STYLE_KEYS.length;b++){var T=LABEL_OPTION_TO_STYLE_KEYS[b];c.setStyle(T,g[T]!=null?g[T]:d.style[T])}if(g.draggable){if(c.draggable=!0,c.cursor="move",f){var A=u.seriesModel;if(u.dataIndex!=null){var C=u.seriesModel.getData(u.dataType);A=C.getItemModel(u.dataIndex)}c.on("drag",s(f,A.getModel("labelLine")))}}else c.off("drag"),c.cursor=d.cursor}},a.prototype.layout=function(t){var n=t.getWidth(),o=t.getHeight(),s=prepareLayoutList(this._labelList),l=filter$1(s,function(f){return f.layoutOption.moveOverlap==="shiftX"}),u=filter$1(s,function(f){return f.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(l,0,n),shiftLayoutOnY(u,0,o);var c=filter$1(s,function(f){return f.layoutOption.hideOverlap});hideOverlap(c)},a.prototype.processLabelsOverall=function(){var t=this;each$f(this._chartViewList,function(n){var o=n.__model,s=n.ignoreLabelLineUpdate,l=o.isAnimationEnabled();n.group.traverse(function(u){if(u.ignore&&!u.forceLabelAnimation)return!0;var c=!s,f=u.getTextContent();!c&&f&&(c=labelLayoutInnerStore(f).needsUpdateLabelLine),c&&t._updateLabelLine(u,o),l&&t._animateLabels(u,o)})})},a.prototype._updateLabelLine=function(t,n){var o=t.getTextContent(),s=getECData(t),l=s.dataIndex;if(o&&l!=null){var u=n.getData(s.dataType),c=u.getItemModel(l),f={},d=u.getItemVisual(l,"style");if(d){var g=u.getVisual("drawType");f.stroke=d[g]}var y=c.getModel("labelLine");setLabelLineStyle(t,getLabelLineStatesModels(c),f),updateLabelLinePoints(t,y)}},a.prototype._animateLabels=function(t,n){var o=t.getTextContent(),s=t.getTextGuideLine();if(o&&(t.forceLabelAnimation||!o.ignore&&!o.invisible&&!t.disableLabelAnimation&&!isElementRemoved(t))){var l=labelLayoutInnerStore(o),u=l.oldLayout,c=getECData(t),f=c.dataIndex,d={x:o.x,y:o.y,rotation:o.rotation},g=n.getData(c.dataType);if(u){o.attr(u);var S=t.prevStates;S&&(indexOf(S,"select")>=0&&o.attr(l.oldLayoutSelect),indexOf(S,"emphasis")>=0&&o.attr(l.oldLayoutEmphasis)),updateProps$1(o,d,n,f)}else if(o.attr(d),!labelInner(o).valueAnimation){var y=retrieve2(o.style.opacity,1);o.style.opacity=0,initProps(o,{style:{opacity:y}},n,f)}if(l.oldLayout=d,o.states.select){var _=l.oldLayoutSelect={};extendWithKeys(_,d,LABEL_LAYOUT_PROPS),extendWithKeys(_,o.states.select,LABEL_LAYOUT_PROPS)}if(o.states.emphasis){var x=l.oldLayoutEmphasis={};extendWithKeys(x,d,LABEL_LAYOUT_PROPS),extendWithKeys(x,o.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(o,f,g,n,n)}if(s&&!s.ignore&&!s.invisible){var l=labelLineAnimationStore(s),u=l.oldLayout,b={points:s.shape.points};u?(s.attr({shape:u}),updateProps$1(s,{shape:b},n)):(s.setShape(b),s.style.strokePercent=0,initProps(s,{style:{strokePercent:1}},n)),l.oldLayout=b}},a}(),getLabelManager=makeInner();function installLabelLayout(a){a.registerUpdateLifecycle("series:beforeupdate",function(t,n,o){var s=getLabelManager(n).labelManager;s||(s=getLabelManager(n).labelManager=new LabelManager),s.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(t,n,o){var s=getLabelManager(n).labelManager;o.updatedSeries.forEach(function(l){s.addLabelsOfSeries(n.getViewOfSeriesModel(l))}),s.updateLayoutConfig(n),s.layout(n),s.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function a(){}return a.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},a.prototype.moveTo=function(t,n){this._add("M",t,n)},a.prototype.lineTo=function(t,n){this._add("L",t,n)},a.prototype.bezierCurveTo=function(t,n,o,s,l,u){this._add("C",t,n,o,s,l,u)},a.prototype.quadraticCurveTo=function(t,n,o,s){this._add("Q",t,n,o,s)},a.prototype.arc=function(t,n,o,s,l,u){this.ellipse(t,n,o,o,0,s,l,u)},a.prototype.ellipse=function(t,n,o,s,l,u,c,f){var d=c-u,g=!f,y=Math.abs(d),S=isAroundZero(y-PI2$1)||(g?d>=PI2$1:-d>=PI2$1),_=d>0?d%PI2$1:d%PI2$1+PI2$1,x=!1;S?x=!0:isAroundZero(y)?x=!1:x=_>=PI$4==!!g;var b=t+o*mathCos(u),T=n+s*mathSin(u);this._start&&this._add("M",b,T);var A=Math.round(l*degree);if(S){var C=1/this._p,E=(g?1:-1)*(PI2$1-C);this._add("A",o,s,A,1,+g,t+o*mathCos(u+E),n+s*mathSin(u+E)),C>.01&&this._add("A",o,s,A,0,+g,b,T)}else{var P=t+o*mathCos(c),M=n+s*mathSin(c);this._add("A",o,s,A,+x,+g,P,M)}},a.prototype.rect=function(t,n,o,s){this._add("M",t,n),this._add("l",o,0),this._add("l",0,s),this._add("l",-o,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(t,n,o,s,l,u,c,f,d){for(var g=[],y=this._p,S=1;S<arguments.length;S++){var _=arguments[S];if(isNaN(_)){this._invalid=!0;return}g.push(Math.round(_*y)/y)}this._d.push(t+g.join(" ")),this._start=t==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),NONE="none",mathRound=Math.round;function pathHasFill(a){var t=a.fill;return t!=null&&t!==NONE}function pathHasStroke(a){var t=a.stroke;return t!=null&&t!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(a){return"stroke-"+a.toLowerCase()});function mapStyleToAttrs(a,t,n,o){var s=t.opacity==null?1:t.opacity;if(n instanceof ZRImage){a("opacity",s);return}if(pathHasFill(t)){var l=normalizeColor(t.fill);a("fill",l.color);var u=t.fillOpacity!=null?t.fillOpacity*l.opacity*s:l.opacity*s;u<1&&a("fill-opacity",u)}else a("fill",NONE);if(pathHasStroke(t)){var c=normalizeColor(t.stroke);a("stroke",c.color);var f=t.strokeNoScale?n.getLineScale():1,d=f?(t.lineWidth||0)/f:0,g=t.strokeOpacity!=null?t.strokeOpacity*c.opacity*s:c.opacity*s,y=t.strokeFirst;if(d!==1&&a("stroke-width",d),y&&a("paint-order",y?"stroke":"fill"),g<1&&a("stroke-opacity",g),t.lineDash){var S=getLineDash(n),_=S[0],x=S[1];_&&(x=mathRound(x||0),a("stroke-dasharray",_.join(",")),(x||o)&&a("stroke-dashoffset",x))}for(var b=0;b<strokeProps.length;b++){var T=strokeProps[b];if(t[T]!==DEFAULT_PATH_STYLE[T]){var A=t[T]||DEFAULT_PATH_STYLE[T];A&&a(svgStrokeProps[b],A)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(a){return document.createElementNS(SVGNS,a)}function createVNode(a,t,n,o,s){return{tag:a,attrs:n||{},children:o,text:s,key:t}}function createElementOpen(a,t){var n=[];if(t)for(var o in t){var s=t[o],l=o;s!==!1&&(s!==!0&&s!=null&&(l+='="'+s+'"'),n.push(l))}return"<"+a+" "+n.join(" ")+">"}function createElementClose(a){return"</"+a+">"}function vNodeToString(a,t){t=t||{};var n=t.newline?`
`:"";function o(s){var l=s.children,u=s.tag,c=s.attrs,f=s.text;return createElementOpen(u,c)+(u!=="style"?encodeHTML(f):f||"")+(l?""+n+map$1(l,function(d){return o(d)}).join(n)+n:"")+createElementClose(u)}return o(a)}function getCssString(a,t,n){n=n||{};var o=n.newline?`
`:"",s=" {"+o,l=o+"}",u=map$1(keys$1(a),function(f){return f+s+map$1(keys$1(a[f]),function(d){return d+":"+a[f][d]+";"}).join(o)+l}).join(o),c=map$1(keys$1(t),function(f){return"@keyframes "+f+s+map$1(keys$1(t[f]),function(d){return d+s+map$1(keys$1(t[f][d]),function(g){var y=t[f][d][g];return g==="d"&&(y='path("'+y+'")'),g+":"+y+";"}).join(o)+l}).join(o)+l}).join(o);return!u&&!c?"":["<![CDATA[",u,c,"]]>"].join(o)}function createBrushScope(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(a,t,n,o){return createVNode("svg","root",{width:a,height:t,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+a+" "+t:!1},n)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(a,t,n){var o=extend({},a.shape);extend(o,t),a.buildPath(n,o);var s=new SVGPathRebuilder;return s.reset(getPathPrecision(a)),n.rebuildPath(s,1),s.generateStr(),s.getStr()}function setTransformOrigin(a,t){var n=t.originX,o=t.originY;(n||o)&&(a[transformOriginKey]=n+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(a,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=a,n}function createCompoundPathCSSAnimation(a,t,n){var o=a.shape.paths,s={},l,u;if(each$f(o,function(f){var d=createBrushScope(n.zrId);d.animation=!0,createCSSAnimation(f,{},d,!0);var g=d.cssAnims,y=d.cssNodes,S=keys$1(g),_=S.length;if(_){u=S[_-1];var x=g[u];for(var b in x){var T=x[b];s[b]=s[b]||{d:""},s[b].d+=T.d||""}for(var A in y){var C=y[A].animation;C.indexOf(u)>=0&&(l=C)}}}),!!l){t.d=!1;var c=addAnimation(s,n);return l.replace(u,c)}}function getEasingFunc(a){return isString(a)?EASING_MAP[a]?"cubic-bezier("+EASING_MAP[a]+")":createCubicEasingFunc(a)?a:"":""}function createCSSAnimation(a,t,n,o){var s=a.animators,l=s.length,u=[];if(a instanceof CompoundPath){var c=createCompoundPathCSSAnimation(a,t,n);if(c)u.push(c);else if(!l)return}else if(!l)return;for(var f={},d=0;d<l;d++){var g=s[d],y=[g.getMaxTime()/1e3+"s"],S=getEasingFunc(g.getClip().easing),_=g.getDelay();S?y.push(S):y.push("linear"),_&&y.push(_/1e3+"s"),g.getLoop()&&y.push("infinite");var x=y.join(" ");f[x]=f[x]||[x,[]],f[x][1].push(g)}function b(C){var E=C[1],P=E.length,M={},I={},D={},L="animation-timing-function";function $(re,J,oe){for(var ne=re.getTracks(),Y=re.getMaxTime(),Z=0;Z<ne.length;Z++){var K=ne[Z];if(K.needsAnimate()){var Q=K.keyframes,ie=K.propName;if(oe&&(ie=oe(ie)),ie)for(var ae=0;ae<Q.length;ae++){var ce=Q[ae],ue=Math.round(ce.time/Y*100)+"%",he=getEasingFunc(ce.easing),se=ce.rawValue;(isString(se)||isNumber$2(se))&&(J[ue]=J[ue]||{},J[ue][ie]=ce.rawValue,he&&(J[ue][L]=he))}}}}for(var O=0;O<P;O++){var V=E[O],F=V.targetName;F?F==="shape"&&$(V,I):!o&&$(V,M)}for(var z in M){var U={};copyTransform(U,a),extend(U,M[z]);var H=getSRTTransformString(U),N=M[z][L];D[z]=H?{transform:H}:{},setTransformOrigin(D[z],U),N&&(D[z][L]=N)}var G,R=!0;for(var z in I){D[z]=D[z]||{};var B=!G,N=I[z][L];B&&(G=new PathProxy);var j=G.len();G.reset(),D[z].d=buildPathString(a,I[z],G);var W=G.len();if(!B&&j!==W){R=!1;break}N&&(D[z][L]=N)}if(!R)for(var z in D)delete D[z].d;if(!o)for(var O=0;O<P;O++){var V=E[O],F=V.targetName;F==="style"&&$(V,D,function(ne){return ANIMATE_STYLE_MAP[ne]})}for(var X=keys$1(D),ee=!0,te,O=1;O<X.length;O++){var le=X[O-1],fe=X[O];if(D[le][transformOriginKey]!==D[fe][transformOriginKey]){ee=!1;break}te=D[le][transformOriginKey]}if(ee&&te){for(var z in D)D[z][transformOriginKey]&&delete D[z][transformOriginKey];t[transformOriginKey]=te}if(filter$1(X,function(re){return keys$1(D[re]).length>0}).length){var q=addAnimation(D,n);return q+" "+C[0]+" both"}}for(var T in f){var c=b(f[T]);c&&u.push(c)}if(u.length){var A=n.zrId+"-cls-"+getClassId();n.cssNodes["."+A]={animation:u.join(",")},t.class=A}}function createCSSEmphasis(a,t,n){if(!a.ignore)if(a.isSilent()){var o={"pointer-events":"none"};setClassAttribute(o,t,n)}else{var s=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},l=s.fill;if(!l){var u=a.style&&a.style.fill,c=a.states.select&&a.states.select.style&&a.states.select.style.fill,f=a.currentStates.indexOf("select")>=0&&c||u;f&&(l=liftColor(f))}var d=s.lineWidth;if(d){var g=!s.strokeNoScale&&a.transform?a.transform[0]:1;d=d/g}var o={cursor:"pointer"};l&&(o.fill=l),s.stroke&&(o.stroke=s.stroke),d&&(o["stroke-width"]=d),setClassAttribute(o,t,n)}}function setClassAttribute(a,t,n,o){var s=JSON.stringify(a),l=n.cssStyleCache[s];l||(l=n.zrId+"-cls-"+getClassId(),n.cssStyleCache[s]=l,n.cssNodes["."+l+":hover"]=a),t.class=t.class?t.class+" "+l:l}var round$1=Math.round;function isImageLike(a){return a&&isString(a.src)}function isCanvasLike(a){return a&&isFunction(a.toDataURL)}function setStyleAttrs(a,t,n,o){mapStyleToAttrs(function(s,l){var u=s==="fill"||s==="stroke";u&&isGradient(l)?setGradient(t,a,s,o):u&&isPattern(l)?setPattern(n,a,s,o):a[s]=l,u&&o.ssr&&l==="none"&&(a["pointer-events"]="visible")},t,n,!1),setShadow(n,a,o)}function setMetaData(a,t){var n=getElementSSRData(t);n&&(n.each(function(o,s){o!=null&&(a[(META_DATA_PREFIX+s).toLowerCase()]=o+"")}),t.isSilent()&&(a[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(a){return isAroundZero(a[0]-1)&&isAroundZero(a[1])&&isAroundZero(a[2])&&isAroundZero(a[3]-1)}function noTranslate(a){return isAroundZero(a[4])&&isAroundZero(a[5])}function setTransform(a,t,n){if(t&&!(noTranslate(t)&&noRotateScale(t))){var o=1e4;a.transform=noRotateScale(t)?"translate("+round$1(t[4]*o)/o+" "+round$1(t[5]*o)/o+")":getMatrixStr(t)}}function convertPolyShape(a,t,n){for(var o=a.points,s=[],l=0;l<o.length;l++)s.push(round$1(o[l][0]*n)/n),s.push(round$1(o[l][1]*n)/n);t.points=s.join(" ")}function validatePolyShape(a){return!a.smooth}function createAttrsConvert(a){var t=map$1(a,function(n){return typeof n=="string"?[n,n]:n});return function(n,o,s){for(var l=0;l<t.length;l++){var u=t[l],c=n[u[0]];c!=null&&(o[u[1]]=round$1(c*s)/s)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(a){for(var t=a.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function brushSVGPath(a,t){var n=a.style,o=a.shape,s=builtinShapesDef[a.type],l={},u=t.animation,c="path",f=a.style.strokePercent,d=t.compress&&getPathPrecision(a)||4;if(s&&!t.willUpdate&&!(s[1]&&!s[1](o))&&!(u&&hasShapeAnimation(a))&&!(f<1)){c=a.type;var g=Math.pow(10,d);s[0](o,l,g)}else{var y=!a.path||a.shapeChanged();a.path||a.createPathProxy();var S=a.path;y&&(S.beginPath(),a.buildPath(S,a.shape),a.pathUpdated());var _=S.getVersion(),x=a,b=x.__svgPathBuilder;(x.__svgPathVersion!==_||!b||f!==x.__svgPathStrokePercent)&&(b||(b=x.__svgPathBuilder=new SVGPathRebuilder),b.reset(d),S.rebuildPath(b,f),b.generateStr(),x.__svgPathVersion=_,x.__svgPathStrokePercent=f),l.d=b.getStr()}return setTransform(l,a.transform),setStyleAttrs(l,n,a,t),setMetaData(l,a),t.animation&&createCSSAnimation(a,l,t),t.emphasis&&createCSSEmphasis(a,l,t),createVNode(c,a.id+"",l)}function brushSVGImage(a,t){var n=a.style,o=n.image;if(o&&!isString(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var s=n.x||0,l=n.y||0,u=n.width,c=n.height,f={href:o,width:u,height:c};return s&&(f.x=s),l&&(f.y=l),setTransform(f,a.transform),setStyleAttrs(f,n,a,t),setMetaData(f,a),t.animation&&createCSSAnimation(a,f,t),createVNode("image",a.id+"",f)}}function brushSVGTSpan(a,t){var n=a.style,o=n.text;if(o!=null&&(o+=""),!(!o||isNaN(n.x)||isNaN(n.y))){var s=n.font||DEFAULT_FONT,l=n.x||0,u=adjustTextY$1(n.y||0,getLineHeight(s),n.textBaseline),c=TEXT_ALIGN_TO_ANCHOR[n.textAlign]||n.textAlign,f={"dominant-baseline":"central","text-anchor":c};if(hasSeparateFont(n)){var d="",g=n.fontStyle,y=parseFontSize(n.fontSize);if(!parseFloat(y))return;var S=n.fontFamily||DEFAULT_FONT_FAMILY,_=n.fontWeight;d+="font-size:"+y+";font-family:"+S+";",g&&g!=="normal"&&(d+="font-style:"+g+";"),_&&_!=="normal"&&(d+="font-weight:"+_+";"),f.style=d}else f.style="font: "+s;return o.match(/\s/)&&(f["xml:space"]="preserve"),l&&(f.x=l),u&&(f.y=u),setTransform(f,a.transform),setStyleAttrs(f,n,a,t),setMetaData(f,a),t.animation&&createCSSAnimation(a,f,t),createVNode("text",a.id+"",f,void 0,o)}}function brush(a,t){if(a instanceof Path)return brushSVGPath(a,t);if(a instanceof ZRImage)return brushSVGImage(a,t);if(a instanceof TSpan)return brushSVGTSpan(a,t)}function setShadow(a,t,n){var o=a.style;if(hasShadow(o)){var s=getShadowKey(a),l=n.shadowCache,u=l[s];if(!u){var c=a.getGlobalScale(),f=c[0],d=c[1];if(!f||!d)return;var g=o.shadowOffsetX||0,y=o.shadowOffsetY||0,S=o.shadowBlur,_=normalizeColor(o.shadowColor),x=_.opacity,b=_.color,T=S/2/f,A=S/2/d,C=T+" "+A;u=n.zrId+"-s"+n.shadowIdx++,n.defs[u]=createVNode("filter",u,{id:u,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:g/f,dy:y/d,stdDeviation:C,"flood-color":b,"flood-opacity":x})]),l[s]=u}t.filter=getIdURL(u)}}function setGradient(a,t,n,o){var s=a[n],l,u={gradientUnits:s.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(s))l="linearGradient",u.x1=s.x,u.y1=s.y,u.x2=s.x2,u.y2=s.y2;else if(isRadialGradient(s))l="radialGradient",u.cx=retrieve2(s.x,.5),u.cy=retrieve2(s.y,.5),u.r=retrieve2(s.r,.5);else return;for(var c=s.colorStops,f=[],d=0,g=c.length;d<g;++d){var y=round4(c[d].offset)*100+"%",S=c[d].color,_=normalizeColor(S),x=_.color,b=_.opacity,T={offset:y};T["stop-color"]=x,b<1&&(T["stop-opacity"]=b),f.push(createVNode("stop",d+"",T))}var A=createVNode(l,"",u,f),C=vNodeToString(A),E=o.gradientCache,P=E[C];P||(P=o.zrId+"-g"+o.gradientIdx++,E[C]=P,u.id=P,o.defs[P]=createVNode(l,P,u,f)),t[n]=getIdURL(P)}function setPattern(a,t,n,o){var s=a.style[n],l=a.getBoundingRect(),u={},c=s.repeat,f=c==="no-repeat",d=c==="repeat-x",g=c==="repeat-y",y;if(isImagePattern(s)){var S=s.imageWidth,_=s.imageHeight,x=void 0,b=s.image;if(isString(b)?x=b:isImageLike(b)?x=b.src:isCanvasLike(b)&&(x=b.toDataURL()),typeof Image>"u"){var T="Image width/height must been given explictly in svg-ssr renderer.";assert(S,T),assert(_,T)}else if(S==null||_==null){var A=function(O,V){if(O){var F=O.elm,z=S||V.width,U=_||V.height;O.tag==="pattern"&&(d?(U=1,z/=l.width):g&&(z=1,U/=l.height)),O.attrs.width=z,O.attrs.height=U,F&&(F.setAttribute("width",z),F.setAttribute("height",U))}},C=createOrUpdateImage(x,null,a,function(O){f||A(I,O),A(y,O)});C&&C.width&&C.height&&(S=S||C.width,_=_||C.height)}y=createVNode("image","img",{href:x,width:S,height:_}),u.width=S,u.height=_}else s.svgElement&&(y=clone$4(s.svgElement),u.width=s.svgWidth,u.height=s.svgHeight);if(y){var E,P;f?E=P=1:d?(P=1,E=u.width/l.width):g?(E=1,P=u.height/l.height):u.patternUnits="userSpaceOnUse",E!=null&&!isNaN(E)&&(u.width=E),P!=null&&!isNaN(P)&&(u.height=P);var M=getSRTTransformString(s);M&&(u.patternTransform=M);var I=createVNode("pattern","",u,[y]),D=vNodeToString(I),L=o.patternCache,$=L[D];$||($=o.zrId+"-p"+o.patternIdx++,L[D]=$,u.id=$,I=o.defs[$]=createVNode("pattern",$,u,[y])),t[n]=getIdURL($)}}function setClipPath(a,t,n){var o=n.clipPathCache,s=n.defs,l=o[a.id];if(!l){l=n.zrId+"-c"+n.clipPathIdx++;var u={id:l};o[a.id]=l,s[l]=createVNode("clipPath",l,u,[brushSVGPath(a,n)])}t["clip-path"]=getIdURL(l)}function createTextNode(a){return document.createTextNode(a)}function insertBefore(a,t,n){a.insertBefore(t,n)}function removeChild(a,t){a.removeChild(t)}function appendChild(a,t){a.appendChild(t)}function parentNode(a){return a.parentNode}function nextSibling(a){return a.nextSibling}function setTextContent(a,t){a.textContent=t}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(a){return a===void 0}function isDef$1(a){return a!==void 0}function createKeyToOldIdx(a,t,n){for(var o={},s=t;s<=n;++s){var l=a[s].key;l!==void 0&&(o[l]=s)}return o}function sameVnode(a,t){var n=a.key===t.key,o=a.tag===t.tag;return o&&n}function createElm(a){var t,n=a.children,o=a.tag;if(isDef$1(o)){var s=a.elm=createElement(o);if(updateAttrs(emptyNode,a),isArray$2(n))for(t=0;t<n.length;++t){var l=n[t];l!=null&&appendChild(s,createElm(l))}else isDef$1(a.text)&&!isObject$3(a.text)&&appendChild(s,createTextNode(a.text))}else a.elm=createTextNode(a.text);return a.elm}function addVnodes(a,t,n,o,s){for(;o<=s;++o){var l=n[o];l!=null&&insertBefore(a,createElm(l),t)}}function removeVnodes(a,t,n,o){for(;n<=o;++n){var s=t[n];if(s!=null)if(isDef$1(s.tag)){var l=parentNode(s.elm);removeChild(l,s.elm)}else removeChild(a,s.elm)}}function updateAttrs(a,t){var n,o=t.elm,s=a&&a.attrs||{},l=t.attrs||{};if(s!==l){for(n in l){var u=l[n],c=s[n];c!==u&&(u===!0?o.setAttribute(n,""):u===!1?o.removeAttribute(n):n==="style"?o.style.cssText=u:n.charCodeAt(0)!==xChar?o.setAttribute(n,u):n==="xmlns:xlink"||n==="xmlns"?o.setAttributeNS(XMLNS,n,u):n.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,n,u):n.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,n,u):o.setAttribute(n,u))}for(n in s)n in l||o.removeAttribute(n)}}function updateChildren(a,t,n){for(var o=0,s=0,l=t.length-1,u=t[0],c=t[l],f=n.length-1,d=n[0],g=n[f],y,S,_,x;o<=l&&s<=f;)u==null?u=t[++o]:c==null?c=t[--l]:d==null?d=n[++s]:g==null?g=n[--f]:sameVnode(u,d)?(patchVnode(u,d),u=t[++o],d=n[++s]):sameVnode(c,g)?(patchVnode(c,g),c=t[--l],g=n[--f]):sameVnode(u,g)?(patchVnode(u,g),insertBefore(a,u.elm,nextSibling(c.elm)),u=t[++o],g=n[--f]):sameVnode(c,d)?(patchVnode(c,d),insertBefore(a,c.elm,u.elm),c=t[--l],d=n[++s]):(isUndef(y)&&(y=createKeyToOldIdx(t,o,l)),S=y[d.key],isUndef(S)?insertBefore(a,createElm(d),u.elm):(_=t[S],_.tag!==d.tag?insertBefore(a,createElm(d),u.elm):(patchVnode(_,d),t[S]=void 0,insertBefore(a,_.elm,u.elm))),d=n[++s]);(o<=l||s<=f)&&(o>l?(x=n[f+1]==null?null:n[f+1].elm,addVnodes(a,x,n,s,f)):removeVnodes(a,t,o,l))}function patchVnode(a,t){var n=t.elm=a.elm,o=a.children,s=t.children;a!==t&&(updateAttrs(a,t),isUndef(t.text)?isDef$1(o)&&isDef$1(s)?o!==s&&updateChildren(n,o,s):isDef$1(s)?(isDef$1(a.text)&&setTextContent(n,""),addVnodes(n,null,s,0,s.length-1)):isDef$1(o)?removeVnodes(n,o,0,o.length-1):isDef$1(a.text)&&setTextContent(n,""):a.text!==t.text&&(isDef$1(o)&&removeVnodes(n,o,0,o.length-1),setTextContent(n,t.text)))}function patch(a,t){if(sameVnode(a,t))patchVnode(a,t);else{var n=a.elm,o=parentNode(n);createElm(t),o!==null&&(insertBefore(o,t.elm,nextSibling(n)),removeVnodes(o,[a],0,0))}return t}var svgId=0,SVGPainter=function(){function a(t,n,o){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=n,this._opts=o=extend({},o),this.root=t,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),t&&!o.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var l=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),s.appendChild(l),t.appendChild(s)}this.resize(o.width,o.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,t),this._oldVNode=t}},a.prototype.renderOneToVNode=function(t){return brush(t,createBrushScope(this._id))},a.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),o=this._width,s=this._height,l=createBrushScope(this._id);l.animation=t.animation,l.willUpdate=t.willUpdate,l.compress=t.compress,l.emphasis=t.emphasis,l.ssr=this._opts.ssr;var u=[],c=this._bgVNode=createBackgroundVNode(o,s,this._backgroundColor,l);c&&u.push(c);var f=t.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(n,l,f?f.children:u),f&&u.push(f);var d=map$1(keys$1(l.defs),function(S){return l.defs[S]});if(d.length&&u.push(createVNode("defs","defs",{},d)),t.animation){var g=getCssString(l.cssNodes,l.cssAnims,{newline:!0});if(g){var y=createVNode("style","stl",{},[],g);u.push(y)}}return createSVGVNode(o,s,u,t.useViewBox)},a.prototype.renderToString=function(t){return t=t||{},vNodeToString(this.renderToVNode({animation:retrieve2(t.cssAnimation,!0),emphasis:retrieve2(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(t.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(t,n,o){for(var s=t.length,l=[],u=0,c,f,d=0,g=0;g<s;g++){var y=t[g];if(!y.invisible){var S=y.__clipPaths,_=S&&S.length||0,x=f&&f.length||0,b=void 0;for(b=Math.max(_-1,x-1);b>=0&&!(S&&f&&S[b]===f[b]);b--);for(var T=x-1;T>b;T--)u--,c=l[u-1];for(var A=b+1;A<_;A++){var C={};setClipPath(S[A],C,n);var E=createVNode("g","clip-g-"+d++,C,[]);(c?c.children:o).push(E),l[u++]=E,c=E}f=S;var P=brush(y,n);P&&(c?c.children:o).push(P)}}},a.prototype.resize=function(t,n){var o=this._opts,s=this.root,l=this._viewport;if(t!=null&&(o.width=t),n!=null&&(o.height=n),s&&l&&(l.style.display="none",t=getSize$1(s,0,o),n=getSize$1(s,1,o),l.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,l){var u=l.style;u.width=t+"px",u.height=n+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute("width",t),c.setAttribute("height",n));var f=this._bgVNode&&this._bgVNode.elm;f&&(f.setAttribute("width",t),f.setAttribute("height",n))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(t){var n=this.renderToString(),o="data:image/svg+xml;";return t?(n=encodeBase64(n),n&&o+"base64,"+n):o+"charset=UTF-8,"+encodeURIComponent(n)},a}();function createMethodNotSupport(a){return function(){}}function createBackgroundVNode(a,t,n,o){var s;if(n&&n!=="none")if(s=createVNode("rect","bg",{width:a,height:t,x:"0",y:"0"}),isGradient(n))setGradient({fill:n},s.attrs,"fill",o);else if(isPattern(n))setPattern({style:{fill:n},dirty:noop$2,getBoundingRect:function(){return{width:a,height:t}}},s.attrs,"fill",o);else{var l=normalizeColor(n),u=l.color,c=l.opacity;s.attrs.fill=u,c<1&&(s.attrs["fill-opacity"]=c)}return s}function install$S(a){a.registerPainter("svg",SVGPainter)}function createDom(a,t,n){var o=platformApi.createCanvas(),s=t.getWidth(),l=t.getHeight(),u=o.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=s+"px",u.height=l+"px",o.setAttribute("data-zr-dom-id",a)),o.width=s*n,o.height=l*n,o}var Layer=function(a){__extends(t,a);function t(n,o,s){var l=a.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null;var u;s=s||devicePixelRatio,typeof n=="string"?u=createDom(n,o,s):isObject$3(n)&&(u=n,n=u.id),l.id=n,l.dom=u;var c=u.style;return c&&(disableUserSelect(u),u.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),l.painter=o,l.dpr=s,l}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,o,s,l){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u=[],c=this.maxRepaintRectCount,f=!1,d=new BoundingRect(0,0,0,0);function g(C){if(!(!C.isFinite()||C.isZero()))if(u.length===0){var E=new BoundingRect(0,0,0,0);E.copy(C),u.push(E)}else{for(var P=!1,M=1/0,I=0,D=0;D<u.length;++D){var L=u[D];if(L.intersect(C)){var $=new BoundingRect(0,0,0,0);$.copy(L),$.union(C),u[D]=$,P=!0;break}else if(f){d.copy(C),d.union(L);var O=C.width*C.height,V=L.width*L.height,F=d.width*d.height,z=F-O-V;z<M&&(M=z,I=D)}}if(f&&(u[I].union(C),P=!0),!P){var E=new BoundingRect(0,0,0,0);E.copy(C),u.push(E)}f||(f=u.length>=c)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var S=n[y];if(S){var _=S.shouldBePainted(s,l,!0,!0),x=S.__isRendered&&(S.__dirty&REDRAW_BIT||!_)?S.getPrevPaintRect():null;x&&g(x);var b=_&&(S.__dirty&REDRAW_BIT||!S.__isRendered)?S.getPaintRect():null;b&&g(b)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var S=o[y],_=S&&S.shouldBePainted(s,l,!0,!0);if(S&&(!_||!S.__zr)&&S.__isRendered){var x=S.getPrevPaintRect();x&&g(x)}}var T;do{T=!1;for(var y=0;y<u.length;){if(u[y].isZero()){u.splice(y,1);continue}for(var A=y+1;A<u.length;)u[y].intersect(u[A])?(T=!0,u[y].union(u[A]),u.splice(A,1)):A++;y++}}while(T);return this._paintRects=u,u},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,o){var s=this.dpr,l=this.dom,u=l.style,c=this.domBack;u&&(u.width=n+"px",u.height=o+"px"),l.width=n*s,l.height=o*s,c&&(c.width=n*s,c.height=o*s,s!==1&&this.ctxBack.scale(s,s))},t.prototype.clear=function(n,o,s){var l=this.dom,u=this.ctx,c=l.width,f=l.height;o=o||this.clearColor;var d=this.motionBlur&&!n,g=this.lastFrameAlpha,y=this.dpr,S=this;d&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(l,0,0,c/y,f/y));var _=this.domBack;function x(b,T,A,C){if(u.clearRect(b,T,A,C),o&&o!=="transparent"){var E=void 0;if(isGradientObject(o)){var P=o.global||o.__width===A&&o.__height===C;E=P&&o.__canvasGradient||getCanvasGradient(u,o,{x:0,y:0,width:A,height:C}),o.__canvasGradient=E,o.__width=A,o.__height=C}else isImagePatternObject(o)&&(o.scaleX=o.scaleX||y,o.scaleY=o.scaleY||y,E=createCanvasPattern(u,o,{dirty:function(){S.setUnpainted(),S.painter.refresh()}}));u.save(),u.fillStyle=E||o,u.fillRect(b,T,A,C),u.restore()}d&&(u.save(),u.globalAlpha=g,u.drawImage(_,b,T,A,C),u.restore())}!s||d?x(0,0,c,f):s.length&&each$f(s,function(b){x(b.x*y,b.y*y,b.width*y,b.height*y)})},t}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function createRoot(a,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+a+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var CanvasPainter=function(){function a(t,n,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var l=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=o=extend({},o||{}),this.dpr=o.devicePixelRatio||devicePixelRatio,this._singleCanvas=l,this.root=t;var u=t.style;u&&(disableUserSelect(t),t.innerHTML=""),this.storage=n;var c=this._zlevelList;this._prevDisplayList=[];var f=this._layers;if(l){var g=t,y=g.width,S=g.height;o.width!=null&&(y=o.width),o.height!=null&&(S=o.height),this.dpr=o.devicePixelRatio||1,g.width=y*this.dpr,g.height=S*this.dpr,this._width=y,this._height=S;var _=new Layer(g,this,this.dpr);_.__builtin__=!0,_.initContext(),f[CANVAS_ZLEVEL]=_,_.zlevel=CANVAS_ZLEVEL,c.push(CANVAS_ZLEVEL),this._domRoot=t}else{this._width=getSize$1(t,0,o),this._height=getSize$1(t,1,o);var d=this._domRoot=createRoot(this._width,this._height);t.appendChild(d)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,o,t,this._redrawId);for(var l=0;l<s.length;l++){var u=s[l],c=this._layers[u];if(!c.__builtin__&&c.refresh){var f=l===0?this._backgroundColor:null;c.refresh(f)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(t){var n=t.length,o=this._hoverlayer;if(o&&o.clear(),!!n){for(var s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l,u=0;u<n;u++){var c=t[u];c.__inHover&&(o||(o=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),l||(l=o.ctx,l.save()),brush$1(l,c,s,u===n-1))}l&&l.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},a.prototype.paintOne=function(t,n){brushSingle(t,n)},a.prototype._paintList=function(t,n,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(t);var l=this._doPaintList(t,n,o),u=l.finished,c=l.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),u)this.eachLayer(function(d){d.afterBrush&&d.afterBrush()});else{var f=this;requestAnimationFrame$1(function(){f._paintList(t,n,o,s)})}}},a.prototype._compositeManually=function(){var t=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,o=this._domRoot.height;t.clearRect(0,0,n,o),this.eachBuiltinLayer(function(s){s.virtual&&t.drawImage(s.dom,0,0,n,o)})},a.prototype._doPaintList=function(t,n,o){for(var s=this,l=[],u=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var f=this._zlevelList[c],d=this._layers[f];d.__builtin__&&d!==this._hoverlayer&&(d.__dirty||o)&&l.push(d)}for(var g=!0,y=!1,S=function(b){var T=l[b],A=T.ctx,C=u&&T.createRepaintRects(t,n,_._width,_._height),E=o?T.__startIndex:T.__drawIndex,P=!o&&T.incremental&&Date.now,M=P&&Date.now(),I=T.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(T.__startIndex===T.__endIndex)T.clear(!1,I,C);else if(E===T.__startIndex){var D=t[E];(!D.incremental||!D.notClear||o)&&T.clear(!1,I,C)}E===-1&&(console.error("For some unknown reason. drawIndex is -1"),E=T.__startIndex);var L,$=function(z){var U={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(L=E;L<T.__endIndex;L++){var H=t[L];if(H.__inHover&&(y=!0),s._doPaintEl(H,T,u,z,U,L===T.__endIndex-1),P){var N=Date.now()-M;if(N>15)break}}U.prevElClipPaths&&A.restore()};if(C)if(C.length===0)L=T.__endIndex;else for(var O=_.dpr,V=0;V<C.length;++V){var F=C[V];A.save(),A.beginPath(),A.rect(F.x*O,F.y*O,F.width*O,F.height*O),A.clip(),$(F),A.restore()}else A.save(),$(),A.restore();T.__drawIndex=L,T.__drawIndex<T.__endIndex&&(g=!1)},_=this,x=0;x<l.length;x++)S(x);return env.wxa&&each$f(this._layers,function(b){b&&b.ctx&&b.ctx.draw&&b.ctx.draw()}),{finished:g,needsRefreshHover:y}},a.prototype._doPaintEl=function(t,n,o,s,l,u){var c=n.ctx;if(o){var f=t.getPaintRect();(!s||f&&f.intersect(s))&&(brush$1(c,t,l,u),t.setPrevPaintRect(f))}else brush$1(c,t,l,u)},a.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=CANVAS_ZLEVEL);var o=this._layers[t];return o||(o=new Layer("zr_"+t,this,this.dpr),o.zlevel=t,o.__builtin__=!0,this._layerConfig[t]?merge(o,this._layerConfig[t],!0):this._layerConfig[t-EL_AFTER_INCREMENTAL_INC]&&merge(o,this._layerConfig[t-EL_AFTER_INCREMENTAL_INC],!0),n&&(o.virtual=n),this.insertLayer(t,o),o.initContext()),o},a.prototype.insertLayer=function(t,n){var o=this._layers,s=this._zlevelList,l=s.length,u=this._domRoot,c=null,f=-1;if(!o[t]&&isLayerValid(n)){if(l>0&&t>s[0]){for(f=0;f<l-1&&!(s[f]<t&&s[f+1]>t);f++);c=o[s[f]]}if(s.splice(f+1,0,t),o[t]=n,!n.virtual)if(c){var d=c.dom;d.nextSibling?u.insertBefore(n.dom,d.nextSibling):u.appendChild(n.dom)}else u.firstChild?u.insertBefore(n.dom,u.firstChild):u.appendChild(n.dom);n.painter||(n.painter=this)}},a.prototype.eachLayer=function(t,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s];t.call(n,this._layers[l],l)}},a.prototype.eachBuiltinLayer=function(t,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__&&t.call(n,u,l)}},a.prototype.eachOtherLayer=function(t,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__||t.call(n,u,l)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(y,S){y.__dirty=y.__used=!1});function n(y){l&&(l.__endIndex!==y&&(l.__dirty=!0),l.__endIndex=y)}if(this._singleCanvas)for(var o=1;o<t.length;o++){var s=t[o];if(s.zlevel!==t[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var l=null,u=0,c,f;for(f=0;f<t.length;f++){var s=t[f],d=s.zlevel,g=void 0;c!==d&&(c=d,u=0),s.incremental?(g=this.getLayer(d+INCREMENTAL_INC,this._needsManuallyCompositing),g.incremental=!0,u=1):g=this.getLayer(d+(u>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),g.__builtin__||logError("ZLevel "+d+" has been used by unkown layer "+g.id),g!==l&&(g.__used=!0,g.__startIndex!==f&&(g.__dirty=!0),g.__startIndex=f,g.incremental?g.__drawIndex=-1:g.__drawIndex=f,n(f),l=g),s.__dirty&REDRAW_BIT&&!s.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=f))}n(f),this.eachBuiltinLayer(function(y,S){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(t){t.clear()},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t,each$f(this._layers,function(n){n.setUnpainted()})},a.prototype.configLayer=function(t,n){if(n){var o=this._layerConfig;o[t]?merge(o[t],n,!0):o[t]=n;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];if(l===t||l===t+EL_AFTER_INCREMENTAL_INC){var u=this._layers[l];merge(u,o[t],!0)}}}},a.prototype.delLayer=function(t){var n=this._layers,o=this._zlevelList,s=n[t];s&&(s.dom.parentNode.removeChild(s.dom),delete n[t],o.splice(indexOf(o,t),1))},a.prototype.resize=function(t,n){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,l=this.root;if(t!=null&&(s.width=t),n!=null&&(s.height=n),t=getSize$1(l,0,s),n=getSize$1(l,1,s),o.style.display="",this._width!==t||n!==this._height){o.style.width=t+"px",o.style.height=n+"px";for(var u in this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(t,n)}return this},a.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var o=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var s=n.dom.width,l=n.dom.height;this.eachLayer(function(y){y.__builtin__?o.drawImage(y.dom,0,0,s,l):y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),f=0,d=c.length;f<d;f++){var g=c[f];brush$1(o,g,u,f===d-1)}return n.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();function install$R(a){a.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var o=new Group$3,s=createSymbol$1("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);o.add(s),s.setStyle(n.lineStyle);var l=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),c=l==="none"?"circle":l,f=n.itemHeight*.8,d=createSymbol$1(c,(n.itemWidth-f)/2,(n.itemHeight-f)/2,f,f,n.itemStyle.fill);o.add(d),d.setStyle(n.itemStyle);var g=n.iconRotate==="inherit"?u:n.iconRotate||0;return d.rotation=g*Math.PI/180,d.setOrigin([n.itemWidth/2,n.itemHeight/2]),c.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill="#fff",d.style.lineWidth=2),o},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(SeriesModel);function getDefaultLabel(a,t){var n=a.mapDimensionsAll("defaultedLabel"),o=n.length;if(o===1){var s=retrieveRawValue(a,t,n[0]);return s!=null?s+"":null}else if(o){for(var l=[],u=0;u<n.length;u++)l.push(retrieveRawValue(a,t,n[u]));return l.join(" ")}}function getDefaultInterpolatedLabel(a,t){var n=a.mapDimensionsAll("defaultedLabel");if(!isArray$2(t))return t+"";for(var o=[],s=0;s<n.length;s++){var l=a.getDimensionIndex(n[s]);l>=0&&o.push(t[l])}return o.join(" ")}var Symbol$1=function(a){__extends$1(t,a);function t(n,o,s,l){var u=a.call(this)||this;return u.updateData(n,o,s,l),u}return t.prototype._createSymbol=function(n,o,s,l,u){this.removeAll();var c=createSymbol$1(n,-1,-1,2,2,null,u);c.attr({z2:100,culling:!0,scaleX:l[0]/2,scaleY:l[1]/2}),c.drift=driftSymbol,this._symbolType=n,this.add(c)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){enterEmphasis(this.childAt(0))},t.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},t.prototype.setZ=function(n,o){var s=this.childAt(0);s.zlevel=n,s.z=o},t.prototype.setDraggable=function(n,o){var s=this.childAt(0);s.draggable=n,s.cursor=!o&&n?"move":s.cursor},t.prototype.updateData=function(n,o,s,l){this.silent=!1;var u=n.getItemVisual(o,"symbol")||"circle",c=n.hostModel,f=t.getSymbolSize(n,o),d=u!==this._symbolType,g=l&&l.disableAnimation;if(d){var y=n.getItemVisual(o,"symbolKeepAspect");this._createSymbol(u,n,o,f,y)}else{var S=this.childAt(0);S.silent=!1;var _={scaleX:f[0]/2,scaleY:f[1]/2};g?S.attr(_):updateProps$1(S,_,c,o),saveOldStyle(S)}if(this._updateCommon(n,o,f,s,l),d){var S=this.childAt(0);if(!g){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}};S.scaleX=S.scaleY=0,S.style.opacity=0,initProps(S,_,c,o)}}g&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,o,s,l,u){var c=this.childAt(0),f=n.hostModel,d,g,y,S,_,x,b,T,A;if(l&&(d=l.emphasisItemStyle,g=l.blurItemStyle,y=l.selectItemStyle,S=l.focus,_=l.blurScope,b=l.labelStatesModels,T=l.hoverScale,A=l.cursorStyle,x=l.emphasisDisabled),!l||n.hasItemOption){var C=l&&l.itemModel?l.itemModel:n.getItemModel(o),E=C.getModel("emphasis");d=E.getModel("itemStyle").getItemStyle(),y=C.getModel(["select","itemStyle"]).getItemStyle(),g=C.getModel(["blur","itemStyle"]).getItemStyle(),S=E.get("focus"),_=E.get("blurScope"),x=E.get("disabled"),b=getLabelStatesModels(C),T=E.getShallow("scale"),A=C.getShallow("cursor")}var P=n.getItemVisual(o,"symbolRotate");c.attr("rotation",(P||0)*Math.PI/180||0);var M=normalizeSymbolOffset(n.getItemVisual(o,"symbolOffset"),s);M&&(c.x=M[0],c.y=M[1]),A&&c.attr("cursor",A);var I=n.getItemVisual(o,"style"),D=I.fill;if(c instanceof ZRImage){var L=c.style;c.useStyle(extend({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},I))}else c.__isEmptyBrush?c.useStyle(extend({},I)):c.useStyle(I),c.style.decal=null,c.setColor(D,u&&u.symbolInnerColor),c.style.strokeNoScale=!0;var $=n.getItemVisual(o,"liftZ"),O=this._z2;$!=null?O==null&&(this._z2=c.z2,c.z2+=$):O!=null&&(c.z2=O,this._z2=null);var V=u&&u.useNameLabel;setLabelStyle(c,b,{labelFetcher:f,labelDataIndex:o,defaultText:F,inheritColor:D,defaultOpacity:I.opacity});function F(H){return V?n.getName(H):getDefaultLabel(n,H)}this._sizeX=s[0]/2,this._sizeY=s[1]/2;var z=c.ensureState("emphasis");z.style=d,c.ensureState("select").style=y,c.ensureState("blur").style=g;var U=T==null||T===!0?Math.max(1.1,3/this._sizeY):isFinite(T)&&T>0?+T:1;z.scaleX=this._sizeX*U,z.scaleY=this._sizeY*U,this.setSymbolScale(1),toggleHoverEmphasis(this,S,_,x)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,o,s){var l=this.childAt(0),u=getECData(this).dataIndex,c=s&&s.animation;if(this.silent=l.silent=!0,s&&s.fadeLabel){var f=l.getTextContent();f&&removeElement(f,{style:{opacity:0}},o,{dataIndex:u,removeOpt:c,cb:function(){l.removeTextContent()}})}else l.removeTextContent();removeElement(l,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:u,cb:n,removeOpt:c})},t.getSymbolSize=function(n,o){return normalizeSymbolSize(n.getItemVisual(o,"symbolSize"))},t}(Group$3);function driftSymbol(a,t){this.parent.drift(a,t)}function symbolNeedsDraw$1(a,t,n,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(n))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&a.getItemVisual(n,"symbol")!=="none"}function normalizeUpdateOpt(a){return a!=null&&!isObject$3(a)&&(a={isIgnore:a}),a||{}}function makeSeriesScope$2(a){var t=a.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:getLabelStatesModels(t),cursorStyle:t.get("cursor")}}var SymbolDraw=function(){function a(t){this.group=new Group$3,this._SymbolCtor=t||Symbol$1}return a.prototype.updateData=function(t,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var o=this.group,s=t.hostModel,l=this._data,u=this._SymbolCtor,c=n.disableAnimation,f=makeSeriesScope$2(t),d={disableAnimation:c},g=n.getSymbolPoint||function(y){return t.getItemLayout(y)};l||o.removeAll(),t.diff(l).add(function(y){var S=g(y);if(symbolNeedsDraw$1(t,S,y,n)){var _=new u(t,y,f,d);_.setPosition(S),t.setItemGraphicEl(y,_),o.add(_)}}).update(function(y,S){var _=l.getItemGraphicEl(S),x=g(y);if(!symbolNeedsDraw$1(t,x,y,n)){o.remove(_);return}var b=t.getItemVisual(y,"symbol")||"circle",T=_&&_.getSymbolType&&_.getSymbolType();if(!_||T&&T!==b)o.remove(_),_=new u(t,y,f,d),_.setPosition(x);else{_.updateData(t,y,f,d);var A={x:x[0],y:x[1]};c?_.attr(A):updateProps$1(_,A,s)}o.add(_),t.setItemGraphicEl(y,_)}).remove(function(y){var S=l.getItemGraphicEl(y);S&&S.fadeOut(function(){o.remove(S)},s)}).execute(),this._getSymbolPoint=g,this._data=t},a.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(o,s){var l=t._getSymbolPoint(s);o.setPosition(l),o.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$2(t),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,n,o){this._progressiveEls=[],o=normalizeUpdateOpt(o);function s(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var l=t.start;l<t.end;l++){var u=n.getItemLayout(l);if(symbolNeedsDraw$1(n,u,l,o)){var c=new this._SymbolCtor(n,l,this._seriesScope);c.traverse(s),c.setPosition(u),this.group.add(c),n.setItemGraphicEl(l,c),this._progressiveEls.push(c)}}},a.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},a.prototype.remove=function(t){var n=this.group,o=this._data;o&&t?o.eachItemGraphicEl(function(s){s.fadeOut(function(){n.remove(s)},o.hostModel)}):n.removeAll()},a}();function prepareDataCoordInfo(a,t,n){var o=a.getBaseAxis(),s=a.getOtherAxis(o),l=getValueStart(s,n),u=o.dim,c=s.dim,f=t.mapDimension(c),d=t.mapDimension(u),g=c==="x"||c==="radius"?1:0,y=map$1(a.dimensions,function(x){return t.mapDimension(x)}),S=!1,_=t.getCalculationInfo("stackResultDimension");return isDimensionStacked(t,y[0])&&(S=!0,y[0]=_),isDimensionStacked(t,y[1])&&(S=!0,y[1]=_),{dataDimsForPoint:y,valueStart:l,valueAxisDim:c,baseAxisDim:u,stacked:!!S,valueDim:f,baseDim:d,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function getValueStart(a,t){var n=0,o=a.scale.getExtent();return t==="start"?n=o[0]:t==="end"?n=o[1]:isNumber$2(t)&&!isNaN(t)?n=t:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]),n}function getStackedOnPoint(a,t,n,o){var s=NaN;a.stacked&&(s=n.get(n.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=a.valueStart);var l=a.baseDataOffset,u=[];return u[l]=n.get(a.baseDim,o),u[1-l]=s,t.dataToPoint(u)}function diffData(a,t){var n=[];return t.diff(a).add(function(o){n.push({cmd:"+",idx:o})}).update(function(o,s){n.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){n.push({cmd:"-",idx:o})}).execute(),n}function lineAnimationDiff(a,t,n,o,s,l,u,c){for(var f=diffData(a,t),d=[],g=[],y=[],S=[],_=[],x=[],b=[],T=prepareDataCoordInfo(s,t,u),A=a.getLayout("points")||[],C=t.getLayout("points")||[],E=0;E<f.length;E++){var P=f[E],M=!0,I=void 0,D=void 0;switch(P.cmd){case"=":I=P.idx*2,D=P.idx1*2;var L=A[I],$=A[I+1],O=C[D],V=C[D+1];(isNaN(L)||isNaN($))&&(L=O,$=V),d.push(L,$),g.push(O,V),y.push(n[I],n[I+1]),S.push(o[D],o[D+1]),b.push(t.getRawIndex(P.idx1));break;case"+":var F=P.idx,z=T.dataDimsForPoint,U=s.dataToPoint([t.get(z[0],F),t.get(z[1],F)]);D=F*2,d.push(U[0],U[1]),g.push(C[D],C[D+1]);var H=getStackedOnPoint(T,s,t,F);y.push(H[0],H[1]),S.push(o[D],o[D+1]),b.push(t.getRawIndex(F));break;case"-":M=!1}M&&(_.push(P),x.push(x.length))}x.sort(function(le,fe){return b[le]-b[fe]});for(var N=d.length,G=createFloat32Array(N),R=createFloat32Array(N),B=createFloat32Array(N),j=createFloat32Array(N),W=[],E=0;E<x.length;E++){var X=x[E],ee=E*2,te=X*2;G[ee]=d[te],G[ee+1]=d[te+1],R[ee]=g[te],R[ee+1]=g[te+1],B[ee]=y[te],B[ee+1]=y[te+1],j[ee]=S[te],j[ee+1]=S[te+1],W[E]=_[X]}return{current:G,next:R,stackedOnCurrent:B,stackedOnNext:j,status:W}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(a,t){return isNaN(a)||isNaN(t)}function drawSegment(a,t,n,o,s,l,u,c,f){for(var d,g,y,S,_,x,b=n,T=0;T<o;T++){var A=t[b*2],C=t[b*2+1];if(b>=s||b<0)break;if(isPointNull$1(A,C)){if(f){b+=l;continue}break}if(b===n)a[l>0?"moveTo":"lineTo"](A,C),y=A,S=C;else{var E=A-d,P=C-g;if(E*E+P*P<.5){b+=l;continue}if(u>0){for(var M=b+l,I=t[M*2],D=t[M*2+1];I===A&&D===C&&T<o;)T++,M+=l,b+=l,I=t[M*2],D=t[M*2+1],A=t[b*2],C=t[b*2+1],E=A-d,P=C-g;var L=T+1;if(f)for(;isPointNull$1(I,D)&&L<o;)L++,M+=l,I=t[M*2],D=t[M*2+1];var $=.5,O=0,V=0,F=void 0,z=void 0;if(L>=o||isPointNull$1(I,D))_=A,x=C;else{O=I-d,V=D-g;var U=A-d,H=I-A,N=C-g,G=D-C,R=void 0,B=void 0;if(c==="x"){R=Math.abs(U),B=Math.abs(H);var j=O>0?1:-1;_=A-j*R*u,x=C,F=A+j*B*u,z=C}else if(c==="y"){R=Math.abs(N),B=Math.abs(G);var W=V>0?1:-1;_=A,x=C-W*R*u,F=A,z=C+W*B*u}else R=Math.sqrt(U*U+N*N),B=Math.sqrt(H*H+G*G),$=B/(B+R),_=A-O*u*(1-$),x=C-V*u*(1-$),F=A+O*u*$,z=C+V*u*$,F=mathMin$5(F,mathMax$5(I,A)),z=mathMin$5(z,mathMax$5(D,C)),F=mathMax$5(F,mathMin$5(I,A)),z=mathMax$5(z,mathMin$5(D,C)),O=F-A,V=z-C,_=A-O*R/B,x=C-V*R/B,_=mathMin$5(_,mathMax$5(d,A)),x=mathMin$5(x,mathMax$5(g,C)),_=mathMax$5(_,mathMin$5(d,A)),x=mathMax$5(x,mathMin$5(g,C)),O=A-_,V=C-x,F=A+O*B/R,z=C+V*B/R}a.bezierCurveTo(y,S,_,x,A,C),y=F,S=z}else a.lineTo(A,C)}d=A,g=C,b+=l}return T}var ECPolylineShape=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),ECPolyline=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="ec-polyline",o}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ECPolylineShape},t.prototype.buildPath=function(n,o){var s=o.points,l=0,u=s.length/2;if(o.connectNulls){for(;u>0&&isPointNull$1(s[u*2-2],s[u*2-1]);u--);for(;l<u&&isPointNull$1(s[l*2],s[l*2+1]);l++);}for(;l<u;)l+=drawSegment(n,s,l,u,u,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},t.prototype.getPointOn=function(n,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,l=s.data,u=PathProxy.CMD,c,f,d=o==="x",g=[],y=0;y<l.length;){var S=l[y++],_=void 0,x=void 0,b=void 0,T=void 0,A=void 0,C=void 0,E=void 0;switch(S){case u.M:c=l[y++],f=l[y++];break;case u.L:if(_=l[y++],x=l[y++],E=d?(n-c)/(_-c):(n-f)/(x-f),E<=1&&E>=0){var P=d?(x-f)*E+f:(_-c)*E+c;return d?[n,P]:[P,n]}c=_,f=x;break;case u.C:_=l[y++],x=l[y++],b=l[y++],T=l[y++],A=l[y++],C=l[y++];var M=d?cubicRootAt(c,_,b,A,n,g):cubicRootAt(f,x,T,C,n,g);if(M>0)for(var I=0;I<M;I++){var D=g[I];if(D<=1&&D>=0){var P=d?cubicAt(f,x,T,C,D):cubicAt(c,_,b,A,D);return d?[n,P]:[P,n]}}c=A,f=C;break}}},t}(Path),ECPolygonShape=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(ECPolylineShape),ECPolygon=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="ec-polygon",o}return t.prototype.getDefaultShape=function(){return new ECPolygonShape},t.prototype.buildPath=function(n,o){var s=o.points,l=o.stackedOnPoints,u=0,c=s.length/2,f=o.smoothMonotone;if(o.connectNulls){for(;c>0&&isPointNull$1(s[c*2-2],s[c*2-1]);c--);for(;u<c&&isPointNull$1(s[u*2],s[u*2+1]);u++);}for(;u<c;){var d=drawSegment(n,s,u,c,c,1,o.smooth,f,o.connectNulls);drawSegment(n,l,u+d-1,d,c,-1,o.stackedOnSmooth,f,o.connectNulls),u+=d+1,n.closePath()}},t}(Path);function createGridClipPath(a,t,n,o,s){var l=a.getArea(),u=l.x,c=l.y,f=l.width,d=l.height,g=n.get(["lineStyle","width"])||0;u-=g/2,c-=g/2,f+=g,d+=g,f=Math.ceil(f),u!==Math.floor(u)&&(u=Math.floor(u),f++);var y=new Rect$2({shape:{x:u,y:c,width:f,height:d}});if(t){var S=a.getBaseAxis(),_=S.isHorizontal(),x=S.inverse;_?(x&&(y.shape.x+=f),y.shape.width=0):(x||(y.shape.y+=d),y.shape.height=0);var b=isFunction(s)?function(T){s(T,y)}:null;initProps(y,{shape:{width:f,height:d,x:u,y:c}},n,null,o,b)}return y}function createPolarClipPath(a,t,n){var o=a.getArea(),s=round$3(o.r0,1),l=round$3(o.r,1),u=new Sector({shape:{cx:round$3(a.cx,1),cy:round$3(a.cy,1),r0:s,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(t){var c=a.getBaseAxis().dim==="angle";c?u.shape.endAngle=o.startAngle:u.shape.r=s,initProps(u,{shape:{endAngle:o.endAngle,r:l}},n)}return u}function createClipPath(a,t,n,o,s){if(a){if(a.type==="polar")return createPolarClipPath(a,t,n);if(a.type==="cartesian2d")return createGridClipPath(a,t,n,o,s)}else return null;return null}function isCoordinateSystemType(a,t){return a.type===t}function isPointsSame(a,t){if(a.length===t.length){for(var n=0;n<a.length;n++)if(a[n]!==t[n])return;return!0}}function bboxFromPoints(a){for(var t=1/0,n=1/0,o=-1/0,s=-1/0,l=0;l<a.length;){var u=a[l++],c=a[l++];isNaN(u)||(t=Math.min(u,t),o=Math.max(u,o)),isNaN(c)||(n=Math.min(c,n),s=Math.max(c,s))}return[[t,n],[o,s]]}function getBoundingDiff(a,t){var n=bboxFromPoints(a),o=n[0],s=n[1],l=bboxFromPoints(t),u=l[0],c=l[1];return Math.max(Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]),Math.abs(s[0]-c[0]),Math.abs(s[1]-c[1]))}function getSmooth(a){return isNumber$2(a)?a:a?.5:0}function getStackedOnPoints(a,t,n){if(!n.valueDim)return[];for(var o=t.count(),s=createFloat32Array(o*2),l=0;l<o;l++){var u=getStackedOnPoint(n,a,t,l);s[l*2]=u[0],s[l*2+1]=u[1]}return s}function turnPointsIntoStep(a,t,n,o,s){var l=n.getBaseAxis(),u=l.dim==="x"||l.dim==="radius"?0:1,c=[],f=0,d=[],g=[],y=[],S=[];if(s){for(f=0;f<a.length;f+=2){var _=t||a;!isNaN(_[f])&&!isNaN(_[f+1])&&S.push(a[f],a[f+1])}a=S}for(f=0;f<a.length-2;f+=2)switch(y[0]=a[f+2],y[1]=a[f+3],g[0]=a[f],g[1]=a[f+1],c.push(g[0],g[1]),o){case"end":d[u]=y[u],d[1-u]=g[1-u],c.push(d[0],d[1]);break;case"middle":var x=(g[u]+y[u])/2,b=[];d[u]=b[u]=x,d[1-u]=g[1-u],b[1-u]=y[1-u],c.push(d[0],d[1]),c.push(b[0],b[1]);break;default:d[u]=g[u],d[1-u]=y[1-u],c.push(d[0],d[1])}return c.push(a[f++],a[f++]),c}function clipColorStops(a,t){var n=[],o=a.length,s,l;function u(g,y,S){var _=g.coord,x=(S-_)/(y.coord-_),b=lerp(x,[g.color,y.color]);return{coord:S,color:b}}for(var c=0;c<o;c++){var f=a[c],d=f.coord;if(d<0)s=f;else if(d>t){l?n.push(u(l,f,t)):s&&n.push(u(s,f,0),u(s,f,t));break}else s&&(n.push(u(s,f,0)),s=null),n.push(f),l=f}return n}function getVisualGradient(a,t,n){var o=a.getVisual("visualMeta");if(!(!o||!o.length||!a.count())&&t.type==="cartesian2d"){for(var s,l,u=o.length-1;u>=0;u--){var c=a.getDimensionInfo(o[u].dimension);if(s=c&&c.coordDim,s==="x"||s==="y"){l=o[u];break}}if(l){var f=t.getAxis(s),d=map$1(l.stops,function(E){return{coord:f.toGlobalCoord(f.dataToCoord(E.value)),color:E.color}}),g=d.length,y=l.outerColors.slice();g&&d[0].coord>d[g-1].coord&&(d.reverse(),y.reverse());var S=clipColorStops(d,s==="x"?n.getWidth():n.getHeight()),_=S.length;if(!_&&g)return d[0].coord<0?y[1]?y[1]:d[g-1].color:y[0]?y[0]:d[0].color;var x=10,b=S[0].coord-x,T=S[_-1].coord+x,A=T-b;if(A<.001)return"transparent";each$f(S,function(E){E.offset=(E.coord-b)/A}),S.push({offset:_?S[_-1].offset:.5,color:y[1]||"transparent"}),S.unshift({offset:_?S[0].offset:.5,color:y[0]||"transparent"});var C=new LinearGradient(0,0,0,0,S,!0);return C[s]=b,C[s+"2"]=T,C}}}function getIsIgnoreFunc(a,t,n){var o=a.get("showAllSymbol"),s=o==="auto";if(!(o&&!s)){var l=n.getAxesByScale("ordinal")[0];if(l&&!(s&&canShowAllSymbolForCategory(l,t))){var u=t.mapDimension(l.dim),c={};return each$f(l.getViewLabels(),function(f){var d=l.scale.getRawOrdinalNumber(f.tickValue);c[d]=1}),function(f){return!c.hasOwnProperty(t.get(u,f))}}}}function canShowAllSymbolForCategory(a,t){var n=a.getExtent(),o=Math.abs(n[1]-n[0])/a.scale.count();isNaN(o)&&(o=0);for(var s=t.count(),l=Math.max(1,Math.round(s/5)),u=0;u<s;u+=l)if(Symbol$1.getSymbolSize(t,u)[a.isHorizontal()?1:0]*1.5>o)return!1;return!0}function isPointNull(a,t){return isNaN(a)||isNaN(t)}function getLastIndexNotNull(a){for(var t=a.length/2;t>0&&isPointNull(a[t*2-2],a[t*2-1]);t--);return t-1}function getPointAtIndex(a,t){return[a[t*2],a[t*2+1]]}function getIndexRange(a,t,n){for(var o=a.length/2,s=n==="x"?0:1,l,u,c=0,f=-1,d=0;d<o;d++)if(u=a[d*2+s],!(isNaN(u)||isNaN(a[d*2+1-s]))){if(d===0){l=u;continue}if(l<=t&&u>=t||l>=t&&u<=t){f=d;break}c=d,l=u}return{range:[c,f],t:(t-l)/(u-l)}}function anyStateShowEndLabel(a){if(a.get(["endLabel","show"]))return!0;for(var t=0;t<SPECIAL_STATES.length;t++)if(a.get([SPECIAL_STATES[t],"endLabel","show"]))return!0;return!1}function createLineClipPath(a,t,n,o){if(isCoordinateSystemType(t,"cartesian2d")){var s=o.getModel("endLabel"),l=s.get("valueAnimation"),u=o.getData(),c={lastFrameIndex:0},f=anyStateShowEndLabel(o)?function(_,x){a._endLabelOnDuring(_,x,u,c,l,s,t)}:null,d=t.getBaseAxis().isHorizontal(),g=createGridClipPath(t,n,o,function(){var _=a._endLabel;_&&n&&c.originalX!=null&&_.attr({x:c.originalX,y:c.originalY})},f);if(!o.get("clip",!0)){var y=g.shape,S=Math.max(y.width,y.height);d?(y.y-=S,y.height+=S*2):(y.x-=S,y.width+=S*2)}return f&&f(1,g),g}else return createPolarClipPath(t,n,o)}function getEndLabelStateSpecified(a,t){var n=t.getBaseAxis(),o=n.isHorizontal(),s=n.inverse,l=o?s?"right":"left":"center",u=o?"middle":s?"top":"bottom";return{normal:{align:a.get("align")||l,verticalAlign:a.get("verticalAlign")||u}}}var LineView=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(){var n=new Group$3,o=new SymbolDraw;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=n,this._changePolyState=bind$1(this._changePolyState,this)},t.prototype.render=function(n,o,s){var l=n.coordinateSystem,u=this.group,c=n.getData(),f=n.getModel("lineStyle"),d=n.getModel("areaStyle"),g=c.getLayout("points")||[],y=l.type==="polar",S=this._coordSys,_=this._symbolDraw,x=this._polyline,b=this._polygon,T=this._lineGroup,A=!o.ssr&&n.get("animation"),C=!d.isEmpty(),E=d.get("origin"),P=prepareDataCoordInfo(l,c,E),M=C&&getStackedOnPoints(l,c,P),I=n.get("showSymbol"),D=n.get("connectNulls"),L=I&&!y&&getIsIgnoreFunc(n,c,l),$=this._data;$&&$.eachItemGraphicEl(function(le,fe){le.__temp&&(u.remove(le),$.setItemGraphicEl(fe,null))}),I||_.remove(),u.add(T);var O=y?!1:n.get("step"),V;l&&l.getArea&&n.get("clip",!0)&&(V=l.getArea(),V.width!=null?(V.x-=.1,V.y-=.1,V.width+=.2,V.height+=.2):V.r0&&(V.r0-=.5,V.r+=.5)),this._clipShapeForSymbol=V;var F=getVisualGradient(c,l,s)||c.getVisual("style")[c.getVisual("drawType")];if(!(x&&S.type===l.type&&O===this._step))I&&_.updateData(c,{isIgnore:L,clipShape:V,disableAnimation:!0,getSymbolPoint:function(le){return[g[le*2],g[le*2+1]]}}),A&&this._initSymbolLabelAnimation(c,l,V),O&&(M&&(M=turnPointsIntoStep(M,g,l,O,D)),g=turnPointsIntoStep(g,null,l,O,D)),x=this._newPolyline(g),C?b=this._newPolygon(g,M):b&&(T.remove(b),b=this._polygon=null),y||this._initOrUpdateEndLabel(n,l,convertToColorString(F)),T.setClipPath(createLineClipPath(this,l,!0,n));else{C&&!b?b=this._newPolygon(g,M):b&&!C&&(T.remove(b),b=this._polygon=null),y||this._initOrUpdateEndLabel(n,l,convertToColorString(F));var z=T.getClipPath();if(z){var U=createLineClipPath(this,l,!1,n);initProps(z,{shape:U.shape},n)}else T.setClipPath(createLineClipPath(this,l,!0,n));I&&_.updateData(c,{isIgnore:L,clipShape:V,disableAnimation:!0,getSymbolPoint:function(le){return[g[le*2],g[le*2+1]]}}),(!isPointsSame(this._stackedOnPoints,M)||!isPointsSame(this._points,g))&&(A?this._doUpdateAnimation(c,M,l,s,O,E,D):(O&&(M&&(M=turnPointsIntoStep(M,g,l,O,D)),g=turnPointsIntoStep(g,null,l,O,D)),x.setShape({points:g}),b&&b.setShape({points:g,stackedOnPoints:M})))}var H=n.getModel("emphasis"),N=H.get("focus"),G=H.get("blurScope"),R=H.get("disabled");if(x.useStyle(defaults(f.getLineStyle(),{fill:"none",stroke:F,lineJoin:"bevel"})),setStatesStylesFromModel(x,n,"lineStyle"),x.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var B=x.getState("emphasis").style;B.lineWidth=+x.style.lineWidth+1}getECData(x).seriesIndex=n.seriesIndex,toggleHoverEmphasis(x,N,G,R);var j=getSmooth(n.get("smooth")),W=n.get("smoothMonotone");if(x.setShape({smooth:j,smoothMonotone:W,connectNulls:D}),b){var X=c.getCalculationInfo("stackedOnSeries"),ee=0;b.useStyle(defaults(d.getAreaStyle(),{fill:F,opacity:.7,lineJoin:"bevel",decal:c.getVisual("style").decal})),X&&(ee=getSmooth(X.get("smooth"))),b.setShape({smooth:j,stackedOnSmooth:ee,smoothMonotone:W,connectNulls:D}),setStatesStylesFromModel(b,n,"areaStyle"),getECData(b).seriesIndex=n.seriesIndex,toggleHoverEmphasis(b,N,G,R)}var te=this._changePolyState;c.eachItemGraphicEl(function(le){le&&(le.onHoverStateChange=te)}),this._polyline.onHoverStateChange=te,this._data=c,this._coordSys=l,this._stackedOnPoints=M,this._points=g,this._step=O,this._valueOrigin=E,n.get("triggerLineEvent")&&(this.packEventData(n,x),b&&this.packEventData(n,b))},t.prototype.packEventData=function(n,o){getECData(o).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,o,s,l){var u=n.getData(),c=queryDataIndex(u,l);if(this._changePolyState("emphasis"),!(c instanceof Array)&&c!=null&&c>=0){var f=u.getLayout("points"),d=u.getItemGraphicEl(c);if(!d){var g=f[c*2],y=f[c*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var S=n.get("zlevel")||0,_=n.get("z")||0;d=new Symbol$1(u,c),d.x=g,d.y=y,d.setZ(S,_);var x=d.getSymbolPath().getTextContent();x&&(x.zlevel=S,x.z=_,x.z2=this._polyline.z2+1),d.__temp=!0,u.setItemGraphicEl(c,d),d.stopSymbolAnimation(!0),this.group.add(d)}d.highlight()}else ChartView.prototype.highlight.call(this,n,o,s,l)},t.prototype.downplay=function(n,o,s,l){var u=n.getData(),c=queryDataIndex(u,l);if(this._changePolyState("normal"),c!=null&&c>=0){var f=u.getItemGraphicEl(c);f&&(f.__temp?(u.setItemGraphicEl(c,null),this.group.remove(f)):f.downplay())}else ChartView.prototype.downplay.call(this,n,o,s,l)},t.prototype._changePolyState=function(n){var o=this._polygon;setStatesFlag(this._polyline,n),o&&setStatesFlag(o,n)},t.prototype._newPolyline=function(n){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new ECPolyline({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},t.prototype._newPolygon=function(n,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new ECPolygon({shape:{points:n,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},t.prototype._initSymbolLabelAnimation=function(n,o,s){var l,u,c=o.getBaseAxis(),f=c.inverse;o.type==="cartesian2d"?(l=c.isHorizontal(),u=!1):o.type==="polar"&&(l=c.dim==="angle",u=!0);var d=n.hostModel,g=d.get("animationDuration");isFunction(g)&&(g=g(null));var y=d.get("animationDelay")||0,S=isFunction(y)?y(null):y;n.eachItemGraphicEl(function(_,x){var b=_;if(b){var T=[_.x,_.y],A=void 0,C=void 0,E=void 0;if(s)if(u){var P=s,M=o.pointToCoord(T);l?(A=P.startAngle,C=P.endAngle,E=-M[1]/180*Math.PI):(A=P.r0,C=P.r,E=M[0])}else{var I=s;l?(A=I.x,C=I.x+I.width,E=_.x):(A=I.y+I.height,C=I.y,E=_.y)}var D=C===A?0:(E-A)/(C-A);f&&(D=1-D);var L=isFunction(y)?y(x):g*D+S,$=b.getSymbolPath(),O=$.getTextContent();b.attr({scaleX:0,scaleY:0}),b.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:L}),$.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,o,s){var l=n.getModel("endLabel");if(anyStateShowEndLabel(n)){var u=n.getData(),c=this._polyline,f=u.getLayout("points");if(!f){c.removeTextContent(),this._endLabel=null;return}var d=this._endLabel;d||(d=this._endLabel=new ZRText({z2:200}),d.ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var g=getLastIndexNotNull(f);g>=0&&(setLabelStyle(c,getLabelStatesModels(n,"endLabel"),{inheritColor:s,labelFetcher:n,labelDataIndex:g,defaultText:function(y,S,_){return _!=null?getDefaultInterpolatedLabel(u,_):getDefaultLabel(u,y)},enableTextSetter:!0},getEndLabelStateSpecified(l,o)),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,o,s,l,u,c,f){var d=this._endLabel,g=this._polyline;if(d){n<1&&l.originalX==null&&(l.originalX=d.x,l.originalY=d.y);var y=s.getLayout("points"),S=s.hostModel,_=S.get("connectNulls"),x=c.get("precision"),b=c.get("distance")||0,T=f.getBaseAxis(),A=T.isHorizontal(),C=T.inverse,E=o.shape,P=C?A?E.x:E.y+E.height:A?E.x+E.width:E.y,M=(A?b:0)*(C?-1:1),I=(A?0:-b)*(C?-1:1),D=A?"x":"y",L=getIndexRange(y,P,D),$=L.range,O=$[1]-$[0],V=void 0;if(O>=1){if(O>1&&!_){var F=getPointAtIndex(y,$[0]);d.attr({x:F[0]+M,y:F[1]+I}),u&&(V=S.getRawValue($[0]))}else{var F=g.getPointOn(P,D);F&&d.attr({x:F[0]+M,y:F[1]+I});var z=S.getRawValue($[0]),U=S.getRawValue($[1]);u&&(V=interpolateRawValues(s,x,z,U,L.t))}l.lastFrameIndex=$[0]}else{var H=n===1||l.lastFrameIndex>0?$[0]:0,F=getPointAtIndex(y,H);u&&(V=S.getRawValue(H)),d.attr({x:F[0]+M,y:F[1]+I})}if(u){var N=labelInner(d);typeof N.setLabelText=="function"&&N.setLabelText(V)}}},t.prototype._doUpdateAnimation=function(n,o,s,l,u,c,f){var d=this._polyline,g=this._polygon,y=n.hostModel,S=lineAnimationDiff(this._data,n,this._stackedOnPoints,o,this._coordSys,s,this._valueOrigin),_=S.current,x=S.stackedOnCurrent,b=S.next,T=S.stackedOnNext;if(u&&(x=turnPointsIntoStep(S.stackedOnCurrent,S.current,s,u,f),_=turnPointsIntoStep(S.current,null,s,u,f),T=turnPointsIntoStep(S.stackedOnNext,S.next,s,u,f),b=turnPointsIntoStep(S.next,null,s,u,f)),getBoundingDiff(_,b)>3e3||g&&getBoundingDiff(x,T)>3e3){d.stopAnimation(),d.setShape({points:b}),g&&(g.stopAnimation(),g.setShape({points:b,stackedOnPoints:T}));return}d.shape.__points=S.current,d.shape.points=_;var A={shape:{points:b}};S.current!==_&&(A.shape.__points=S.next),d.stopAnimation(),updateProps$1(d,A,y),g&&(g.setShape({points:_,stackedOnPoints:x}),g.stopAnimation(),updateProps$1(g,{shape:{stackedOnPoints:T}},y),d.shape.points!==g.shape.points&&(g.shape.points=d.shape.points));for(var C=[],E=S.status,P=0;P<E.length;P++){var M=E[P].cmd;if(M==="="){var I=n.getItemGraphicEl(E[P].idx1);I&&C.push({el:I,ptIdx:P})}}d.animators&&d.animators.length&&d.animators[0].during(function(){g&&g.dirtyShape();for(var D=d.shape.__points,L=0;L<C.length;L++){var $=C[L].el,O=C[L].ptIdx*2;$.x=D[O],$.y=D[O+1],$.markRedraw()}})},t.prototype.remove=function(n){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(l,u){l.__temp&&(o.remove(l),s.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ChartView);function pointsLayout(a,t){return{seriesType:a,plan:createRenderPlanner(),reset:function(n){var o=n.getData(),s=n.coordinateSystem,l=n.pipelineContext,u=t||l.large;if(s){var c=map$1(s.dimensions,function(_){return o.mapDimension(_)}).slice(0,2),f=c.length,d=o.getCalculationInfo("stackResultDimension");isDimensionStacked(o,c[0])&&(c[0]=d),isDimensionStacked(o,c[1])&&(c[1]=d);var g=o.getStore(),y=o.getDimensionIndex(c[0]),S=o.getDimensionIndex(c[1]);return f&&{progress:function(_,x){for(var b=_.end-_.start,T=u&&createFloat32Array(b*f),A=[],C=[],E=_.start,P=0;E<_.end;E++){var M=void 0;if(f===1){var I=g.get(y,E);M=s.dataToPoint(I,null,C)}else A[0]=g.get(y,E),A[1]=g.get(S,E),M=s.dataToPoint(A,null,C);u?(T[P++]=M[0],T[P++]=M[1]):x.setItemLayout(E,M.slice())}u&&x.setLayout("points",T)}}}}}}var samplers={average:function(a){for(var t=0,n=0,o=0;o<a.length;o++)isNaN(a[o])||(t+=a[o],n++);return n===0?NaN:t/n},sum:function(a){for(var t=0,n=0;n<a.length;n++)t+=a[n]||0;return t},max:function(a){for(var t=-1/0,n=0;n<a.length;n++)a[n]>t&&(t=a[n]);return isFinite(t)?t:NaN},min:function(a){for(var t=1/0,n=0;n<a.length;n++)a[n]<t&&(t=a[n]);return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},indexSampler=function(a){return Math.round(a.length/2)};function dataSample(a){return{seriesType:a,reset:function(t,n,o){var s=t.getData(),l=t.get("sampling"),u=t.coordinateSystem,c=s.count();if(c>10&&u.type==="cartesian2d"&&l){var f=u.getBaseAxis(),d=u.getOtherAxis(f),g=f.getExtent(),y=o.getDevicePixelRatio(),S=Math.abs(g[1]-g[0])*(y||1),_=Math.round(c/S);if(isFinite(_)&&_>1){l==="lttb"?t.setData(s.lttbDownSample(s.mapDimension(d.dim),1/_)):l==="minmax"&&t.setData(s.minmaxDownSample(s.mapDimension(d.dim),1/_));var x=void 0;isString(l)?x=samplers[l]:isFunction(l)&&(x=l),x&&t.setData(s.downSample(s.mapDimension(d.dim),1/_,x,indexSampler))}}}}}function install$Q(a){a.registerChartView(LineView),a.registerSeriesModel(LineSeriesModel),a.registerLayout(pointsLayout("line",!0)),a.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),o=t.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",o)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,o,s){var l=this.coordinateSystem;if(l&&l.clampData){var u=l.clampData(n),c=l.dataToPoint(u);if(s)each$f(l.getAxes(),function(S,_){if(S.type==="category"&&o!=null){var x=S.getTicksCoords(),b=S.getTickModel().get("alignWithLabel"),T=u[_],A=o[_]==="x1"||o[_]==="y1";if(A&&!b&&(T+=1),x.length<2)return;if(x.length===2){c[_]=S.toGlobalCoord(S.getExtent()[A?1:0]);return}for(var C=void 0,E=void 0,P=1,M=0;M<x.length;M++){var I=x[M].coord,D=M===x.length-1?x[M-1].tickValue+P:x[M].tickValue;if(D===T){E=I;break}else if(D<T)C=I;else if(C!=null&&D>T){E=(I+C)/2;break}M===1&&(P=D-x[0].tickValue)}E==null&&(C?C&&(E=x[x.length-1].coord):E=x[0].coord),c[_]=S.toGlobalCoord(E)}});else{var f=this.getData(),d=f.getLayout("offset"),g=f.getLayout("size"),y=l.getBaseAxis().isHorizontal()?0:1;c[y]+=d+g/2}return c}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>n&&(n=o),n},t.prototype.brushSelector=function(n,o,s){return s.rect(o.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(BaseBarSeriesModel),SausageShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),SausagePath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="sausage",o}return t.prototype.getDefaultShape=function(){return new SausageShape},t.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.max(o.r0||0,0),c=Math.max(o.r,0),f=(c-u)*.5,d=u+f,g=o.startAngle,y=o.endAngle,S=o.clockwise,_=Math.PI*2,x=S?y-g<_:g-y<_;x||(g=y-(S?_:-_));var b=Math.cos(g),T=Math.sin(g),A=Math.cos(y),C=Math.sin(y);x?(n.moveTo(b*u+s,T*u+l),n.arc(b*d+s,T*d+l,f,-Math.PI+g,g,!S)):n.moveTo(b*c+s,T*c+l),n.arc(s,l,c,g,y,!S),n.arc(A*d+s,C*d+l,f,y-Math.PI*2,y-Math.PI,!S),u!==0&&n.arc(s,l,u,y,g,S)},t}(Path);function createSectorCalculateTextPosition(a,t){t=t||{};var n=t.isRoundCap;return function(o,s,l){var u=s.position;if(!u||u instanceof Array)return calculateTextPosition(o,s,l);var c=a(u),f=s.distance!=null?s.distance:5,d=this.shape,g=d.cx,y=d.cy,S=d.r,_=d.r0,x=(S+_)/2,b=d.startAngle,T=d.endAngle,A=(b+T)/2,C=n?Math.abs(S-_)/2:0,E=Math.cos,P=Math.sin,M=g+S*E(b),I=y+S*P(b),D="left",L="top";switch(c){case"startArc":M=g+(_-f)*E(A),I=y+(_-f)*P(A),D="center",L="top";break;case"insideStartArc":M=g+(_+f)*E(A),I=y+(_+f)*P(A),D="center",L="bottom";break;case"startAngle":M=g+x*E(b)+adjustAngleDistanceX(b,f+C,!1),I=y+x*P(b)+adjustAngleDistanceY(b,f+C,!1),D="right",L="middle";break;case"insideStartAngle":M=g+x*E(b)+adjustAngleDistanceX(b,-f+C,!1),I=y+x*P(b)+adjustAngleDistanceY(b,-f+C,!1),D="left",L="middle";break;case"middle":M=g+x*E(A),I=y+x*P(A),D="center",L="middle";break;case"endArc":M=g+(S+f)*E(A),I=y+(S+f)*P(A),D="center",L="bottom";break;case"insideEndArc":M=g+(S-f)*E(A),I=y+(S-f)*P(A),D="center",L="top";break;case"endAngle":M=g+x*E(T)+adjustAngleDistanceX(T,f+C,!0),I=y+x*P(T)+adjustAngleDistanceY(T,f+C,!0),D="left",L="middle";break;case"insideEndAngle":M=g+x*E(T)+adjustAngleDistanceX(T,-f+C,!0),I=y+x*P(T)+adjustAngleDistanceY(T,-f+C,!0),D="right",L="middle";break;default:return calculateTextPosition(o,s,l)}return o=o||{},o.x=M,o.y=I,o.align=D,o.verticalAlign=L,o}}function setSectorTextRotation(a,t,n,o){if(isNumber$2(o)){a.setTextConfig({rotation:o});return}else if(isArray$2(t)){a.setTextConfig({rotation:0});return}var s=a.shape,l=s.clockwise?s.startAngle:s.endAngle,u=s.clockwise?s.endAngle:s.startAngle,c=(l+u)/2,f,d=n(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":f=c;break;case"startAngle":case"insideStartAngle":f=l;break;case"endAngle":case"insideEndAngle":f=u;break;default:a.setTextConfig({rotation:0});return}var g=Math.PI*1.5-f;d==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),a.setTextConfig({rotation:g})}function adjustAngleDistanceX(a,t,n){return t*Math.sin(a)*(n?-1:1)}function adjustAngleDistanceY(a,t,n){return t*Math.cos(a)*(n?1:-1)}function getSectorCornerRadius(a,t,n){var o=a.get("borderRadius");if(o==null)return n?{cornerRadius:0}:null;isArray$2(o)||(o=[o,o,o,o]);var s=Math.abs(t.r||0-t.r0||0);return{cornerRadius:map$1(o,function(l){return parsePercent$1(l,s)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(a,t){var n=a.getArea&&a.getArea();if(isCoordinateSystemType(a,"cartesian2d")){var o=a.getBaseAxis();if(o.type!=="category"||!o.onBand){var s=t.getLayout("bandWidth");o.isHorizontal()?(n.x-=s,n.width+=s*2):(n.y-=s,n.height+=s*2)}}return n}var BarView=function(a){__extends$1(t,a);function t(){var n=a.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,o,s,l){this._model=n,this._removeOnRenderedListener(s),this._updateDrawMode(n);var u=n.get("coordinateSystem");(u==="cartesian2d"||u==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,o,s):this._renderNormal(n,o,s,l))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,o){this._progressiveEls=[],this._incrementalRenderLarge(n,o)},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var o=n.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(n,o,s,l){var u=this.group,c=n.getData(),f=this._data,d=n.coordinateSystem,g=d.getBaseAxis(),y;d.type==="cartesian2d"?y=g.isHorizontal():d.type==="polar"&&(y=g.dim==="angle");var S=n.isAnimationEnabled()?n:null,_=shouldRealtimeSort(n,d);_&&this._enableRealtimeSort(_,c,s);var x=n.get("clip",!0)||_,b=getClipArea(d,c);u.removeClipPath();var T=n.get("roundCap",!0),A=n.get("showBackground",!0),C=n.getModel("backgroundStyle"),E=C.get("borderRadius")||0,P=[],M=this._backgroundEls,I=l&&l.isInitSort,D=l&&l.type==="changeAxisOrder";function L(V){var F=getLayout[d.type](c,V),z=createBackgroundEl(d,y,F);return z.useStyle(C.getItemStyle()),d.type==="cartesian2d"?z.setShape("r",E):z.setShape("cornerRadius",E),P[V]=z,z}c.diff(f).add(function(V){var F=c.getItemModel(V),z=getLayout[d.type](c,V,F);if(A&&L(V),!(!c.hasValue(V)||!isValidLayout[d.type](z))){var U=!1;x&&(U=clip[d.type](b,z));var H=elementCreator[d.type](n,c,V,z,y,S,g.model,!1,T);_&&(H.forceLabelAnimation=!0),updateStyle(H,c,V,F,z,n,y,d.type==="polar"),I?H.attr({shape:z}):_?updateRealtimeAnimation(_,S,H,z,V,y,!1,!1):initProps(H,{shape:z},n,V),c.setItemGraphicEl(V,H),u.add(H),H.ignore=U}}).update(function(V,F){var z=c.getItemModel(V),U=getLayout[d.type](c,V,z);if(A){var H=void 0;M.length===0?H=L(F):(H=M[F],H.useStyle(C.getItemStyle()),d.type==="cartesian2d"?H.setShape("r",E):H.setShape("cornerRadius",E),P[V]=H);var N=getLayout[d.type](c,V),G=createBackgroundShape(y,N,d);updateProps$1(H,{shape:G},S,V)}var R=f.getItemGraphicEl(F);if(!c.hasValue(V)||!isValidLayout[d.type](U)){u.remove(R);return}var B=!1;if(x&&(B=clip[d.type](b,U),B&&u.remove(R)),R?saveOldStyle(R):R=elementCreator[d.type](n,c,V,U,y,S,g.model,!!R,T),_&&(R.forceLabelAnimation=!0),D){var j=R.getTextContent();if(j){var W=labelInner(j);W.prevValue!=null&&(W.prevValue=W.value)}}else updateStyle(R,c,V,z,U,n,y,d.type==="polar");I?R.attr({shape:U}):_?updateRealtimeAnimation(_,S,R,U,V,y,!0,D):updateProps$1(R,{shape:U},n,V,null),c.setItemGraphicEl(V,R),R.ignore=B,u.add(R)}).remove(function(V){var F=f.getItemGraphicEl(V);F&&removeElementWithFadeOut(F,n,V)}).execute();var $=this._backgroundGroup||(this._backgroundGroup=new Group$3);$.removeAll();for(var O=0;O<P.length;++O)$.add(P[O]);u.add($),this._backgroundEls=P,this._data=c},t.prototype._renderLarge=function(n,o,s){this._clear(),createLarge$1(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,o){this._removeBackground(),createLarge$1(o,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var o=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n),s=this.group;o?s.setClipPath(o):s.removeClipPath()},t.prototype._enableRealtimeSort=function(n,o,s){var l=this;if(o.count()){var u=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,n,s),this._isFirstFrame=!1;else{var c=function(f){var d=o.getItemGraphicEl(f),g=d&&d.shape;return g&&Math.abs(u.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){l._updateSortWithinSameData(o,c,u,s)},s.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,o,s){var l=[];return n.each(n.mapDimension(o.dim),function(u,c){var f=s(c);f=f??NaN,l.push({dataIndex:c,mappedValue:f,ordinalNumber:u})}),l.sort(function(u,c){return c.mappedValue-u.mappedValue}),{ordinalNumbers:map$1(l,function(u){return u.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,o,s){for(var l=s.scale,u=n.mapDimension(s.dim),c=Number.MAX_VALUE,f=0,d=l.getOrdinalMeta().categories.length;f<d;++f){var g=n.rawIndexOf(u,l.getRawOrdinalNumber(f)),y=g<0?Number.MIN_VALUE:o(n.indexOfRawIndex(g));if(y>c)return!0;c=y}return!1},t.prototype._isOrderDifferentInView=function(n,o){for(var s=o.scale,l=s.getExtent(),u=Math.max(0,l[0]),c=Math.min(l[1],s.getOrdinalMeta().categories.length-1);u<=c;++u)if(n.ordinalNumbers[u]!==s.getRawOrdinalNumber(u))return!0},t.prototype._updateSortWithinSameData=function(n,o,s,l){if(this._isOrderChangedWithinSameData(n,o,s)){var u=this._dataSort(n,s,o);this._isOrderDifferentInView(u,s)&&(this._removeOnRenderedListener(l),l.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:u}))}},t.prototype._dispatchInitSort=function(n,o,s){var l=o.baseAxis,u=this._dataSort(n,l,function(c){return n.get(n.mapDimension(o.otherAxis.dim),c)});s.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",isInitSort:!0,axisId:l.index,sortInfo:u})},t.prototype.remove=function(n,o){this._clear(this._model),this._removeOnRenderedListener(o)},t.prototype.dispose=function(n,o){this._removeOnRenderedListener(o)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var o=this.group,s=this._data;n&&n.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(l){removeElementWithFadeOut(l,n,getECData(l).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ChartView),clip={cartesian2d:function(a,t){var n=t.width<0?-1:1,o=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height);var s=a.x+a.width,l=a.y+a.height,u=mathMax$4(t.x,a.x),c=mathMin$4(t.x+t.width,s),f=mathMax$4(t.y,a.y),d=mathMin$4(t.y+t.height,l),g=c<u,y=d<f;return t.x=g&&u>s?c:u,t.y=y&&f>l?d:f,t.width=g?0:c-u,t.height=y?0:d-f,n<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height),g||y},polar:function(a,t){var n=t.r0<=t.r?1:-1;if(n<0){var o=t.r;t.r=t.r0,t.r0=o}var s=mathMin$4(t.r,a.r),l=mathMax$4(t.r0,a.r0);t.r=s,t.r0=l;var u=s-l<0;if(n<0){var o=t.r;t.r=t.r0,t.r0=o}return u}},elementCreator={cartesian2d:function(a,t,n,o,s,l,u,c,f){var d=new Rect$2({shape:extend({},o),z2:1});if(d.__dataIndex=n,d.name="item",l){var g=d.shape,y=s?"height":"width";g[y]=0}return d},polar:function(a,t,n,o,s,l,u,c,f){var d=!s&&f?SausagePath:Sector,g=new d({shape:o,z2:1});g.name="item";var y=createPolarPositionMapping(s);if(g.calculateTextPosition=createSectorCalculateTextPosition(y,{isRoundCap:d===SausagePath}),l){var S=g.shape,_=s?"r":"endAngle",x={};S[_]=s?o.r0:o.startAngle,x[_]=o[_],(c?updateProps$1:initProps)(g,{shape:x},l)}return g}};function shouldRealtimeSort(a,t){var n=a.get("realtimeSort",!0),o=t.getBaseAxis();if(n&&o.type==="category"&&t.type==="cartesian2d")return{baseAxis:o,otherAxis:t.getOtherAxis(o)}}function updateRealtimeAnimation(a,t,n,o,s,l,u,c){var f,d;l?(d={x:o.x,width:o.width},f={y:o.y,height:o.height}):(d={y:o.y,height:o.height},f={x:o.x,width:o.width}),c||(u?updateProps$1:initProps)(n,{shape:f},t,s,null);var g=t?a.baseAxis.model:null;(u?updateProps$1:initProps)(n,{shape:d},g,s)}function checkPropertiesNotValid(a,t){for(var n=0;n<t.length;n++)if(!isFinite(a[t[n]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(a){return!checkPropertiesNotValid(a,rectPropties)},polar:function(a){return!checkPropertiesNotValid(a,polarPropties)}},getLayout={cartesian2d:function(a,t,n){var o=a.getItemLayout(t),s=n?getLineWidth(n,o):0,l=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+u*s/2,width:o.width-l*s,height:o.height-u*s}},polar:function(a,t,n){var o=a.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function isZeroOnPolar(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function createPolarPositionMapping(a){return function(t){var n=t?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+n;default:return o}}}(a)}function updateStyle(a,t,n,o,s,l,u,c){var f=t.getItemVisual(n,"style");if(c){if(!l.get("roundCap")){var g=a.shape,y=getSectorCornerRadius(o.getModel("itemStyle"),g,!0);extend(g,y),a.setShape(g)}}else{var d=o.get(["itemStyle","borderRadius"])||0;a.setShape("r",d)}a.useStyle(f);var S=o.getShallow("cursor");S&&a.attr("cursor",S);var _=c?u?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":u?s.height>=0?"bottom":"top":s.width>=0?"right":"left",x=getLabelStatesModels(o);setLabelStyle(a,x,{labelFetcher:l,labelDataIndex:n,defaultText:getDefaultLabel(l.getData(),n),inheritColor:f.fill,defaultOpacity:f.opacity,defaultOutsidePosition:_});var b=a.getTextContent();if(c&&b){var T=o.get(["label","position"]);a.textConfig.inside=T==="middle"?!0:null,setSectorTextRotation(a,T==="outside"?_:T,createPolarPositionMapping(u),o.get(["label","rotate"]))}setLabelValueAnimation(b,x,l.getRawValue(n),function(C){return getDefaultInterpolatedLabel(t,C)});var A=o.getModel(["emphasis"]);toggleHoverEmphasis(a,A.get("focus"),A.get("blurScope"),A.get("disabled")),setStatesStylesFromModel(a,o),isZeroOnPolar(s)&&(a.style.fill="none",a.style.stroke="none",each$f(a.states,function(C){C.style&&(C.style.fill=C.style.stroke="none")}))}function getLineWidth(a,t){var n=a.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var o=a.get(["itemStyle","borderWidth"])||0,s=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),l=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(o,s,l)}var LagePathShape=function(){function a(){}return a}(),LargePath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="largeBar",o}return t.prototype.getDefaultShape=function(){return new LagePathShape},t.prototype.buildPath=function(n,o){for(var s=o.points,l=this.baseDimIdx,u=1-this.baseDimIdx,c=[],f=[],d=this.barWidth,g=0;g<s.length;g+=3)f[l]=d,f[u]=s[g+2],c[l]=s[g+l],c[u]=s[g+u],n.rect(c[0],c[1],f[0],f[1])},t}(Path);function createLarge$1(a,t,n,o){var s=a.getData(),l=s.getLayout("valueAxisHorizontal")?1:0,u=s.getLayout("largeDataIndices"),c=s.getLayout("size"),f=a.getModel("backgroundStyle"),d=s.getLayout("largeBackgroundPoints");if(d){var g=new LargePath({shape:{points:d},incremental:!!o,silent:!0,z2:0});g.baseDimIdx=l,g.largeDataIndices=u,g.barWidth=c,g.useStyle(f.getItemStyle()),t.add(g),n&&n.push(g)}var y=new LargePath({shape:{points:s.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=l,y.largeDataIndices=u,y.barWidth=c,t.add(y),y.useStyle(s.getVisual("style")),y.style.stroke=null,getECData(y).seriesIndex=a.seriesIndex,a.get("silent")||(y.on("mousedown",largePathUpdateDataIndex),y.on("mousemove",largePathUpdateDataIndex)),n&&n.push(y)}var largePathUpdateDataIndex=throttle(function(a){var t=this,n=largePathFindDataIndex(t,a.offsetX,a.offsetY);getECData(t).dataIndex=n>=0?n:null},30,!1);function largePathFindDataIndex(a,t,n){for(var o=a.baseDimIdx,s=1-o,l=a.shape.points,u=a.largeDataIndices,c=[],f=[],d=a.barWidth,g=0,y=l.length/3;g<y;g++){var S=g*3;if(f[o]=d,f[s]=l[S+2],c[o]=l[S+o],c[s]=l[S+s],f[s]<0&&(c[s]+=f[s],f[s]=-f[s]),t>=c[0]&&t<=c[0]+f[0]&&n>=c[1]&&n<=c[1]+f[1])return u[g]}return-1}function createBackgroundShape(a,t,n){if(isCoordinateSystemType(n,"cartesian2d")){var o=t,s=n.getArea();return{x:a?o.x:s.x,y:a?s.y:o.y,width:a?o.width:s.width,height:a?s.height:o.height}}else{var s=n.getArea(),l=t;return{cx:s.cx,cy:s.cy,r0:a?s.r0:l.r0,r:a?s.r:l.r,startAngle:a?l.startAngle:0,endAngle:a?l.endAngle:Math.PI*2}}}function createBackgroundEl(a,t,n){var o=a.type==="polar"?Sector:Rect$2;return new o({shape:createBackgroundShape(t,n,a),silent:!0,z2:0})}function install$P(a){a.registerChartView(BarView),a.registerSeriesModel(BarSeriesModel),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var o=t.componentType||"series";n.eachComponent({mainType:o,query:t},function(s){t.sortInfo&&s.axis.setCategorySortInfo(t.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(a,t){return getLayoutRect(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function getBasicPieLayout(a,t){var n=getViewRect$5(a,t),o=a.get("center"),s=a.get("radius");isArray$2(s)||(s=[0,s]);var l=parsePercent(n.width,t.getWidth()),u=parsePercent(n.height,t.getHeight()),c=Math.min(l,u),f=parsePercent(s[0],c/2),d=parsePercent(s[1],c/2),g,y,S=a.coordinateSystem;if(S){var _=S.dataToPoint(o);g=_[0]||0,y=_[1]||0}else isArray$2(o)||(o=[o,o]),g=parsePercent(o[0],l)+n.x,y=parsePercent(o[1],u)+n.y;return{cx:g,cy:y,r0:f,r:d}}function pieLayout(a,t,n){t.eachSeriesByType(a,function(o){var s=o.getData(),l=s.mapDimension("value"),u=getViewRect$5(o,n),c=getBasicPieLayout(o,n),f=c.cx,d=c.cy,g=c.r,y=c.r0,S=-o.get("startAngle")*RADIAN$2,_=o.get("endAngle"),x=o.get("padAngle")*RADIAN$2;_=_==="auto"?S-PI2:-_*RADIAN$2;var b=o.get("minAngle")*RADIAN$2,T=b+x,A=0;s.each(l,function(G){!isNaN(G)&&A++});var C=s.getSum(l),E=Math.PI/(C||A)*2,P=o.get("clockwise"),M=o.get("roseType"),I=o.get("stillShowZeroSum"),D=s.getDataExtent(l);D[0]=0;var L=P?1:-1,$=[S,_],O=L*x/2;normalizeArcAngles($,!P),S=$[0],_=$[1];var V=getSeriesLayoutData(o);V.startAngle=S,V.endAngle=_,V.clockwise=P;var F=Math.abs(_-S),z=F,U=0,H=S;if(s.setLayout({viewRect:u,r:g}),s.each(l,function(G,R){var B;if(isNaN(G)){s.setItemLayout(R,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:P,cx:f,cy:d,r0:y,r:M?NaN:g});return}M!=="area"?B=C===0&&I?E:G*E:B=F/A,B<T?(B=T,z-=T):U+=G;var j=H+L*B,W=0,X=0;x>B?(W=H+L*B/2,X=W):(W=H+O,X=j-O),s.setItemLayout(R,{angle:B,startAngle:W,endAngle:X,clockwise:P,cx:f,cy:d,r0:y,r:M?linearMap$2(G,D,[y,g]):g}),H=j}),z<PI2&&A)if(z<=.001){var N=F/A;s.each(l,function(G,R){if(!isNaN(G)){var B=s.getItemLayout(R);B.angle=N;var j=0,W=0;N<x?(j=S+L*(R+1/2)*N,W=j):(j=S+L*R*N+O,W=S+L*(R+1)*N-O),B.startAngle=j,B.endAngle=W}})}else E=z/U,H=S,s.each(l,function(G,R){if(!isNaN(G)){var B=s.getItemLayout(R),j=B.angle===T?T:G*E,W=0,X=0;j<x?(W=H+L*j/2,X=W):(W=H+O,X=H+L*j-O),B.startAngle=W,B.endAngle=X,H+=L*j}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(a){return{seriesType:a,reset:function(t,n){var o=n.findComponents({mainType:"legend"});if(!(!o||!o.length)){var s=t.getData();s.filterSelf(function(l){for(var u=s.getName(l),c=0;c<o.length;c++)if(!o[c].isSelected(u))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(a,t,n,o,s,l,u,c,f,d){if(a.length<2)return;function g(b){for(var T=b.rB,A=T*T,C=0;C<b.list.length;C++){var E=b.list[C],P=Math.abs(E.label.y-n),M=o+E.len,I=M*M,D=Math.sqrt(Math.abs((1-P*P/A)*I)),L=t+(D+E.len2)*s,$=L-E.label.x,O=E.targetTextWidth-$*s;constrainTextWidth(E,O,!0),E.label.x=L}}function y(b){for(var T={list:[],maxY:0},A={list:[],maxY:0},C=0;C<b.length;C++)if(b[C].labelAlignTo==="none"){var E=b[C],P=E.label.y>n?A:T,M=Math.abs(E.label.y-n);if(M>=P.maxY){var I=E.label.x-t-E.len2*s,D=o+E.len,L=Math.abs(I)<D?Math.sqrt(M*M/(1-I*I/D/D)):D;P.rB=L,P.maxY=M}P.list.push(E)}g(T),g(A)}for(var S=a.length,_=0;_<S;_++)if(a[_].position==="outer"&&a[_].labelAlignTo==="labelLine"){var x=a[_].label.x-d;a[_].linePoints[1][0]+=x,a[_].label.x=d}shiftLayoutOnY(a,f,f+u)&&y(a)}function avoidOverlap(a,t,n,o,s,l,u,c){for(var f=[],d=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,S=0;S<a.length;S++){var _=a[S].label;isPositionCenter(a[S])||(_.x<t?(g=Math.min(g,_.x),f.push(a[S])):(y=Math.max(y,_.x),d.push(a[S])))}for(var S=0;S<a.length;S++){var x=a[S];if(!isPositionCenter(x)&&x.linePoints){if(x.labelStyleWidth!=null)continue;var _=x.label,b=x.linePoints,T=void 0;x.labelAlignTo==="edge"?_.x<t?T=b[2][0]-x.labelDistance-u-x.edgeDistance:T=u+s-x.edgeDistance-b[2][0]-x.labelDistance:x.labelAlignTo==="labelLine"?_.x<t?T=g-u-x.bleedMargin:T=u+s-y-x.bleedMargin:_.x<t?T=_.x-u-x.bleedMargin:T=u+s-_.x-x.bleedMargin,x.targetTextWidth=T,constrainTextWidth(x,T)}}adjustSingleSide(d,t,n,o,1,s,l,u,c,y),adjustSingleSide(f,t,n,o,-1,s,l,u,c,g);for(var S=0;S<a.length;S++){var x=a[S];if(!isPositionCenter(x)&&x.linePoints){var _=x.label,b=x.linePoints,A=x.labelAlignTo==="edge",C=_.style.padding,E=C?C[1]+C[3]:0,P=_.style.backgroundColor?0:E,M=x.rect.width+P,I=b[1][0]-b[2][0];A?_.x<t?b[2][0]=u+x.edgeDistance+M+x.labelDistance:b[2][0]=u+s-x.edgeDistance-M-x.labelDistance:(_.x<t?b[2][0]=_.x+x.labelDistance:b[2][0]=_.x-x.labelDistance,b[1][0]=b[2][0]+I),b[1][1]=b[2][1]=_.y}}}function constrainTextWidth(a,t,n){if(n===void 0&&(n=!1),a.labelStyleWidth==null){var o=a.label,s=o.style,l=a.rect,u=s.backgroundColor,c=s.padding,f=c?c[1]+c[3]:0,d=s.overflow,g=l.width+(u?0:f);if(t<g||n){var y=l.height;if(d&&d.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",t-f);var S=o.getBoundingRect();o.setStyle("width",Math.ceil(S.width)),o.setStyle("backgroundColor",u)}else{var _=t-f,x=t<g?_:n?_>a.unconstrainedWidth?null:_:null;o.setStyle("width",x)}var b=o.getBoundingRect();l.width=b.width;var T=(o.style.margin||0)+2.1;l.height=b.height+T,l.y-=(l.height-y)/2}}}function isPositionCenter(a){return a.position==="center"}function pieLabelLayout(a){var t=a.getData(),n=[],o,s,l=!1,u=(a.get("minShowLabelAngle")||0)*RADIAN$1,c=t.getLayout("viewRect"),f=t.getLayout("r"),d=c.width,g=c.x,y=c.y,S=c.height;function _(I){I.ignore=!0}function x(I){if(!I.ignore)return!0;for(var D in I.states)if(I.states[D].ignore===!1)return!0;return!1}t.each(function(I){var D=t.getItemGraphicEl(I),L=D.shape,$=D.getTextContent(),O=D.getTextGuideLine(),V=t.getItemModel(I),F=V.getModel("label"),z=F.get("position")||V.get(["emphasis","label","position"]),U=F.get("distanceToLabelLine"),H=F.get("alignTo"),N=parsePercent(F.get("edgeDistance"),d),G=F.get("bleedMargin"),R=V.getModel("labelLine"),B=R.get("length");B=parsePercent(B,d);var j=R.get("length2");if(j=parsePercent(j,d),Math.abs(L.endAngle-L.startAngle)<u){each$f($.states,_),$.ignore=!0,O&&(each$f(O.states,_),O.ignore=!0);return}if(x($)){var W=(L.startAngle+L.endAngle)/2,X=Math.cos(W),ee=Math.sin(W),te,le,fe,q;o=L.cx,s=L.cy;var re=z==="inside"||z==="inner";if(z==="center")te=L.cx,le=L.cy,q="center";else{var J=(re?(L.r+L.r0)/2*X:L.r*X)+o,oe=(re?(L.r+L.r0)/2*ee:L.r*ee)+s;if(te=J+X*3,le=oe+ee*3,!re){var ne=J+X*(B+f-L.r),Y=oe+ee*(B+f-L.r),Z=ne+(X<0?-1:1)*j,K=Y;H==="edge"?te=X<0?g+N:g+d-N:te=Z+(X<0?-U:U),le=K,fe=[[J,oe],[ne,Y],[Z,K]]}q=re?"center":H==="edge"?X>0?"right":"left":X>0?"left":"right"}var Q=Math.PI,ie=0,ae=F.get("rotate");if(isNumber$2(ae))ie=ae*(Q/180);else if(z==="center")ie=0;else if(ae==="radial"||ae===!0){var ce=X<0?-W+Q:-W;ie=ce}else if(ae==="tangential"&&z!=="outside"&&z!=="outer"){var ue=Math.atan2(X,ee);ue<0&&(ue=Q*2+ue);var he=ee>0;he&&(ue=Q+ue),ie=ue-Q}if(l=!!ie,$.x=te,$.y=le,$.rotation=ie,$.setStyle({verticalAlign:"middle"}),re){$.setStyle({align:q});var pe=$.states.select;pe&&(pe.x+=$.x,pe.y+=$.y)}else{var se=$.getBoundingRect().clone();se.applyTransform($.getComputedTransform());var ve=($.style.margin||0)+2.1;se.y-=ve/2,se.height+=ve,n.push({label:$,labelLine:O,position:z,len:B,len2:j,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new Point(X,ee),linePoints:fe,textAlign:q,labelDistance:U,labelAlignTo:H,edgeDistance:N,bleedMargin:G,rect:se,unconstrainedWidth:se.width,labelStyleWidth:$.style.width})}D.setTextConfig({inside:re})}}),!l&&a.get("avoidLabelOverlap")&&avoidOverlap(n,o,s,f,d,S,g,y);for(var b=0;b<n.length;b++){var T=n[b],A=T.label,C=T.labelLine,E=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:T.textAlign}),E&&(each$f(A.states,_),A.ignore=!0);var P=A.states.select;P&&(P.x+=A.x,P.y+=A.y)}if(C){var M=T.linePoints;E||!M?(each$f(C.states,_),C.ignore=!0):(limitTurnAngle(M,T.minTurnAngle),limitSurfaceAngle(M,T.surfaceNormal,T.maxSurfaceAngle),C.setShape({points:M}),A.__hostTarget.textGuideLineConfig={anchor:new Point(M[0][0],M[0][1])})}}}var PiePiece=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this)||this;l.z2=2;var u=new ZRText;return l.setTextContent(u),l.updateData(n,o,s,!0),l}return t.prototype.updateData=function(n,o,s,l){var u=this,c=n.hostModel,f=n.getItemModel(o),d=f.getModel("emphasis"),g=n.getItemLayout(o),y=extend(getSectorCornerRadius(f.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){u.setShape(y);return}if(l){u.setShape(y);var S=c.getShallow("animationType");c.ecModel.ssr?(initProps(u,{scaleX:0,scaleY:0},c,{dataIndex:o,isFrom:!0}),u.originX=y.cx,u.originY=y.cy):S==="scale"?(u.shape.r=g.r0,initProps(u,{shape:{r:g.r}},c,o)):s!=null?(u.setShape({startAngle:s,endAngle:s}),initProps(u,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},c,o)):(u.shape.endAngle=g.startAngle,updateProps$1(u,{shape:{endAngle:g.endAngle}},c,o))}else saveOldStyle(u),updateProps$1(u,{shape:y},c,o);u.useStyle(n.getItemVisual(o,"style")),setStatesStylesFromModel(u,f);var _=(g.startAngle+g.endAngle)/2,x=c.get("selectedOffset"),b=Math.cos(_)*x,T=Math.sin(_)*x,A=f.getShallow("cursor");A&&u.attr("cursor",A),this._updateLabel(c,n,o),u.ensureState("emphasis").shape=extend({r:g.r+(d.get("scale")&&d.get("scaleSize")||0)},getSectorCornerRadius(d.getModel("itemStyle"),g)),extend(u.ensureState("select"),{x:b,y:T,shape:getSectorCornerRadius(f.getModel(["select","itemStyle"]),g)}),extend(u.ensureState("blur"),{shape:getSectorCornerRadius(f.getModel(["blur","itemStyle"]),g)});var C=u.getTextGuideLine(),E=u.getTextContent();C&&extend(C.ensureState("select"),{x:b,y:T}),extend(E.ensureState("select"),{x:b,y:T}),toggleHoverEmphasis(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n,o,s){var l=this,u=o.getItemModel(s),c=u.getModel("labelLine"),f=o.getItemVisual(s,"style"),d=f&&f.fill,g=f&&f.opacity;setLabelStyle(l,getLabelStatesModels(u),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:d,defaultOpacity:g,defaultText:n.getFormattedLabel(s,"normal")||o.getName(s)});var y=l.getTextContent();l.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var S=n.get(["label","position"]);if(S!=="outside"&&S!=="outer")l.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new Polyline$1,this.setTextGuideLine(_)),setLabelLineStyle(this,getLabelLineStatesModels(u),{stroke:d,opacity:retrieve3(c.get(["lineStyle","opacity"]),g,1)})}},t}(Sector),PieView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,o,s,l){var u=n.getData(),c=this._data,f=this.group,d;if(!c&&u.count()>0){for(var g=u.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<u.count();++y)g=u.getItemLayout(y);g&&(d=g.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),u.count()===0&&n.get("showEmptyCircle")){var S=getSeriesLayoutData(n),_=new Sector({shape:extend(getBasicPieLayout(n,s),S)});_.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,f.add(_)}u.diff(c).add(function(x){var b=new PiePiece(u,x,d);u.setItemGraphicEl(x,b),f.add(b)}).update(function(x,b){var T=c.getItemGraphicEl(b);T.updateData(u,x,d),T.off("click"),f.add(T),u.setItemGraphicEl(x,T)}).remove(function(x){var b=c.getItemGraphicEl(x);removeElementWithFadeOut(b,n,x)}).execute(),pieLabelLayout(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=u)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=n[0]-l.cx,c=n[1]-l.cy,f=Math.sqrt(u*u+c*c);return f<=l.r&&f>=l.r0}},t.type="pie",t}(ChartView);function createSeriesDataSimply(a,t,n){t=isArray$2(t)&&{coordDimensions:t}||extend({encodeDefine:a.getEncode()},t);var o=a.getSource(),s=prepareSeriesDataSchema(o,t).dimensions,l=new SeriesData(s,a);return l.initData(o,n),l}var LegendVisualProvider=function(){function a(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},a.prototype.getItemVisual=function(t,n){var o=this._getDataWithEncodedVisual();return o.getItemVisual(t,n)},a}(),innerData=makeInner(),PieSeriesModel=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},t.prototype.getDataParams=function(n){var o=this.getData(),s=innerData(o),l=s.seats;if(!l){var u=[];o.each(o.mapDimension("value"),function(f){u.push(f)}),l=s.seats=getPercentSeats(u,o.hostModel.get("percentPrecision"))}var c=a.prototype.getDataParams.call(this,n);return c.percent=l[n]||0,c.$vars.push("percent"),c},t.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var o=n.labelLine,s=n.emphasis.labelLine;o.show=o.show&&n.label.show,s.show=s.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(SeriesModel);function negativeDataFilter(a){return{seriesType:a,reset:function(t,n){var o=t.getData();o.filterSelf(function(s){var l=o.mapDimension("value"),u=o.get(l,s);return!(isNumber$2(u)&&!isNaN(u)&&u<0)})}}}function install$O(a){a.registerChartView(PieView),a.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",a.registerAction),a.registerLayout(curry$1(pieLayout,"pie")),a.registerProcessor(dataFilter$1("pie")),a.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(n,o,s){return s.point(o.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function a(){}return a}(),LargeSymbolPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o._off=0,o.hoverDataIdx=-1,o}return t.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,o){var s=o.points,l=o.size,u=this.symbolProxy,c=u.shape,f=n.getContext?n.getContext():n,d=f&&l[0]<BOOST_SIZE_THRESHOLD,g=this.softClipShape,y;if(d){this._ctx=f;return}for(this._ctx=null,y=this._off;y<s.length;){var S=s[y++],_=s[y++];isNaN(S)||isNaN(_)||g&&!g.contain(S,_)||(c.x=S-l[0]/2,c.y=_-l[1]/2,c.width=l[0],c.height=l[1],u.buildPath(n,c,!0))}this.incremental&&(this._off=y,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,o=n.points,s=n.size,l=this._ctx,u=this.softClipShape,c;if(l){for(c=this._off;c<o.length;){var f=o[c++],d=o[c++];isNaN(f)||isNaN(d)||u&&!u.contain(f,d)||l.fillRect(f-s[0]/2,d-s[1]/2,s[0],s[1])}this.incremental&&(this._off=c,this.notClear=!0)}},t.prototype.findDataIndex=function(n,o){for(var s=this.shape,l=s.points,u=s.size,c=Math.max(u[0],4),f=Math.max(u[1],4),d=l.length/2-1;d>=0;d--){var g=d*2,y=l[g]-c/2,S=l[g+1]-f/2;if(n>=y&&o>=S&&n<=y+c&&o<=S+f)return d}return-1},t.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(n=s[0],o=s[1],l.contain(n,o)){var u=this.hoverDataIdx=this.findDataIndex(n,o);return u>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var o=this.shape,s=o.points,l=o.size,u=l[0],c=l[1],f=1/0,d=1/0,g=-1/0,y=-1/0,S=0;S<s.length;){var _=s[S++],x=s[S++];f=Math.min(_,f),g=Math.max(_,g),d=Math.min(x,d),y=Math.max(x,y)}n=this._rect=new BoundingRect(f-u/2,d-c/2,g-f+u,y-d+c)}return n},t}(Path),LargeSymbolDraw=function(){function a(){this.group=new Group$3}return a.prototype.updateData=function(t,n){this._clear();var o=this._create();o.setShape({points:t.getLayout("points")}),this._setCommon(o,t,n)},a.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var s=(o.endIndex-o.startIndex)*2,l=o.startIndex*4*2;n=new Float32Array(n.buffer,l,s)}o.setShape("points",n),o.reset()})},a.prototype.incrementalPrepareUpdate=function(t){this._clear()},a.prototype.incrementalUpdate=function(t,n,o){var s=this._newAdded[0],l=n.getLayout("points"),u=s&&s.shape.points;if(u&&u.length<2e4){var c=u.length,f=new Float32Array(c+l.length);f.set(u),f.set(l,c),s.endIndex=t.end,s.setShape({points:f})}else{this._newAdded=[];var d=this._create();d.startIndex=t.start,d.endIndex=t.end,d.incremental=!0,d.setShape({points:l}),this._setCommon(d,n,o)}},a.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},a.prototype._create=function(){var t=new LargeSymbolPath({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},a.prototype._setCommon=function(t,n,o){var s=n.hostModel;o=o||{};var l=n.getVisual("symbolSize");t.setShape("size",l instanceof Array?l:[l,l]),t.softClipShape=o.clipShape||null,t.symbolProxy=createSymbol$1(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var u=t.shape.size[0]<BOOST_SIZE_THRESHOLD;t.useStyle(s.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var c=n.getVisual("style"),f=c&&c.fill;f&&t.setColor(f);var d=getECData(t);d.seriesIndex=s.seriesIndex,t.on("mousemove",function(g){d.dataIndex=null;var y=t.hoverDataIdx;y>=0&&(d.dataIndex=y+(t.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),ScatterView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=n.getData(),u=this._updateSymbolDraw(l,n);u.updateData(l,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,o,s){var l=n.getData(),u=this._updateSymbolDraw(l,n);u.incrementalPrepareUpdate(l),this._finished=!1},t.prototype.incrementalRender=function(n,o,s){this._symbolDraw.incrementalUpdate(n,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=n.end===o.getData().count()},t.prototype.updateTransform=function(n,o,s){var l=n.getData();if(this.group.dirty(),!this._finished||l.count()>1e4)return{update:!0};var u=pointsLayout("").reset(n,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout(l)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){if(n.get("clip",!0)){var o=n.coordinateSystem;return o&&o.getArea&&o.getArea(.1)}},t.prototype._updateSymbolDraw=function(n,o){var s=this._symbolDraw,l=o.pipelineContext,u=l.large;return(!s||u!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=u?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=u,this.group.removeAll()),this.group.add(s.group),s},t.prototype.remove=function(n,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ChartView),GridModel=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ComponentModel),CartesianAxisModel=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},t.type="cartesian2dAxis",t}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(a,t,n,o){each$f(AXIS_TYPES,function(s,l){var u=merge(merge({},axisDefault[l],!0),o,!0),c=function(f){__extends$1(d,f);function d(){var g=f!==null&&f.apply(this,arguments)||this;return g.type=t+"Axis."+l,g}return d.prototype.mergeDefaultAndTheme=function(g,y){var S=fetchLayoutMode(this),_=S?getLayoutParams(g):{},x=y.getTheme();merge(g,x.get(l+"Axis")),merge(g,this.getDefaultOption()),g.type=getAxisType(g),S&&mergeLayoutParam(g,_,S)},d.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},d.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},d.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},d.type=t+"Axis."+l,d.defaultOption=u,d}(n);a.registerComponentModel(c)}),a.registerSubTypeDefaulter(t+"Axis",getAxisType)}function getAxisType(a){return a.type||(a.data?"category":"value")}var Cartesian=function(){function a(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return a.prototype.getAxis=function(t){return this._axes[t]},a.prototype.getAxes=function(){return map$1(this._dimList,function(t){return this._axes[t]},this)},a.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter$1(this.getAxes(),function(n){return n.scale.type===t})},a.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},a}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(a){return a.type==="interval"||a.type==="time"}var Cartesian2D=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=cartesian2DDimensions,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(n)||!canCalculateAffineTransform(o))){var s=n.getExtent(),l=o.getExtent(),u=this.dataToPoint([s[0],l[0]]),c=this.dataToPoint([s[1],l[1]]),f=s[1]-s[0],d=l[1]-l[0];if(!(!f||!d)){var g=(c[0]-u[0])/f,y=(c[1]-u[1])/d,S=u[0]-s[0]*g,_=u[1]-l[0]*y,x=this._transform=[g,0,0,y,S,_];this._invTransform=invert([],x)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(n[0]))&&s.contain(s.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,o){var s=this.dataToPoint(n),l=this.dataToPoint(o),u=this.getArea(),c=new BoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]);return u.intersect(c)},t.prototype.dataToPoint=function(n,o,s){s=s||[];var l=n[0],u=n[1];if(this._transform&&l!=null&&isFinite(l)&&u!=null&&isFinite(u))return applyTransform$1(s,n,this._transform);var c=this.getAxis("x"),f=this.getAxis("y");return s[0]=c.toGlobalCoord(c.dataToCoord(l,o)),s[1]=f.toGlobalCoord(f.dataToCoord(u,o)),s},t.prototype.clampData=function(n,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,u=s.getExtent(),c=l.getExtent(),f=s.parse(n[0]),d=l.parse(n[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(u[0],u[1]),f),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),o},t.prototype.pointToData=function(n,o){var s=[];if(this._invTransform)return applyTransform$1(s,n,this._invTransform);var l=this.getAxis("x"),u=this.getAxis("y");return s[0]=l.coordToData(l.toLocalCoord(n[0]),o),s[1]=u.coordToData(u.toLocalCoord(n[1]),o),s},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var o=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),l=Math.min(o[0],o[1])-n,u=Math.min(s[0],s[1])-n,c=Math.max(o[0],o[1])-l+n,f=Math.max(s[0],s[1])-u+n;return new BoundingRect(l,u,c,f)},t}(Cartesian),Axis2D=function(a){__extends$1(t,a);function t(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.index=0,c.type=l||"value",c.position=u||"bottom",c}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),n&&o[0]>o[1]&&o.reverse(),o},t.prototype.pointToData=function(n,o){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),o)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(Axis);function layout$2(a,t,n){n=n||{};var o=a.coordinateSystem,s=t.axis,l={},u=s.getAxesOnZeroOf()[0],c=s.position,f=u?"onZero":c,d=s.dim,g=o.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],S={left:0,right:1,top:0,bottom:1,onZero:2},_=t.get("offset")||0,x=d==="x"?[y[2]-_,y[3]+_]:[y[0]-_,y[1]+_];if(u){var b=u.toGlobalCoord(u.dataToCoord(0));x[S.onZero]=Math.max(Math.min(b,x[1]),x[0])}l.position=[d==="y"?x[S[f]]:y[0],d==="x"?x[S[f]]:y[3]],l.rotation=Math.PI/2*(d==="x"?0:1);var T={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=T[c],l.labelOffset=u?x[S[c]]-x[S.onZero]:0,t.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var A=t.get(["axisLabel","rotate"]);return l.labelRotate=f==="top"?-A:A,l.z2=1,l}function isCartesian2DSeries(a){return a.get("coordinateSystem")==="cartesian2d"}function findAxisModels(a){var t={xAxisModel:null,yAxisModel:null};return each$f(t,function(n,o){var s=o.replace(/Model$/,""),l=a.getReferringComponents(s,SINGLE_REFERRING).models[0];t[o]=l}),t}var mathLog=Math.log;function alignScaleTicks(a,t,n){var o=IntervalScale.prototype,s=o.getTicks.call(n),l=o.getTicks.call(n,!0),u=s.length-1,c=o.getInterval.call(n),f=getScaleExtent(a,t),d=f.extent,g=f.fixMin,y=f.fixMax;if(a.type==="log"){var S=mathLog(a.base);d=[mathLog(d[0])/S,mathLog(d[1])/S]}a.setExtent(d[0],d[1]),a.calcNiceExtent({splitNumber:u,fixMin:g,fixMax:y});var _=o.getExtent.call(a);g&&(d[0]=_[0]),y&&(d[1]=_[1]);var x=o.getInterval.call(a),b=d[0],T=d[1];if(g&&y)x=(T-b)/u;else if(g)for(T=d[0]+x*u;T<d[1]&&isFinite(T)&&isFinite(d[1]);)x=increaseInterval(x),T=d[0]+x*u;else if(y)for(b=d[1]-x*u;b>d[0]&&isFinite(b)&&isFinite(d[0]);)x=increaseInterval(x),b=d[1]-x*u;else{var A=a.getTicks().length-1;A>u&&(x=increaseInterval(x));var C=x*u;T=Math.ceil(d[1]/x)*x,b=round$3(T-C),b<0&&d[0]>=0?(b=0,T=round$3(C)):T>0&&d[1]<=0&&(T=0,b=-round$3(C))}var E=(s[0].value-l[0].value)/c,P=(s[u].value-l[u].value)/c;o.setExtent.call(a,b+x*E,T+x*P),o.setInterval.call(a,x),(E||P)&&o.setNiceExtent.call(a,b+x,T-x)}var Grid=function(){function a(t,n,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,n,o),this.model=t}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(t,n){var o=this._axesMap;this._updateScale(t,this.model);function s(u){var c,f=keys$1(u),d=f.length;if(d){for(var g=[],y=d-1;y>=0;y--){var S=+f[y],_=u[S],x=_.model,b=_.scale;isIntervalOrLogScale(b)&&x.get("alignTicks")&&x.get("interval")==null?g.push(_):(niceScaleExtent(b,x),isIntervalOrLogScale(b)&&(c=_))}g.length&&(c||(c=g.pop(),niceScaleExtent(c.scale,c.model)),each$f(g,function(T){alignScaleTicks(T.scale,T.model,c.scale)}))}}s(o.x),s(o.y);var l={};each$f(o.x,function(u){fixAxisOnZero(o,"y",u,l)}),each$f(o.y,function(u){fixAxisOnZero(o,"x",u,l)}),this.resize(this.model,n)},a.prototype.resize=function(t,n,o){var s=t.getBoxLayoutParams(),l=!o&&t.get("containLabel"),u=getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});this._rect=u;var c=this._axesList;f(),l&&(each$f(c,function(d){if(!d.model.get(["axisLabel","inside"])){var g=estimateLabelUnionRect(d);if(g){var y=d.isHorizontal()?"height":"width",S=d.model.get(["axisLabel","margin"]);u[y]-=g[y]+S,d.position==="top"?u.y+=g.height+S:d.position==="left"&&(u.x+=g.width+S)}}}),f()),each$f(this._coordsList,function(d){d.calcAffineTransform()});function f(){each$f(c,function(d){var g=d.isHorizontal(),y=g?[0,u.width]:[0,u.height],S=d.inverse?1:0;d.setExtent(y[S],y[1-S]),updateAxisTransform(d,g?u.x:u.y)})}},a.prototype.getAxis=function(t,n){var o=this._axesMap[t];if(o!=null)return o[n||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var o="x"+t+"y"+n;return this._coordsMap[o]}isObject$3(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var s=0,l=this._coordsList;s<l.length;s++)if(l[s].getAxis("x").index===t||l[s].getAxis("y").index===n)return l[s]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(t,n,o){var s=this._findConvertTarget(n);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},a.prototype.convertFromPixel=function(t,n,o){var s=this._findConvertTarget(n);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},a.prototype._findConvertTarget=function(t){var n=t.seriesModel,o=t.xAxisModel||n&&n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=t.yAxisModel||n&&n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],l=t.gridModel,u=this._coordsList,c,f;if(n)c=n.coordinateSystem,indexOf(u,c)<0&&(c=null);else if(o&&s)c=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)f=this.getAxis("x",o.componentIndex);else if(s)f=this.getAxis("y",s.componentIndex);else if(l){var d=l.coordinateSystem;d===this&&(c=this._coordsList[0])}return{cartesian:c,axis:f}},a.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},a.prototype._initCartesian=function(t,n,o){var s=this,l=this,u={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},f={x:0,y:0};if(n.eachComponent("xAxis",d("x"),this),n.eachComponent("yAxis",d("y"),this),!f.x||!f.y){this._axesMap={},this._axesList=[];return}this._axesMap=c,each$f(c.x,function(g,y){each$f(c.y,function(S,_){var x="x"+y+"y"+_,b=new Cartesian2D(x);b.master=s,b.model=t,s._coordsMap[x]=b,s._coordsList.push(b),b.addAxis(g),b.addAxis(S)})});function d(g){return function(y,S){if(isAxisUsedInTheGrid(y,t)){var _=y.get("position");g==="x"?_!=="top"&&_!=="bottom"&&(_=u.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=u.left?"right":"left"),u[_]=!0;var x=new Axis2D(g,createScaleByModel$1(y),[0,0],y.get("type"),_),b=x.type==="category";x.onBand=b&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.grid=l,x.index=S,l._axesList.push(x),c[g][S]=x,f[g]++}}}},a.prototype._updateScale=function(t,n){each$f(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),s.type==="category"){var l=s.model.get("categorySortInfo");s.scale.setSortInfo(l)}}),t.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,c=l.yAxisModel;if(!isAxisUsedInTheGrid(u,n)||!isAxisUsedInTheGrid(c,n))return;var f=this.getCartesian(u.componentIndex,c.componentIndex),d=s.getData(),g=f.getAxis("x"),y=f.getAxis("y");o(d,g),o(d,y)}},this);function o(s,l){each$f(getDataDimensionsOnAxis(s,l.dim),function(u){l.scale.unionExtentFromData(s,u)})}},a.prototype.getTooltipAxes=function(t){var n=[],o=[];return each$f(this.getCartesians(),function(s){var l=t!=null&&t!=="auto"?s.getAxis(t):s.getBaseAxis(),u=s.getOtherAxis(l);indexOf(n,l)<0&&n.push(l),indexOf(o,u)<0&&o.push(u)}),{baseAxes:n,otherAxes:o}},a.create=function(t,n){var o=[];return t.eachComponent("grid",function(s,l){var u=new a(s,t,n);u.name="grid_"+l,u.resize(s,n,!0),s.coordinateSystem=u,o.push(u)}),t.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,c=l.yAxisModel,f=u.getCoordSysModel(),d=f.coordinateSystem;s.coordinateSystem=d.getCartesian(u.componentIndex,c.componentIndex)}}),o},a.dimensions=cartesian2DDimensions,a}();function isAxisUsedInTheGrid(a,t){return a.getCoordSysModel()===t}function fixAxisOnZero(a,t,n,o){n.getAxesOnZeroOf=function(){return l?[l]:[]};var s=a[t],l,u=n.model,c=u.get(["axisLine","onZero"]),f=u.get(["axisLine","onZeroAxisIndex"]);if(!c)return;if(f!=null)canOnZeroToAxis(s[f])&&(l=s[f]);else for(var d in s)if(s.hasOwnProperty(d)&&canOnZeroToAxis(s[d])&&!o[g(s[d])]){l=s[d];break}l&&(o[g(l)]=!0);function g(y){return y.dim+"_"+y.index}}function canOnZeroToAxis(a){return a&&a.type!=="category"&&a.type!=="time"&&ifAxisCrossZero(a)}function updateAxisTransform(a,t){var n=a.getExtent(),o=n[0]+n[1];a.toGlobalCoord=a.dim==="x"?function(s){return s+t}:function(s){return o-s+t},a.toLocalCoord=a.dim==="x"?function(s){return s-t}:function(s){return o-s+t}}var PI$3=Math.PI,AxisBuilder=function(){function a(t,n){this.group=new Group$3,this.opt=n,this.axisModel=t,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:n.position[0],y:n.position[1],rotation:n.rotation});o.updateTransform(),this._transformGroup=o}return a.prototype.hasBuilder=function(t){return!!builders[t]},a.prototype.add=function(t){builders[t](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(t,n,o){var s=remRadian(n-t),l,u;return isRadianAroundZero(s)?(u=o>0?"top":"bottom",l="center"):isRadianAroundZero(s-PI$3)?(u=o>0?"bottom":"top",l="center"):(u="middle",s>0&&s<PI$3?l=o>0?"right":"left":l=o>0?"left":"right"),{rotation:s,textAlign:l,textVerticalAlign:u}},a.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},a.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},a}(),builders={axisLine:function(a,t,n,o){var s=t.get(["axisLine","show"]);if(s==="auto"&&a.handleAutoShown&&(s=a.handleAutoShown("axisLine")),!!s){var l=t.axis.getExtent(),u=o.transform,c=[l[0],0],f=[l[1],0],d=c[0]>f[0];u&&(applyTransform$1(c,c,u),applyTransform$1(f,f,u));var g=extend({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),y=new Line$1({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:g,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(y.shape,y.style.lineWidth),y.anid="line",n.add(y);var S=t.get(["axisLine","symbol"]);if(S!=null){var _=t.get(["axisLine","symbolSize"]);isString(S)&&(S=[S,S]),(isString(_)||isNumber$2(_))&&(_=[_,_]);var x=normalizeSymbolOffset(t.get(["axisLine","symbolOffset"])||0,_),b=_[0],T=_[1];each$f([{rotate:a.rotation+Math.PI/2,offset:x[0],r:0},{rotate:a.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(A,C){if(S[C]!=="none"&&S[C]!=null){var E=createSymbol$1(S[C],-b/2,-T/2,b,T,g.stroke,!0),P=A.r+A.offset,M=d?f:c;E.attr({rotation:A.rotate,x:M[0]+P*Math.cos(a.rotation),y:M[1]-P*Math.sin(a.rotation),silent:!0,z2:11}),n.add(E)}})}}},axisTickLabel:function(a,t,n,o){var s=buildAxisMajorTicks(n,o,t,a),l=buildAxisLabel(n,o,t,a);if(fixMinMaxLabelShow(t,l,s),buildAxisMinorTicks(n,o,t,a.tickDirection),t.get(["axisLabel","hideOverlap"])){var u=prepareLayoutList(map$1(l,function(c){return{label:c,priority:c.z2,defaultAttr:{ignore:c.ignore}}}));hideOverlap(u)}},axisName:function(a,t,n,o){var s=retrieve(a.axisName,t.get("name"));if(s){var l=t.get("nameLocation"),u=a.nameDirection,c=t.getModel("nameTextStyle"),f=t.get("nameGap")||0,d=t.axis.getExtent(),g=d[0]>d[1]?-1:1,y=[l==="start"?d[0]-g*f:l==="end"?d[1]+g*f:(d[0]+d[1])/2,isNameLocationCenter(l)?a.labelOffset+u*f:0],S,_=t.get("nameRotate");_!=null&&(_=_*PI$3/180);var x;isNameLocationCenter(l)?S=AxisBuilder.innerTextLayout(a.rotation,_??a.rotation,u):(S=endTextLayout(a.rotation,l,_||0,d),x=a.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(S.rotation)),!isFinite(x)&&(x=null)));var b=c.getFont(),T=t.get("nameTruncate",!0)||{},A=T.ellipsis,C=retrieve(a.nameTruncateMaxWidth,T.maxWidth,x),E=new ZRText({x:y[0],y:y[1],rotation:S.rotation,silent:AxisBuilder.isLabelSilent(t),style:createTextStyle(c,{text:s,font:b,overflow:"truncate",width:C,ellipsis:A,fill:c.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:c.get("align")||S.textAlign,verticalAlign:c.get("verticalAlign")||S.textVerticalAlign}),z2:1});if(setTooltipConfig({el:E,componentModel:t,itemName:s}),E.__fullText=s,E.anid="name",t.get("triggerEvent")){var P=AxisBuilder.makeAxisEventDataBase(t);P.targetType="axisName",P.name=s,getECData(E).eventData=P}o.add(E),E.updateTransform(),n.add(E),E.decomposeTransform()}}};function endTextLayout(a,t,n,o){var s=remRadian(n-a),l,u,c=o[0]>o[1],f=t==="start"&&!c||t!=="start"&&c;return isRadianAroundZero(s-PI$3/2)?(u=f?"bottom":"top",l="center"):isRadianAroundZero(s-PI$3*1.5)?(u=f?"top":"bottom",l="center"):(u="middle",s<PI$3*1.5&&s>PI$3/2?l=f?"left":"right":l=f?"right":"left"),{rotation:s,textAlign:l,textVerticalAlign:u}}function fixMinMaxLabelShow(a,t,n){if(!shouldShowAllLabels(a.axis)){var o=a.get(["axisLabel","showMinLabel"]),s=a.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var l=t[0],u=t[1],c=t[t.length-1],f=t[t.length-2],d=n[0],g=n[1],y=n[n.length-1],S=n[n.length-2];o===!1?(ignoreEl(l),ignoreEl(d)):isTwoLabelOverlapped(l,u)&&(o?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(d))),s===!1?(ignoreEl(c),ignoreEl(y)):isTwoLabelOverlapped(f,c)&&(s?(ignoreEl(f),ignoreEl(S)):(ignoreEl(c),ignoreEl(y)))}}function ignoreEl(a){a&&(a.ignore=!0)}function isTwoLabelOverlapped(a,t){var n=a&&a.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(!(!n||!o)){var s=identity([]);return rotate$1(s,s,-a.rotation),n.applyTransform(mul([],s,a.getLocalTransform())),o.applyTransform(mul([],s,t.getLocalTransform())),n.intersect(o)}}function isNameLocationCenter(a){return a==="middle"||a==="center"}function createTicks(a,t,n,o,s){for(var l=[],u=[],c=[],f=0;f<a.length;f++){var d=a[f].coord;u[0]=d,u[1]=0,c[0]=d,c[1]=n,t&&(applyTransform$1(u,u,t),applyTransform$1(c,c,t));var g=new Line$1({shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid=s+"_"+a[f].tickValue,l.push(g)}return l}function buildAxisMajorTicks(a,t,n,o){var s=n.axis,l=n.getModel("axisTick"),u=l.get("show");if(u==="auto"&&o.handleAutoShown&&(u=o.handleAutoShown("axisTick")),!(!u||s.scale.isBlank())){for(var c=l.getModel("lineStyle"),f=o.tickDirection*l.get("length"),d=s.getTicksCoords(),g=createTicks(d,t.transform,f,defaults(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)a.add(g[y]);return g}}function buildAxisMinorTicks(a,t,n,o){var s=n.axis,l=n.getModel("minorTick");if(!(!l.get("show")||s.scale.isBlank())){var u=s.getMinorTicksCoords();if(u.length)for(var c=l.getModel("lineStyle"),f=o*l.get("length"),d=defaults(c.getLineStyle(),defaults(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),g=0;g<u.length;g++)for(var y=createTicks(u[g],t.transform,f,d,"minorticks_"+g),S=0;S<y.length;S++)a.add(y[S])}}function buildAxisLabel(a,t,n,o){var s=n.axis,l=retrieve(o.axisLabelShow,n.get(["axisLabel","show"]));if(!(!l||s.scale.isBlank())){var u=n.getModel("axisLabel"),c=u.get("margin"),f=s.getViewLabels(),d=(retrieve(o.labelRotate,u.get("rotate"))||0)*PI$3/180,g=AxisBuilder.innerTextLayout(o.rotation,d,o.labelDirection),y=n.getCategories&&n.getCategories(!0),S=[],_=AxisBuilder.isLabelSilent(n),x=n.get("triggerEvent");return each$f(f,function(b,T){var A=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,C=b.formattedLabel,E=b.rawLabel,P=u;if(y&&y[A]){var M=y[A];isObject$3(M)&&M.textStyle&&(P=new Model(M.textStyle,u,n.ecModel))}var I=P.getTextColor()||n.get(["axisLine","lineStyle","color"]),D=s.dataToCoord(A),L=P.getShallow("align",!0)||g.textAlign,$=retrieve2(P.getShallow("alignMinLabel",!0),L),O=retrieve2(P.getShallow("alignMaxLabel",!0),L),V=P.getShallow("verticalAlign",!0)||P.getShallow("baseline",!0)||g.textVerticalAlign,F=retrieve2(P.getShallow("verticalAlignMinLabel",!0),V),z=retrieve2(P.getShallow("verticalAlignMaxLabel",!0),V),U=new ZRText({x:D,y:o.labelOffset+o.labelDirection*c,rotation:g.rotation,silent:_,z2:10+(b.level||0),style:createTextStyle(P,{text:C,align:T===0?$:T===f.length-1?O:L,verticalAlign:T===0?F:T===f.length-1?z:V,fill:isFunction(I)?I(s.type==="category"?E:s.type==="value"?A+"":A,T):I})});if(U.anid="label_"+A,setTooltipConfig({el:U,componentModel:n,itemName:C,formatterParamsExtra:{isTruncated:function(){return U.isTruncated},value:E,tickIndex:T}}),x){var H=AxisBuilder.makeAxisEventDataBase(n);H.targetType="axisLabel",H.value=E,H.tickIndex=T,s.type==="category"&&(H.dataIndex=A),getECData(U).eventData=H}t.add(U),U.updateTransform(),S.push(U),a.add(U),U.decomposeTransform()}),S}}function collect(a,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,a,t),n.seriesInvolved&&collectSeriesInfo(n,a),n}function collectAxesInfo(a,t,n){var o=t.getComponent("tooltip"),s=t.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[];each$f(n.getCoordinateSystems(),function(c){if(!c.axisPointerEnabled)return;var f=makeKey(c.model),d=a.coordSysAxesInfo[f]={};a.coordSysMap[f]=c;var g=c.model,y=g.getModel("tooltip",o);if(each$f(c.getAxes(),curry$1(b,!1,null)),c.getTooltipAxes&&o&&y.get("show")){var S=y.get("trigger")==="axis",_=y.get(["axisPointer","type"])==="cross",x=c.getTooltipAxes(y.get(["axisPointer","axis"]));(S||_)&&each$f(x.baseAxes,curry$1(b,_?"cross":!0,S)),_&&each$f(x.otherAxes,curry$1(b,"cross",!1))}function b(T,A,C){var E=C.model.getModel("axisPointer",s),P=E.get("show");if(!(!P||P==="auto"&&!T&&!isHandleTrigger(E))){A==null&&(A=E.get("triggerTooltip")),E=T?makeAxisPointerModel(C,y,s,t,T,A):E;var M=E.get("snap"),I=E.get("triggerEmphasis"),D=makeKey(C.model),L=A||M||C.type==="category",$=a.axesInfo[D]={key:D,axis:C,coordSys:c,axisPointerModel:E,triggerTooltip:A,triggerEmphasis:I,involveSeries:L,snap:M,useHandle:isHandleTrigger(E),seriesModels:[],linkGroup:null};d[D]=$,a.seriesInvolved=a.seriesInvolved||L;var O=getLinkGroupIndex(l,C);if(O!=null){var V=u[O]||(u[O]={axesInfo:{}});V.axesInfo[D]=$,V.mapper=l[O].mapper,$.linkGroup=V}}}})}function makeAxisPointerModel(a,t,n,o,s,l){var u=t.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],f={};each$f(c,function(S){f[S]=clone$4(u.get(S))}),f.snap=a.type!=="category"&&!!l,u.get("type")==="cross"&&(f.type="line");var d=f.label||(f.label={});if(d.show==null&&(d.show=!1),s==="cross"){var g=u.get(["label","show"]);if(d.show=g??!0,!l){var y=f.lineStyle=u.get("crossStyle");y&&defaults(d,y.textStyle)}}return a.model.getModel("axisPointer",new Model(f,n,o))}function collectSeriesInfo(a,t){t.eachSeries(function(n){var o=n.coordinateSystem,s=n.get(["tooltip","trigger"],!0),l=n.get(["tooltip","show"],!0);!o||s==="none"||s===!1||s==="item"||l===!1||n.get(["axisPointer","show"],!0)===!1||each$f(a.coordSysAxesInfo[makeKey(o.model)],function(u){var c=u.axis;o.getAxis(c.dim)===c&&(u.seriesModels.push(n),u.seriesDataCount==null&&(u.seriesDataCount=0),u.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(a,t){for(var n=t.model,o=t.dim,s=0;s<a.length;s++){var l=a[s]||{};if(checkPropInLink(l[o+"AxisId"],n.id)||checkPropInLink(l[o+"AxisIndex"],n.componentIndex)||checkPropInLink(l[o+"AxisName"],n.name))return s}}function checkPropInLink(a,t){return a==="all"||isArray$2(a)&&indexOf(a,t)>=0||a===t}function fixValue(a){var t=getAxisInfo$1(a);if(t){var n=t.axisPointerModel,o=t.axis.scale,s=n.option,l=n.get("status"),u=n.get("value");u!=null&&(u=o.parse(u));var c=isHandleTrigger(n);l==null&&(s.status=c?"show":"hide");var f=o.getExtent().slice();f[0]>f[1]&&f.reverse(),(u==null||u>f[1])&&(u=f[1]),u<f[0]&&(u=f[0]),s.value=u,c&&(s.status=t.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(a){var t=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[makeKey(a)]}function getAxisPointerModel(a){var t=getAxisInfo$1(a);return t&&t.axisPointerModel}function isHandleTrigger(a){return!!a.get(["handle","show"])}function makeKey(a){return a.type+"||"+a.id}var axisPointerClazz={},AxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s,l){this.axisPointerClass&&fixValue(n),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,s,!0)},t.prototype.updateAxisPointer=function(n,o,s,l){this._doUpdateAxisPointerClass(n,s,!1)},t.prototype.remove=function(n,o){var s=this._axisPointer;s&&s.remove(o)},t.prototype.dispose=function(n,o){this._disposeAxisPointer(o),a.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,o,s){var l=t.getAxisPointerClass(this.axisPointerClass);if(l){var u=getAxisPointerModel(n);u?(this._axisPointer||(this._axisPointer=new l)).render(n,u,o,s):this._disposeAxisPointer(o)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,o){axisPointerClazz[n]=o},t.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},t.type="axis",t}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(a,t,n,o){var s=n.axis;if(!s.scale.isBlank()){var l=n.getModel("splitArea"),u=l.getModel("areaStyle"),c=u.get("color"),f=o.coordinateSystem.getRect(),d=s.getTicksCoords({tickModel:l,clamp:!0});if(d.length){var g=c.length,y=inner$f(a).splitAreaColors,S=createHashMap(),_=0;if(y)for(var x=0;x<d.length;x++){var b=y.get(d[x].tickValue);if(b!=null){_=(b+(g-1)*x)%g;break}}var T=s.toGlobalCoord(d[0].coord),A=u.getAreaStyle();c=isArray$2(c)?c:[c];for(var x=1;x<d.length;x++){var C=s.toGlobalCoord(d[x].coord),E=void 0,P=void 0,M=void 0,I=void 0;s.isHorizontal()?(E=T,P=f.y,M=C-E,I=f.height,T=E+M):(E=f.x,P=T,M=f.width,I=C-P,T=P+I);var D=d[x-1].tickValue;D!=null&&S.set(D,_),t.add(new Rect$2({anid:D!=null?"area_"+D:null,shape:{x:E,y:P,width:M,height:I},style:defaults({fill:c[_]},A),autoBatch:!0,silent:!0})),_=(_+1)%g}inner$f(a).splitAreaColors=S}}}function rectCoordAxisHandleRemove(a){inner$f(a).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,o,s,l){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!n.get("show")){var c=n.getCoordSysModel(),f=layout$2(c,n),d=new AxisBuilder(n,extend({handleAutoShown:function(y){for(var S=c.coordinateSystem.getCartesians(),_=0;_<S.length;_++)if(isIntervalOrLogScale(S[_].getOtherAxis(n.axis).scale))return!0;return!1}},f));each$f(axisBuilderAttrs$3,d.add,d),this._axisGroup.add(d.getGroup()),each$f(selfBuilderAttrs$2,function(y){n.get([y,"show"])&&axisElementBuilders$2[y](this,this._axisGroup,n,c)},this);var g=l&&l.type==="changeAxisOrder"&&l.isInitSort;g||groupTransition(u,this._axisGroup,n),a.prototype.render.call(this,n,o,s,l)}},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="cartesianAxis",t}(AxisView),axisElementBuilders$2={splitLine:function(a,t,n,o){var s=n.axis;if(!s.scale.isBlank()){var l=n.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("color"),f=l.get("showMinLine")!==!1,d=l.get("showMaxLine")!==!1;c=isArray$2(c)?c:[c];for(var g=o.coordinateSystem.getRect(),y=s.isHorizontal(),S=0,_=s.getTicksCoords({tickModel:l}),x=[],b=[],T=u.getLineStyle(),A=0;A<_.length;A++){var C=s.toGlobalCoord(_[A].coord);if(!(A===0&&!f||A===_.length-1&&!d)){var E=_[A].tickValue;y?(x[0]=C,x[1]=g.y,b[0]=C,b[1]=g.y+g.height):(x[0]=g.x,x[1]=C,b[0]=g.x+g.width,b[1]=C);var P=S++%c.length,M=new Line$1({anid:E!=null?"line_"+E:null,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},style:defaults({stroke:c[P]},T),silent:!0});subPixelOptimizeLine(M.shape,T.lineWidth),t.add(M)}}}},minorSplitLine:function(a,t,n,o){var s=n.axis,l=n.getModel("minorSplitLine"),u=l.getModel("lineStyle"),c=o.coordinateSystem.getRect(),f=s.isHorizontal(),d=s.getMinorTicksCoords();if(d.length)for(var g=[],y=[],S=u.getLineStyle(),_=0;_<d.length;_++)for(var x=0;x<d[_].length;x++){var b=s.toGlobalCoord(d[_][x].coord);f?(g[0]=b,g[1]=c.y,y[0]=b,y[1]=c.y+c.height):(g[0]=c.x,g[1]=b,y[0]=c.x+c.width,y[1]=b);var T=new Line$1({anid:"minor_line_"+d[_][x].tickValue,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:S,silent:!0});subPixelOptimizeLine(T.shape,S.lineWidth),t.add(T)}},splitArea:function(a,t,n,o){rectCoordAxisBuildSplitArea(a,t,n,o)}},CartesianXAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(CartesianAxisView),CartesianYAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return t.type="yAxis",t}(CartesianAxisView),GridView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,o){this.group.removeAll(),n.get("show")&&this.group.add(new Rect$2({shape:n.coordinateSystem.getRect(),style:defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ComponentView),extraOption={offset:0};function install$N(a){a.registerComponentView(GridView),a.registerComponentModel(GridModel),a.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(a,"x",CartesianAxisModel,extraOption),axisModelCreator(a,"y",CartesianAxisModel,extraOption),a.registerComponentView(CartesianXAxisView),a.registerComponentView(CartesianYAxisView),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function install$M(a){use(install$N),a.registerSeriesModel(ScatterSeriesModel),a.registerChartView(ScatterView),a.registerLayout(pointsLayout("scatter"))}function radarLayout(a){a.eachSeriesByType("radar",function(t){var n=t.getData(),o=[],s=t.coordinateSystem;if(s){var l=s.getIndicatorAxes();each$f(l,function(u,c){n.each(n.mapDimension(l[c].dim),function(f,d){o[d]=o[d]||[];var g=s.dataToPoint(f,c);o[d][c]=isValidPoint(g)?g:getValueMissingPoint(s)})}),n.each(function(u){var c=find(o[u],function(f){return isValidPoint(f)})||getValueMissingPoint(s);o[u].push(c.slice()),n.setItemLayout(u,o[u])})}})}function isValidPoint(a){return!isNaN(a[0])&&!isNaN(a[1])}function getValueMissingPoint(a){return[a.cx,a.cy]}function radarBackwardCompat(a){var t=a.polar;if(t){isArray$2(t)||(t=[t]);var n=[];each$f(t,function(o,s){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),a.radar=a.radar||[],isArray$2(a.radar)||(a.radar=[a.radar]),a.radar.push(o)):n.push(o)}),a.polar=n}each$f(a.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var RadarView$1=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=n.coordinateSystem,u=this.group,c=n.getData(),f=this._data;function d(S,_){var x=S.getItemVisual(_,"symbol")||"circle";if(x!=="none"){var b=normalizeSymbolSize(S.getItemVisual(_,"symbolSize")),T=createSymbol$1(x,-1,-1,2,2),A=S.getItemVisual(_,"symbolRotate")||0;return T.attr({style:{strokeNoScale:!0},z2:100,scaleX:b[0]/2,scaleY:b[1]/2,rotation:A*Math.PI/180||0}),T}}function g(S,_,x,b,T,A){x.removeAll();for(var C=0;C<_.length-1;C++){var E=d(b,T);E&&(E.__dimIdx=C,S[C]?(E.setPosition(S[C]),graphic[A?"initProps":"updateProps"](E,{x:_[C][0],y:_[C][1]},n,T)):E.setPosition(_[C]),x.add(E))}}function y(S){return map$1(S,function(_){return[l.cx,l.cy]})}c.diff(f).add(function(S){var _=c.getItemLayout(S);if(_){var x=new Polygon,b=new Polyline$1,T={shape:{points:_}};x.shape.points=y(_),b.shape.points=y(_),initProps(x,T,n,S),initProps(b,T,n,S);var A=new Group$3,C=new Group$3;A.add(b),A.add(x),A.add(C),g(b.shape.points,_,C,c,S,!0),c.setItemGraphicEl(S,A)}}).update(function(S,_){var x=f.getItemGraphicEl(_),b=x.childAt(0),T=x.childAt(1),A=x.childAt(2),C={shape:{points:c.getItemLayout(S)}};C.shape.points&&(g(b.shape.points,C.shape.points,A,c,S,!1),saveOldStyle(T),saveOldStyle(b),updateProps$1(b,C,n),updateProps$1(T,C,n),c.setItemGraphicEl(S,x))}).remove(function(S){u.remove(f.getItemGraphicEl(S))}).execute(),c.eachItemGraphicEl(function(S,_){var x=c.getItemModel(_),b=S.childAt(0),T=S.childAt(1),A=S.childAt(2),C=c.getItemVisual(_,"style"),E=C.fill;u.add(S),b.useStyle(defaults(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),setStatesStylesFromModel(b,x,"lineStyle"),setStatesStylesFromModel(T,x,"areaStyle");var P=x.getModel("areaStyle"),M=P.isEmpty()&&P.parentModel.isEmpty();T.ignore=M,each$f(["emphasis","select","blur"],function(L){var $=x.getModel([L,"areaStyle"]),O=$.isEmpty()&&$.parentModel.isEmpty();T.ensureState(L).ignore=O&&M}),T.useStyle(defaults(P.getAreaStyle(),{fill:E,opacity:.7,decal:C.decal}));var I=x.getModel("emphasis"),D=I.getModel("itemStyle").getItemStyle();A.eachChild(function(L){if(L instanceof ZRImage){var $=L.style;L.useStyle(extend({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},C))}else L.useStyle(C),L.setColor(E),L.style.strokeNoScale=!0;var O=L.ensureState("emphasis");O.style=clone$4(D);var V=c.getStore().get(c.getDimensionIndex(L.__dimIdx),_);(V==null||isNaN(V))&&(V=""),setLabelStyle(L,getLabelStatesModels(x),{labelFetcher:c.hostModel,labelDataIndex:_,labelDimIndex:L.__dimIdx,defaultText:V,inheritColor:E,defaultOpacity:C.opacity})}),toggleHoverEmphasis(S,I.get("focus"),I.get("blurScope"),I.get("disabled"))}),this._data=c},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ChartView),RadarSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},t.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.coordinateSystem,c=u.getIndicatorAxes(),f=this.getData().getName(n),d=f===""?this.name:f,g=retrieveVisualColorForTooltipMarker(this,n);return createTooltipMarkup("section",{header:d,sortBlocks:!0,blocks:map$1(c,function(y){var S=l.get(l.mapDimension(y.dim),n);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:S,sortParam:S})})})},t.prototype.getTooltipPosition=function(n){if(n!=null){for(var o=this.getData(),s=this.coordinateSystem,l=o.getValues(map$1(s.dimensions,function(d){return o.mapDimension(d)}),n),u=0,c=l.length;u<c;u++)if(!isNaN(l[u])){var f=s.getIndicatorAxes();return s.coordToPoint(f[u].dataToCoord(l[u]),u)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(a,t){return defaults({show:t},a)}var RadarModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),o=this.get("splitNumber"),s=this.get("scale"),l=this.get("axisLine"),u=this.get("axisTick"),c=this.get("axisLabel"),f=this.get("axisName"),d=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),S=this.get("triggerEvent"),_=map$1(this.get("indicator")||[],function(x){x.max!=null&&x.max>0&&!x.min?x.min=0:x.min!=null&&x.min<0&&!x.max&&(x.max=0);var b=f;x.color!=null&&(b=defaults({color:x.color},f));var T=merge(clone$4(x),{boundaryGap:n,splitNumber:o,scale:s,axisLine:l,axisTick:u,axisLabel:c,name:x.text,showName:d,nameLocation:"end",nameGap:y,nameTextStyle:b,triggerEvent:S},!1);if(isString(g)){var A=T.name;T.name=g.replace("{value}",A??"")}else isFunction(g)&&(T.name=g(T.name,T));var C=new Model(T,null,this.ecModel);return mixin(C,AxisModelCommonMixin.prototype),C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this._indicatorModels=_},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},t}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=this.group;l.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},t.prototype._buildAxes=function(n){var o=n.coordinateSystem,s=o.getIndicatorAxes(),l=map$1(s,function(u){var c=u.model.get("showName")?u.name:"",f=new AxisBuilder(u.model,{axisName:c,position:[o.cx,o.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return f});each$f(l,function(u){each$f(axisBuilderAttrs$2,u.add,u),this.group.add(u.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(n){var o=n.coordinateSystem,s=o.getIndicatorAxes();if(!s.length)return;var l=n.get("shape"),u=n.getModel("splitLine"),c=n.getModel("splitArea"),f=u.getModel("lineStyle"),d=c.getModel("areaStyle"),g=u.get("show"),y=c.get("show"),S=f.get("color"),_=d.get("color"),x=isArray$2(S)?S:[S],b=isArray$2(_)?_:[_],T=[],A=[];function C(H,N,G){var R=G%N.length;return H[R]=H[R]||[],R}if(l==="circle")for(var E=s[0].getTicksCoords(),P=o.cx,M=o.cy,I=0;I<E.length;I++){if(g){var D=C(T,x,I);T[D].push(new Circle({shape:{cx:P,cy:M,r:E[I].coord}}))}if(y&&I<E.length-1){var D=C(A,b,I);A[D].push(new Ring({shape:{cx:P,cy:M,r0:E[I].coord,r:E[I+1].coord}}))}}else for(var L,$=map$1(s,function(H,N){var G=H.getTicksCoords();return L=L==null?G.length-1:Math.min(G.length-1,L),map$1(G,function(R){return o.coordToPoint(R.coord,N)})}),O=[],I=0;I<=L;I++){for(var V=[],F=0;F<s.length;F++)V.push($[F][I]);if(V[0]&&V.push(V[0].slice()),g){var D=C(T,x,I);T[D].push(new Polyline$1({shape:{points:V}}))}if(y&&O){var D=C(A,b,I-1);A[D].push(new Polygon({shape:{points:V.concat(O)}}))}O=V.slice().reverse()}var z=f.getLineStyle(),U=d.getAreaStyle();each$f(A,function(H,N){this.group.add(mergePath(H,{style:defaults({stroke:"none",fill:b[N%b.length]},U),silent:!0}))},this),each$f(T,function(H,N){this.group.add(mergePath(H,{style:defaults({fill:"none",stroke:x[N%x.length]},z),silent:!0}))},this)},t.type="radar",t}(ComponentView),IndicatorAxis=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this,n,o,s)||this;return l.type="value",l.angle=0,l.name="",l}return t}(Axis),Radar=function(){function a(t,n,o){this.dimensions=[],this._model=t,this._indicatorAxes=map$1(t.getIndicatorModels(),function(s,l){var u="indicator_"+l,c=new IndicatorAxis(u,new IntervalScale);return c.name=s.get("name"),c.model=s,s.axis=c,this.dimensions.push(u),c},this),this.resize(t,o)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(t,n){var o=this._indicatorAxes[n];return this.coordToPoint(o.dataToCoord(t),n)},a.prototype.coordToPoint=function(t,n){var o=this._indicatorAxes[n],s=o.angle,l=this.cx+t*Math.cos(s),u=this.cy-t*Math.sin(s);return[l,u]},a.prototype.pointToData=function(t){var n=t[0]-this.cx,o=t[1]-this.cy,s=Math.sqrt(n*n+o*o);n/=s,o/=s;for(var l=Math.atan2(-o,n),u=1/0,c,f=-1,d=0;d<this._indicatorAxes.length;d++){var g=this._indicatorAxes[d],y=Math.abs(l-g.angle);y<u&&(c=g,f=d,u=y)}return[f,+(c&&c.coordToData(s))]},a.prototype.resize=function(t,n){var o=t.get("center"),s=n.getWidth(),l=n.getHeight(),u=Math.min(s,l)/2;this.cx=parsePercent(o[0],s),this.cy=parsePercent(o[1],l),this.startAngle=t.get("startAngle")*Math.PI/180;var c=t.get("radius");(isString(c)||isNumber$2(c))&&(c=[0,c]),this.r0=parsePercent(c[0],u),this.r=parsePercent(c[1],u),each$f(this._indicatorAxes,function(f,d){f.setExtent(this.r0,this.r);var g=this.startAngle+d*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),f.angle=g},this)},a.prototype.update=function(t,n){var o=this._indicatorAxes,s=this._model;each$f(o,function(c){c.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(c,f){if(!(c.get("coordinateSystem")!=="radar"||t.getComponent("radar",c.get("radarIndex"))!==s)){var d=c.getData();each$f(o,function(g){g.scale.unionExtentFromData(d,d.mapDimension(g.dim))})}},this);var l=s.get("splitNumber"),u=new IntervalScale;u.setExtent(0,l),u.setInterval(1),each$f(o,function(c,f){alignScaleTicks(c.scale,c.model,u)})},a.prototype.convertToPixel=function(t,n,o){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(t,n,o){return console.warn("Not implemented."),null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.create=function(t,n){var o=[];return t.eachComponent("radar",function(s){var l=new a(s,t,n);o.push(l),s.coordinateSystem=l}),t.eachSeriesByType("radar",function(s){s.get("coordinateSystem")==="radar"&&(s.coordinateSystem=o[s.get("radarIndex")||0])}),o},a.dimensions=[],a}();function install$L(a){a.registerCoordinateSystem("radar",Radar),a.registerComponentModel(RadarModel),a.registerComponentView(RadarView),a.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each(function(o){n.setItemVisual(o,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function install$K(a){use(install$L),a.registerChartView(RadarView$1),a.registerSeriesModel(RadarSeriesModel),a.registerLayout(radarLayout),a.registerProcessor(dataFilter$1("radar")),a.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(a,t,n){var o=getStore(a);o[t]=n}function release(a,t,n){var o=getStore(a),s=o[t];s===n&&(o[t]=null)}function isTaken(a,t){return!!getStore(a)[t]}function getStore(a){return a[ATTR]||(a[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop$2);var RoamController=function(a){__extends$1(t,a);function t(n){var o=a.call(this)||this;o._zr=n;var s=bind$1(o._mousedownHandler,o),l=bind$1(o._mousemoveHandler,o),u=bind$1(o._mouseupHandler,o),c=bind$1(o._mousewheelHandler,o),f=bind$1(o._pinchHandler,o);return o.enable=function(d,g){this.disable(),this._opt=defaults(clone$4(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),d==null&&(d=!0),(d===!0||d==="move"||d==="pan")&&(n.on("mousedown",s),n.on("mousemove",l),n.on("mouseup",u)),(d===!0||d==="scale"||d==="zoom")&&(n.on("mousewheel",c),n.on("pinch",f))},o.disable=function(){n.off("mousedown",s),n.off("mousemove",l),n.off("mouseup",u),n.off("mousewheel",c),n.off("pinch",f)},o}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!isMiddleOrRightButtonOnMouseUpDown(n)){for(var o=n.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var s=n.offsetX,l=n.offsetY;this.pointerChecker&&this.pointerChecker(n,s,l)&&(this._x=s,this._y=l,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var o=n.offsetX,s=n.offsetY,l=this._x,u=this._y,c=o-l,f=s-u;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&stop(n.event),trigger$1(this,"pan","moveOnMouseMove",n,{dx:c,dy:f,oldX:l,oldY:u,newX:o,newY:s,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){isMiddleOrRightButtonOnMouseUpDown(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var o=isAvailableBehavior("zoomOnMouseWheel",n,this._opt),s=isAvailableBehavior("moveOnMouseWheel",n,this._opt),l=n.wheelDelta,u=Math.abs(l),c=n.offsetX,f=n.offsetY;if(!(l===0||!o&&!s)){if(o){var d=u>3?1.4:u>1?1.2:1.1,g=l>0?d:1/d;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",n,{scale:g,originX:c,originY:f,isAvailableBehavior:null})}if(s){var y=Math.abs(l),S=(l>0?1:-1)*(y>3?.4:y>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:S,originX:c,originY:f,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!isTaken(this._zr,"globalPan")){var o=n.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,n,{scale:o,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(Eventful);function checkPointerAndTrigger(a,t,n,o,s){a.pointerChecker&&a.pointerChecker(o,s.originX,s.originY)&&(stop(o.event),trigger$1(a,t,n,o,s))}function trigger$1(a,t,n,o,s){s.isAvailableBehavior=bind$1(isAvailableBehavior,null,n,o),a.trigger(t,s)}function isAvailableBehavior(a,t,n){var o=n[a];return!a||o&&(!isString(o)||t.event[o+"Key"])}function updateViewOnPan(a,t,n){var o=a.target;o.x+=t,o.y+=n,o.dirty()}function updateViewOnZoom(a,t,n,o){var s=a.target,l=a.zoomLimit,u=a.zoom=a.zoom||1;if(u*=t,l){var c=l.min||0,f=l.max||1/0;u=Math.max(Math.min(f,u),c)}var d=u/a.zoom;a.zoom=u,s.x-=(n-s.x)*(d-1),s.y-=(o-s.y)*(d-1),s.scaleX*=d,s.scaleY*=d,s.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(a,t,n){var o=t.getComponentByElement(a.topTarget),s=o&&o.coordinateSystem;return o&&o!==n&&!IRRELEVANT_EXCLUDES.hasOwnProperty(o.mainType)&&s&&s.model!==n}function parseXML(a){if(isString(a)){var t=new DOMParser;a=t.parseFromString(a,"text/xml")}var n=a;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys$1(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys$1(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(t,n){n=n||{};var o=parseXML(t);this._defsUsePending=[];var s=new Group$3;this._root=s;var l=[],u=o.getAttribute("viewBox")||"",c=parseFloat(o.getAttribute("width")||n.width),f=parseFloat(o.getAttribute("height")||n.height);isNaN(c)&&(c=null),isNaN(f)&&(f=null),parseAttributes(o,s,null,!0,!1);for(var d=o.firstChild;d;)this._parseNode(d,s,l,null,!1,!1),d=d.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(u){var S=splitNumberSequence(u);S.length>=4&&(g={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(g&&c!=null&&f!=null&&(y=makeViewBoxTransform(g,{x:0,y:0,width:c,height:f}),!n.ignoreViewBox)){var _=s;s=new Group$3,s.add(_),_.scaleX=_.scaleY=y.scale,_.x=y.x,_.y=y.y}return!n.ignoreRootClip&&c!=null&&f!=null&&s.setClipPath(new Rect$2({shape:{x:0,y:0,width:c,height:f}})),{root:s,width:c,height:f,viewBoxRect:g,viewBoxTransform:y,named:l}},a.prototype._parseNode=function(t,n,o,s,l,u){var c=t.nodeName.toLowerCase(),f,d=s;if(c==="defs"&&(l=!0),c==="text"&&(u=!0),c==="defs"||c==="switch")f=n;else{if(!l){var g=nodeParsers[c];if(g&&hasOwn(nodeParsers,c)){f=g.call(this,t,n);var y=t.getAttribute("name");if(y){var S={name:y,namedFrom:null,svgNodeTagLower:c,el:f};o.push(S),c==="g"&&(d=S)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:c,el:f});n.add(f)}}var _=paintServerParsers[c];if(_&&hasOwn(paintServerParsers,c)){var x=_.call(this,t),b=t.getAttribute("id");b&&(this._defs[b]=x)}}if(f&&f.isGroup)for(var T=t.firstChild;T;)T.nodeType===1?this._parseNode(T,f,o,d,l,u):T.nodeType===3&&u&&this._parseText(T,f),T=T.nextSibling},a.prototype._parseText=function(t,n){var o=new TSpan({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),applyTextAlignment(o,n);var s=o.style,l=s.fontSize;l&&l<9&&(s.fontSize=9,o.scaleX*=l/9,o.scaleY*=l/9);var u=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=u;var c=o.getBoundingRect();return this._textX+=c.width,n.add(o),o},a.internalField=function(){nodeParsers={g:function(t,n){var o=new Group$3;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o},rect:function(t,n){var o=new Rect$2;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(t,n){var o=new Circle;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),o.silent=!0,o},line:function(t,n){var o=new Line$1;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(t,n){var o=new Ellipse;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(t,n){var o=t.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polygon({shape:{points:s||[]},silent:!0});return inheritStyle(n,l),parseAttributes(t,l,this._defsUsePending,!1,!1),l},polyline:function(t,n){var o=t.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polyline$1({shape:{points:s||[]},silent:!0});return inheritStyle(n,l),parseAttributes(t,l,this._defsUsePending,!1,!1),l},image:function(t,n){var o=new ZRImage;return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),o.silent=!0,o},text:function(t,n){var o=t.getAttribute("x")||"0",s=t.getAttribute("y")||"0",l=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(l),this._textY=parseFloat(s)+parseFloat(u);var c=new Group$3;return inheritStyle(n,c),parseAttributes(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,n){var o=t.getAttribute("x"),s=t.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),s!=null&&(this._textY=parseFloat(s));var l=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0",c=new Group$3;return inheritStyle(n,c),parseAttributes(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(l),this._textY+=parseFloat(u),c},path:function(t,n){var o=t.getAttribute("d")||"",s=createFromString(o);return inheritStyle(n,s),parseAttributes(t,s,this._defsUsePending,!1,!1),s.silent=!0,s}}}(),a}(),paintServerParsers={lineargradient:function(a){var t=parseInt(a.getAttribute("x1")||"0",10),n=parseInt(a.getAttribute("y1")||"0",10),o=parseInt(a.getAttribute("x2")||"10",10),s=parseInt(a.getAttribute("y2")||"0",10),l=new LinearGradient(t,n,o,s);return parsePaintServerUnit(a,l),parseGradientColorStops(a,l),l},radialgradient:function(a){var t=parseInt(a.getAttribute("cx")||"0",10),n=parseInt(a.getAttribute("cy")||"0",10),o=parseInt(a.getAttribute("r")||"0",10),s=new RadialGradient(t,n,o);return parsePaintServerUnit(a,s),parseGradientColorStops(a,s),s}};function parsePaintServerUnit(a,t){var n=a.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(t.global=!0)}function parseGradientColorStops(a,t){for(var n=a.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var o=n.getAttribute("offset"),s=void 0;o&&o.indexOf("%")>0?s=parseInt(o,10)/100:o?s=parseFloat(o):s=0;var l={};parseInlineStyle(n,l,l);var u=l.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:s,color:u})}n=n.nextSibling}}function inheritStyle(a,t){a&&a.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),defaults(t.__inheritedStyle,a.__inheritedStyle))}function parsePoints(a){for(var t=splitNumberSequence(a),n=[],o=0;o<t.length;o+=2){var s=parseFloat(t[o]),l=parseFloat(t[o+1]);n.push([s,l])}return n}function parseAttributes(a,t,n,o,s){var l=t,u=l.__inheritedStyle=l.__inheritedStyle||{},c={};a.nodeType===1&&(parseTransformAttribute(a,t),parseInlineStyle(a,u,c),o||parseAttributeStyle(a,u,c)),l.style=l.style||{},u.fill!=null&&(l.style.fill=getFillStrokeStyle(l,"fill",u.fill,n)),u.stroke!=null&&(l.style.stroke=getFillStrokeStyle(l,"stroke",u.stroke,n)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){u[f]!=null&&(l.style[f]=parseFloat(u[f]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(f){u[f]!=null&&(l.style[f]=u[f])}),s&&(l.__selfStyle=c),u.lineDash&&(l.style.lineDash=map$1(splitNumberSequence(u.lineDash),function(f){return parseFloat(f)})),(u.visibility==="hidden"||u.visibility==="collapse")&&(l.invisible=!0),u.display==="none"&&(l.ignore=!0)}function applyTextAlignment(a,t){var n=t.__selfStyle;if(n){var o=n.textBaseline,s=o;!o||o==="auto"||o==="baseline"?s="alphabetic":o==="before-edge"||o==="text-before-edge"?s="top":o==="after-edge"||o==="text-after-edge"?s="bottom":(o==="central"||o==="mathematical")&&(s="middle"),a.style.textBaseline=s}var l=t.__inheritedStyle;if(l){var u=l.textAlign,c=u;u&&(u==="middle"&&(c="center"),a.style.textAlign=c)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(a,t,n,o){var s=n&&n.match(urlRegex);if(s){var l=trim$1(s[1]);o.push([a,t,l]);return}return n==="none"&&(n=null),n}function applyDefs(a,t){for(var n=0;n<t.length;n++){var o=t[n];o[0].style[o[1]]=a[o[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(a){return a.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(a,t){var n=a.getAttribute("transform");if(n){n=n.replace(/,/g," ");var o=[],s=null;n.replace(transformRegex,function(y,S,_){return o.push(S,_),""});for(var l=o.length-1;l>0;l-=2){var u=o[l],c=o[l-1],f=splitNumberSequence(u);switch(s=s||create$1(),c){case"translate":translate(s,s,[parseFloat(f[0]),parseFloat(f[1]||"0")]);break;case"scale":scale$2(s,s,[parseFloat(f[0]),parseFloat(f[1]||f[0])]);break;case"rotate":rotate$1(s,s,-parseFloat(f[0])*DEGREE_TO_ANGLE,[parseFloat(f[1]||"0"),parseFloat(f[2]||"0")]);break;case"skewX":var d=Math.tan(parseFloat(f[0])*DEGREE_TO_ANGLE);mul(s,[1,0,d,1,0,0],s);break;case"skewY":var g=Math.tan(parseFloat(f[0])*DEGREE_TO_ANGLE);mul(s,[1,g,0,1,0,0],s);break;case"matrix":s[0]=parseFloat(f[0]),s[1]=parseFloat(f[1]),s[2]=parseFloat(f[2]),s[3]=parseFloat(f[3]),s[4]=parseFloat(f[4]),s[5]=parseFloat(f[5]);break}}t.setLocalTransform(s)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(a,t,n){var o=a.getAttribute("style");if(o){styleRegex.lastIndex=0;for(var s;(s=styleRegex.exec(o))!=null;){var l=s[1],u=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,l)?INHERITABLE_STYLE_ATTRIBUTES_MAP[l]:null;u&&(t[u]=s[2]);var c=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,l)?SELF_STYLE_ATTRIBUTES_MAP[l]:null;c&&(n[c]=s[2])}}}function parseAttributeStyle(a,t,n){for(var o=0;o<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[o],l=a.getAttribute(s);l!=null&&(t[INHERITABLE_STYLE_ATTRIBUTES_MAP[s]]=l)}for(var o=0;o<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=SELF_STYLE_ATTRIBUTES_MAP_KEYS[o],l=a.getAttribute(s);l!=null&&(n[SELF_STYLE_ATTRIBUTES_MAP[s]]=l)}}function makeViewBoxTransform(a,t){var n=t.width/a.width,o=t.height/a.height,s=Math.min(n,o);return{scale:s,x:-(a.x+a.width/2)*s+(t.x+t.width/2),y:-(a.y+a.height/2)*s+(t.y+t.height/2)}}function parseSVG(a,t){var n=new SVGParser;return n.parse(a,t)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function a(t,n){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=t,this._parsedXML=parseXML(n)}return a.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=createRegions(t.named),o=n.regions,s=n.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(t){var n,o;try{n=t&&parseSVG(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=n.root,assert(o!=null)}catch(T){throw new Error(`Invalid svg format
`+T.message)}var s=new Group$3;s.add(o),s.isGeoSVGGraphicRoot=!0;var l=n.width,u=n.height,c=n.viewBoxRect,f=this._boundingRect;if(!f){var d=void 0,g=void 0,y=void 0,S=void 0;if(l!=null?(d=0,y=l):c&&(d=c.x,y=c.width),u!=null?(g=0,S=u):c&&(g=c.y,S=c.height),d==null||g==null){var _=o.getBoundingRect();d==null&&(d=_.x,y=_.width),g==null&&(g=_.y,S=_.height)}f=this._boundingRect=new BoundingRect(d,g,y,S)}if(c){var x=makeViewBoxTransform(c,f);o.scaleX=o.scaleY=x.scale,o.x=x.x,o.y=x.y}s.setClipPath(new Rect$2({shape:f.plain()}));var b=[];return each$f(n.named,function(T){REGION_AVAILABLE_SVG_TAG_MAP.get(T.svgNodeTagLower)!=null&&(b.push(T),setSilent(T.el))}),{root:s,boundingRect:f,named:b}},a.prototype.useGraphic=function(t){var n=this._usedGraphicMap,o=n.get(t);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,o),o)},a.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,o=n.get(t);o&&(n.removeKey(t),this._freedGraphics.push(o))},a}();function setSilent(a){a.silent=!1,a.isGroup&&a.traverse(function(t){t.silent=!1})}function createRegions(a){var t=[],n=createHashMap();return each$f(a,function(o){if(o.namedFrom==null){var s=new GeoSVGRegion(o.name,o.el);t.push(s),n.set(o.name,s)}}),{regions:t,regionsMap:n}}var geoCoord=[126,25],nanhaiName="",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(a,t){if(a==="china"){for(var n=0;n<t.length;n++)if(t[n].name===nanhaiName)return;t.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(o){return{type:"polygon",exterior:o}}),geoCoord))}}var coordsOffsetMap={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function fixTextCoords(a,t){if(a==="china"){var n=coordsOffsetMap[t.name];if(n){var o=t.getCenter();o[0]+=n[0]/10.5,o[1]+=-n[1]/(10.5/.75),t.setCenter(o)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(a,t){a==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function a(t,n,o){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=t,this._specialAreas=o,this._geoJSON=parseInput(n)}return a.prototype.load=function(t,n){n=n||DEFAULT_NAME_PROPERTY;var o=this._parsedMap.get(n);if(!o){var s=this._parseToRegions(n);o=this._parsedMap.set(n,{regions:s,boundingRect:calculateBoundingRect(s)})}var l=createHashMap(),u=[];return each$f(o.regions,function(c){var f=c.name;t&&hasOwn(t,f)&&(c=c.cloneShallow(f=t[f])),u.push(c),l.set(f,c)}),{regions:u,boundingRect:o.boundingRect||new BoundingRect(0,0,0,0),regionsMap:l}},a.prototype._parseToRegions=function(t){var n=this._mapName,o=this._geoJSON,s;try{s=o?parseGeoJSON(o,t):[]}catch(l){throw new Error(`Invalid geoJson format
`+l.message)}return fixNanhai(n,s),each$f(s,function(l){var u=l.name;fixTextCoords(n,l),fixDiaoyuIsland(n,l);var c=this._specialAreas&&this._specialAreas[u];c&&l.transformTo(c.left,c.top,c.width,c.height)},this),s},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function calculateBoundingRect(a){for(var t,n=0;n<a.length;n++){var o=a[n].getBoundingRect();t=t||o.clone(),t.union(o)}return t}function parseInput(a){return isString(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var storage=createHashMap();const geoSourceManager={registerMap:function(a,t,n){if(t.svg){var o=new GeoSVGResource(a,t.svg);storage.set(a,o)}else{var s=t.geoJson||t.geoJSON;s&&!t.features?n=t.specialAreas:s=t;var o=new GeoJSONResource(a,s,n);storage.set(a,o)}},getGeoResource:function(a){return storage.get(a)},getMapForUser:function(a){var t=storage.get(a);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(a,t,n){var o=storage.get(a);if(o)return o.load(t,n)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(a){var t=a.getItemStyle(),n=a.get("areaColor");return n!=null&&(t.fill=n),t}function fixLineStyle(a){var t=a.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var MapDraw=function(){function a(t){var n=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new Group$3),n.add(this._svgGroup=new Group$3)}return a.prototype.draw=function(t,n,o,s,l){var u=t.mainType==="geo",c=t.getData&&t.getData();u&&n.eachComponent({mainType:"series",subType:"map"},function(A){!c&&A.getHostGeoModel()===t&&(c=A.getData())});var f=t.coordinateSystem,d=this._regionsGroup,g=this.group,y=f.getTransformInfo(),S=y.raw,_=y.roam,x=!d.childAt(0)||l;x?(g.x=_.x,g.y=_.y,g.scaleX=_.scaleX,g.scaleY=_.scaleY,g.dirty()):updateProps$1(g,_,t);var b=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,T={api:o,geo:f,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:b,isGeo:u,transformInfoRaw:S};f.resourceType==="geoJSON"?this._buildGeoJSON(T):f.resourceType==="geoSVG"&&this._buildSVG(T),this._updateController(t,n,o),this._updateMapSelectHandler(t,d,o,s)},a.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=createHashMap(),o=createHashMap(),s=this._regionsGroup,l=t.transformInfoRaw,u=t.mapOrGeoModel,c=t.data,f=t.geo.projection,d=f&&f.stream;function g(_,x){return x&&(_=x(_)),_&&[_[0]*l.scaleX+l.x,_[1]*l.scaleY+l.y]}function y(_){for(var x=[],b=!d&&f&&f.project,T=0;T<_.length;++T){var A=g(_[T],b);A&&x.push(A)}return x}function S(_){return{shape:{points:y(_)}}}s.removeAll(),each$f(t.geo.regions,function(_){var x=_.name,b=n.get(x),T=o.get(x)||{},A=T.dataIdx,C=T.regionModel;if(!b){b=n.set(x,new Group$3),s.add(b),A=c?c.indexOfName(x):null,C=t.isGeo?u.getRegionModel(x):c?c.getItemModel(A):null;var E=C.get("silent",!0);E!=null&&(b.silent=E),o.set(x,{dataIdx:A,regionModel:C})}var P=[],M=[];each$f(_.geometries,function(L){if(L.type==="polygon"){var $=[L.exterior].concat(L.interiors||[]);d&&($=projectPolys($,d)),each$f($,function(V){P.push(new Polygon(S(V)))})}else{var O=L.points;d&&(O=projectPolys(O,d,!0)),each$f(O,function(V){M.push(new Polyline$1(S(V)))})}});var I=g(_.getCenter(),f&&f.project);function D(L,$){if(L.length){var O=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:L}});b.add(O),applyOptionStyleForRegion(t,O,A,C),resetLabelForRegion(t,O,x,C,u,A,I),$&&(fixLineStyle(O),each$f(O.states,fixLineStyle))}}D(P),D(M,!0)}),n.each(function(_,x){var b=o.get(x),T=b.dataIdx,A=b.regionModel;resetEventTriggerForRegion(t,_,x,A,u,T),resetTooltipForRegion(t,_,x,A,u),resetStateTriggerForRegion(t,_,x,A,u)},this)},a.prototype._buildSVG=function(t){var n=t.geo.map,o=t.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var s=this._svgDispatcherMap=createHashMap(),l=!1;each$f(this._svgGraphicRecord.named,function(u){var c=u.name,f=t.mapOrGeoModel,d=t.data,g=u.svgNodeTagLower,y=u.el,S=d?d.indexOfName(c):null,_=f.getRegionModel(c);OPTION_STYLE_ENABLED_TAG_MAP.get(g)!=null&&y instanceof Displayable&&applyOptionStyleForRegion(t,y,S,_),y instanceof Displayable&&(y.culling=!0);var x=_.get("silent",!0);if(x!=null&&(y.silent=x),y.z2EmphasisLift=0,!u.namedFrom&&(LABEL_HOST_MAP.get(g)!=null&&resetLabelForRegion(t,y,c,_,f,S,null),resetEventTriggerForRegion(t,y,c,_,f,S),resetTooltipForRegion(t,y,c,_,f),STATE_TRIGGER_TAG_MAP.get(g)!=null)){var b=resetStateTriggerForRegion(t,y,c,_,f);b==="self"&&(l=!0);var T=s.get(c)||s.set(c,[]);T.push(y)}},this),this._enableBlurEntireSVG(l,t)},a.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var o=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),s=o.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){setDefaultStateProxy(l);var u=l.ensureState("blur").style||{};u.opacity==null&&s!=null&&(u.opacity=s),l.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var o=n.coordinateSystem;if(o.resourceType==="geoJSON"){var s=this._regionsGroupByName;if(s){var l=s.get(t);return l?[l]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},a.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},a.prototype._useSVG=function(t){var n=geoSourceManager.getGeoResource(t);if(n&&n.type==="geoSVG"){var o=n.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=t}},a.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=geoSourceManager.getGeoResource(t);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(t,n,o){var s=t.coordinateSystem,l=this._controller,u=this._controllerHost;u.zoomLimit=t.get("scaleLimit"),u.zoom=s.getZoom(),l.enable(t.get("roam")||!1);var c=t.mainType;function f(){var d={type:"geoRoam",componentType:c};return d[c+"Id"]=t.id,d}l.off("pan").on("pan",function(d){this._mouseDownFlag=!1,updateViewOnPan(u,d.dx,d.dy),o.dispatchAction(extend(f(),{dx:d.dx,dy:d.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(d){this._mouseDownFlag=!1,updateViewOnZoom(u,d.scale,d.originX,d.originY),o.dispatchAction(extend(f(),{totalZoom:u.zoom,zoom:d.scale,originX:d.originX,originY:d.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(d,g,y){return s.containPoint([g,y])&&!onIrrelevantElement(d,o,t)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=mapLabelRaw(n).ignore)})},a.prototype._updateMapSelectHandler=function(t,n,o,s){var l=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",function(){l._mouseDownFlag=!0}),n.on("click",function(u){l._mouseDownFlag&&(l._mouseDownFlag=!1)}))},a}();function applyOptionStyleForRegion(a,t,n,o){var s=o.getModel("itemStyle"),l=o.getModel(["emphasis","itemStyle"]),u=o.getModel(["blur","itemStyle"]),c=o.getModel(["select","itemStyle"]),f=getFixedItemStyle(s),d=getFixedItemStyle(l),g=getFixedItemStyle(c),y=getFixedItemStyle(u),S=a.data;if(S){var _=S.getItemVisual(n,"style"),x=S.getItemVisual(n,"decal");a.isVisualEncodedByVisualMap&&_.fill&&(f.fill=_.fill),x&&(f.decal=createOrUpdatePatternFromDecal(x,a.api))}t.setStyle(f),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=d,t.ensureState("select").style=g,t.ensureState("blur").style=y,setDefaultStateProxy(t)}function resetLabelForRegion(a,t,n,o,s,l,u){var c=a.data,f=a.isGeo,d=c&&isNaN(c.get(c.mapDimension("value"),l)),g=c&&c.getItemLayout(l);if(f||d||g&&g.showLabel){var y=f?n:l,S=void 0;(!c||l>=0)&&(S=s);var _=u?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(t,getLabelStatesModels(o),{labelFetcher:S,labelDataIndex:y,defaultText:n},_);var x=t.getTextContent();if(x&&(mapLabelRaw(x).ignore=x.ignore,t.textConfig&&u)){var b=t.getBoundingRect().clone();t.textConfig.layoutRect=b,t.textConfig.position=[(u[0]-b.x)/b.width*100+"%",(u[1]-b.y)/b.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function resetEventTriggerForRegion(a,t,n,o,s,l){a.data?a.data.setItemGraphicEl(l,t):getECData(t).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:n,region:o&&o.option||{}}}function resetTooltipForRegion(a,t,n,o,s){a.data||setTooltipConfig({el:t,componentModel:s,itemName:n,itemTooltipOption:o.get("tooltip")})}function resetStateTriggerForRegion(a,t,n,o,s){t.highDownSilentOnTouch=!!s.get("selectedMode");var l=o.getModel("emphasis"),u=l.get("focus");return toggleHoverEmphasis(t,u,l.get("blurScope"),l.get("disabled")),a.isGeo&&enableComponentHighDownFeatures(t,s,n),u}function projectPolys(a,t,n){var o=[],s;function l(){s=[]}function u(){s.length&&(o.push(s),s=[])}var c=t({polygonStart:l,polygonEnd:u,lineStart:l,lineEnd:u,point:function(f,d){isFinite(f)&&isFinite(d)&&s.push([f,d])},sphere:function(){}});return!n&&c.polygonStart(),each$f(a,function(f){c.lineStart();for(var d=0;d<f.length;d++)c.point(f[d][0],f[d][1]);c.lineEnd()}),!n&&c.polygonEnd(),o}var MapView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var u=this.group;if(u.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&l&&l.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===n.id){var c=this._mapDraw;c&&u.add(c.group)}else if(n.needsDrawMap){var c=this._mapDraw||new MapDraw(s);u.add(c.group),c.draw(n,o,s,this,l),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(n,o,s)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(n,o,s){var l=n.originalData,u=this.group;l.each(l.mapDimension("value"),function(c,f){if(!isNaN(c)){var d=l.getItemLayout(f);if(!(!d||!d.point)){var g=d.point,y=d.offset,S=new Circle({style:{fill:n.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Z2_EMPHASIS_LIFT+1)});if(!y){var _=n.mainSeries.getData(),x=l.getName(f),b=_.indexOfName(x),T=l.getItemModel(f),A=T.getModel("label"),C=_.getItemGraphicEl(b);setLabelStyle(S,getLabelStatesModels(T),{labelFetcher:{getFormattedLabel:function(E,P){return n.getFormattedLabel(b,P)}},defaultText:x}),S.disableLabelAnimation=!0,A.get("position")||S.setTextConfig({position:"bottom"}),C.onHoverStateChange=function(E){setStatesFlag(S,E)}}u.add(S)}}})},t.type="map",t}(ChartView),MapSeries=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(o){if(o!=null){var s=this.getData().getName(o),l=this.coordinateSystem,u=l.getRegion(s);return u&&l.dataToPoint(u.getCenter())}},n}return t.prototype.getInitialData=function(n){for(var o=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),s=createHashMap(),l=[],u=0,c=o.count();u<c;u++){var f=o.getName(u);s.set(f,u)}var d=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(d.regions,function(g){var y=g.name,S=s.get(y),_=g.properties&&g.properties.echartsStyle,x;S==null?(x={name:y},l.push(x)):x=o.getRawDataItem(S),_&&merge(x,_)}),o.appendData(l),o},t.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(n){var o=this.getData();return o.get(o.mapDimension("value"),n)},t.prototype.getRegionModel=function(n){var o=this.getData();return o.getItemModel(o.indexOfName(n))},t.prototype.formatTooltip=function(n,o,s){for(var l=this.getData(),u=this.getRawValue(n),c=l.getName(n),f=this.seriesGroup,d=[],g=0;g<f.length;g++){var y=f[g].originalData.indexOfName(c),S=l.mapDimension("value");isNaN(f[g].originalData.get(S,y))||d.push(f[g].name)}return createTooltipMarkup("section",{header:d.join(", "),noHeader:!d.length,blocks:[createTooltipMarkup("nameValue",{name:c,value:u})]})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.getLegendIcon=function(n){var o=n.icon||"roundRect",s=createSymbol$1(o,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return s.setStyle(n.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(SeriesModel);function dataStatistics(a,t){var n={};return each$f(a,function(o){o.each(o.mapDimension("value"),function(s,l){var u="ec-"+o.getName(l);n[u]=n[u]||[],isNaN(s)||n[u].push(s)})}),a[0].map(a[0].mapDimension("value"),function(o,s){for(var l="ec-"+a[0].getName(s),u=0,c=1/0,f=-1/0,d=n[l].length,g=0;g<d;g++)c=Math.min(c,n[l][g]),f=Math.max(f,n[l][g]),u+=n[l][g];var y;return t==="min"?y=c:t==="max"?y=f:t==="average"?y=u/d:y=u,d===0?NaN:y})}function mapDataStatistic(a){var t={};a.eachSeriesByType("map",function(n){var o=n.getHostGeoModel(),s=o?"o"+o.id:"i"+n.getMapType();(t[s]=t[s]||[]).push(n)}),each$f(t,function(n,o){for(var s=dataStatistics(map$1(n,function(u){return u.getData()}),n[0].get("mapValueCalculation")),l=0;l<n.length;l++)n[l].originalData=n[l].getData();for(var l=0;l<n.length;l++)n[l].seriesGroup=n,n[l].needsDrawMap=l===0&&!n[l].getHostGeoModel(),n[l].setData(s.cloneShallow()),n[l].mainSeries=n[0]})}function mapSymbolLayout(a){var t={};a.eachSeriesByType("map",function(n){var o=n.getMapType();if(!(n.getHostGeoModel()||t[o])){var s={};each$f(n.seriesGroup,function(u){var c=u.coordinateSystem,f=u.originalData;u.get("showLegendSymbol")&&a.getComponent("legend")&&f.each(f.mapDimension("value"),function(d,g){var y=f.getName(g),S=c.getRegion(y);if(!(!S||isNaN(d))){var _=s[y]||0,x=c.dataToPoint(S.getCenter());s[y]=_+1,f.setItemLayout(g,{point:x,offset:_})}})});var l=n.getData();l.each(function(u){var c=l.getName(u),f=l.getItemLayout(u)||{};f.showLabel=!s[c],l.setItemLayout(u,f)}),t[o]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(a){__extends$1(t,a);function t(n){var o=a.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Transformable,o._rawTransformable=new Transformable,o.name=n,o}return t.prototype.setBoundingRect=function(n,o,s,l){return this._rect=new BoundingRect(n,o,s,l),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(n,o,s,l){this._transformTo(n,o,s,l),this._viewRect=new BoundingRect(n,o,s,l)},t.prototype._transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=this._rawTransformable;c.transform=u.calculateTransform(new BoundingRect(n,o,s,l));var f=c.parent;c.parent=null,c.decomposeTransform(),c.parent=f,this._updateTransform()},t.prototype.setCenter=function(n,o){n&&(this._center=[parsePercent(n[0],o.getWidth()),parsePercent(n[1],o.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(n){n=n||1;var o=this.zoomLimit;o&&(o.max!=null&&(n=Math.min(o.max,n)),o.min!=null&&(n=Math.max(o.min,n))),this._zoom=n,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),o=n.x+n.width/2,s=n.y+n.height/2;return[o,s]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),u=this.getZoom();l=applyTransform$1([],l,n),s=applyTransform$1([],s,n),o.originX=l[0],o.originY=l[1],o.x=s[0]-l[0],o.y=s[1]-l[1],o.scaleX=o.scaleY=u,this._updateTransform()},t.prototype._updateTransform=function(){var n=this._roamTransformable,o=this._rawTransformable;o.parent=n,n.updateTransform(),o.updateTransform(),copy(this.transform||(this.transform=[]),o.transform||create$1()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var n=this._rawTransformable,o=this._roamTransformable,s=new Transformable;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},t.prototype.dataToPoint=function(n,o,s){var l=o?this._rawTransform:this.transform;return s=s||[],l?v2ApplyTransform(s,n,l):copy$1(s,n)},t.prototype.pointToData=function(n){var o=this.invTransform;return o?v2ApplyTransform([],n,o):[n[0],n[1]]},t.prototype.convertToPixel=function(n,o,s){var l=getCoordSys$4(o);return l===this?l.dataToPoint(s):null},t.prototype.convertFromPixel=function(n,o,s){var l=getCoordSys$4(o);return l===this?l.pointToData(s):null},t.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},t.dimensions=["x","y"],t}(Transformable);function getCoordSys$4(a){var t=a.seriesModel;return t?t.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this,n)||this;l.dimensions=geo2DDimensions,l.type="geo",l._nameCoordMap=createHashMap(),l.map=o;var u=s.projection,c=geoSourceManager.load(o,s.nameMap,s.nameProperty),f=geoSourceManager.getGeoResource(o);l.resourceType=f?f.type:null;var d=l.regions=c.regions,g=GEO_DEFAULT_PARAMS[f.type];l._regionsMap=c.regionsMap,l.regions=c.regions,l.projection=u;var y;if(u)for(var S=0;S<d.length;S++){var _=d[S].getBoundingRect(u);y=y||_.clone(),y.union(_)}else y=c.boundingRect;return l.setBoundingRect(y.x,y.y,y.width,y.height),l.aspectScale=u?1:retrieve2(s.aspectScale,g.aspectScale),l._invertLongitute=u?!1:g.invertLongitute,l}return t.prototype._transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=this._invertLongitute;u=u.clone(),c&&(u.y=-u.y-u.height);var f=this._rawTransformable;f.transform=u.calculateTransform(new BoundingRect(n,o,s,l));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,c&&(f.scaleY=-f.scaleY),this._updateTransform()},t.prototype.getRegion=function(n){return this._regionsMap.get(n)},t.prototype.getRegionByCoord=function(n){for(var o=this.regions,s=0;s<o.length;s++){var l=o[s];if(l.type==="geoJSON"&&l.contain(n))return o[s]}},t.prototype.addGeoCoord=function(n,o){this._nameCoordMap.set(n,o)},t.prototype.getGeoCoord=function(n){var o=this._regionsMap.get(n);return this._nameCoordMap.get(n)||o&&o.getCenter()},t.prototype.dataToPoint=function(n,o,s){if(isString(n)&&(n=this.getGeoCoord(n)),n){var l=this.projection;return l&&(n=l.project(n)),n&&this.projectedToPoint(n,o,s)}},t.prototype.pointToData=function(n){var o=this.projection;return o&&(n=o.unproject(n)),n&&this.pointToProjected(n)},t.prototype.pointToProjected=function(n){return a.prototype.pointToData.call(this,n)},t.prototype.projectedToPoint=function(n,o,s){return a.prototype.dataToPoint.call(this,n,o,s)},t.prototype.convertToPixel=function(n,o,s){var l=getCoordSys$3(o);return l===this?l.dataToPoint(s):null},t.prototype.convertFromPixel=function(n,o,s){var l=getCoordSys$3(o);return l===this?l.pointToData(s):null},t}(View);mixin(Geo,View);function getCoordSys$3(a){var t=a.geoModel,n=a.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(a,t){var n=a.get("boundingCoords");if(n!=null){var o=n[0],s=n[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])){var l=this.projection;if(l){var u=o[0],c=o[1],f=s[0],d=s[1];o=[1/0,1/0],s=[-1/0,-1/0];var g=function(I,D,L,$){for(var O=L-I,V=$-D,F=0;F<=100;F++){var z=F/100,U=l.project([I+O*z,D+V*z]);min$1(o,o,U),max$1(s,s,U)}};g(u,c,f,c),g(f,c,f,d),g(f,d,u,d),g(u,d,f,c)}this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1])}}var y=this.getBoundingRect(),S=a.get("layoutCenter"),_=a.get("layoutSize"),x=t.getWidth(),b=t.getHeight(),T=y.width/y.height*this.aspectScale,A=!1,C,E;S&&_&&(C=[parsePercent(S[0],x),parsePercent(S[1],b)],E=parsePercent(_,Math.min(x,b)),!isNaN(C[0])&&!isNaN(C[1])&&!isNaN(E)&&(A=!0));var P;if(A)P={},T>1?(P.width=E,P.height=E/T):(P.height=E,P.width=E*T),P.y=C[1]-P.height/2,P.x=C[0]-P.width/2;else{var M=a.getBoxLayoutParams();M.aspect=T,P=getLayoutRect(M,{width:x,height:b})}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter(a.get("center"),t),this.setZoom(a.get("zoom"))}function setGeoCoords(a,t){each$f(t.get("geoCoord"),function(n,o){a.addGeoCoord(o,n)})}var GeoCreator=function(){function a(){this.dimensions=geo2DDimensions}return a.prototype.create=function(t,n){var o=[];function s(u){return{nameProperty:u.get("nameProperty"),aspectScale:u.get("aspectScale"),projection:u.get("projection")}}t.eachComponent("geo",function(u,c){var f=u.get("map"),d=new Geo(f+c,f,extend({nameMap:u.get("nameMap")},s(u)));d.zoomLimit=u.get("scaleLimit"),o.push(d),u.coordinateSystem=d,d.model=u,d.resize=resizeGeo,d.resize(u,n)}),t.eachSeries(function(u){var c=u.get("coordinateSystem");if(c==="geo"){var f=u.get("geoIndex")||0;u.coordinateSystem=o[f]}});var l={};return t.eachSeriesByType("map",function(u){if(!u.getHostGeoModel()){var c=u.getMapType();l[c]=l[c]||[],l[c].push(u)}}),each$f(l,function(u,c){var f=map$1(u,function(g){return g.get("nameMap")}),d=new Geo(c,c,extend({nameMap:mergeAll(f)},s(u[0])));d.zoomLimit=retrieve.apply(null,map$1(u,function(g){return g.get("scaleLimit")})),o.push(d),d.resize=resizeGeo,d.resize(u[0],n),each$f(u,function(g){g.coordinateSystem=d,setGeoCoords(d,g)})}),o},a.prototype.getFilledRegions=function(t,n,o,s){for(var l=(t||[]).slice(),u=createHashMap(),c=0;c<l.length;c++)u.set(l[c].name,l[c]);var f=geoSourceManager.load(n,o,s);return each$f(f.regions,function(d){var g=d.name,y=u.get(g),S=d.properties&&d.properties.echartsStyle;y||(y={name:g},l.push(y)),S&&merge(y,S)}),l},a}(),geoCreator=new GeoCreator,GeoModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o,s){var l=geoSourceManager.getGeoResource(n.map);if(l&&l.type==="geoJSON"){var u=n.itemStyle=n.itemStyle||{};"color"in u||(u.color="#eee")}this.mergeDefaultAndTheme(n,s),defaultEmphasis(n,"label",["show"])},t.prototype.optionUpdated=function(){var n=this,o=this.option;o.regions=geoCreator.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var s={};this._optionModelMap=reduce(o.regions||[],function(l,u){var c=u.name;return c&&(l.set(c,new Model(u,n,n.ecModel)),u.selected&&(s[c]=!0)),l},createHashMap()),o.selectedMap||(o.selectedMap=s)},t.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new Model(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(n,o){var s=this.getRegionModel(n),l=o==="normal"?s.get(["label","formatter"]):s.get(["emphasis","label","formatter"]),u={name:n};if(isFunction(l))return u.status=o,l(u);if(isString(l))return l.replace("{a}",n??"")},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.select=function(n){var o=this.option,s=o.selectedMode;if(s){s!=="multiple"&&(o.selectedMap=null);var l=o.selectedMap||(o.selectedMap={});l[n]=!0}},t.prototype.unSelect=function(n){var o=this.option.selectedMap;o&&(o[n]=!1)},t.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},t.prototype.isSelected=function(n){var o=this.option.selectedMap;return!!(o&&o[n])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(ComponentModel);function getCenterCoord(a,t){return a.pointToProjected?a.pointToProjected(t):a.pointToData(t)}function updateCenterAndZoom(a,t,n,o){var s=a.getZoom(),l=a.getCenter(),u=t.zoom,c=a.projectedToPoint?a.projectedToPoint(l):a.dataToPoint(l);if(t.dx!=null&&t.dy!=null&&(c[0]-=t.dx,c[1]-=t.dy,a.setCenter(getCenterCoord(a,c),o)),u!=null){if(n){var f=n.min||0,d=n.max||1/0;u=Math.max(Math.min(s*u,d),f)/s}a.scaleX*=u,a.scaleY*=u;var g=(t.originX-a.x)*(u-1),y=(t.originY-a.y)*(u-1);a.x-=g,a.y-=y,a.updateTransform(),a.setCenter(getCenterCoord(a,c),o),a.setZoom(u*s)}return{center:a.getCenter(),zoom:a.getZoom()}}var GeoView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return t.prototype.init=function(n,o){this._api=o},t.prototype.render=function(n,o,s,l){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw(s));var u=this._mapDraw;u.draw(n,o,s,this,l),u.group.on("click",this._handleRegionClick,this),u.group.silent=n.get("silent"),this.group.add(u.group),this.updateSelectStatus(n,o,s)},t.prototype._handleRegionClick=function(n){var o;findEventDispatcher(n.target,function(s){return(o=getECData(s).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},t.prototype.updateSelectStatus=function(n,o,s){var l=this;this._mapDraw.group.traverse(function(u){var c=getECData(u).eventData;if(c)return l._model.isSelected(c.name)?s.enterSelect(u):s.leaveSelect(u),!0})},t.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ComponentView);function registerMap(a,t,n){geoSourceManager.registerMap(a,t,n)}function install$J(a){a.registerCoordinateSystem("geo",geoCreator),a.registerComponentModel(GeoModel),a.registerComponentView(GeoView),a.registerImpl("registerMap",registerMap),a.registerImpl("getMap",function(n){return geoSourceManager.getMapForUser(n)});function t(n,o){o.update="geo:updateSelectStatus",a.registerAction(o,function(s,l){var u={},c=[];return l.eachComponent({mainType:"geo",query:s},function(f){f[n](s.name);var d=f.coordinateSystem;each$f(d.regions,function(y){u[y.name]=f.isSelected(y.name)||!1});var g=[];each$f(u,function(y,S){u[S]&&g.push(S)}),c.push({geoIndex:f.componentIndex,name:g})}),{selected:u,allSelected:c,name:s.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,o,s){var l=n.componentType||"series";o.eachComponent({mainType:l,query:n},function(u){var c=u.coordinateSystem;if(c.type==="geo"){var f=updateCenterAndZoom(c,n,u.get("scaleLimit"),s);u.setCenter&&u.setCenter(f.center),u.setZoom&&u.setZoom(f.zoom),l==="series"&&each$f(u.seriesGroup,function(d){d.setCenter(f.center),d.setZoom(f.zoom)})}})})}function install$I(a){use(install$J),a.registerChartView(MapView),a.registerSeriesModel(MapSeries),a.registerLayout(mapSymbolLayout),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",a.registerAction)}function init(a){var t=a;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[t],o,s;o=n.pop();)if(s=o.children,o.isExpand&&s.length)for(var l=s.length,u=l-1;u>=0;u--){var c=s[u];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:u,thread:null},n.push(c)}}function firstWalk(a,t){var n=a.isExpand?a.children:[],o=a.parentNode.children,s=a.hierNode.i?o[a.hierNode.i-1]:null;if(n.length){executeShifts(a);var l=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;s?(a.hierNode.prelim=s.hierNode.prelim+t(a,s),a.hierNode.modifier=a.hierNode.prelim-l):a.hierNode.prelim=l}else s&&(a.hierNode.prelim=s.hierNode.prelim+t(a,s));a.parentNode.hierNode.defaultAncestor=apportion(a,s,a.parentNode.hierNode.defaultAncestor||o[0],t)}function secondWalk(a){var t=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:t},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function separation(a){return arguments.length?a:defaultSeparation}function radialCoordinate(a,t){return a-=Math.PI/2,{x:t*Math.cos(a),y:t*Math.sin(a)}}function getViewRect$4(a,t){return getLayoutRect(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function executeShifts(a){for(var t=a.children,n=t.length,o=0,s=0;--n>=0;){var l=t[n];l.hierNode.prelim+=o,l.hierNode.modifier+=o,s+=l.hierNode.change,o+=l.hierNode.shift+s}}function apportion(a,t,n,o){if(t){for(var s=a,l=a,u=l.parentNode.children[0],c=t,f=s.hierNode.modifier,d=l.hierNode.modifier,g=u.hierNode.modifier,y=c.hierNode.modifier;c=nextRight(c),l=nextLeft(l),c&&l;){s=nextRight(s),u=nextLeft(u),s.hierNode.ancestor=a;var S=c.hierNode.prelim+y-l.hierNode.prelim-d+o(c,l);S>0&&(moveSubtree(nextAncestor(c,a,n),a,S),d+=S,f+=S),y+=c.hierNode.modifier,d+=l.hierNode.modifier,f+=s.hierNode.modifier,g+=u.hierNode.modifier}c&&!nextRight(s)&&(s.hierNode.thread=c,s.hierNode.modifier+=y-f),l&&!nextLeft(u)&&(u.hierNode.thread=l,u.hierNode.modifier+=d-g,n=a)}return n}function nextRight(a){var t=a.children;return t.length&&a.isExpand?t[t.length-1]:a.hierNode.thread}function nextLeft(a){var t=a.children;return t.length&&a.isExpand?t[0]:a.hierNode.thread}function nextAncestor(a,t,n){return a.hierNode.ancestor.parentNode===t.parentNode?a.hierNode.ancestor:n}function moveSubtree(a,t,n){var o=n/(t.hierNode.i-a.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,a.hierNode.change+=o}function defaultSeparation(a,t){return a.parentNode===t.parentNode?1:2}var TreeEdgeShape=function(){function a(){this.parentPoint=[],this.childPoints=[]}return a}(),TreePath=function(a){__extends$1(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new TreeEdgeShape},t.prototype.buildPath=function(n,o){var s=o.childPoints,l=s.length,u=o.parentPoint,c=s[0],f=s[l-1];if(l===1){n.moveTo(u[0],u[1]),n.lineTo(c[0],c[1]);return}var d=o.orient,g=d==="TB"||d==="BT"?0:1,y=1-g,S=parsePercent(o.forkPosition,1),_=[];_[g]=u[g],_[y]=u[y]+(f[y]-u[y])*S,n.moveTo(u[0],u[1]),n.lineTo(_[0],_[1]),n.moveTo(c[0],c[1]),_[g]=c[g],n.lineTo(_[0],_[1]),_[g]=f[g],n.lineTo(_[0],_[1]),n.lineTo(f[0],f[1]);for(var x=1;x<l-1;x++){var b=s[x];n.moveTo(b[0],b[1]),_[g]=b[g],n.lineTo(_[0],_[1])}},t}(Path),TreeView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Group$3,n}return t.prototype.init=function(n,o){this._controller=new RoamController(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(n,o,s){var l=n.getData(),u=n.layoutInfo,c=this._mainGroup,f=n.get("layout");f==="radial"?(c.x=u.x+u.width/2,c.y=u.y+u.height/2):(c.x=u.x,c.y=u.y),this._updateViewCoordSys(n,s),this._updateController(n,o,s);var d=this._data;l.diff(d).add(function(g){symbolNeedsDraw(l,g)&&updateNode(l,g,null,c,n)}).update(function(g,y){var S=d.getItemGraphicEl(y);if(!symbolNeedsDraw(l,g)){S&&removeNode(d,y,S,c,n);return}updateNode(l,g,S,c,n)}).remove(function(g){var y=d.getItemGraphicEl(g);y&&removeNode(d,g,y,c,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&l.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:y})})}),this._data=l},t.prototype._updateViewCoordSys=function(n,o){var s=n.getData(),l=[];s.each(function(y){var S=s.getItemLayout(y);S&&!isNaN(S.x)&&!isNaN(S.y)&&l.push([+S.x,+S.y])});var u=[],c=[];fromPoints(l,u,c);var f=this._min,d=this._max;c[0]-u[0]===0&&(u[0]=f?f[0]:u[0]-1,c[0]=d?d[0]:c[0]+1),c[1]-u[1]===0&&(u[1]=f?f[1]:u[1]-1,c[1]=d?d[1]:c[1]+1);var g=n.coordinateSystem=new View;g.zoomLimit=n.get("scaleLimit"),g.setBoundingRect(u[0],u[1],c[0]-u[0],c[1]-u[1]),g.setCenter(n.get("center"),o),g.setZoom(n.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=u,this._max=c},t.prototype._updateController=function(n,o,s){var l=this,u=this._controller,c=this._controllerHost,f=this.group;u.setPointerChecker(function(d,g,y){var S=f.getBoundingRect();return S.applyTransform(f.transform),S.contain(g,y)&&!onIrrelevantElement(d,s,n)}),u.enable(n.get("roam")),c.zoomLimit=n.get("scaleLimit"),c.zoom=n.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(d){updateViewOnPan(c,d.dx,d.dy),s.dispatchAction({seriesId:n.id,type:"treeRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){updateViewOnZoom(c,d.scale,d.originX,d.originY),s.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),l._updateNodeAndLinkScale(n),s.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(n){var o=n.getData(),s=this._getNodeGlobalScale(n);o.eachItemGraphicEl(function(l,u){l.setSymbolScale(s)})},t.prototype._getNodeGlobalScale=function(n){var o=n.coordinateSystem;if(o.type!=="view")return 1;var s=this._nodeScaleRatio,l=o.scaleX||1,u=o.getZoom(),c=(u-1)*s+1;return c/l},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ChartView);function symbolNeedsDraw(a,t){var n=a.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function updateNode(a,t,n,o,s){var l=!n,u=a.tree.getNodeByDataIndex(t),c=u.getModel(),f=u.getVisual("style").fill,d=u.isExpand===!1&&u.children.length!==0?f:"#fff",g=a.tree.root,y=u.parentNode===g?u:u.parentNode||u,S=a.getItemGraphicEl(y.dataIndex),_=y.getLayout(),x=S?{x:S.__oldX,y:S.__oldY,rawX:S.__radialOldRawX,rawY:S.__radialOldRawY}:_,b=u.getLayout();l?(n=new Symbol$1(a,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.x=x.x,n.y=x.y):n.updateData(a,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=b.rawX,n.__radialRawY=b.rawY,o.add(n),a.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,updateProps$1(n,{x:b.x,y:b.y},s);var T=n.getSymbolPath();if(s.get("layout")==="radial"){var A=g.children[0],C=A.getLayout(),E=A.children.length,P=void 0,M=void 0;if(b.x===C.x&&u.isExpand===!0&&A.children.length){var I={x:(A.children[0].getLayout().x+A.children[E-1].getLayout().x)/2,y:(A.children[0].getLayout().y+A.children[E-1].getLayout().y)/2};P=Math.atan2(I.y-C.y,I.x-C.x),P<0&&(P=Math.PI*2+P),M=I.x<C.x,M&&(P=P-Math.PI)}else P=Math.atan2(b.y-C.y,b.x-C.x),P<0&&(P=Math.PI*2+P),u.children.length===0||u.children.length!==0&&u.isExpand===!1?(M=b.x<C.x,M&&(P=P-Math.PI)):(M=b.x>C.x,M||(P=P-Math.PI));var D=M?"left":"right",L=c.getModel("label"),$=L.get("rotate"),O=$*(Math.PI/180),V=T.getTextContent();V&&(T.setTextConfig({position:L.get("position")||D,rotation:$==null?-P:O,origin:"center"}),V.setStyle("verticalAlign","middle"))}var F=c.get(["emphasis","focus"]),z=F==="relative"?concatArray(u.getAncestorsIndices(),u.getDescendantIndices()):F==="ancestor"?u.getAncestorsIndices():F==="descendant"?u.getDescendantIndices():null;z&&(getECData(n).focus=z),drawEdge(s,u,g,n,x,_,b,o),n.__edge&&(n.onHoverStateChange=function(U){if(U!=="blur"){var H=u.parentNode&&a.getItemGraphicEl(u.parentNode.dataIndex);H&&H.hoverState===HOVER_STATE_BLUR||setStatesFlag(n.__edge,U)}})}function drawEdge(a,t,n,o,s,l,u,c){var f=t.getModel(),d=a.get("edgeShape"),g=a.get("layout"),y=a.getOrient(),S=a.get(["lineStyle","curveness"]),_=a.get("edgeForkPosition"),x=f.getModel("lineStyle").getLineStyle(),b=o.__edge;if(d==="curve")t.parentNode&&t.parentNode!==n&&(b||(b=o.__edge=new BezierCurve({shape:getEdgeShape(g,y,S,s,s)})),updateProps$1(b,{shape:getEdgeShape(g,y,S,l,u)},a));else if(d==="polyline"&&g==="orthogonal"&&t!==n&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var T=t.children,A=[],C=0;C<T.length;C++){var E=T[C].getLayout();A.push([E.x,E.y])}b||(b=o.__edge=new TreePath({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:y,forkPosition:_}})),updateProps$1(b,{shape:{parentPoint:[u.x,u.y],childPoints:A}},a)}b&&!(d==="polyline"&&!t.isExpand)&&(b.useStyle(defaults({strokeNoScale:!0,fill:null},x)),setStatesStylesFromModel(b,f,"lineStyle"),setDefaultStateProxy(b),c.add(b))}function removeNodeEdge(a,t,n,o,s){var l=t.tree.root,u=getSourceNode(l,a),c=u.source,f=u.sourceLayout,d=t.getItemGraphicEl(a.dataIndex);if(d){var g=t.getItemGraphicEl(c.dataIndex),y=g.__edge,S=d.__edge||(c.isExpand===!1||c.children.length===1?y:void 0),_=o.get("edgeShape"),x=o.get("layout"),b=o.get("orient"),T=o.get(["lineStyle","curveness"]);S&&(_==="curve"?removeElement(S,{shape:getEdgeShape(x,b,T,f,f),style:{opacity:0}},o,{cb:function(){n.remove(S)},removeOpt:s}):_==="polyline"&&o.get("layout")==="orthogonal"&&removeElement(S,{shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]]},style:{opacity:0}},o,{cb:function(){n.remove(S)},removeOpt:s}))}}function getSourceNode(a,t){for(var n=t.parentNode===a?t:t.parentNode||t,o;o=n.getLayout(),o==null;)n=n.parentNode===a?n:n.parentNode||n;return{source:n,sourceLayout:o}}function removeNode(a,t,n,o,s){var l=a.tree.getNodeByDataIndex(t),u=a.tree.root,c=getSourceNode(u,l).sourceLayout,f={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};removeElement(n,{x:c.x+1,y:c.y+1},s,{cb:function(){o.remove(n),a.setItemGraphicEl(t,null)},removeOpt:f}),n.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:f}),l.children.forEach(function(d){removeNodeEdge(d,a,o,s,f)}),removeNodeEdge(l,a,o,s,f)}function getEdgeShape(a,t,n,o,s){var l,u,c,f,d,g,y,S;if(a==="radial"){d=o.rawX,y=o.rawY,g=s.rawX,S=s.rawY;var _=radialCoordinate(d,y),x=radialCoordinate(d,y+(S-y)*n),b=radialCoordinate(g,S+(y-S)*n),T=radialCoordinate(g,S);return{x1:_.x||0,y1:_.y||0,x2:T.x||0,y2:T.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:b.x||0,cpy2:b.y||0}}else d=o.x,y=o.y,g=s.x,S=s.y,(t==="LR"||t==="RL")&&(l=d+(g-d)*n,u=y,c=g+(d-g)*n,f=S),(t==="TB"||t==="BT")&&(l=d,u=y+(S-y)*n,c=g,f=S+(y-S)*n);return{x1:d,y1:y,x2:g,y2:S,cpx1:l,cpy1:u,cpx2:c,cpy2:f}}var inner$e=makeInner();function linkSeriesData(a){var t=a.mainData,n=a.datas;n||(n={main:t},a.datasAttr={main:"data"}),a.datas=a.mainData=null,linkAll(t,n,a),each$f(n,function(o){each$f(t.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,curry$1(transferInjection,a))})}),t.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,a)),each$f(t.CHANGABLE_METHODS,function(o){t.wrapMethod(o,curry$1(changeInjection,a))}),assert(n[t.dataType]===t)}function transferInjection(a,t){if(isMainData(this)){var n=extend({},inner$e(this).datas);n[this.dataType]=t,linkAll(t,n,a)}else linkSingle(t,this.dataType,inner$e(this).mainData,a);return t}function changeInjection(a,t){return a.struct&&a.struct.update(),t}function cloneShallowInjection(a,t){return each$f(inner$e(t).datas,function(n,o){n!==t&&linkSingle(n.cloneShallow(),o,t,a)}),t}function getLinkedData(a){var t=inner$e(this).mainData;return a==null||t==null?t:inner$e(t).datas[a]}function getLinkedDataAll(){var a=inner$e(this).mainData;return a==null?[{data:a}]:map$1(keys$1(inner$e(a).datas),function(t){return{type:t,data:inner$e(a).datas[t]}})}function isMainData(a){return inner$e(a).mainData===a}function linkAll(a,t,n){inner$e(a).datas={},each$f(t,function(o,s){linkSingle(o,s,a,n)})}function linkSingle(a,t,n,o){inner$e(n).datas[t]=a,inner$e(a).mainData=n,a.dataType=t,o.struct&&(a[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=a),a.getLinkedData=getLinkedData,a.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function a(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(t,n,o){isFunction(t)&&(o=n,n=t,t=null),t=t||{},isString(t)&&(t={order:t});var s=t.order||"preorder",l=this[t.attr||"children"],u;s==="preorder"&&(u=n.call(o,this));for(var c=0;!u&&c<l.length;c++)l[c].eachNode(t,n,o);s==="postorder"&&n.call(o,this)},a.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(t+1),s.height>n&&(n=s.height)}this.height=n+1},a.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,o=this.children,s=o.length;n<s;n++){var l=o[n].getNodeById(t);if(l)return l}},a.prototype.contains=function(t){if(t===this)return!0;for(var n=0,o=this.children,s=o.length;n<s;n++){var l=o[n].contains(t);if(l)return l}},a.prototype.getAncestors=function(t){for(var n=[],o=t?this:this.parentNode;o;)n.push(o),o=o.parentNode;return n.reverse(),n},a.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},a.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},a.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},a.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostTree,o=n.data.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},a.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},a.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},a.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},a}(),Tree=function(){function a(t){this.type="tree",this._nodes=[],this.hostModel=t}return a.prototype.eachNode=function(t,n,o){this.root.eachNode(t,n,o)},a.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},a.prototype.getNodeById=function(t){return this.root.getNodeById(t)},a.prototype.update=function(){for(var t=this.data,n=this._nodes,o=0,s=n.length;o<s;o++)n[o].dataIndex=-1;for(var o=0,s=t.count();o<s;o++)n[t.getRawIndex(o)].dataIndex=o},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(t,n,o){var s=new a(n),l=[],u=1;c(t);function c(g,y){var S=g.value;u=Math.max(u,isArray$2(S)?S.length:1),l.push(g);var _=new TreeNode(convertOptionIdName(g.name,""),s);y?addChild(_,y):s.root=_,s._nodes.push(_);var x=g.children;if(x)for(var b=0;b<x.length;b++)c(x[b],_)}s.root.updateDepthAndHeight(0);var f=prepareSeriesDataSchema(l,{coordDimensions:["value"],dimensionsCount:u}).dimensions,d=new SeriesData(f,n);return d.initData(l),o&&o(d),linkSeriesData({mainData:d,struct:s,structAttr:"tree"}),s.update(),s},a}();function addChild(a,t){var n=t.children;a.parentNode!==t&&(n.push(a),a.parentNode=t)}function retrieveTargetInfo(a,t,n){if(a&&indexOf(t,a.type)>=0){var o=n.getData().tree.root,s=a.targetNode;if(isString(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var l=a.targetNodeId;if(l!=null&&(s=o.getNodeById(l)))return{node:s}}}function getPathToRoot(a){for(var t=[];a;)a=a.parentNode,a&&t.push(a);return t.reverse()}function aboveViewRoot(a,t){var n=getPathToRoot(a);return indexOf(n,t)>=0}function wrapTreePathInfo(a,t){for(var n=[];a;){var o=a.dataIndex;n.push({name:a.name,dataIndex:o,value:t.getRawValue(o)}),a=a.parentNode}return n.reverse(),n}var TreeSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n){var o={name:n.name,children:n.data},s=n.leaves||{},l=new Model(s,this,this.ecModel),u=Tree.createTree(o,this,c);function c(y){y.wrapMethod("getItemModel",function(S,_){var x=u.getNodeByDataIndex(_);return x&&x.children.length&&x.isExpand||(S.parentModel=l),S})}var f=0;u.eachNode("preorder",function(y){y.depth>f&&(f=y.depth)});var d=n.expandAndCollapse,g=d&&n.initialTreeDepth>=0?n.initialTreeDepth:f;return u.root.eachNode("preorder",function(y){var S=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=S&&S.collapsed!=null?!S.collapsed:y.depth<=g}),u.data},t.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.formatTooltip=function(n,o,s){for(var l=this.getData().tree,u=l.root.children[0],c=l.getNodeByDataIndex(n),f=c.getValue(),d=c.name;c&&c!==u;)d=c.parentNode.name+"."+d,c=c.parentNode;return createTooltipMarkup("nameValue",{name:d,value:f,noValue:isNaN(f)||f==null})},t.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treeAncestors=wrapTreePathInfo(s,this),o.collapsed=!s.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(SeriesModel);function eachAfter(a,t,n){for(var o=[a],s=[],l;l=o.pop();)if(s.push(l),l.isExpand){var u=l.children;if(u.length)for(var c=0;c<u.length;c++)o.push(u[c])}for(;l=s.pop();)t(l,n)}function eachBefore(a,t){for(var n=[a],o;o=n.pop();)if(t(o),o.isExpand){var s=o.children;if(s.length)for(var l=s.length-1;l>=0;l--)n.push(s[l])}}function treeLayout(a,t){a.eachSeriesByType("tree",function(n){commonLayout(n,t)})}function commonLayout(a,t){var n=getViewRect$4(a,t);a.layoutInfo=n;var o=a.get("layout"),s=0,l=0,u=null;o==="radial"?(s=2*Math.PI,l=Math.min(n.height,n.width)/2,u=separation(function(E,P){return(E.parentNode===P.parentNode?1:2)/E.depth})):(s=n.width,l=n.height,u=separation());var c=a.getData().tree.root,f=c.children[0];if(f){init(c),eachAfter(f,firstWalk,u),c.hierNode.modifier=-f.hierNode.prelim,eachBefore(f,secondWalk);var d=f,g=f,y=f;eachBefore(f,function(E){var P=E.getLayout().x;P<d.getLayout().x&&(d=E),P>g.getLayout().x&&(g=E),E.depth>y.depth&&(y=E)});var S=d===g?1:u(d,g)/2,_=S-d.getLayout().x,x=0,b=0,T=0,A=0;if(o==="radial")x=s/(g.getLayout().x+S+_),b=l/(y.depth-1||1),eachBefore(f,function(E){T=(E.getLayout().x+_)*x,A=(E.depth-1)*b;var P=radialCoordinate(T,A);E.setLayout({x:P.x,y:P.y,rawX:T,rawY:A},!0)});else{var C=a.getOrient();C==="RL"||C==="LR"?(b=l/(g.getLayout().x+S+_),x=s/(y.depth-1||1),eachBefore(f,function(E){A=(E.getLayout().x+_)*b,T=C==="LR"?(E.depth-1)*x:s-(E.depth-1)*x,E.setLayout({x:T,y:A},!0)})):(C==="TB"||C==="BT")&&(x=s/(g.getLayout().x+S+_),b=l/(y.depth-1||1),eachBefore(f,function(E){T=(E.getLayout().x+_)*x,A=C==="TB"?(E.depth-1)*b:l-(E.depth-1)*b,E.setLayout({x:T,y:A},!0)}))}}}function treeVisual(a){a.eachSeriesByType("tree",function(t){var n=t.getData(),o=n.tree;o.eachNode(function(s){var l=s.getModel(),u=l.getModel("itemStyle").getItemStyle(),c=n.ensureUniqueItemVisual(s.dataIndex,"style");extend(c,u)})})}function installTreeAction(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(o){var s=t.dataIndex,l=o.getData().tree,u=l.getNodeByDataIndex(s);u.isExpand=!u.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,n,o){n.eachComponent({mainType:"series",subType:"tree",query:t},function(s){var l=s.coordinateSystem,u=updateCenterAndZoom(l,t,void 0,o);s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom)})})}function install$H(a){a.registerChartView(TreeView),a.registerSeriesModel(TreeSeriesModel),a.registerLayout(treeLayout),a.registerVisual(treeVisual),installTreeAction(a)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(a){for(var t=0;t<actionTypes.length;t++)a.registerAction({type:actionTypes[t],update:"updateView"},noop$2);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,o){o.eachComponent({mainType:"series",subType:"treemap",query:n},s);function s(l,u){var c=["treemapZoomToNode","treemapRootToNode"],f=retrieveTargetInfo(n,c,l);if(f){var d=l.getViewRoot();d&&(n.direction=aboveViewRoot(d,f.node)?"rollUp":"drillDown"),l.resetViewRoot(f.node)}}})}function enableAriaDecalForTree(a){var t=a.getData(),n=t.tree,o={};n.eachNode(function(s){for(var l=s;l&&l.depth>1;)l=l.parentNode;var u=getDecalFromPalette(a.ecModel,l.name||l.dataIndex+"",o);s.setVisual("decal",u)})}var TreemapSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return t.prototype.getInitialData=function(n,o){var s={name:n.name,children:n.data};completeTreeValue$1(s);var l=n.levels||[],u=this.designatedVisualItemStyle={},c=new Model({itemStyle:u},this,o);l=n.levels=setDefault(l,o);var f=map$1(l||[],function(y){return new Model(y,c,o)},this),d=Tree.createTree(s,this,g);function g(y){y.wrapMethod("getItemModel",function(S,_){var x=d.getNodeByDataIndex(_),b=x?f[x.depth]:null;return S.parentModel=b||c,S})}return d.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.getRawValue(n),c=l.getName(n);return createTooltipMarkup("nameValue",{name:c,value:u})},t.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treeAncestors=wrapTreePathInfo(s,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,n)},t.prototype.mapIdToIndex=function(n){var o=this._idIndexMap;o||(o=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var s=o.get(n);return s==null&&o.set(n,s=this._idIndexMapCount++),s},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var o=this.getRawData().tree.root;(!n||n!==o&&!o.contains(n))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(SeriesModel);function completeTreeValue$1(a){var t=0;each$f(a.children,function(o){completeTreeValue$1(o);var s=o.value;isArray$2(s)&&(s=s[0]),t+=s});var n=a.value;isArray$2(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),isArray$2(a.value)?a.value[0]=n:a.value=n}function setDefault(a,t){var n=normalizeToArray(t.get("color")),o=normalizeToArray(t.get(["aria","decal","decals"]));if(n){a=a||[];var s,l;each$f(a,function(c){var f=new Model(c),d=f.get("color"),g=f.get("decal");(f.get(["itemStyle","color"])||d&&d!=="none")&&(s=!0),(f.get(["itemStyle","decal"])||g&&g!=="none")&&(l=!0)});var u=a[0]||(a[0]={});return s||(u.color=n.slice()),!l&&o&&(u.decal=o.slice()),a}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function a(t){this.group=new Group$3,t.add(this.group)}return a.prototype.render=function(t,n,o,s){var l=t.getModel("breadcrumb"),u=this.group;if(u.removeAll(),!(!l.get("show")||!o)){var c=l.getModel("itemStyle"),f=l.getModel("emphasis"),d=c.getModel("textStyle"),g=f.getModel(["itemStyle","textStyle"]),y={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,y,d),this._renderContent(t,y,c,f,d,g,s),positionElement(u,y.pos,y.box)}},a.prototype._prepare=function(t,n,o){for(var s=t;s;s=s.parentNode){var l=convertOptionIdName(s.getModel().get("name"),""),u=o.getTextRect(l),c=Math.max(u.width+TEXT_PADDING*2,n.emptyItemWidth);n.totalWidth+=c+ITEM_GAP,n.renderList.push({node:s,text:l,width:c})}},a.prototype._renderContent=function(t,n,o,s,l,u,c){for(var f=0,d=n.emptyItemWidth,g=t.get(["breadcrumb","height"]),y=getAvailableSize(n.pos,n.box),S=n.totalWidth,_=n.renderList,x=s.getModel("itemStyle").getItemStyle(),b=_.length-1;b>=0;b--){var T=_[b],A=T.node,C=T.width,E=T.text;S>y.width&&(S-=C-d,C=d,E=null);var P=new Polygon({shape:{points:makeItemPoints(f,0,C,g,b===_.length-1,b===0)},style:defaults(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle(l,{text:E})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(c,A)});P.disableLabelAnimation=!0,P.getTextContent().ensureState("emphasis").style=createTextStyle(u,{text:E}),P.ensureState("emphasis").style=x,toggleHoverEmphasis(P,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(P),packEventData(P,t,A),f+=C+ITEM_GAP}},a.prototype.remove=function(){this.group.removeAll()},a}();function makeItemPoints(a,t,n,o,s,l){var u=[[s?a:a-ARRAY_LENGTH,t],[a+n,t],[a+n,t+o],[s?a:a-ARRAY_LENGTH,t+o]];return!l&&u.splice(2,0,[a+n+ARRAY_LENGTH,t+o/2]),!s&&u.push([a,t+o/2]),u}function packEventData(a,t,n){getECData(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&wrapTreePathInfo(n,t)}}var AnimationWrap=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(t,n,o,s,l){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:o,delay:s,easing:l}),!0)},a.prototype.finished=function(t){return this._finishedCallback=t,this},a.prototype.start=function(){for(var t=this,n=this._storage.length,o=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},s=0,l=this._storage.length;s<l;s++){var u=this._storage[s];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:o,aborted:o})}return this},a}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(a){var t=getStateItemStyle(a);return t.stroke=t.fill=t.lineWidth=null,t},inner$d=makeInner(),TreemapView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=createStorage(),n}return t.prototype.render=function(n,o,s,l){var u=o.findComponents({mainType:"series",subType:"treemap",query:l});if(!(indexOf(u,n)<0)){this.seriesModel=n,this.api=s,this.ecModel=o;var c=["treemapZoomToNode","treemapRootToNode"],f=retrieveTargetInfo(l,c,n),d=l&&l.type,g=n.layoutInfo,y=!this._oldTree,S=this._storage,_=d==="treemapRootToNode"&&f&&S?{rootNodeGroup:S.nodeGroup[f.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(g),b=n.get("animation"),T=this._doRender(x,n,_);b&&!y&&(!d||d==="treemapZoomToNode"||d==="treemapRootToNode")?this._doAnimation(x,T,n,_):T.renderFinally(),this._resetController(s),this._renderBreadcrumb(n,s,f)}},t.prototype._giveContainerGroup=function(n){var o=this._containerGroup;return o||(o=this._containerGroup=new Group$2,this._initEvents(o),this.group.add(o)),o.x=n.x,o.y=n.y,o},t.prototype._doRender=function(n,o,s){var l=o.getData().tree,u=this._oldTree,c=createStorage(),f=createStorage(),d=this._storage,g=[];function y(C,E,P,M){return renderNode(o,f,d,s,c,g,C,E,P,M)}b(l.root?[l.root]:[],u&&u.root?[u.root]:[],n,l===u||!u,0);var S=T(d);if(this._oldTree=l,this._storage=f,this._controllerHost){var _=this.seriesModel.layoutInfo,x=l.root.getLayout();x.width===_.width&&x.height===_.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:c,willDeleteEls:S,renderFinally:A};function b(C,E,P,M,I){M?(E=C,each$f(C,function($,O){!$.isRemoved()&&L(O,O)})):new DataDiffer(E,C,D,D).add(L).update(L).remove(curry$1(L,null)).execute();function D($){return $.getId()}function L($,O){var V=$!=null?C[$]:null,F=O!=null?E[O]:null,z=y(V,F,P,I);z&&b(V&&V.viewChildren||[],F&&F.viewChildren||[],z,M,I+1)}}function T(C){var E=createStorage();return C&&each$f(C,function(P,M){var I=E[M];each$f(P,function(D){D&&(I.push(D),inner$d(D).willDelete=!0)})}),E}function A(){each$f(S,function(C){each$f(C,function(E){E.parent&&E.parent.remove(E)})}),each$f(g,function(C){C.invisible=!0,C.dirty()})}},t.prototype._doAnimation=function(n,o,s,l){var u=s.get("animationDurationUpdate"),c=s.get("animationEasing"),f=(isFunction(u)?0:u)||0,d=(isFunction(c)?null:c)||"cubicOut",g=createWrap();each$f(o.willDeleteEls,function(y,S){each$f(y,function(_,x){if(!_.invisible){var b=_.parent,T,A=inner$d(b);if(l&&l.direction==="drillDown")T=b===l.rootNodeGroup?{shape:{x:0,y:0,width:A.nodeWidth,height:A.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var C=0,E=0;A.willDelete||(C=A.nodeWidth/2,E=A.nodeHeight/2),T=S==="nodeGroup"?{x:C,y:E,style:{opacity:0}}:{shape:{x:C,y:E,width:0,height:0},style:{opacity:0}}}T&&g.add(_,T,f,0,d)}})}),each$f(this._storage,function(y,S){each$f(y,function(_,x){var b=o.lastsForAnimation[S][x],T={};b&&(_ instanceof Group$3?b.oldX!=null&&(T.x=_.x,T.y=_.y,_.x=b.oldX,_.y=b.oldY):(b.oldShape&&(T.shape=extend({},_.shape),_.setShape(b.oldShape)),b.fadein?(_.setStyle("opacity",0),T.style={opacity:1}):_.style.opacity!==1&&(T.style={opacity:1})),g.add(_,T,f,0,d))})},this),this._state="animating",g.finished(bind$1(function(){this._state="ready",o.renderFinally()},this)).start()},t.prototype._resetController=function(n){var o=this._controller,s=this._controllerHost;s||(this._controllerHost={target:this.group},s=this._controllerHost),o||(o=this._controller=new RoamController(n.getZr()),o.enable(this.seriesModel.get("roam")),s.zoomLimit=this.seriesModel.get("scaleLimit"),s.zoom=this.seriesModel.get("zoom"),o.on("pan",bind$1(this._onPan,this)),o.on("zoom",bind$1(this._onZoom,this)));var l=new BoundingRect(0,0,n.getWidth(),n.getHeight());o.setPointerChecker(function(u,c,f){return l.contain(c,f)})},t.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},t.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>DRAG_THRESHOLD||Math.abs(n.dy)>DRAG_THRESHOLD)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+n.dx,y:s.y+n.dy,width:s.width,height:s.height}})}},t.prototype._onZoom=function(n){var o=n.originX,s=n.originY,l=n.scale;if(this._state!=="animating"){var u=this.seriesModel.getData().tree.root;if(!u)return;var c=u.getLayout();if(!c)return;var f=new BoundingRect(c.x,c.y,c.width,c.height),d=null,g=this._controllerHost;d=g.zoomLimit;var y=g.zoom=g.zoom||1;if(y*=l,d){var S=d.min||0,_=d.max||1/0;y=Math.max(Math.min(_,y),S)}var x=y/g.zoom;g.zoom=y;var b=this.seriesModel.layoutInfo;o-=b.x,s-=b.y;var T=create$1();translate(T,T,[-o,-s]),scale$2(T,T,[x,x]),translate(T,T,[o,s]),f.applyTransform(T),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},t.prototype._initEvents=function(n){var o=this;n.on("click",function(s){if(o._state==="ready"){var l=o.seriesModel.get("nodeClick",!0);if(l){var u=o.findTarget(s.offsetX,s.offsetY);if(u){var c=u.node;if(c.getLayout().isLeafRoot)o._rootToNode(u);else if(l==="zoomToNode")o._zoomToNode(u);else if(l==="link"){var f=c.hostTree.data.getItemModel(c.dataIndex),d=f.get("link",!0),g=f.get("target",!0)||"blank";d&&windowOpen(d,g)}}}}},this)},t.prototype._renderBreadcrumb=function(n,o,s){var l=this;s||(s=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),s||(s={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(n,o,s.node,function(u){l._state!=="animating"&&(aboveViewRoot(n.getViewRoot(),u)?l._rootToNode({node:u}):l._zoomToNode({node:u}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype.findTarget=function(n,o){var s,l=this.seriesModel.getViewRoot();return l.eachNode({attr:"viewChildren",order:"preorder"},function(u){var c=this._storage.background[u.getRawIndex()];if(c){var f=c.transformCoordToLocal(n,o),d=c.shape;if(d.x<=f[0]&&f[0]<=d.x+d.width&&d.y<=f[1]&&f[1]<=d.y+d.height)s={node:u,offsetX:f[0],offsetY:f[1]};else return!1}},this),s},t.type="treemap",t}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(a,t,n,o,s,l,u,c,f,d){if(!u)return;var g=u.getLayout(),y=a.getData(),S=u.getModel();if(y.setItemGraphicEl(u.dataIndex,null),!g||!g.isInView)return;var _=g.width,x=g.height,b=g.borderWidth,T=g.invisible,A=u.getRawIndex(),C=c&&c.getRawIndex(),E=u.viewChildren,P=g.upperHeight,M=E&&E.length,I=S.getModel("itemStyle"),D=S.getModel(["emphasis","itemStyle"]),L=S.getModel(["blur","itemStyle"]),$=S.getModel(["select","itemStyle"]),O=I.get("borderRadius")||0,V=le("nodeGroup",Group$2);if(!V)return;if(f.add(V),V.x=g.x||0,V.y=g.y||0,V.markRedraw(),inner$d(V).nodeWidth=_,inner$d(V).nodeHeight=x,g.isAboveViewRoot)return V;var F=le("background",Rect$1,d,Z2_BG);F&&j(V,F,M&&g.upperLabelHeight);var z=S.getModel("emphasis"),U=z.get("focus"),H=z.get("blurScope"),N=z.get("disabled"),G=U==="ancestor"?u.getAncestorsIndices():U==="descendant"?u.getDescendantIndices():U;if(M)isHighDownDispatcher(V)&&setAsHighDownDispatcher(V,!1),F&&(setAsHighDownDispatcher(F,!N),y.setItemGraphicEl(u.dataIndex,F),enableHoverFocus(F,G,H));else{var R=le("content",Rect$1,d,Z2_CONTENT);R&&W(V,R),F.disableMorphing=!0,F&&isHighDownDispatcher(F)&&setAsHighDownDispatcher(F,!1),setAsHighDownDispatcher(V,!N),y.setItemGraphicEl(u.dataIndex,V);var B=S.getShallow("cursor");B&&R.attr("cursor",B),enableHoverFocus(V,G,H)}return V;function j(re,J,oe){var ne=getECData(J);if(ne.dataIndex=u.dataIndex,ne.seriesIndex=a.seriesIndex,J.setShape({x:0,y:0,width:_,height:x,r:O}),T)X(J);else{J.invisible=!1;var Y=u.getVisual("style"),Z=Y.stroke,K=getItemStyleNormal(I);K.fill=Z;var Q=getStateItemStyle(D);Q.fill=D.get("borderColor");var ie=getStateItemStyle(L);ie.fill=L.get("borderColor");var ae=getStateItemStyle($);if(ae.fill=$.get("borderColor"),oe){var ce=_-2*b;ee(J,Z,Y.opacity,{x:b,y:0,width:ce,height:P})}else J.removeTextContent();J.setStyle(K),J.ensureState("emphasis").style=Q,J.ensureState("blur").style=ie,J.ensureState("select").style=ae,setDefaultStateProxy(J)}re.add(J)}function W(re,J){var oe=getECData(J);oe.dataIndex=u.dataIndex,oe.seriesIndex=a.seriesIndex;var ne=Math.max(_-2*b,0),Y=Math.max(x-2*b,0);if(J.culling=!0,J.setShape({x:b,y:b,width:ne,height:Y,r:O}),T)X(J);else{J.invisible=!1;var Z=u.getVisual("style"),K=Z.fill,Q=getItemStyleNormal(I);Q.fill=K,Q.decal=Z.decal;var ie=getStateItemStyle(D),ae=getStateItemStyle(L),ce=getStateItemStyle($);ee(J,K,Z.opacity,null),J.setStyle(Q),J.ensureState("emphasis").style=ie,J.ensureState("blur").style=ae,J.ensureState("select").style=ce,setDefaultStateProxy(J)}re.add(J)}function X(re){!re.invisible&&l.push(re)}function ee(re,J,oe,ne){var Y=S.getModel(ne?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Z=convertOptionIdName(S.get("name"),null),K=Y.getShallow("show");setLabelStyle(re,getLabelStatesModels(S,ne?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:K?Z:null,inheritColor:J,defaultOpacity:oe,labelFetcher:a,labelDataIndex:u.dataIndex});var Q=re.getTextContent();if(Q){var ie=Q.style,ae=normalizeCssArray$1(ie.padding||0);ne&&(re.setTextConfig({layoutRect:ne}),Q.disableLabelLayout=!0),Q.beforeUpdate=function(){var ue=Math.max((ne?ne.width:re.shape.width)-ae[1]-ae[3],0),he=Math.max((ne?ne.height:re.shape.height)-ae[0]-ae[2],0);(ie.width!==ue||ie.height!==he)&&Q.setStyle({width:ue,height:he})},ie.truncateMinChar=2,ie.lineOverflow="truncate",te(ie,ne,g);var ce=Q.getState("emphasis");te(ce?ce.style:null,ne,g)}}function te(re,J,oe){var ne=re?re.text:null;if(!J&&oe.isLeafRoot&&ne!=null){var Y=a.get("drillDownIcon",!0);re.text=Y?Y+" "+ne:ne}}function le(re,J,oe,ne){var Y=C!=null&&n[re][C],Z=s[re];return Y?(n[re][C]=null,fe(Z,Y)):T||(Y=new J,Y instanceof Displayable&&(Y.z2=calculateZ2(oe,ne)),q(Z,Y)),t[re][A]=Y}function fe(re,J){var oe=re[A]={};J instanceof Group$2?(oe.oldX=J.x,oe.oldY=J.y):oe.oldShape=extend({},J.shape)}function q(re,J){var oe=re[A]={},ne=u.parentNode,Y=J instanceof Group$3;if(ne&&(!o||o.direction==="drillDown")){var Z=0,K=0,Q=s.background[ne.getRawIndex()];!o&&Q&&Q.oldShape&&(Z=Q.oldShape.width,K=Q.oldShape.height),Y?(oe.oldX=0,oe.oldY=K):oe.oldShape={x:Z,y:K,width:0,height:0}}oe.fadein=!Y}}function calculateZ2(a,t){return a*Z2_BASE+t}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function a(t){var n=t.mappingMethod,o=t.type,s=this.option=clone$4(t);this.type=o,this.mappingMethod=n,this._normalizeData=normalizers[n];var l=a.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[n],n==="piecewise"?(normalizeVisualRange(s),preprocessForPiecewise(s)):n==="category"?s.categories?preprocessForSpecifiedCategory(s):normalizeVisualRange(s,!0):(assert(n!=="linear"||s.dataExtent),normalizeVisualRange(s))}return a.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},a.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},a.listVisualTypes=function(){return keys$1(a.visualHandlers)},a.isValidType=function(t){return a.visualHandlers.hasOwnProperty(t)},a.eachVisual=function(t,n,o){isObject$3(t)?each$f(t,n,o):n.call(o,t)},a.mapVisual=function(t,n,o){var s,l=isArray$2(t)?[]:isObject$3(t)?{}:(s=!0,null);return a.eachVisual(t,function(u,c){var f=n.call(o,u,c);s?l=f:l[c]=f}),l},a.retrieveVisuals=function(t){var n={},o;return t&&each$c(a.visualHandlers,function(s,l){t.hasOwnProperty(l)&&(n[l]=t[l],o=!0)}),o?n:null},a.prepareVisualTypes=function(t){if(isArray$2(t))t=t.slice();else if(isObject(t)){var n=[];each$c(t,function(o,s){n.push(s)}),t=n}else return[];return t.sort(function(o,s){return s==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),t},a.dependsOn=function(t,n){return n==="color"?!!(t&&t.indexOf(n)===0):t===n},a.findPieceIndex=function(t,n,o){for(var s,l=1/0,u=0,c=n.length;u<c;u++){var f=n[u].value;if(f!=null){if(f===t||isString(f)&&f===t+"")return u;o&&S(f,u)}}for(var u=0,c=n.length;u<c;u++){var d=n[u],g=d.interval,y=d.close;if(g){if(g[0]===-1/0){if(littleThan(y[1],t,g[1]))return u}else if(g[1]===1/0){if(littleThan(y[0],g[0],t))return u}else if(littleThan(y[0],g[0],t)&&littleThan(y[1],t,g[1]))return u;o&&S(g[0],u),o&&S(g[1],u)}}if(o)return t===1/0?n.length-1:t===-1/0?0:s;function S(_,x){var b=Math.abs(_-t);b<l&&(l=b,s=x)}},a.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var t=this.option;return bind$1(t.mappingMethod==="category"?function(n,o){return!o&&(n=this._normalizeData(n)),doMapCategory.call(this,n)}:function(n,o,s){var l=!!s;return!o&&(n=this._normalizeData(n)),s=fastLerp(n,t.parsedVisual,s),l?s:stringify(s,"rgba")},this)},_normalizedToVisual:{linear:function(t){return stringify(fastLerp(t,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(t,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=stringify(fastLerp(t,this.option.parsedVisual),"rgba")),o},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,n)}),colorSaturation:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,n)}),colorLightness:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,null,n)}),colorAlpha:makePartialColorVisualHandler(function(t,n){return modifyAlpha(t,n)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(t,n,o){var s=this.mapValueToVisual(t);o("symbol",s)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(t,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=doMapToArray.call(this,t)),o},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},a}();function preprocessForPiecewise(a){var t=a.pieceList;a.hasSpecialVisual=!1,each$f(t,function(n,o){n.originIndex=o,n.visual!=null&&(a.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(a){var t=a.categories,n=a.categoryMap={},o=a.visual;if(each$c(t,function(u,c){n[u]=c}),!isArray$2(o)){var s=[];isObject$3(o)?each$c(o,function(u,c){var f=n[c];s[f??CATEGORY_DEFAULT_VISUAL_INDEX]=u}):s[CATEGORY_DEFAULT_VISUAL_INDEX]=o,o=setVisualToOption(a,s)}for(var l=t.length-1;l>=0;l--)o[l]==null&&(delete n[t[l]],t.pop())}function normalizeVisualRange(a,t){var n=a.visual,o=[];isObject$3(n)?each$c(n,function(l){o.push(l)}):n!=null&&o.push(n);var s={color:1,symbol:1};!t&&o.length===1&&!s.hasOwnProperty(a.type)&&(o[1]=o[0]),setVisualToOption(a,o)}function makePartialColorVisualHandler(a){return{applyVisual:function(t,n,o){var s=this.mapValueToVisual(t);o("color",a(n("color"),s))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(a){var t=this.option.visual;return t[Math.round(linearMap$2(a,[0,1],[0,t.length-1],!0))]||{}}function makeApplyVisual(a){return function(t,n,o){o(a,this.mapValueToVisual(t))}}function doMapCategory(a){var t=this.option.visual;return t[this.option.loop&&a!==CATEGORY_DEFAULT_VISUAL_INDEX?a%t.length:a]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(a){return{linear:function(t){return linearMap$2(t,a,this.option.visual,!0)},category:doMapCategory,piecewise:function(t,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=linearMap$2(t,a,this.option.visual,!0)),o},fixed:doMapFixed}}function getSpecifiedVisual(a){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var o=VisualMapping.findPieceIndex(a,n),s=n[o];if(s&&s.visual)return s.visual[this.type]}}function setVisualToOption(a,t){return a.visual=t,a.type==="color"&&(a.parsedVisual=map$1(t,function(n){var o=parse(n);return o||[0,0,0,1]})),t}var normalizers={linear:function(a){return linearMap$2(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var t=this.option.pieceList,n=VisualMapping.findPieceIndex(a,t,!0);if(n!=null)return linearMap$2(n,[0,t.length-1],[0,1],!0)},category:function(a){var t=this.option.categories?this.option.categoryMap[a]:a;return t??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop$2};function littleThan(a,t,n){return a?t<=n:t<n}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(a){var t=a.getData().tree,n=t.root;n.isRemoved()||travelTree(n,{},a.getViewRoot().getAncestors(),a)}};function travelTree(a,t,n,o){var s=a.getModel(),l=a.getLayout(),u=a.hostTree.data;if(!(!l||l.invisible||!l.isInView)){var c=s.getModel(ITEM_STYLE_NORMAL),f=buildVisuals(c,t,o),d=u.ensureUniqueItemVisual(a.dataIndex,"style"),g=c.get("borderColor"),y=c.get("borderColorSaturation"),S;y!=null&&(S=calculateColor(f),g=calculateBorderColor(y,S)),d.stroke=g;var _=a.viewChildren;if(!_||!_.length)S=calculateColor(f),d.fill=S;else{var x=buildVisualMapping(a,s,l,c,f,_);each$f(_,function(b,T){if(b.depth>=n.length||b===n[b.depth]){var A=mapVisual$1(s,f,b,T,x,o);travelTree(b,A,n,o)}})}}}function buildVisuals(a,t,n){var o=extend({},t),s=n.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(l){s[l]=t[l];var u=a.get(l);s[l]=null,u!=null&&(o[l]=u)}),o}function calculateColor(a){var t=getValueVisualDefine(a,"color");if(t){var n=getValueVisualDefine(a,"colorAlpha"),o=getValueVisualDefine(a,"colorSaturation");return o&&(t=modifyHSL(t,null,null,o)),n&&(t=modifyAlpha(t,n)),t}}function calculateBorderColor(a,t){return t!=null?modifyHSL(t,null,null,a):null}function getValueVisualDefine(a,t){var n=a[t];if(n!=null&&n!=="none")return n}function buildVisualMapping(a,t,n,o,s,l){if(!(!l||!l.length)){var u=getRangeVisual(t,"color")||s.color!=null&&s.color!=="none"&&(getRangeVisual(t,"colorAlpha")||getRangeVisual(t,"colorSaturation"));if(u){var c=t.get("visualMin"),f=t.get("visualMax"),d=n.dataExtent.slice();c!=null&&c<d[0]&&(d[0]=c),f!=null&&f>d[1]&&(d[1]=f);var g=t.get("colorMappingBy"),y={type:u.name,dataExtent:d,visual:u.range};y.type==="color"&&(g==="index"||g==="id")?(y.mappingMethod="category",y.loop=!0):y.mappingMethod="linear";var S=new VisualMapping(y);return inner$c(S).drColorMappingBy=g,S}}}function getRangeVisual(a,t){var n=a.get(t);return isArray$2(n)&&n.length?{name:t,range:n}:null}function mapVisual$1(a,t,n,o,s,l){var u=extend({},t);if(s){var c=s.type,f=c==="color"&&inner$c(s).drColorMappingBy,d=f==="index"?o:f==="id"?l.mapIdToIndex(n.getId()):n.getValue(a.get("visualDimension"));u[c]=s.mapValueToVisual(d)}return u}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(a,t,n,o){var s=n.getWidth(),l=n.getHeight(),u=a.option,c=getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),f=u.size||[],d=parsePercent(retrieveValue(c.width,f[0]),s),g=parsePercent(retrieveValue(c.height,f[1]),l),y=o&&o.type,S=["treemapZoomToNode","treemapRootToNode"],_=retrieveTargetInfo(o,S,a),x=y==="treemapRender"||y==="treemapMove"?o.rootRect:null,b=a.getViewRoot(),T=getPathToRoot(b);if(y!=="treemapMove"){var A=y==="treemapZoomToNode"?estimateRootSize(a,_,b,d,g):x?[x.width,x.height]:[d,g],C=u.sort;C&&C!=="asc"&&C!=="desc"&&(C="desc");var E={squareRatio:u.squareRatio,sort:C,leafDepth:u.leafDepth};b.hostTree.clearLayouts();var P={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};b.setLayout(P),squarify(b,E,!1,0),P=b.getLayout(),each$b(T,function(I,D){var L=(T[D+1]||b).getValue();I.setLayout(extend({dataExtent:[L,L],borderWidth:0,upperHeight:0},P))})}var M=a.getData().tree.root;M.setLayout(calculateRootPosition(c,x,_),!0),a.setLayoutInfo(c),prunning(M,new BoundingRect(-c.x,-c.y,s,l),T,b,0)}};function squarify(a,t,n,o){var s,l;if(!a.isRemoved()){var u=a.getLayout();s=u.width,l=u.height;var c=a.getModel(),f=c.get(PATH_BORDER_WIDTH),d=c.get(PATH_GAP_WIDTH)/2,g=getUpperLabelHeight(c),y=Math.max(f,g),S=f-d,_=y-d;a.setLayout({borderWidth:f,upperHeight:y,upperLabelHeight:g},!0),s=mathMax$3(s-2*S,0),l=mathMax$3(l-S-_,0);var x=s*l,b=initChildren$1(a,c,x,t,n,o);if(b.length){var T={x:S,y:_,width:s,height:l},A=mathMin$3(s,l),C=1/0,E=[];E.area=0;for(var P=0,M=b.length;P<M;){var I=b[P];E.push(I),E.area+=I.getLayout().area;var D=worst(E,A,t.squareRatio);D<=C?(P++,C=D):(E.area-=E.pop().getLayout().area,position(E,A,T,d,!1),A=mathMin$3(T.width,T.height),E.length=E.area=0,C=1/0)}if(E.length&&position(E,A,T,d,!0),!n){var L=c.get("childrenVisibleMin");L!=null&&x<L&&(n=!0)}for(var P=0,M=b.length;P<M;P++)squarify(b[P],t,n,o+1)}}}function initChildren$1(a,t,n,o,s,l){var u=a.children||[],c=o.sort;c!=="asc"&&c!=="desc"&&(c=null);var f=o.leafDepth!=null&&o.leafDepth<=l;if(s&&!f)return a.viewChildren=[];u=filter$1(u,function(_){return!_.isRemoved()}),sort$1(u,c);var d=statistic(t,u,c);if(d.sum===0)return a.viewChildren=[];if(d.sum=filterByThreshold(t,n,d.sum,c,u),d.sum===0)return a.viewChildren=[];for(var g=0,y=u.length;g<y;g++){var S=u[g].getValue()/d.sum*n;u[g].setLayout({area:S})}return f&&(u.length&&a.setLayout({isLeafRoot:!0},!0),u.length=0),a.viewChildren=u,a.setLayout({dataExtent:d.dataExtent},!0),u}function filterByThreshold(a,t,n,o,s){if(!o)return n;for(var l=a.get("visibleMin"),u=s.length,c=u,f=u-1;f>=0;f--){var d=s[o==="asc"?u-f-1:f].getValue();d/n*t<l&&(c=f,n-=d)}return o==="asc"?s.splice(0,u-c):s.splice(c,u-c),n}function sort$1(a,t){return t&&a.sort(function(n,o){var s=t==="asc"?n.getValue()-o.getValue():o.getValue()-n.getValue();return s===0?t==="asc"?n.dataIndex-o.dataIndex:o.dataIndex-n.dataIndex:s}),a}function statistic(a,t,n){for(var o=0,s=0,l=t.length;s<l;s++)o+=t[s].getValue();var u=a.get("visualDimension"),c;return!t||!t.length?c=[NaN,NaN]:u==="value"&&n?(c=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&c.reverse()):(c=[1/0,-1/0],each$b(t,function(f){var d=f.getValue(u);d<c[0]&&(c[0]=d),d>c[1]&&(c[1]=d)})),{sum:o,dataExtent:c}}function worst(a,t,n){for(var o=0,s=1/0,l=0,u=void 0,c=a.length;l<c;l++)u=a[l].getLayout().area,u&&(u<s&&(s=u),u>o&&(o=u));var f=a.area*a.area,d=t*t*n;return f?mathMax$3(d*o/f,f/(d*s)):1/0}function position(a,t,n,o,s){var l=t===n.width?0:1,u=1-l,c=["x","y"],f=["width","height"],d=n[c[l]],g=t?a.area/t:0;(s||g>n[f[u]])&&(g=n[f[u]]);for(var y=0,S=a.length;y<S;y++){var _=a[y],x={},b=g?_.getLayout().area/g:0,T=x[f[u]]=mathMax$3(g-2*o,0),A=n[c[l]]+n[f[l]]-d,C=y===S-1||A<b?A:b,E=x[f[l]]=mathMax$3(C-2*o,0);x[c[u]]=n[c[u]]+mathMin$3(o,T/2),x[c[l]]=d+mathMin$3(o,E/2),d+=C,_.setLayout(x,!0)}n[c[u]]+=g,n[f[u]]-=g}function estimateRootSize(a,t,n,o,s){var l=(t||{}).node,u=[o,s];if(!l||l===n)return u;for(var c,f=o*s,d=f*a.option.zoomToNodeRatio;c=l.parentNode;){for(var g=0,y=c.children,S=0,_=y.length;S<_;S++)g+=y[S].getValue();var x=l.getValue();if(x===0)return u;d*=g/x;var b=c.getModel(),T=b.get(PATH_BORDER_WIDTH),A=Math.max(T,getUpperLabelHeight(b));d+=4*T*T+(3*T+A)*Math.pow(d,.5),d>MAX_SAFE_INTEGER&&(d=MAX_SAFE_INTEGER),l=c}d<f&&(d=f);var C=Math.pow(d/f,.5);return[o*C,s*C]}function calculateRootPosition(a,t,n){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!n)return o;var s=n.node,l=s.getLayout();if(!l)return o;for(var u=[l.width/2,l.height/2],c=s;c;){var f=c.getLayout();u[0]+=f.x,u[1]+=f.y,c=c.parentNode}return{x:a.width/2-u[0],y:a.height/2-u[1]}}function prunning(a,t,n,o,s){var l=a.getLayout(),u=n[s],c=u&&u===a;if(!(u&&!c||s===n.length&&a!==o)){a.setLayout({isInView:!0,invisible:!c&&!t.intersect(l),isAboveViewRoot:c},!0);var f=new BoundingRect(t.x-l.x,t.y-l.y,t.width,t.height);each$b(a.viewChildren||[],function(d){prunning(d,f,n,o,s+1)})}}function getUpperLabelHeight(a){return a.get(PATH_UPPER_LABEL_SHOW)?a.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(a){a.registerSeriesModel(TreemapSeriesModel),a.registerChartView(TreemapView),a.registerVisual(treemapVisual),a.registerLayout(treemapLayout),installTreemapAction(a)}function categoryFilter(a){var t=a.findComponents({mainType:"legend"});!t||!t.length||a.eachSeriesByType("graph",function(n){var o=n.getCategoriesData(),s=n.getGraph(),l=s.data,u=o.mapArray(o.getName);l.filterSelf(function(c){var f=l.getItemModel(c),d=f.getShallow("category");if(d!=null){isNumber$2(d)&&(d=u[d]);for(var g=0;g<t.length;g++)if(!t[g].isSelected(d))return!1}return!0})})}function categoryVisual(a){var t={};a.eachSeriesByType("graph",function(n){var o=n.getCategoriesData(),s=n.getData(),l={};o.each(function(u){var c=o.getName(u);l["ec-"+c]=u;var f=o.getItemModel(u),d=f.getModel("itemStyle").getItemStyle();d.fill||(d.fill=n.getColorFromPalette(c,t)),o.setItemVisual(u,"style",d);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var S=f.getShallow(g[y],!0);S!=null&&o.setItemVisual(u,g[y],S)}}),o.count()&&s.each(function(u){var c=s.getItemModel(u),f=c.getShallow("category");if(f!=null){isString(f)&&(f=l["ec-"+f]);var d=o.getItemVisual(f,"style"),g=s.ensureUniqueItemVisual(u,"style");extend(g,d);for(var y=["symbol","symbolSize","symbolKeepAspect"],S=0;S<y.length;S++)s.setItemVisual(u,y[S],o.getItemVisual(f,y[S]))}})})}function normalize$1(a){return a instanceof Array||(a=[a,a]),a}function graphEdgeVisual(a){a.eachSeriesByType("graph",function(t){var n=t.getGraph(),o=t.getEdgeData(),s=normalize$1(t.get("edgeSymbol")),l=normalize$1(t.get("edgeSymbolSize"));o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",l&&l[0]),o.setVisual("toSymbolSize",l&&l[1]),o.setVisual("style",t.getModel("lineStyle").getLineStyle()),o.each(function(u){var c=o.getItemModel(u),f=n.getEdgeByIndex(u),d=normalize$1(c.getShallow("symbol",!0)),g=normalize$1(c.getShallow("symbolSize",!0)),y=c.getModel("lineStyle").getLineStyle(),S=o.ensureUniqueItemVisual(u,"style");switch(extend(S,y),S.stroke){case"source":{var _=f.node1.getVisual("style");S.stroke=_&&_.fill;break}case"target":{var _=f.node2.getVisual("style");S.stroke=_&&_.fill;break}}d[0]&&f.setVisual("fromSymbol",d[0]),d[1]&&f.setVisual("toSymbol",d[1]),g[0]&&f.setVisual("fromSymbolSize",g[0]),g[1]&&f.setVisual("toSymbolSize",g[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(a){return a.get("autoCurveness")||null},createCurveness=function(a,t){var n=getAutoCurvenessParams(a),o=20,s=[];if(isNumber$2(n))o=n;else if(isArray$2(n)){a.__curvenessList=n;return}t>o&&(o=t);var l=o%2?o+2:o+3;s=[];for(var u=0;u<l;u++)s.push((u%2?u+1:u)/10*(u%2?-1:1));a.__curvenessList=s},getKeyOfEdges=function(a,t,n){var o=[a.id,a.dataIndex].join("."),s=[t.id,t.dataIndex].join(".");return[n.uid,o,s].join(KEY_DELIMITER)},getOppositeKey=function(a){var t=a.split(KEY_DELIMITER);return[t[0],t[2],t[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(a,t){var n=getKeyOfEdges(a.node1,a.node2,t);return t.__edgeMap[n]},getTotalLengthBetweenNodes=function(a,t){var n=getEdgeMapLengthWithKey(getKeyOfEdges(a.node1,a.node2,t),t),o=getEdgeMapLengthWithKey(getKeyOfEdges(a.node2,a.node1,t),t);return n+o},getEdgeMapLengthWithKey=function(a,t){var n=t.__edgeMap;return n[a]?n[a].length:0};function initCurvenessList(a){getAutoCurvenessParams(a)&&(a.__curvenessList=[],a.__edgeMap={},createCurveness(a))}function createEdgeMapForCurveness(a,t,n,o){if(getAutoCurvenessParams(n)){var s=getKeyOfEdges(a,t,n),l=n.__edgeMap,u=l[getOppositeKey(s)];l[s]&&!u?l[s].isForward=!0:u&&l[s]&&(u.isForward=!0,l[s].isForward=!1),l[s]=l[s]||[],l[s].push(o)}}function getCurvenessForEdge(a,t,n,o){var s=getAutoCurvenessParams(t),l=isArray$2(s);if(!s)return null;var u=getEdgeFromMap(a,t);if(!u)return null;for(var c=-1,f=0;f<u.length;f++)if(u[f]===n){c=f;break}var d=getTotalLengthBetweenNodes(a,t);createCurveness(t,d),a.lineStyle=a.lineStyle||{};var g=getKeyOfEdges(a.node1,a.node2,t),y=t.__curvenessList,S=l||d%2?0:1;if(u.isForward)return y[S+c];var _=getOppositeKey(g),x=getEdgeMapLengthWithKey(_,t),b=y[c+x+S];return o?l?s&&s[0]===0?(x+S)%2?b:-b:((x%2?0:1)+S)%2?b:-b:(x+S)%2?b:-b:y[c+x+S]}function simpleLayout(a){var t=a.coordinateSystem;if(!(t&&t.type!=="view")){var n=a.getGraph();n.eachNode(function(o){var s=o.getModel();o.setLayout([+s.get("x"),+s.get("y")])}),simpleLayoutEdge(n,a)}}function simpleLayoutEdge(a,t){a.eachEdge(function(n,o){var s=retrieve3(n.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(n,t,o,!0),0),l=clone$3(n.node1.getLayout()),u=clone$3(n.node2.getLayout()),c=[l,u];+s&&c.push([(l[0]+u[0])/2-(l[1]-u[1])*s,(l[1]+u[1])/2-(u[0]-l[0])*s]),n.setLayout(c)})}function graphSimpleLayout(a,t){a.eachSeriesByType("graph",function(n){var o=n.get("layout"),s=n.coordinateSystem;if(s&&s.type!=="view"){var l=n.getData(),u=[];each$f(s.dimensions,function(S){u=u.concat(l.mapDimensionsAll(S))});for(var c=0;c<l.count();c++){for(var f=[],d=!1,g=0;g<u.length;g++){var y=l.get(u[g],c);isNaN(y)||(d=!0),f.push(y)}d?l.setItemLayout(c,s.dataToPoint(f)):l.setItemLayout(c,[NaN,NaN])}simpleLayoutEdge(l.graph,n)}else(!o||o==="none")&&simpleLayout(n)})}function getNodeGlobalScale(a){var t=a.coordinateSystem;if(t.type!=="view")return 1;var n=a.option.nodeScaleRatio,o=t.scaleX,s=t.getZoom(),l=(s-1)*n+1;return l/o}function getSymbolSize(a){var t=a.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(a,t,n,o){var s=a.coordinateSystem;if(!(s&&s.type!=="view")){var l=s.getBoundingRect(),u=a.getData(),c=u.graph,f=l.width/2+l.x,d=l.height/2+l.y,g=Math.min(l.width,l.height)/2,y=u.count();if(u.setLayout({cx:f,cy:d}),!!y){if(n){var S=s.pointToData(o),_=S[0],x=S[1],b=[_-f,x-d];normalize$3(b,b),scale$3(b,b,g),n.setLayout([f+b[0],d+b[1]],!0);var T=a.get(["circular","rotateLabel"]);rotateNodeLabel(n,T,f,d)}_layoutNodesBasedOn[t](a,c,u,g,f,d,y),c.eachEdge(function(A,C){var E=retrieve3(A.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(A,a,C),0),P=clone$3(A.node1.getLayout()),M=clone$3(A.node2.getLayout()),I,D=(P[0]+M[0])/2,L=(P[1]+M[1])/2;+E&&(E*=3,I=[f*E+D*(1-E),d*E+L*(1-E)]),A.setLayout([P,M,I])})}}}var _layoutNodesBasedOn={value:function(a,t,n,o,s,l,u){var c=0,f=n.getSum("value"),d=Math.PI*2/(f||u);t.eachNode(function(g){var y=g.getValue("value"),S=d*(f?y:1)/2;c+=S,g.setLayout([o*Math.cos(c)+s,o*Math.sin(c)+l]),c+=S})},symbolSize:function(a,t,n,o,s,l,u){var c=0;_symbolRadiansHalf.length=u;var f=getNodeGlobalScale(a);t.eachNode(function(y){var S=getSymbolSize(y);isNaN(S)&&(S=2),S<0&&(S=0),S*=f;var _=Math.asin(S/2/o);isNaN(_)&&(_=PI$2/2),_symbolRadiansHalf[y.dataIndex]=_,c+=_*2});var d=(2*PI$2-c)/u/2,g=0;t.eachNode(function(y){var S=d+_symbolRadiansHalf[y.dataIndex];g+=S,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([o*Math.cos(g)+s,o*Math.sin(g)+l]),g+=S})}};function rotateNodeLabel(a,t,n,o){var s=a.getGraphicEl();if(s){var l=a.getModel(),u=l.get(["label","rotate"])||0,c=s.getSymbolPath();if(t){var f=a.getLayout(),d=Math.atan2(f[1]-o,f[0]-n);d<0&&(d=Math.PI*2+d);var g=f[0]<n;g&&(d=d-Math.PI);var y=g?"left":"right";c.setTextConfig({rotation:-d,position:y,origin:"center"});var S=c.ensureState("emphasis");extend(S.textConfig||(S.textConfig={}),{position:y})}else c.setTextConfig({rotation:u*=Math.PI/180})}}function graphCircularLayout(a){a.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&circularLayout(t,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(a,t,n){for(var o=a,s=t,l=n.rect,u=l.width,c=l.height,f=[l.x+u/2,l.y+c/2],d=n.gravity==null?.1:n.gravity,g=0;g<o.length;g++){var y=o[g];y.p||(y.p=create$2(u*(Math.random()-.5)+f[0],c*(Math.random()-.5)+f[1])),y.pp=clone$3(y.p),y.edges=null}var S=n.friction==null?.6:n.friction,_=S,x,b;return{warmUp:function(){_=S*.8},setFixed:function(T){o[T].fixed=!0},setUnfixed:function(T){o[T].fixed=!1},beforeStep:function(T){x=T},afterStep:function(T){b=T},step:function(T){x&&x(o,s);for(var A=[],C=o.length,E=0;E<s.length;E++){var P=s[E];if(!P.ignoreForceLayout){var M=P.n1,I=P.n2;sub(A,I.p,M.p);var D=len(A)-P.d,L=I.w/(M.w+I.w);isNaN(L)&&(L=0),normalize$3(A,A),!M.fixed&&scaleAndAdd(M.p,M.p,A,L*D*_),!I.fixed&&scaleAndAdd(I.p,I.p,A,-(1-L)*D*_)}}for(var E=0;E<C;E++){var $=o[E];$.fixed||(sub(A,f,$.p),scaleAndAdd($.p,$.p,A,d*_))}for(var E=0;E<C;E++)for(var M=o[E],O=E+1;O<C;O++){var I=o[O];sub(A,I.p,M.p);var D=len(A);D===0&&(set$1(A,Math.random()-.5,Math.random()-.5),D=1);var V=(M.rep+I.rep)/D/D;!M.fixed&&scaleAndAdd(M.pp,M.pp,A,V),!I.fixed&&scaleAndAdd(I.pp,I.pp,A,-V)}for(var F=[],E=0;E<C;E++){var $=o[E];$.fixed||(sub(F,$.p,$.pp),scaleAndAdd($.p,$.p,F,_),copy$1($.pp,$.p))}_=_*.992;var z=_<.01;b&&b(o,s,z),T&&T(z)}}}function graphForceLayout(a){a.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view"))if(t.get("layout")==="force"){var o=t.preservedPoints||{},s=t.getGraph(),l=s.data,u=s.edgeData,c=t.getModel("force"),f=c.get("initLayout");t.preservedPoints?l.each(function(E){var P=l.getId(E);l.setItemLayout(E,o[P]||[NaN,NaN])}):!f||f==="none"?simpleLayout(t):f==="circular"&&circularLayout(t,"value");var d=l.getDataExtent("value"),g=u.getDataExtent("value"),y=c.get("repulsion"),S=c.get("edgeLength"),_=isArray$2(y)?y:[y,y],x=isArray$2(S)?S:[S,S];x=[x[1],x[0]];var b=l.mapArray("value",function(E,P){var M=l.getItemLayout(P),I=linearMap$2(E,d,_);return isNaN(I)&&(I=(_[0]+_[1])/2),{w:I,rep:I,fixed:l.getItemModel(P).get("fixed"),p:!M||isNaN(M[0])||isNaN(M[1])?null:M}}),T=u.mapArray("value",function(E,P){var M=s.getEdgeByIndex(P),I=linearMap$2(E,g,x);isNaN(I)&&(I=(x[0]+x[1])/2);var D=M.getModel(),L=retrieve3(M.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(M,t,P,!0),0);return{n1:b[M.node1.dataIndex],n2:b[M.node2.dataIndex],d:I,curveness:L,ignoreForceLayout:D.get("ignoreForceLayout")}}),A=n.getBoundingRect(),C=forceLayout(b,T,{rect:A,gravity:c.get("gravity"),friction:c.get("friction")});C.beforeStep(function(E,P){for(var M=0,I=E.length;M<I;M++)E[M].fixed&&copy$1(E[M].p,s.getNodeByIndex(M).getLayout())}),C.afterStep(function(E,P,M){for(var I=0,D=E.length;I<D;I++)E[I].fixed||s.getNodeByIndex(I).setLayout(E[I].p),o[l.getId(I)]=E[I].p;for(var I=0,D=P.length;I<D;I++){var L=P[I],$=s.getEdgeByIndex(I),O=L.n1.p,V=L.n2.p,F=$.getLayout();F=F?F.slice():[],F[0]=F[0]||[],F[1]=F[1]||[],copy$1(F[0],O),copy$1(F[1],V),+L.curveness&&(F[2]=[(O[0]+V[0])/2-(O[1]-V[1])*L.curveness,(O[1]+V[1])/2-(V[0]-O[0])*L.curveness]),$.setLayout(F)}}),t.forceLayout=C,t.preservedPoints=o,C.step()}else t.forceLayout=null})}function getViewRect$3(a,t,n){var o=extend(a.getBoxLayoutParams(),{aspect:n});return getLayoutRect(o,{width:t.getWidth(),height:t.getHeight()})}function createViewCoordSys(a,t){var n=[];return a.eachSeriesByType("graph",function(o){var s=o.get("coordinateSystem");if(!s||s==="view"){var l=o.getData(),u=l.mapArray(function(T){var A=l.getItemModel(T);return[+A.get("x"),+A.get("y")]}),c=[],f=[];fromPoints(u,c,f),f[0]-c[0]===0&&(f[0]+=1,c[0]-=1),f[1]-c[1]===0&&(f[1]+=1,c[1]-=1);var d=(f[0]-c[0])/(f[1]-c[1]),g=getViewRect$3(o,t,d);isNaN(d)&&(c=[g.x,g.y],f=[g.x+g.width,g.y+g.height]);var y=f[0]-c[0],S=f[1]-c[1],_=g.width,x=g.height,b=o.coordinateSystem=new View;b.zoomLimit=o.get("scaleLimit"),b.setBoundingRect(c[0],c[1],y,S),b.setViewRect(g.x,g.y,_,x),b.setCenter(o.get("center"),t),b.setZoom(o.get("zoom")),n.push(b)}}),n}var straightLineProto=Line$1.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}();(function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t})(StraightLineShape);function isStraightLine(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var ECLinePath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="ec-line",o}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new StraightLineShape},t.prototype.buildPath=function(n,o){isStraightLine(o)?straightLineProto.buildPath.call(this,n,o):bezierCurveProto.buildPath.call(this,n,o)},t.prototype.pointAt=function(n){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,n):bezierCurveProto.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var o=this.shape,s=isStraightLine(o)?[o.x2-o.x1,o.y2-o.y1]:bezierCurveProto.tangentAt.call(this,n);return normalize$3(s,s)},t}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(a){return"_"+a+"Type"}function makeSymbolTypeValue(a,t,n){var o=t.getItemVisual(n,a);if(!o||o==="none")return o;var s=t.getItemVisual(n,a+"Size"),l=t.getItemVisual(n,a+"Rotate"),u=t.getItemVisual(n,a+"Offset"),c=t.getItemVisual(n,a+"KeepAspect"),f=normalizeSymbolSize(s),d=normalizeSymbolOffset(u||0,f);return o+f+d+(l||"")+(c||"")}function createSymbol(a,t,n){var o=t.getItemVisual(n,a);if(!(!o||o==="none")){var s=t.getItemVisual(n,a+"Size"),l=t.getItemVisual(n,a+"Rotate"),u=t.getItemVisual(n,a+"Offset"),c=t.getItemVisual(n,a+"KeepAspect"),f=normalizeSymbolSize(s),d=normalizeSymbolOffset(u||0,f),g=createSymbol$1(o,-f[0]/2+d[0],-f[1]/2+d[1],f[0],f[1],null,c);return g.__specifiedRotation=l==null||isNaN(l)?void 0:+l*Math.PI/180||0,g.name=a,g}}function createLine(a){var t=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(t.shape,a),t}function setLinePoints(a,t){a.x1=t[0][0],a.y1=t[0][1],a.x2=t[1][0],a.y2=t[1][1],a.percent=1;var n=t[2];n?(a.cpx1=n[0],a.cpy1=n[1]):(a.cpx1=NaN,a.cpy1=NaN)}var Line=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this)||this;return l._createLine(n,o,s),l}return t.prototype._createLine=function(n,o,s){var l=n.hostModel,u=n.getItemLayout(o),c=createLine(u);c.shape.percent=0,initProps(c,{shape:{percent:1}},l,o),this.add(c),each$f(SYMBOL_CATEGORIES,function(f){var d=createSymbol(f,n,o);this.add(d),this[makeSymbolTypeKey(f)]=makeSymbolTypeValue(f,n,o)},this),this._updateCommonStl(n,o,s)},t.prototype.updateData=function(n,o,s){var l=n.hostModel,u=this.childOfName("line"),c=n.getItemLayout(o),f={shape:{}};setLinePoints(f.shape,c),updateProps$1(u,f,l,o),each$f(SYMBOL_CATEGORIES,function(d){var g=makeSymbolTypeValue(d,n,o),y=makeSymbolTypeKey(d);if(this[y]!==g){this.remove(this.childOfName(d));var S=createSymbol(d,n,o);this.add(S)}this[y]=g},this),this._updateCommonStl(n,o,s)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,o,s){var l=n.hostModel,u=this.childOfName("line"),c=s&&s.emphasisLineStyle,f=s&&s.blurLineStyle,d=s&&s.selectLineStyle,g=s&&s.labelStatesModels,y=s&&s.emphasisDisabled,S=s&&s.focus,_=s&&s.blurScope;if(!s||n.hasItemOption){var x=n.getItemModel(o),b=x.getModel("emphasis");c=b.getModel("lineStyle").getLineStyle(),f=x.getModel(["blur","lineStyle"]).getLineStyle(),d=x.getModel(["select","lineStyle"]).getLineStyle(),y=b.get("disabled"),S=b.get("focus"),_=b.get("blurScope"),g=getLabelStatesModels(x)}var T=n.getItemVisual(o,"style"),A=T.stroke;u.useStyle(T),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=c,u.ensureState("blur").style=f,u.ensureState("select").style=d,each$f(SYMBOL_CATEGORIES,function(I){var D=this.childOfName(I);if(D){D.setColor(A),D.style.opacity=T.opacity;for(var L=0;L<SPECIAL_STATES.length;L++){var $=SPECIAL_STATES[L],O=u.getState($);if(O){var V=O.style||{},F=D.ensureState($),z=F.style||(F.style={});V.stroke!=null&&(z[D.__isEmptyBrush?"stroke":"fill"]=V.stroke),V.opacity!=null&&(z.opacity=V.opacity)}}D.markRedraw()}},this);var C=l.getRawValue(o);setLabelStyle(this,g,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(I,D){return l.getFormattedLabel(I,D,n.dataType)}},inheritColor:A||"#000",defaultOpacity:T.opacity,defaultText:(C==null?n.getName(o):isFinite(C)?round$3(C):C)+""});var E=this.getTextContent();if(E){var P=g.normal;E.__align=E.style.align,E.__verticalAlign=E.style.verticalAlign,E.__position=P.get("position")||"middle";var M=P.get("distance");isArray$2(M)||(M=[M,M]),E.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,S,_,y)},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t.prototype.updateLayout=function(n,o){this.setLinePoints(n.getItemLayout(o))},t.prototype.setLinePoints=function(n){var o=this.childOfName("line");setLinePoints(o.shape,n),o.dirty()},t.prototype.beforeUpdate=function(){var n=this,o=n.childOfName("fromSymbol"),s=n.childOfName("toSymbol"),l=n.getTextContent();if(!o&&!s&&(!l||l.ignore))return;for(var u=1,c=this.parent;c;)c.scaleX&&(u/=c.scaleX),c=c.parent;var f=n.childOfName("line");if(!this.__dirty&&!f.__dirty)return;var d=f.shape.percent,g=f.pointAt(0),y=f.pointAt(d),S=sub([],y,g);normalize$3(S,S);function _(O,V){var F=O.__specifiedRotation;if(F==null){var z=f.tangentAt(V);O.attr("rotation",(V===1?-1:1)*Math.PI/2-Math.atan2(z[1],z[0]))}else O.attr("rotation",F)}if(o&&(o.setPosition(g),_(o,0),o.scaleX=o.scaleY=u*d,o.markRedraw()),s&&(s.setPosition(y),_(s,1),s.scaleX=s.scaleY=u*d,s.markRedraw()),l&&!l.ignore){l.x=l.y=0,l.originX=l.originY=0;var x=void 0,b=void 0,T=l.__labelDistance,A=T[0]*u,C=T[1]*u,E=d/2,P=f.tangentAt(E),M=[P[1],-P[0]],I=f.pointAt(E);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var D=P[0]<0?-1:1;if(l.__position!=="start"&&l.__position!=="end"){var L=-Math.atan2(P[1],P[0]);y[0]<g[0]&&(L=Math.PI+L),l.rotation=L}var $=void 0;switch(l.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":$=-C,b="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":$=C,b="top";break;default:$=0,b="middle"}switch(l.__position){case"end":l.x=S[0]*A+y[0],l.y=S[1]*C+y[1],x=S[0]>.8?"left":S[0]<-.8?"right":"center",b=S[1]>.8?"top":S[1]<-.8?"bottom":"middle";break;case"start":l.x=-S[0]*A+g[0],l.y=-S[1]*C+g[1],x=S[0]>.8?"right":S[0]<-.8?"left":"center",b=S[1]>.8?"bottom":S[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":l.x=A*D+g[0],l.y=g[1]+$,x=P[0]<0?"right":"left",l.originX=-A*D,l.originY=-$;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":l.x=I[0],l.y=I[1]+$,x="center",l.originY=-$;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":l.x=-A*D+y[0],l.y=y[1]+$,x=P[0]>=0?"right":"left",l.originX=A*D,l.originY=-$;break}l.scaleX=l.scaleY=u,l.setStyle({verticalAlign:l.__verticalAlign||b,align:l.__align||x})}},t}(Group$3),LineDraw=function(){function a(t){this.group=new Group$3,this._LineCtor=t||Line}return a.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var o=this,s=o.group,l=o._lineData;o._lineData=t,l||s.removeAll();var u=makeSeriesScope$1(t);t.diff(l).add(function(c){n._doAdd(t,c,u)}).update(function(c,f){n._doUpdate(l,t,f,c,u)}).remove(function(c){s.remove(l.getItemGraphicEl(c))}).execute()},a.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,o){n.updateLayout(t,o)},this)},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$1(t),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function o(c){!c.isGroup&&!isEffectObject(c)&&(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var s=t.start;s<t.end;s++){var l=n.getItemLayout(s);if(lineNeedsDraw(l)){var u=new this._LineCtor(n,s,this._seriesScope);u.traverse(o),this.group.add(u),n.setItemGraphicEl(s,u),this._progressiveEls.push(u)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},a.prototype._doAdd=function(t,n,o){var s=t.getItemLayout(n);if(lineNeedsDraw(s)){var l=new this._LineCtor(t,n,o);t.setItemGraphicEl(n,l),this.group.add(l)}},a.prototype._doUpdate=function(t,n,o,s,l){var u=t.getItemGraphicEl(o);if(!lineNeedsDraw(n.getItemLayout(s))){this.group.remove(u);return}u?u.updateData(n,s,l):u=new this._LineCtor(n,s,l),n.setItemGraphicEl(s,u),this.group.add(u)},a}();function isEffectObject(a){return a.animators&&a.animators.length>0}function makeSeriesScope$1(a){var t=a.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:getLabelStatesModels(t)}}function isPointNaN(a){return isNaN(a[0])||isNaN(a[1])}function lineNeedsDraw(a){return a&&!isPointNaN(a[0])&&!isPointNaN(a[1])}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(a,t,n){for(var o=a[0],s=a[1],l=a[2],u=1/0,c,f=n*n,d=.1,g=.1;g<=.9;g+=.1){v1[0]=quadraticAt(o[0],s[0],l[0],g),v1[1]=quadraticAt(o[1],s[1],l[1],g);var y=mathAbs(v2DistSquare(v1,t)-f);y<u&&(u=y,c=g)}for(var S=0;S<32;S++){var _=c+d;v2[0]=quadraticAt(o[0],s[0],l[0],c),v2[1]=quadraticAt(o[1],s[1],l[1],c),v3[0]=quadraticAt(o[0],s[0],l[0],_),v3[1]=quadraticAt(o[1],s[1],l[1],_);var y=v2DistSquare(v2,t)-f;if(mathAbs(y)<.01)break;var x=v2DistSquare(v3,t)-f;d/=2,y<0?x>=0?c=c+d:c=c-d:x>=0?c=c-d:c=c+d}return c}function adjustEdge(a,t){var n=[],o=quadraticSubdivide,s=[[],[],[]],l=[[],[]],u=[];t/=2,a.eachEdge(function(c,f){var d=c.getLayout(),g=c.getVisual("fromSymbol"),y=c.getVisual("toSymbol");d.__original||(d.__original=[clone$3(d[0]),clone$3(d[1])],d[2]&&d.__original.push(clone$3(d[2])));var S=d.__original;if(d[2]!=null){if(copy$1(s[0],S[0]),copy$1(s[1],S[2]),copy$1(s[2],S[1]),g&&g!=="none"){var _=getSymbolSize(c.node1),x=intersectCurveCircle(s,S[0],_*t);o(s[0][0],s[1][0],s[2][0],x,n),s[0][0]=n[3],s[1][0]=n[4],o(s[0][1],s[1][1],s[2][1],x,n),s[0][1]=n[3],s[1][1]=n[4]}if(y&&y!=="none"){var _=getSymbolSize(c.node2),x=intersectCurveCircle(s,S[1],_*t);o(s[0][0],s[1][0],s[2][0],x,n),s[1][0]=n[1],s[2][0]=n[2],o(s[0][1],s[1][1],s[2][1],x,n),s[1][1]=n[1],s[2][1]=n[2]}copy$1(d[0],s[0]),copy$1(d[1],s[2]),copy$1(d[2],s[1])}else{if(copy$1(l[0],S[0]),copy$1(l[1],S[1]),sub(u,l[1],l[0]),normalize$3(u,u),g&&g!=="none"){var _=getSymbolSize(c.node1);scaleAndAdd$1(l[0],l[0],u,_*t)}if(y&&y!=="none"){var _=getSymbolSize(c.node2);scaleAndAdd$1(l[1],l[1],u,-_*t)}copy$1(d[0],l[0]),copy$1(d[1],l[1])}})}function isViewCoordSys(a){return a.type==="view"}var GraphView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o){var s=new SymbolDraw,l=new LineDraw,u=this.group;this._controller=new RoamController(o.getZr()),this._controllerHost={target:u},u.add(s.group),u.add(l.group),this._symbolDraw=s,this._lineDraw=l,this._firstRender=!0},t.prototype.render=function(n,o,s){var l=this,u=n.coordinateSystem;this._model=n;var c=this._symbolDraw,f=this._lineDraw,d=this.group;if(isViewCoordSys(u)){var g={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?d.attr(g):updateProps$1(d,g,n)}adjustEdge(n.getGraph(),getNodeGlobalScale(n));var y=n.getData();c.updateData(y);var S=n.getEdgeData();f.updateData(S),this._updateNodeAndLinkScale(),this._updateController(n,o,s),clearTimeout(this._layoutTimeout);var _=n.forceLayout,x=n.get(["force","layoutAnimation"]);_&&this._startForceLayoutIteration(_,x);var b=n.get("layout");y.graph.eachNode(function(E){var P=E.dataIndex,M=E.getGraphicEl(),I=E.getModel();if(M){M.off("drag").off("dragend");var D=I.get("draggable");D&&M.on("drag",function($){switch(b){case"force":_.warmUp(),!l._layouting&&l._startForceLayoutIteration(_,x),_.setFixed(P),y.setItemLayout(P,[M.x,M.y]);break;case"circular":y.setItemLayout(P,[M.x,M.y]),E.setLayout({fixed:!0},!0),circularLayout(n,"symbolSize",E,[$.offsetX,$.offsetY]),l.updateLayout(n);break;case"none":default:y.setItemLayout(P,[M.x,M.y]),simpleLayoutEdge(n.getGraph(),n),l.updateLayout(n);break}}).on("dragend",function(){_&&_.setUnfixed(P)}),M.setDraggable(D,!!I.get("cursor"));var L=I.get(["emphasis","focus"]);L==="adjacency"&&(getECData(M).focus=E.getAdjacentDataIndices())}}),y.graph.eachEdge(function(E){var P=E.getGraphicEl(),M=E.getModel().get(["emphasis","focus"]);P&&M==="adjacency"&&(getECData(P).focus={edge:[E.dataIndex],node:[E.node1.dataIndex,E.node2.dataIndex]})});var T=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),A=y.getLayout("cx"),C=y.getLayout("cy");y.graph.eachNode(function(E){rotateNodeLabel(E,T,A,C)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(n,o){var s=this;(function l(){n.step(function(u){s.updateLayout(s._model),(s._layouting=!u)&&(o?s._layoutTimeout=setTimeout(l,16):l())})})()},t.prototype._updateController=function(n,o,s){var l=this,u=this._controller,c=this._controllerHost,f=this.group;if(u.setPointerChecker(function(d,g,y){var S=f.getBoundingRect();return S.applyTransform(f.transform),S.contain(g,y)&&!onIrrelevantElement(d,s,n)}),!isViewCoordSys(n.coordinateSystem)){u.disable();return}u.enable(n.get("roam")),c.zoomLimit=n.get("scaleLimit"),c.zoom=n.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(d){updateViewOnPan(c,d.dx,d.dy),s.dispatchAction({seriesId:n.id,type:"graphRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){updateViewOnZoom(c,d.scale,d.originX,d.originY),s.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),l._updateNodeAndLinkScale(),adjustEdge(n.getGraph(),getNodeGlobalScale(n)),l._lineDraw.updateLayout(),s.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var n=this._model,o=n.getData(),s=getNodeGlobalScale(n);o.eachItemGraphicEl(function(l,u){l&&l.setSymbolScale(s)})},t.prototype.updateLayout=function(n){adjustEdge(n.getGraph(),getNodeGlobalScale(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ChartView);function generateNodeKey(a){return"_EC_"+a}var Graph=function(){function a(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var o=this._nodesMap;if(!o[generateNodeKey(t)]){var s=new GraphNode(t,n);return s.hostGraph=this,this.nodes.push(s),o[generateNodeKey(t)]=s,s}},a.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},a.prototype.getNodeById=function(t){return this._nodesMap[generateNodeKey(t)]},a.prototype.addEdge=function(t,n,o){var s=this._nodesMap,l=this._edgesMap;if(isNumber$2(t)&&(t=this.nodes[t]),isNumber$2(n)&&(n=this.nodes[n]),t instanceof GraphNode||(t=s[generateNodeKey(t)]),n instanceof GraphNode||(n=s[generateNodeKey(n)]),!(!t||!n)){var u=t.id+"-"+n.id,c=new GraphEdge(t,n,o);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),n.inEdges.push(c)),t.edges.push(c),t!==n&&n.edges.push(c),this.edges.push(c),l[u]=c,c}},a.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},a.prototype.getEdge=function(t,n){t instanceof GraphNode&&(t=t.id),n instanceof GraphNode&&(n=n.id);var o=this._edgesMap;return this._directed?o[t+"-"+n]:o[t+"-"+n]||o[n+"-"+t]},a.prototype.eachNode=function(t,n){for(var o=this.nodes,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&t.call(n,o[l],l)},a.prototype.eachEdge=function(t,n){for(var o=this.edges,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&t.call(n,o[l],l)},a.prototype.breadthFirstTraverse=function(t,n,o,s){if(n instanceof GraphNode||(n=this._nodesMap[generateNodeKey(n)]),!!n){for(var l=o==="out"?"outEdges":o==="in"?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!t.call(s,n,null))for(var c=[n];c.length;)for(var f=c.shift(),d=f[l],u=0;u<d.length;u++){var g=d[u],y=g.node1===f?g.node2:g.node1;if(!y.__visited){if(t.call(s,y,f))return;c.push(y),y.__visited=!0}}}},a.prototype.update=function(){for(var t=this.data,n=this.edgeData,o=this.nodes,s=this.edges,l=0,u=o.length;l<u;l++)o[l].dataIndex=-1;for(var l=0,u=t.count();l<u;l++)o[t.getRawIndex(l)].dataIndex=l;n.filterSelf(function(c){var f=s[n.getRawIndex(c)];return f.node1.dataIndex>=0&&f.node2.dataIndex>=0});for(var l=0,u=s.length;l<u;l++)s[l].dataIndex=-1;for(var l=0,u=n.count();l<u;l++)s[n.getRawIndex(l)].dataIndex=l},a.prototype.clone=function(){for(var t=new a(this._directed),n=this.nodes,o=this.edges,s=0;s<n.length;s++)t.addNode(n[s].id,n[s].dataIndex);for(var s=0;s<o.length;s++){var l=o[s];t.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return t},a}(),GraphNode=function(){function a(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=n??-1}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,o=n.data.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var o=this.edges[n];o.dataIndex<0||(t.edge.push(o.dataIndex),t.node.push(o.node1.dataIndex,o.node2.dataIndex))}return t},a.prototype.getTrajectoryDataIndices=function(){for(var t=createHashMap(),n=createHashMap(),o=0;o<this.edges.length;o++){var s=this.edges[o];if(!(s.dataIndex<0)){t.set(s.dataIndex,!0);for(var l=[s.node1],u=[s.node2],c=0;c<l.length;){var f=l[c];c++,n.set(f.dataIndex,!0);for(var d=0;d<f.inEdges.length;d++)t.set(f.inEdges[d].dataIndex,!0),l.push(f.inEdges[d].node1)}for(c=0;c<u.length;){var g=u[c];c++,n.set(g.dataIndex,!0);for(var d=0;d<g.outEdges.length;d++)t.set(g.outEdges[d].dataIndex,!0),u.push(g.outEdges[d].node2)}}}return{edge:t.keys(),node:n.keys()}},a}(),GraphEdge=function(){function a(t,n,o){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=o??-1}return a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,o=n.edgeData.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var t=createHashMap(),n=createHashMap();t.set(this.dataIndex,!0);for(var o=[this.node1],s=[this.node2],l=0;l<o.length;){var u=o[l];l++,n.set(u.dataIndex,!0);for(var c=0;c<u.inEdges.length;c++)t.set(u.inEdges[c].dataIndex,!0),o.push(u.inEdges[c].node1)}for(l=0;l<s.length;){var f=s[l];l++,n.set(f.dataIndex,!0);for(var c=0;c<f.outEdges.length;c++)t.set(f.outEdges[c].dataIndex,!0),s.push(f.outEdges[c].node2)}return{edge:t.keys(),node:n.keys()}},a}();function createGraphDataProxyMixin(a,t){return{getValue:function(n){var o=this[a][t];return o.getStore().get(o.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,o){this.dataIndex>=0&&this[a][t].setItemVisual(this.dataIndex,n,o)},getVisual:function(n){return this[a][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,o){this.dataIndex>=0&&this[a][t].setItemLayout(this.dataIndex,n,o)},getLayout:function(){return this[a][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][t].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(a,t,n,o,s){for(var l=new Graph(o),u=0;u<a.length;u++)l.addNode(retrieve(a[u].id,a[u].name,u),u);for(var c=[],f=[],d=0,u=0;u<t.length;u++){var g=t[u],y=g.source,S=g.target;l.addEdge(y,S,d)&&(f.push(g),c.push(retrieve(convertOptionIdName(g.id,null),y+" > "+S)),d++)}var _=n.get("coordinateSystem"),x;if(_==="cartesian2d"||_==="polar")x=createSeriesData(a,n);else{var b=CoordinateSystemManager.get(_),T=b?b.dimensions||[]:[];indexOf(T,"value")<0&&T.concat(["value"]);var A=prepareSeriesDataSchema(a,{coordDimensions:T,encodeDefine:n.getEncode()}).dimensions;x=new SeriesData(A,n),x.initData(a)}var C=new SeriesData(["value"],n);return C.initData(f,c),s&&s(x,C),linkSeriesData({mainData:x,struct:l,structAttr:"graph",datas:{node:x,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}var GraphSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){a.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new LegendVisualProvider(s,s),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(n){a.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(n,"edgeLabel",["show"])},t.prototype.getInitialData=function(n,o){var s=n.edges||n.links||[],l=n.data||n.nodes||[],u=this;if(l&&s){initCurvenessList(this);var c=createGraphFromNodeEdge(l,s,this,!0,f);return each$f(c.edges,function(d){createEdgeMapForCurveness(d.node1,d.node2,this,d.dataIndex)},this),c.data}function f(d,g){d.wrapMethod("getItemModel",function(x){var b=u._categoriesModels,T=x.getShallow("category"),A=b[T];return A&&(A.parentModel=x.parentModel,x.parentModel=A),x});var y=Model.prototype.getModel;function S(x,b){var T=y.call(this,x,b);return T.resolveParentPath=_,T}g.wrapMethod("getItemModel",function(x){return x.resolveParentPath=_,x.getModel=S,x});function _(x){if(x&&(x[0]==="label"||x[1]==="label")){var b=x.slice();return x[0]==="label"?b[0]="edgeLabel":x[1]==="label"&&(b[1]="edgeLabel"),b}return x}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(n,o,s){if(s==="edge"){var l=this.getData(),u=this.getDataParams(n,s),c=l.graph.getEdgeByIndex(n),f=l.getName(c.node1.dataIndex),d=l.getName(c.node2.dataIndex),g=[];return f!=null&&g.push(f),d!=null&&g.push(d),createTooltipMarkup("nameValue",{name:g.join(" > "),value:u.value,noValue:u.value==null})}var y=defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:o});return y},t.prototype._updateCategoriesData=function(){var n=map$1(this.option.categories||[],function(s){return s.value!=null?s:extend({value:0},s)}),o=new SeriesData(["value"],this);o.initData(n),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(a){a.registerChartView(GraphView),a.registerSeriesModel(GraphSeriesModel),a.registerProcessor(categoryFilter),a.registerVisual(categoryVisual),a.registerVisual(graphEdgeVisual),a.registerLayout(graphSimpleLayout),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),a.registerLayout(graphForceLayout),a.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop$2),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop$2),a.registerAction(actionInfo$1,function(t,n,o){n.eachComponent({mainType:"series",query:t},function(s){var l=s.coordinateSystem,u=updateCenterAndZoom(l,t,void 0,o);s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom)})})}var PointerShape=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),PointerPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="pointer",o}return t.prototype.getDefaultShape=function(){return new PointerShape},t.prototype.buildPath=function(n,o){var s=Math.cos,l=Math.sin,u=o.r,c=o.width,f=o.angle,d=o.x-s(f)*c*(c>=u/3?1:2),g=o.y-l(f)*c*(c>=u/3?1:2);f=o.angle-Math.PI/2,n.moveTo(d,g),n.lineTo(o.x+s(f)*c,o.y+l(f)*c),n.lineTo(o.x+s(o.angle)*u,o.y+l(o.angle)*u),n.lineTo(o.x-s(f)*c,o.y-l(f)*c),n.lineTo(d,g)},t}(Path);function parsePosition(a,t){var n=a.get("center"),o=t.getWidth(),s=t.getHeight(),l=Math.min(o,s),u=parsePercent(n[0],t.getWidth()),c=parsePercent(n[1],t.getHeight()),f=parsePercent(a.get("radius"),l/2);return{cx:u,cy:c,r:f}}function formatLabel(a,t){var n=a==null?"":a+"";return t&&(isString(t)?n=t.replace("{value}",n):isFunction(t)&&(n=t(a))),n}var GaugeView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){this.group.removeAll();var l=n.get(["axisLine","lineStyle","color"]),u=parsePosition(n,s);this._renderMain(n,o,s,l,u),this._data=n.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(n,o,s,l,u){var c=this.group,f=n.get("clockwise"),d=-n.get("startAngle")/180*Math.PI,g=-n.get("endAngle")/180*Math.PI,y=n.getModel("axisLine"),S=y.get("roundCap"),_=S?SausagePath:Sector,x=y.get("show"),b=y.getModel("lineStyle"),T=b.get("width"),A=[d,g];normalizeArcAngles(A,!f),d=A[0],g=A[1];for(var C=g-d,E=d,P=[],M=0;x&&M<l.length;M++){var I=Math.min(Math.max(l[M][0],0),1);g=d+C*I;var D=new _({shape:{startAngle:E,endAngle:g,cx:u.cx,cy:u.cy,clockwise:f,r0:u.r-T,r:u.r},silent:!0});D.setStyle({fill:l[M][1]}),D.setStyle(b.getLineStyle(["color","width"])),P.push(D),E=g}P.reverse(),each$f(P,function($){return c.add($)});var L=function($){if($<=0)return l[0][1];var O;for(O=0;O<l.length;O++)if(l[O][0]>=$&&(O===0?0:l[O-1][0])<$)return l[O][1];return l[O-1][1]};this._renderTicks(n,o,s,L,u,d,g,f,T),this._renderTitleAndDetail(n,o,s,L,u),this._renderAnchor(n,u),this._renderPointer(n,o,s,L,u,d,g,f,T)},t.prototype._renderTicks=function(n,o,s,l,u,c,f,d,g){for(var y=this.group,S=u.cx,_=u.cy,x=u.r,b=+n.get("min"),T=+n.get("max"),A=n.getModel("splitLine"),C=n.getModel("axisTick"),E=n.getModel("axisLabel"),P=n.get("splitNumber"),M=C.get("splitNumber"),I=parsePercent(A.get("length"),x),D=parsePercent(C.get("length"),x),L=c,$=(f-c)/P,O=$/M,V=A.getModel("lineStyle").getLineStyle(),F=C.getModel("lineStyle").getLineStyle(),z=A.get("distance"),U,H,N=0;N<=P;N++){if(U=Math.cos(L),H=Math.sin(L),A.get("show")){var G=z?z+g:g,R=new Line$1({shape:{x1:U*(x-G)+S,y1:H*(x-G)+_,x2:U*(x-I-G)+S,y2:H*(x-I-G)+_},style:V,silent:!0});V.stroke==="auto"&&R.setStyle({stroke:l(N/P)}),y.add(R)}if(E.get("show")){var G=E.get("distance")+z,B=formatLabel(round$3(N/P*(T-b)+b),E.get("formatter")),j=l(N/P),W=U*(x-I-G)+S,X=H*(x-I-G)+_,ee=E.get("rotate"),te=0;ee==="radial"?(te=-L+2*Math.PI,te>Math.PI/2&&(te+=Math.PI)):ee==="tangential"?te=-L-Math.PI/2:isNumber$2(ee)&&(te=ee*Math.PI/180),te===0?y.add(new ZRText({style:createTextStyle(E,{text:B,x:W,y:X,verticalAlign:H<-.8?"top":H>.8?"bottom":"middle",align:U<-.4?"left":U>.4?"right":"center"},{inheritColor:j}),silent:!0})):y.add(new ZRText({style:createTextStyle(E,{text:B,x:W,y:X,verticalAlign:"middle",align:"center"},{inheritColor:j}),silent:!0,originX:W,originY:X,rotation:te}))}if(C.get("show")&&N!==P){var G=C.get("distance");G=G?G+g:g;for(var le=0;le<=M;le++){U=Math.cos(L),H=Math.sin(L);var fe=new Line$1({shape:{x1:U*(x-G)+S,y1:H*(x-G)+_,x2:U*(x-D-G)+S,y2:H*(x-D-G)+_},silent:!0,style:F});F.stroke==="auto"&&fe.setStyle({stroke:l((N+le/M)/P)}),y.add(fe),L+=O}L-=O}else L+=$}},t.prototype._renderPointer=function(n,o,s,l,u,c,f,d,g){var y=this.group,S=this._data,_=this._progressEls,x=[],b=n.get(["pointer","show"]),T=n.getModel("progress"),A=T.get("show"),C=n.getData(),E=C.mapDimension("value"),P=+n.get("min"),M=+n.get("max"),I=[P,M],D=[c,f];function L(O,V){var F=C.getItemModel(O),z=F.getModel("pointer"),U=parsePercent(z.get("width"),u.r),H=parsePercent(z.get("length"),u.r),N=n.get(["pointer","icon"]),G=z.get("offsetCenter"),R=parsePercent(G[0],u.r),B=parsePercent(G[1],u.r),j=z.get("keepAspect"),W;return N?W=createSymbol$1(N,R-U/2,B-H,U,H,null,j):W=new PointerPath({shape:{angle:-Math.PI/2,width:U,r:H,x:R,y:B}}),W.rotation=-(V+Math.PI/2),W.x=u.cx,W.y=u.cy,W}function $(O,V){var F=T.get("roundCap"),z=F?SausagePath:Sector,U=T.get("overlap"),H=U?T.get("width"):g/C.count(),N=U?u.r-H:u.r-(O+1)*H,G=U?u.r:u.r-O*H,R=new z({shape:{startAngle:c,endAngle:V,cx:u.cx,cy:u.cy,clockwise:d,r0:N,r:G}});return U&&(R.z2=linearMap$2(C.get(E,O),[P,M],[100,0],!0)),R}(A||b)&&(C.diff(S).add(function(O){var V=C.get(E,O);if(b){var F=L(O,c);initProps(F,{rotation:-((isNaN(+V)?D[0]:linearMap$2(V,I,D,!0))+Math.PI/2)},n),y.add(F),C.setItemGraphicEl(O,F)}if(A){var z=$(O,c),U=T.get("clip");initProps(z,{shape:{endAngle:linearMap$2(V,I,D,U)}},n),y.add(z),setCommonECData(n.seriesIndex,C.dataType,O,z),x[O]=z}}).update(function(O,V){var F=C.get(E,O);if(b){var z=S.getItemGraphicEl(V),U=z?z.rotation:c,H=L(O,U);H.rotation=U,updateProps$1(H,{rotation:-((isNaN(+F)?D[0]:linearMap$2(F,I,D,!0))+Math.PI/2)},n),y.add(H),C.setItemGraphicEl(O,H)}if(A){var N=_[V],G=N?N.shape.endAngle:c,R=$(O,G),B=T.get("clip");updateProps$1(R,{shape:{endAngle:linearMap$2(F,I,D,B)}},n),y.add(R),setCommonECData(n.seriesIndex,C.dataType,O,R),x[O]=R}}).execute(),C.each(function(O){var V=C.getItemModel(O),F=V.getModel("emphasis"),z=F.get("focus"),U=F.get("blurScope"),H=F.get("disabled");if(b){var N=C.getItemGraphicEl(O),G=C.getItemVisual(O,"style"),R=G.fill;if(N instanceof ZRImage){var B=N.style;N.useStyle(extend({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},G))}else N.useStyle(G),N.type!=="pointer"&&N.setColor(R);N.setStyle(V.getModel(["pointer","itemStyle"]).getItemStyle()),N.style.fill==="auto"&&N.setStyle("fill",l(linearMap$2(C.get(E,O),I,[0,1],!0))),N.z2EmphasisLift=0,setStatesStylesFromModel(N,V),toggleHoverEmphasis(N,z,U,H)}if(A){var j=x[O];j.useStyle(C.getItemVisual(O,"style")),j.setStyle(V.getModel(["progress","itemStyle"]).getItemStyle()),j.z2EmphasisLift=0,setStatesStylesFromModel(j,V),toggleHoverEmphasis(j,z,U,H)}}),this._progressEls=x)},t.prototype._renderAnchor=function(n,o){var s=n.getModel("anchor"),l=s.get("show");if(l){var u=s.get("size"),c=s.get("icon"),f=s.get("offsetCenter"),d=s.get("keepAspect"),g=createSymbol$1(c,o.cx-u/2+parsePercent(f[0],o.r),o.cy-u/2+parsePercent(f[1],o.r),u,u,null,d);g.z2=s.get("showAbove")?1:0,g.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(g)}},t.prototype._renderTitleAndDetail=function(n,o,s,l,u){var c=this,f=n.getData(),d=f.mapDimension("value"),g=+n.get("min"),y=+n.get("max"),S=new Group$3,_=[],x=[],b=n.isAnimationEnabled(),T=n.get(["pointer","showAbove"]);f.diff(this._data).add(function(A){_[A]=new ZRText({silent:!0}),x[A]=new ZRText({silent:!0})}).update(function(A,C){_[A]=c._titleEls[C],x[A]=c._detailEls[C]}).execute(),f.each(function(A){var C=f.getItemModel(A),E=f.get(d,A),P=new Group$3,M=l(linearMap$2(E,[g,y],[0,1],!0)),I=C.getModel("title");if(I.get("show")){var D=I.get("offsetCenter"),L=u.cx+parsePercent(D[0],u.r),$=u.cy+parsePercent(D[1],u.r),O=_[A];O.attr({z2:T?0:2,style:createTextStyle(I,{x:L,y:$,text:f.getName(A),align:"center",verticalAlign:"middle"},{inheritColor:M})}),P.add(O)}var V=C.getModel("detail");if(V.get("show")){var F=V.get("offsetCenter"),z=u.cx+parsePercent(F[0],u.r),U=u.cy+parsePercent(F[1],u.r),H=parsePercent(V.get("width"),u.r),N=parsePercent(V.get("height"),u.r),G=n.get(["progress","show"])?f.getItemVisual(A,"style").fill:M,O=x[A],R=V.get("formatter");O.attr({z2:T?0:2,style:createTextStyle(V,{x:z,y:U,text:formatLabel(E,R),width:isNaN(H)?null:H,height:isNaN(N)?null:N,align:"center",verticalAlign:"middle"},{inheritColor:G})}),setLabelValueAnimation(O,{normal:V},E,function(j){return formatLabel(j,R)}),b&&animateLabelValue(O,A,f,n,{getFormattedLabel:function(j,W,X,ee,te,le){return formatLabel(le?le.interpolatedValue:E,R)}}),P.add(O)}S.add(P)}),this.group.add(S),this._titleEls=_,this._detailEls=x},t.type="gauge",t}(ChartView),GaugeSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return t.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(SeriesModel);function install$E(a){a.registerChartView(GaugeView),a.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(a){__extends$1(t,a);function t(n,o){var s=a.call(this)||this,l=s,u=new Polyline$1,c=new ZRText;return l.setTextContent(c),s.setTextGuideLine(u),s.updateData(n,o,!0),s}return t.prototype.updateData=function(n,o,s){var l=this,u=n.hostModel,c=n.getItemModel(o),f=n.getItemLayout(o),d=c.getModel("emphasis"),g=c.get(opacityAccessPath$1);g=g??1,s||saveOldStyle(l),l.useStyle(n.getItemVisual(o,"style")),l.style.lineJoin="round",s?(l.setShape({points:f.points}),l.style.opacity=0,initProps(l,{style:{opacity:g}},u,o)):updateProps$1(l,{style:{opacity:g},shape:{points:f.points}},u,o),setStatesStylesFromModel(l,c),this._updateLabel(n,o),toggleHoverEmphasis(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n,o){var s=this,l=this.getTextGuideLine(),u=s.getTextContent(),c=n.hostModel,f=n.getItemModel(o),d=n.getItemLayout(o),g=d.label,y=n.getItemVisual(o,"style"),S=y.fill;setLabelStyle(u,getLabelStatesModels(f),{labelFetcher:n.hostModel,labelDataIndex:o,defaultOpacity:y.opacity,defaultText:n.getName(o)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),s.setTextConfig({local:!0,inside:!!g.inside,insideStroke:S,outsideFill:S});var _=g.linePoints;l.setShape({points:_}),s.textGuideLineConfig={anchor:_?new Point(_[0][0],_[0][1]):null},updateProps$1(u,{style:{x:g.x,y:g.y}},c,o),u.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),setLabelLineStyle(s,getLabelLineStatesModels(f),{stroke:S})},t}(Polygon),FunnelView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,o,s){var l=n.getData(),u=this._data,c=this.group;l.diff(u).add(function(f){var d=new FunnelPiece(l,f);l.setItemGraphicEl(f,d),c.add(d)}).update(function(f,d){var g=u.getItemGraphicEl(d);g.updateData(l,f),c.add(g),l.setItemGraphicEl(f,g)}).remove(function(f){var d=u.getItemGraphicEl(f);removeElementWithFadeOut(d,n,f)}).execute(),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ChartView),FunnelSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},t.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var o=n.labelLine,s=n.emphasis.labelLine;o.show=o.show&&n.label.show,s.show=s.show&&n.emphasis.label.show},t.prototype.getDataParams=function(n){var o=this.getData(),s=a.prototype.getDataParams.call(this,n),l=o.mapDimension("value"),u=o.getSum(l);return s.percent=u?+(o.get(l,n)/u*100).toFixed(2):0,s.$vars.push("percent"),s},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel);function getViewRect$2(a,t){return getLayoutRect(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function getSortedIndices(a,t){for(var n=a.mapDimension("value"),o=a.mapArray(n,function(f){return f}),s=[],l=t==="ascending",u=0,c=a.count();u<c;u++)s[u]=u;return isFunction(t)?s.sort(t):t!=="none"&&s.sort(function(f,d){return l?o[f]-o[d]:o[d]-o[f]}),s}function labelLayout(a){var t=a.hostModel,n=t.get("orient");a.each(function(o){var s=a.getItemModel(o),l=s.getModel("label"),u=l.get("position"),c=s.getModel("labelLine"),f=a.getItemLayout(o),d=f.points,g=u==="inner"||u==="inside"||u==="center"||u==="insideLeft"||u==="insideRight",y,S,_,x;if(g)u==="insideLeft"?(S=(d[0][0]+d[3][0])/2+5,_=(d[0][1]+d[3][1])/2,y="left"):u==="insideRight"?(S=(d[1][0]+d[2][0])/2-5,_=(d[1][1]+d[2][1])/2,y="right"):(S=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,_=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,y="center"),x=[[S,_],[S,_]];else{var b=void 0,T=void 0,A=void 0,C=void 0,E=c.get("length");u==="left"?(b=(d[3][0]+d[0][0])/2,T=(d[3][1]+d[0][1])/2,A=b-E,S=A-5,y="right"):u==="right"?(b=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,A=b+E,S=A+5,y="left"):u==="top"?(b=(d[3][0]+d[0][0])/2,T=(d[3][1]+d[0][1])/2,C=T-E,_=C-5,y="center"):u==="bottom"?(b=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,C=T+E,_=C+5,y="center"):u==="rightTop"?(b=n==="horizontal"?d[3][0]:d[1][0],T=n==="horizontal"?d[3][1]:d[1][1],n==="horizontal"?(C=T-E,_=C-5,y="center"):(A=b+E,S=A+5,y="top")):u==="rightBottom"?(b=d[2][0],T=d[2][1],n==="horizontal"?(C=T+E,_=C+5,y="center"):(A=b+E,S=A+5,y="bottom")):u==="leftTop"?(b=d[0][0],T=n==="horizontal"?d[0][1]:d[1][1],n==="horizontal"?(C=T-E,_=C-5,y="center"):(A=b-E,S=A-5,y="right")):u==="leftBottom"?(b=n==="horizontal"?d[1][0]:d[3][0],T=n==="horizontal"?d[1][1]:d[2][1],n==="horizontal"?(C=T+E,_=C+5,y="center"):(A=b-E,S=A-5,y="right")):(b=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,n==="horizontal"?(C=T+E,_=C+5,y="center"):(A=b+E,S=A+5,y="left")),n==="horizontal"?(A=b,S=A):(C=T,_=C),x=[[b,T],[A,C]]}f.label={linePoints:x,x:S,y:_,verticalAlign:"middle",textAlign:y,inside:g}})}function funnelLayout(a,t){a.eachSeriesByType("funnel",function(n){var o=n.getData(),s=o.mapDimension("value"),l=n.get("sort"),u=getViewRect$2(n,t),c=n.get("orient"),f=u.width,d=u.height,g=getSortedIndices(o,l),y=u.x,S=u.y,_=c==="horizontal"?[parsePercent(n.get("minSize"),d),parsePercent(n.get("maxSize"),d)]:[parsePercent(n.get("minSize"),f),parsePercent(n.get("maxSize"),f)],x=o.getDataExtent(s),b=n.get("min"),T=n.get("max");b==null&&(b=Math.min(x[0],0)),T==null&&(T=x[1]);var A=n.get("funnelAlign"),C=n.get("gap"),E=c==="horizontal"?f:d,P=(E-C*(o.count()-1))/o.count(),M=function(U,H){if(c==="horizontal"){var N=o.get(s,U)||0,G=linearMap$2(N,[b,T],_,!0),R=void 0;switch(A){case"top":R=S;break;case"center":R=S+(d-G)/2;break;case"bottom":R=S+(d-G);break}return[[H,R],[H,R+G]]}var B=o.get(s,U)||0,j=linearMap$2(B,[b,T],_,!0),W;switch(A){case"left":W=y;break;case"center":W=y+(f-j)/2;break;case"right":W=y+f-j;break}return[[W,H],[W+j,H]]};l==="ascending"&&(P=-P,C=-C,c==="horizontal"?y+=f:S+=d,g=g.reverse());for(var I=0;I<g.length;I++){var D=g[I],L=g[I+1],$=o.getItemModel(D);if(c==="horizontal"){var O=$.get(["itemStyle","width"]);O==null?O=P:(O=parsePercent(O,f),l==="ascending"&&(O=-O));var V=M(D,y),F=M(L,y+O);y+=O+C,o.setItemLayout(D,{points:V.concat(F.slice().reverse())})}else{var z=$.get(["itemStyle","height"]);z==null?z=P:(z=parsePercent(z,d),l==="ascending"&&(z=-z));var V=M(D,S),F=M(L,S+z);S+=z+C,o.setItemLayout(D,{points:V.concat(F.slice().reverse())})}}labelLayout(o)})}function install$D(a){a.registerChartView(FunnelView),a.registerSeriesModel(FunnelSeriesModel),a.registerLayout(funnelLayout),a.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Group$3,n._initialized=!1,n}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(n,o,s,l){this._progressiveEls=null;var u=this._dataGroup,c=n.getData(),f=this._data,d=n.coordinateSystem,g=d.dimensions,y=makeSeriesScope(n);c.diff(f).add(S).update(_).remove(x).execute();function S(T){var A=addEl(c,u,T,g,d);updateElCommon(A,c,T,y)}function _(T,A){var C=f.getItemGraphicEl(A),E=createLinePoints(c,T,g,d);c.setItemGraphicEl(T,C),updateProps$1(C,{shape:{points:E}},n,T),saveOldStyle(C),updateElCommon(C,c,T,y)}function x(T){var A=f.getItemGraphicEl(T);u.remove(A)}if(!this._initialized){this._initialized=!0;var b=createGridClipShape$2(d,n,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(b)}this._data=c},t.prototype.incrementalPrepareRender=function(n,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(n,o,s){for(var l=o.getData(),u=o.coordinateSystem,c=u.dimensions,f=makeSeriesScope(o),d=this._progressiveEls=[],g=n.start;g<n.end;g++){var y=addEl(l,this._dataGroup,g,c,u);y.incremental=!0,updateElCommon(y,l,g,f),d.push(y)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ChartView);function createGridClipShape$2(a,t,n){var o=a.model,s=a.getRect(),l=new Rect$2({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),u=o.get("layout")==="horizontal"?"width":"height";return l.setShape(u,0),initProps(l,{shape:{width:s.width,height:s.height}},t,n),l}function createLinePoints(a,t,n,o){for(var s=[],l=0;l<n.length;l++){var u=n[l],c=a.get(a.mapDimension(u),t);isEmptyValue(c,o.getAxis(u).type)||s.push(o.dataToPoint(c,u))}return s}function addEl(a,t,n,o,s){var l=createLinePoints(a,n,o,s),u=new Polyline$1({shape:{points:l},z2:10});return t.add(u),a.setItemGraphicEl(n,u),u}function makeSeriesScope(a){var t=a.get("smooth",!0);return t===!0&&(t=DEFAULT_SMOOTH),t=numericToNumber(t),eqNaN(t)&&(t=0),{smooth:t}}function updateElCommon(a,t,n,o){a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.setShape("smooth",o.smooth);var s=t.getItemModel(n),l=s.getModel("emphasis");setStatesStylesFromModel(a,s,"lineStyle"),toggleHoverEmphasis(a,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function isEmptyValue(a,t){return t==="category"?a==null:a==null||isNaN(a)}var ParallelSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},t.prototype.getRawIndicesByActiveState=function(n){var o=this.coordinateSystem,s=this.getData(),l=[];return o.eachActiveState(s,function(u,c){n===u&&l.push(s.getRawIndex(c))}),l},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(SeriesModel);function makeDefaultEncode(a){var t=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(t){var n={};return each$f(t.dimensions,function(o){var s=convertDimNameToNumber(o);n[o]=s}),n}}function convertDimNameToNumber(a){return+a.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(a,t){var n=a.coordinateSystem,o={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(s,l){n.eachActiveState(l,function(u,c){var f=o[u];if(u==="normal"&&l.hasItemOption){var d=l.getItemModel(c).get(opacityAccessPath,!0);d!=null&&(f=d)}var g=l.ensureUniqueItemVisual(c,"style");g.opacity=f},s.start,s.end)}}}};function parallelPreprocessor(a){createParallelIfNeeded(a),mergeAxisOptionFromParallel(a)}function createParallelIfNeeded(a){if(!a.parallel){var t=!1;each$f(a.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(a.parallel=[{}])}}function mergeAxisOptionFromParallel(a){var t=normalizeToArray(a.parallelAxis);each$f(t,function(n){if(isObject$3(n)){var o=n.parallelIndex||0,s=normalizeToArray(a.parallel)[o];s&&s.parallelAxisDefault&&merge(n,s.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){this._model=n,this._api=s,this._handlers||(this._handlers={},each$f(handlers$1,function(l,u){s.getZr().on(u,this._handlers[u]=bind$1(l,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(n,o){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(s,l){o.getZr().off(l,s)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},t.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},n))},t.type="parallel",t}(ComponentView),handlers$1={mousedown:function(a){checkTrigger(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var t=this._mouseDownPoint;if(checkTrigger(this,"click")&&t){var n=[a.offsetX,a.offsetY],o=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(o>CLICK_THRESHOLD)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);s.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),o=n.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function checkTrigger(a,t){var n=a._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var ParallelModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(n){var o=this.option;n&&merge(o,n,!0),this._initDimensions()},t.prototype.contains=function(n,o){var s=n.get("parallelIndex");return s!=null&&o.getComponent("parallel",s)===this},t.prototype.setAxisExpand=function(n){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){n.hasOwnProperty(o)&&(this.option[o]=n[o])},this)},t.prototype._initDimensions=function(){var n=this.dimensions=[],o=this.parallelAxisIndex=[],s=filter$1(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(l){return(l.get("parallelIndex")||0)===this.componentIndex},this);each$f(s,function(l){n.push("dim"+l.get("dim")),o.push(l.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(ComponentModel),ParallelAxis=function(a){__extends$1(t,a);function t(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.type=l||"value",c.axisIndex=u,c}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Axis);function sliderMove(a,t,n,o,s,l){a=a||0;var u=n[1]-n[0];if(s!=null&&(s=restrict$1(s,[0,u])),l!=null&&(l=Math.max(l,s??0)),o==="all"){var c=Math.abs(t[1]-t[0]);c=restrict$1(c,[0,u]),s=l=restrict$1(c,[s,l]),o=0}t[0]=restrict$1(t[0],n),t[1]=restrict$1(t[1],n);var f=getSpanSign(t,o);t[o]+=a;var d=s||0,g=n.slice();f.sign<0?g[0]+=d:g[1]-=d,t[o]=restrict$1(t[o],g);var y;return y=getSpanSign(t,o),s!=null&&(y.sign!==f.sign||y.span<s)&&(t[1-o]=t[o]+f.sign*s),y=getSpanSign(t,o),l!=null&&y.span>l&&(t[1-o]=t[o]+y.sign*l),t}function getSpanSign(a,t){var n=a[t]-a[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function restrict$1(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function a(t,n,o){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,o)}return a.prototype._init=function(t,n,o){var s=t.dimensions,l=t.parallelAxisIndex;each$a(s,function(u,c){var f=l[c],d=n.getComponent("parallelAxis",f),g=this._axesMap.set(u,new ParallelAxis(u,createScaleByModel$1(d),[0,0],d.get("type"),f)),y=g.type==="category";g.onBand=y&&d.get("boundaryGap"),g.inverse=d.get("inverse"),d.axis=g,g.model=d,g.coordinateSystem=d.coordinateSystem=this},this)},a.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},a.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),o=n.axisBase,s=n.layoutBase,l=n.pixelDimIndex,u=t[1-l],c=t[l];return u>=o&&u<=o+n.axisLength&&c>=s&&c<=s+n.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(o){if(t.contains(o,n)){var s=o.getData();each$a(this.dimensions,function(l){var u=this._axesMap.get(l);u.scale.unionExtentFromData(s,s.mapDimension(l)),niceScaleExtent(u.scale,u.model)},this)}},this)},a.prototype.resize=function(t,n){this._rect=getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,o=["x","y"],s=["width","height"],l=t.get("layout"),u=l==="horizontal"?0:1,c=n[s[u]],f=[0,c],d=this.dimensions.length,g=restrict(t.get("axisExpandWidth"),f),y=restrict(t.get("axisExpandCount")||0,[0,d]),S=t.get("axisExpandable")&&d>3&&d>y&&y>1&&g>0&&c>0,_=t.get("axisExpandWindow"),x;if(_)x=restrict(_[1]-_[0],f),_[1]=_[0]+x;else{x=restrict(g*(y-1),f);var b=t.get("axisExpandCenter")||mathFloor(d/2);_=[g*b-x/2],_[1]=_[0]+x}var T=(c-x)/(d-y);T<3&&(T=0);var A=[mathFloor(round(_[0]/g,1))+1,mathCeil(round(_[1]/g,1))-1],C=T/g*_[0];return{layout:l,pixelDimIndex:u,layoutBase:n[o[u]],layoutLength:c,axisBase:n[o[1-u]],axisLength:n[s[1-u]],axisExpandable:S,axisExpandWidth:g,axisCollapseWidth:T,axisExpandWindow:_,axisCount:d,winInnerIndices:A,axisExpandWindow0Pos:C}},a.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,o=this.dimensions,s=this._makeLayoutInfo(),l=s.layout;n.each(function(u){var c=[0,s.axisLength],f=u.inverse?1:0;u.setExtent(c[f],c[1-f])}),each$a(o,function(u,c){var f=(s.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(c,s),d={horizontal:{x:f.position,y:s.axisLength},vertical:{x:0,y:f.position}},g={horizontal:PI$1/2,vertical:0},y=[d[l].x+t.x,d[l].y+t.y],S=g[l],_=create$1();rotate$1(_,_,S),translate(_,_,y),this._axesLayout[u]={position:y,rotation:S,transform:_,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(t){return this._axesMap.get(t)},a.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},a.prototype.eachActiveState=function(t,n,o,s){o==null&&(o=0),s==null&&(s=t.count());var l=this._axesMap,u=this.dimensions,c=[],f=[];each$f(u,function(T){c.push(t.mapDimension(T)),f.push(l.get(T).model)});for(var d=this.hasAxisBrushed(),g=o;g<s;g++){var y=void 0;if(!d)y="normal";else{y="active";for(var S=t.getValues(c,g),_=0,x=u.length;_<x;_++){var b=f[_].getActiveState(S[_]);if(b==="inactive"){y="inactive";break}}}n(y,g)}},a.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,o=!1,s=0,l=t.length;s<l;s++)n.get(t[s]).model.getActiveState()!=="normal"&&(o=!0);return o},a.prototype.axisCoordToPoint=function(t,n){var o=this._axesLayout[n];return applyTransform([t,0],o.transform)},a.prototype.getAxisLayout=function(t){return clone$4(this._axesLayout[t])},a.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),o=n.pixelDimIndex,s=n.axisExpandWindow.slice(),l=s[1]-s[0],u=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:s};var c=t[o]-n.layoutBase-n.axisExpandWindow0Pos,f,d="slide",g=n.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),S=y[0]!=null;if(g)S&&g&&c<l*y[0]?(d="jump",f=c-l*y[2]):S&&g&&c>l*(1-y[0])?(d="jump",f=c-l*(1-y[2])):(f=c-l*y[1])>=0&&(f=c-l*(1-y[1]))<=0&&(f=0),f*=n.axisExpandWidth/g,f?sliderMove(f,s,u,"all"):d="none";else{var _=s[1]-s[0],x=u[1]*c/_;s=[mathMax$2(0,x-_/2)],s[1]=mathMin$2(u[1],s[0]+_),s[0]=s[1]-_}return{axisExpandWindow:s,behavior:d}},a}();function restrict(a,t){return mathMin$2(mathMax$2(a,t[0]),t[1])}function layoutAxisWithoutExpand(a,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*a,axisNameAvailableWidth:n,axisLabelShow:!0}}function layoutAxisWithExpand(a,t){var n=t.layoutLength,o=t.axisExpandWidth,s=t.axisCount,l=t.axisCollapseWidth,u=t.winInnerIndices,c,f=l,d=!1,g;return a<u[0]?(c=a*l,g=l):a<=u[1]?(c=t.axisExpandWindow0Pos+a*o-t.axisExpandWindow[0],f=o,d=!0):(c=n-(s-1-a)*l,g=l),{position:c,axisNameAvailableWidth:f,axisLabelShow:d,nameTruncateMaxWidth:g}}function createParallelCoordSys(a,t){var n=[];return a.eachComponent("parallel",function(o,s){var l=new Parallel(o,a,t);l.name="parallel_"+s,l.resize(o,t),o.coordinateSystem=l,l.model=o,n.push(l)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var s=o.getReferringComponents("parallel",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),n}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return t.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(n){var o=this.activeIntervals=clone$4(n);if(o)for(var s=o.length-1;s>=0;s--)asc$2(o[s])},t.prototype.getActiveState=function(n){var o=this.activeIntervals;if(!o.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(o.length===1){var s=o[0];if(s[0]<=n&&n<=s[1])return"active"}else for(var l=0,u=o.length;l<u;l++)if(o[l][0]<=n&&n<=o[l][1])return"active";return"inactive"},t}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(a){__extends$1(t,a);function t(n){var o=a.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=n,o.group=new Group$3,o._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(s,l){this._handlers[l]=bind$1(s,this)},o),o}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var o=this._zr;this._enableGlobalPan||take(o,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(s,l){o.on(l,s)}),this._brushType=n.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;release(n,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(o,s){n.off(s,o)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var o=this._panels={};each$f(n,function(s){o[s.panelId]=clone$4(s)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=o.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=map$1(n,function(S){return merge(clone$4(DEFAULT_BRUSH_OPT),S,!0)});var o="\0-brush-index-",s=this._covers,l=this._covers=[],u=this,c=this._creatingCover;return new DataDiffer(s,n,d,f).add(g).update(g).remove(y).execute(),this;function f(S,_){return(S.id!=null?S.id:o+_)+"-"+S.brushType}function d(S,_){return f(S.__brushOption,_)}function g(S,_){var x=n[S];if(_!=null&&s[_]===c)l[S]=s[_];else{var b=l[S]=_!=null?(s[_].__brushOption=x,s[_]):endCreating(u,createCover(u,x));updateCoverAfterCreation(u,b)}}function y(S){s[S]!==c&&u.group.remove(s[S])}},t.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Eventful);function createCover(a,t){var n=coverRenderers[t.brushType].createCover(a,t);return n.__brushOption=t,updateZ$1(n,t),a.group.add(n),n}function endCreating(a,t){var n=getCoverRenderer(t);return n.endCreating&&(n.endCreating(a,t),updateZ$1(t,t.__brushOption)),t}function updateCoverShape(a,t){var n=t.__brushOption;getCoverRenderer(t).updateCoverShape(a,t,n.range,n)}function updateZ$1(a,t){var n=t.z;n==null&&(n=COVER_Z),a.traverse(function(o){o.z=n,o.z2=n})}function updateCoverAfterCreation(a,t){getCoverRenderer(t).updateCommon(a,t),updateCoverShape(a,t)}function getCoverRenderer(a){return coverRenderers[a.__brushOption.brushType]}function getPanelByPoint(a,t,n){var o=a._panels;if(!o)return BRUSH_PANEL_GLOBAL;var s,l=a._transform;return each$f(o,function(u){u.isTargetByCursor(t,n,l)&&(s=u)}),s}function getPanelByCover(a,t){var n=a._panels;if(!n)return BRUSH_PANEL_GLOBAL;var o=t.__brushOption.panelId;return o!=null?n[o]:BRUSH_PANEL_GLOBAL}function clearCovers(a){var t=a._covers,n=t.length;return each$f(t,function(o){a.group.remove(o)},a),t.length=0,!!n}function trigger(a,t){var n=map$1(a._covers,function(o){var s=o.__brushOption,l=clone$4(s.range);return{brushType:s.brushType,panelId:s.panelId,range:l}});a.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function shouldShowCover(a){var t=a._track;if(!t.length)return!1;var n=t[t.length-1],o=t[0],s=n[0]-o[0],l=n[1]-o[1],u=mathPow(s*s+l*l,.5);return u>UNSELECT_THRESHOLD}function getTrackEnds(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function createBaseRectCover(a,t,n,o){var s=new Group$3;return s.add(new Rect$2({name:"main",style:makeStyle(n),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,a,t,s,["n","s","w","e"]),ondragend:curry$1(trigger,t,{isEnd:!0})})),each$f(o,function(l){s.add(new Rect$2({name:l.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,a,t,s,l),ondragend:curry$1(trigger,t,{isEnd:!0})}))}),s}function updateBaseRect(a,t,n,o){var s=o.brushStyle.lineWidth||0,l=mathMax$1(s,MIN_RESIZE_LINE_WIDTH),u=n[0][0],c=n[1][0],f=u-s/2,d=c-s/2,g=n[0][1],y=n[1][1],S=g-l+s/2,_=y-l+s/2,x=g-u,b=y-c,T=x+s,A=b+s;updateRectShape(a,t,"main",u,c,x,b),o.transformable&&(updateRectShape(a,t,"w",f,d,l,A),updateRectShape(a,t,"e",S,d,l,A),updateRectShape(a,t,"n",f,d,T,l),updateRectShape(a,t,"s",f,_,T,l),updateRectShape(a,t,"nw",f,d,l,l),updateRectShape(a,t,"ne",S,d,l,l),updateRectShape(a,t,"sw",f,_,l,l),updateRectShape(a,t,"se",S,_,l,l))}function updateCommon$1(a,t){var n=t.__brushOption,o=n.transformable,s=t.childAt(0);s.useStyle(makeStyle(n)),s.attr({silent:!o,cursor:o?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(l){var u=t.childOfName(l.join("")),c=l.length===1?getGlobalDirection1(a,l[0]):getGlobalDirection2(a,l);u&&u.attr({silent:!o,invisible:!o,cursor:o?CURSOR_MAP[c]+"-resize":null})})}function updateRectShape(a,t,n,o,s,l,u){var c=t.childOfName(n);c&&c.setShape(pointsToRect(clipByPanel(a,t,[[o,s],[o+l,s+u]])))}function makeStyle(a){return defaults({strokeNoScale:!0},a.brushStyle)}function formatRectRange(a,t,n,o){var s=[mathMin$1(a,n),mathMin$1(t,o)],l=[mathMax$1(a,n),mathMax$1(t,o)];return[[s[0],l[0]],[s[1],l[1]]]}function getTransform(a){return getTransform$1(a.group)}function getGlobalDirection1(a,t){var n={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},s=transformDirection(n[t],getTransform(a));return o[s]}function getGlobalDirection2(a,t){var n=[getGlobalDirection1(a,t[0]),getGlobalDirection1(a,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function driftRect(a,t,n,o,s,l){var u=n.__brushOption,c=a.toRectRange(u.range),f=toLocalDelta(t,s,l);each$f(o,function(d){var g=DIRECTION_MAP[d];c[g[0]][g[1]]+=f[g[0]]}),u.range=a.fromRectRange(formatRectRange(c[0][0],c[1][0],c[0][1],c[1][1])),updateCoverAfterCreation(t,n),trigger(t,{isEnd:!1})}function driftPolygon(a,t,n,o){var s=t.__brushOption.range,l=toLocalDelta(a,n,o);each$f(s,function(u){u[0]+=l[0],u[1]+=l[1]}),updateCoverAfterCreation(a,t),trigger(a,{isEnd:!1})}function toLocalDelta(a,t,n){var o=a.group,s=o.transformCoordToLocal(t,n),l=o.transformCoordToLocal(0,0);return[s[0]-l[0],s[1]-l[1]]}function clipByPanel(a,t,n){var o=getPanelByCover(a,t);return o&&o!==BRUSH_PANEL_GLOBAL?o.clipPath(n,a._transform):clone$4(n)}function pointsToRect(a){var t=mathMin$1(a[0][0],a[1][0]),n=mathMin$1(a[0][1],a[1][1]),o=mathMax$1(a[0][0],a[1][0]),s=mathMax$1(a[0][1],a[1][1]);return{x:t,y:n,width:o-t,height:s-n}}function resetCursor(a,t,n){if(!(!a._brushType||isOutsideZrArea(a,t.offsetX,t.offsetY))){var o=a._zr,s=a._covers,l=getPanelByPoint(a,t,n);if(!a._dragging)for(var u=0;u<s.length;u++){var c=s[u].__brushOption;if(l&&(l===BRUSH_PANEL_GLOBAL||c.panelId===l.panelId)&&coverRenderers[c.brushType].contain(s[u],n[0],n[1]))return}l&&o.setCursorStyle("crosshair")}}function preventDefault(a){var t=a.event;t.preventDefault&&t.preventDefault()}function mainShapeContain(a,t,n){return a.childOfName("main").contain(t,n)}function updateCoverByMouse(a,t,n,o){var s=a._creatingCover,l=a._creatingPanel,u=a._brushOption,c;if(a._track.push(n.slice()),shouldShowCover(a)||s){if(l&&!s){u.brushMode==="single"&&clearCovers(a);var f=clone$4(u);f.brushType=determineBrushType(f.brushType,l),f.panelId=l===BRUSH_PANEL_GLOBAL?null:l.panelId,s=a._creatingCover=createCover(a,f),a._covers.push(s)}if(s){var d=coverRenderers[determineBrushType(a._brushType,l)],g=s.__brushOption;g.range=d.getCreatingRange(clipByPanel(a,s,a._track)),o&&(endCreating(a,s),d.updateCommon(a,s)),updateCoverShape(a,s),c={isEnd:o}}}else o&&u.brushMode==="single"&&u.removeOnClick&&getPanelByPoint(a,t,n)&&clearCovers(a)&&(c={isEnd:o,removeOnClick:!0});return c}function determineBrushType(a,t){return a==="auto"?t.defaultBrushType:a}var pointerHandlers={mousedown:function(a){if(this._dragging)handleDragEnd(this,a);else if(!a.target||!a.target.draggable){preventDefault(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var n=this._creatingPanel=getPanelByPoint(this,a,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,n=a.offsetY,o=this.group.transformCoordToLocal(t,n);if(resetCursor(this,a,o),this._dragging){preventDefault(a);var s=updateCoverByMouse(this,a,o,!1);s&&trigger(this,s)}},mouseup:function(a){handleDragEnd(this,a)}};function handleDragEnd(a,t){if(a._dragging){preventDefault(t);var n=t.offsetX,o=t.offsetY,s=a.group.transformCoordToLocal(n,o),l=updateCoverByMouse(a,t,s,!0);a._dragging=!1,a._track=[],a._creatingCover=null,l&&trigger(a,l)}}function isOutsideZrArea(a,t,n){var o=a._zr;return t<0||t>o.getWidth()||n<0||n>o.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(a,t){function n(o){return o}return createBaseRectCover({toRectRange:n,fromRectRange:n},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=getTrackEnds(a);return formatRectRange(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,n,o){updateBaseRect(a,t,n,o)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(a,t){var n=new Group$3;return n.add(new Polyline$1({name:"main",style:makeStyle(t),silent:!0})),n},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,a,t),ondragend:curry$1(trigger,a,{isEnd:!0})}))},updateCoverShape:function(a,t,n,o){t.childAt(0).setShape({points:clipByPanel(a,t,n)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(a){return{createCover:function(t,n){return createBaseRectCover({toRectRange:function(o){var s=[o,[0,100]];return a&&s.reverse(),s},fromRectRange:function(o){return o[a]}},t,n,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var n=getTrackEnds(t),o=mathMin$1(n[0][a],n[1][a]),s=mathMax$1(n[0][a],n[1][a]);return[o,s]},updateCoverShape:function(t,n,o,s){var l,u=getPanelByCover(t,n);if(u!==BRUSH_PANEL_GLOBAL&&u.getLinearBrushOtherExtent)l=u.getLinearBrushOtherExtent(a);else{var c=t._zr;l=[0,[c.getWidth(),c.getHeight()][1-a]]}var f=[o,l];a&&f.reverse(),updateBaseRect(t,n,f,s)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(a){return a=normalizeRect(a),function(t){return clipPointsByRect(t,a)}}function makeLinearBrushOtherExtent(a,t){return a=normalizeRect(a),function(n){var o=t??n,s=o?a.width:a.height,l=o?a.x:a.y;return[l,l+(s||0)]}}function makeRectIsTargetByCursor(a,t,n){var o=normalizeRect(a);return function(s,l){return o.contain(l[0],l[1])&&!onIrrelevantElement(s,t,n)}}function normalizeRect(a){return BoundingRect.create(a)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o){a.prototype.init.apply(this,arguments),(this._brushController=new BrushController(o.getZr())).on("brush",bind$1(this._onBrush,this))},t.prototype.render=function(n,o,s,l){if(!fromAxisAreaSelect(n,o,l)){this.axisModel=n,this.api=s,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!n.get("show")){var c=getCoordSysModel(n,o),f=c.coordinateSystem,d=n.getAreaSelectStyle(),g=d.width,y=n.axis.dim,S=f.getAxisLayout(y),_=extend({strokeContainThreshold:g},S),x=new AxisBuilder(n,_);each$f(elementList$1,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(_,d,n,c,g,s),groupTransition(u,this._axisGroup,n)}}},t.prototype._refreshBrushController=function(n,o,s,l,u,c){var f=s.axis.getExtent(),d=f[1]-f[0],g=Math.min(30,Math.abs(d)*.1),y=BoundingRect.create({x:f[0],y:-u/2,width:d,height:u});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,c,l),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(getCoverInfoList(s))},t.prototype._onBrush=function(n){var o=n.areas,s=this.axisModel,l=s.axis,u=map$1(o,function(c){return[l.coordToData(c.range[0],!0),l.coordToData(c.range[1],!0)]});(!s.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:u})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(ComponentView);function fromAxisAreaSelect(a,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===a}function getCoverInfoList(a){var t=a.axis;return map$1(a.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function getCoordSysModel(a,t){return t.getComponent("parallel",a.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(a){a.registerAction(actionInfo,function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},function(o){o.axis.model.setActiveIntervals(t.intervals)})}),a.registerAction("parallelAxisExpand",function(t,n){n.eachComponent({mainType:"parallel",query:t},function(o){o.setAxisExpand(t)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(a){a.registerComponentView(ParallelView),a.registerComponentModel(ParallelModel),a.registerCoordinateSystem("parallel",parallelCoordSysCreator),a.registerPreprocessor(parallelPreprocessor),a.registerComponentModel(ParallelAxisModel),a.registerComponentView(ParallelAxisView),axisModelCreator(a,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(a)}function install$B(a){use(install$C),a.registerChartView(ParallelView$1),a.registerSeriesModel(ParallelSeriesModel),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return a}(),SankeyPath=function(a){__extends$1(t,a);function t(n){return a.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SankeyPathShape},t.prototype.buildPath=function(n,o){var s=o.extent;n.moveTo(o.x1,o.y1),n.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(n.lineTo(o.x2+s,o.y2),n.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(n.lineTo(o.x2,o.y2+s),n.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),n.closePath()},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t}(Path),SankeyView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return t.prototype.render=function(n,o,s){var l=this,u=n.getGraph(),c=this.group,f=n.layoutInfo,d=f.width,g=f.height,y=n.getData(),S=n.getData("edge"),_=n.get("orient");this._model=n,c.removeAll(),c.x=f.x,c.y=f.y,u.eachEdge(function(x){var b=new SankeyPath,T=getECData(b);T.dataIndex=x.dataIndex,T.seriesIndex=n.seriesIndex,T.dataType="edge";var A=x.getModel(),C=A.getModel("lineStyle"),E=C.get("curveness"),P=x.node1.getLayout(),M=x.node1.getModel(),I=M.get("localX"),D=M.get("localY"),L=x.node2.getLayout(),$=x.node2.getModel(),O=$.get("localX"),V=$.get("localY"),F=x.getLayout(),z,U,H,N,G,R,B,j;b.shape.extent=Math.max(1,F.dy),b.shape.orient=_,_==="vertical"?(z=(I!=null?I*d:P.x)+F.sy,U=(D!=null?D*g:P.y)+P.dy,H=(O!=null?O*d:L.x)+F.ty,N=V!=null?V*g:L.y,G=z,R=U*(1-E)+N*E,B=H,j=U*E+N*(1-E)):(z=(I!=null?I*d:P.x)+P.dx,U=(D!=null?D*g:P.y)+F.sy,H=O!=null?O*d:L.x,N=(V!=null?V*g:L.y)+F.ty,G=z*(1-E)+H*E,R=U,B=z*E+H*(1-E),j=N),b.setShape({x1:z,y1:U,x2:H,y2:N,cpx1:G,cpy1:R,cpx2:B,cpy2:j}),b.useStyle(C.getItemStyle()),applyCurveStyle(b.style,_,x);var W=""+A.get("value"),X=getLabelStatesModels(A,"edgeLabel");setLabelStyle(b,X,{labelFetcher:{getFormattedLabel:function(le,fe,q,re,J,oe){return n.getFormattedLabel(le,fe,"edge",re,retrieve3(J,X.normal&&X.normal.get("formatter"),W),oe)}},labelDataIndex:x.dataIndex,defaultText:W}),b.setTextConfig({position:"inside"});var ee=A.getModel("emphasis");setStatesStylesFromModel(b,A,"lineStyle",function(le){var fe=le.getItemStyle();return applyCurveStyle(fe,_,x),fe}),c.add(b),S.setItemGraphicEl(x.dataIndex,b);var te=ee.get("focus");toggleHoverEmphasis(b,te==="adjacency"?x.getAdjacentDataIndices():te==="trajectory"?x.getTrajectoryDataIndices():te,ee.get("blurScope"),ee.get("disabled"))}),u.eachNode(function(x){var b=x.getLayout(),T=x.getModel(),A=T.get("localX"),C=T.get("localY"),E=T.getModel("emphasis"),P=T.get(["itemStyle","borderRadius"])||0,M=new Rect$2({shape:{x:A!=null?A*d:b.x,y:C!=null?C*g:b.y,width:b.dx,height:b.dy,r:P},style:T.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(M,getLabelStatesModels(T),{labelFetcher:{getFormattedLabel:function(D,L){return n.getFormattedLabel(D,L,"node")}},labelDataIndex:x.dataIndex,defaultText:x.id}),M.disableLabelAnimation=!0,M.setStyle("fill",x.getVisual("color")),M.setStyle("decal",x.getVisual("style").decal),setStatesStylesFromModel(M,T),c.add(M),y.setItemGraphicEl(x.dataIndex,M),getECData(M).dataType="node";var I=E.get("focus");toggleHoverEmphasis(M,I==="adjacency"?x.getAdjacentDataIndices():I==="trajectory"?x.getTrajectoryDataIndices():I,E.get("blurScope"),E.get("disabled"))}),y.eachItemGraphicEl(function(x,b){var T=y.getItemModel(b);T.get("draggable")&&(x.drift=function(A,C){l._focusAdjacencyDisabled=!0,this.shape.x+=A,this.shape.y+=C,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:y.getRawIndex(b),localX:this.shape.x/d,localY:this.shape.y/g})},x.ondragend=function(){l._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&n.isAnimationEnabled()&&c.setClipPath(createGridClipShape$1(c.getBoundingRect(),n,function(){c.removeClipPath()})),this._data=n.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ChartView);function applyCurveStyle(a,t,n){switch(a.fill){case"source":a.fill=n.node1.getVisual("color"),a.decal=n.node1.getVisual("style").decal;break;case"target":a.fill=n.node2.getVisual("color"),a.decal=n.node2.getVisual("style").decal;break;case"gradient":var o=n.node1.getVisual("color"),s=n.node2.getVisual("color");isString(o)&&isString(s)&&(a.fill=new LinearGradient(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:o,offset:0},{color:s,offset:1}]))}}function createGridClipShape$1(a,t,n){var o=new Rect$2({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(o,{shape:{width:a.width+20}},t,n),o}var SankeySeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,o){var s=n.edges||n.links||[],l=n.data||n.nodes||[],u=n.levels||[];this.levelModels=[];for(var c=this.levelModels,f=0;f<u.length;f++)u[f].depth!=null&&u[f].depth>=0&&(c[u[f].depth]=new Model(u[f],this,o));var d=createGraphFromNodeEdge(l,s,this,!0,g);return d.data;function g(y,S){y.wrapMethod("getItemModel",function(_,x){var b=_.parentModel,T=b.getData().getItemLayout(x);if(T){var A=T.depth,C=b.levelModels[A];C&&(_.parentModel=C)}return _}),S.wrapMethod("getItemModel",function(_,x){var b=_.parentModel,T=b.getGraph().getEdgeByIndex(x),A=T.node1.getLayout();if(A){var C=A.depth,E=b.levelModels[C];E&&(_.parentModel=E)}return _})}},t.prototype.setNodePosition=function(n,o){var s=this.option.data||this.option.nodes,l=s[n];l.localX=o[0],l.localY=o[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(n,o,s){function l(_){return isNaN(_)||_==null}if(s==="edge"){var u=this.getDataParams(n,s),c=u.data,f=u.value,d=c.source+" -- "+c.target;return createTooltipMarkup("nameValue",{name:d,value:f,noValue:l(f)})}else{var g=this.getGraph().getNodeByIndex(n),y=g.getLayout().value,S=this.getDataParams(n,s).data.name;return createTooltipMarkup("nameValue",{name:S!=null?S+"":null,value:y,noValue:l(y)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(n,o){var s=a.prototype.getDataParams.call(this,n,o);if(s.value==null&&o==="node"){var l=this.getGraph().getNodeByIndex(n),u=l.getLayout().value;s.value=u}return s},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(SeriesModel);function sankeyLayout(a,t){a.eachSeriesByType("sankey",function(n){var o=n.get("nodeWidth"),s=n.get("nodeGap"),l=getViewRect$1(n,t);n.layoutInfo=l;var u=l.width,c=l.height,f=n.getGraph(),d=f.nodes,g=f.edges;computeNodeValues(d);var y=filter$1(d,function(b){return b.getLayout().value===0}),S=y.length!==0?0:n.get("layoutIterations"),_=n.get("orient"),x=n.get("nodeAlign");layoutSankey(d,g,o,s,u,c,S,_,x)})}function getViewRect$1(a,t){return getLayoutRect(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function layoutSankey(a,t,n,o,s,l,u,c,f){computeNodeBreadths(a,t,n,s,l,c,f),computeNodeDepths(a,t,l,s,o,u,c),computeEdgeDepths(a,c)}function computeNodeValues(a){each$f(a,function(t){var n=sum(t.outEdges,getEdgeValue),o=sum(t.inEdges,getEdgeValue),s=t.getValue()||0,l=Math.max(n,o,s);t.setLayout({value:l},!0)})}function computeNodeBreadths(a,t,n,o,s,l,u){for(var c=[],f=[],d=[],g=[],y=0,S=0;S<t.length;S++)c[S]=1;for(var S=0;S<a.length;S++)f[S]=a[S].inEdges.length,f[S]===0&&d.push(a[S]);for(var _=-1;d.length;){for(var x=0;x<d.length;x++){var b=d[x],T=b.hostGraph.data.getRawDataItem(b.dataIndex),A=T.depth!=null&&T.depth>=0;A&&T.depth>_&&(_=T.depth),b.setLayout({depth:A?T.depth:y},!0),l==="vertical"?b.setLayout({dy:n},!0):b.setLayout({dx:n},!0);for(var C=0;C<b.outEdges.length;C++){var E=b.outEdges[C],P=t.indexOf(E);c[P]=0;var M=E.node2,I=a.indexOf(M);--f[I]===0&&g.indexOf(M)<0&&g.push(M)}}++y,d=g,g=[]}for(var S=0;S<c.length;S++)if(c[S]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var D=_>y-1?_:y-1;u&&u!=="left"&&adjustNodeWithNodeAlign(a,u,l,D);var L=l==="vertical"?(s-n)/D:(o-n)/D;scaleNodeBreadths(a,L,l)}function isNodeDepth(a){var t=a.hostGraph.data.getRawDataItem(a.dataIndex);return t.depth!=null&&t.depth>=0}function adjustNodeWithNodeAlign(a,t,n,o){if(t==="right"){for(var s=[],l=a,u=0;l.length;){for(var c=0;c<l.length;c++){var f=l[c];f.setLayout({skNodeHeight:u},!0);for(var d=0;d<f.inEdges.length;d++){var g=f.inEdges[d];s.indexOf(g.node1)<0&&s.push(g.node1)}}l=s,s=[],++u}each$f(a,function(y){isNodeDepth(y)||y.setLayout({depth:Math.max(0,o-y.getLayout().skNodeHeight)},!0)})}else t==="justify"&&moveSinksRight(a,o)}function moveSinksRight(a,t){each$f(a,function(n){!isNodeDepth(n)&&!n.outEdges.length&&n.setLayout({depth:t},!0)})}function scaleNodeBreadths(a,t,n){each$f(a,function(o){var s=o.getLayout().depth*t;n==="vertical"?o.setLayout({y:s},!0):o.setLayout({x:s},!0)})}function computeNodeDepths(a,t,n,o,s,l,u){var c=prepareNodesByBreadth(a,u);initializeNodeDepth(c,t,n,o,s,u),resolveCollisions(c,s,n,o,u);for(var f=1;l>0;l--)f*=.99,relaxRightToLeft(c,f,u),resolveCollisions(c,s,n,o,u),relaxLeftToRight(c,f,u),resolveCollisions(c,s,n,o,u)}function prepareNodesByBreadth(a,t){var n=[],o=t==="vertical"?"y":"x",s=groupData(a,function(l){return l.getLayout()[o]});return s.keys.sort(function(l,u){return l-u}),each$f(s.keys,function(l){n.push(s.buckets.get(l))}),n}function initializeNodeDepth(a,t,n,o,s,l){var u=1/0;each$f(a,function(c){var f=c.length,d=0;each$f(c,function(y){d+=y.getLayout().value});var g=l==="vertical"?(o-(f-1)*s)/d:(n-(f-1)*s)/d;g<u&&(u=g)}),each$f(a,function(c){each$f(c,function(f,d){var g=f.getLayout().value*u;l==="vertical"?(f.setLayout({x:d},!0),f.setLayout({dx:g},!0)):(f.setLayout({y:d},!0),f.setLayout({dy:g},!0))})}),each$f(t,function(c){var f=+c.getValue()*u;c.setLayout({dy:f},!0)})}function resolveCollisions(a,t,n,o,s){var l=s==="vertical"?"x":"y";each$f(a,function(u){u.sort(function(b,T){return b.getLayout()[l]-T.getLayout()[l]});for(var c,f,d,g=0,y=u.length,S=s==="vertical"?"dx":"dy",_=0;_<y;_++)f=u[_],d=g-f.getLayout()[l],d>0&&(c=f.getLayout()[l]+d,s==="vertical"?f.setLayout({x:c},!0):f.setLayout({y:c},!0)),g=f.getLayout()[l]+f.getLayout()[S]+t;var x=s==="vertical"?o:n;if(d=g-t-x,d>0){c=f.getLayout()[l]-d,s==="vertical"?f.setLayout({x:c},!0):f.setLayout({y:c},!0),g=c;for(var _=y-2;_>=0;--_)f=u[_],d=f.getLayout()[l]+f.getLayout()[S]+t-g,d>0&&(c=f.getLayout()[l]-d,s==="vertical"?f.setLayout({x:c},!0):f.setLayout({y:c},!0)),g=f.getLayout()[l]}})}function relaxRightToLeft(a,t,n){each$f(a.slice().reverse(),function(o){each$f(o,function(s){if(s.outEdges.length){var l=sum(s.outEdges,weightedTarget,n)/sum(s.outEdges,getEdgeValue);if(isNaN(l)){var u=s.outEdges.length;l=u?sum(s.outEdges,centerTarget,n)/u:0}if(n==="vertical"){var c=s.getLayout().x+(l-center(s,n))*t;s.setLayout({x:c},!0)}else{var f=s.getLayout().y+(l-center(s,n))*t;s.setLayout({y:f},!0)}}})})}function weightedTarget(a,t){return center(a.node2,t)*a.getValue()}function centerTarget(a,t){return center(a.node2,t)}function weightedSource(a,t){return center(a.node1,t)*a.getValue()}function centerSource(a,t){return center(a.node1,t)}function center(a,t){return t==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function getEdgeValue(a){return a.getValue()}function sum(a,t,n){for(var o=0,s=a.length,l=-1;++l<s;){var u=+t(a[l],n);isNaN(u)||(o+=u)}return o}function relaxLeftToRight(a,t,n){each$f(a,function(o){each$f(o,function(s){if(s.inEdges.length){var l=sum(s.inEdges,weightedSource,n)/sum(s.inEdges,getEdgeValue);if(isNaN(l)){var u=s.inEdges.length;l=u?sum(s.inEdges,centerSource,n)/u:0}if(n==="vertical"){var c=s.getLayout().x+(l-center(s,n))*t;s.setLayout({x:c},!0)}else{var f=s.getLayout().y+(l-center(s,n))*t;s.setLayout({y:f},!0)}}})})}function computeEdgeDepths(a,t){var n=t==="vertical"?"x":"y";each$f(a,function(o){o.outEdges.sort(function(s,l){return s.node2.getLayout()[n]-l.node2.getLayout()[n]}),o.inEdges.sort(function(s,l){return s.node1.getLayout()[n]-l.node1.getLayout()[n]})}),each$f(a,function(o){var s=0,l=0;each$f(o.outEdges,function(u){u.setLayout({sy:s},!0),s+=u.getLayout().dy}),each$f(o.inEdges,function(u){u.setLayout({ty:l},!0),l+=u.getLayout().dy})})}function sankeyVisual(a){a.eachSeriesByType("sankey",function(t){var n=t.getGraph(),o=n.nodes,s=n.edges;if(o.length){var l=1/0,u=-1/0;each$f(o,function(c){var f=c.getLayout().value;f<l&&(l=f),f>u&&(u=f)}),each$f(o,function(c){var f=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[l,u],visual:t.get("color")}),d=f.mapValueToVisual(c.getLayout().value),g=c.getModel().get(["itemStyle","color"]);g!=null?(c.setVisual("color",g),c.setVisual("style",{fill:g})):(c.setVisual("color",d),c.setVisual("style",{fill:d}))})}s.length&&each$f(s,function(c){var f=c.getModel().get("lineStyle");c.setVisual("style",f)})})}function install$A(a){a.registerChartView(SankeyView),a.registerSeriesModel(SankeySeriesModel),a.registerLayout(sankeyLayout),a.registerVisual(sankeyVisual),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(o){o.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var WhiskerBoxCommonMixin=function(){function a(){}return a.prototype._hasEncodeRule=function(t){var n=this.getEncode();return n&&n.get(t)!=null},a.prototype.getInitialData=function(t,n){var o,s=n.getComponent("xAxis",this.get("xAxisIndex")),l=n.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),c=l.get("type"),f;u==="category"?(t.layout="horizontal",o=s.getOrdinalMeta(),f=!this._hasEncodeRule("x")):c==="category"?(t.layout="vertical",o=l.getOrdinalMeta(),f=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var d=["x","y"],g=t.layout==="horizontal"?0:1,y=this._baseAxisDim=d[g],S=d[1-g],_=[s,l],x=_[g].get("type"),b=_[1-g].get("type"),T=t.data;if(T&&f){var A=[];each$f(T,function(P,M){var I;isArray$2(P)?(I=P.slice(),P.unshift(M)):isArray$2(P.value)?(I=extend({},P),I.value=I.value.slice(),P.value.unshift(M)):I=P,A.push(I)}),t.data=A}var C=this.defaultValueDimensions,E=[{name:y,type:getDimensionTypeByAxis(x),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:S,type:getDimensionTypeByAxis(b),dimsDef:C.slice()}];return createSeriesDataSimply(this,{coordDimensions:E,dimensionsCount:C.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,E,this)})},a.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},a}(),BoxplotSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=n.getData(),u=this.group,c=this._data;this._data||u.removeAll();var f=n.get("layout")==="horizontal"?1:0;l.diff(c).add(function(d){if(l.hasValue(d)){var g=l.getItemLayout(d),y=createNormalBox$1(g,l,d,f,!0);l.setItemGraphicEl(d,y),u.add(y)}}).update(function(d,g){var y=c.getItemGraphicEl(g);if(!l.hasValue(d)){u.remove(y);return}var S=l.getItemLayout(d);y?(saveOldStyle(y),updateNormalBoxData(S,y,l,d)):y=createNormalBox$1(S,l,d,f),u.add(y),l.setItemGraphicEl(d,y)}).remove(function(d){var g=c.getItemGraphicEl(d);g&&u.remove(g)}).execute(),this._data=l},t.prototype.remove=function(n){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(l){l&&o.remove(l)})},t.type="boxplot",t}(ChartView),BoxPathShape=function(){function a(){}return a}(),BoxPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="boxplotBoxPath",o}return t.prototype.getDefaultShape=function(){return new BoxPathShape},t.prototype.buildPath=function(n,o){var s=o.points,l=0;for(n.moveTo(s[l][0],s[l][1]),l++;l<4;l++)n.lineTo(s[l][0],s[l][1]);for(n.closePath();l<s.length;l++)n.moveTo(s[l][0],s[l][1]),l++,n.lineTo(s[l][0],s[l][1])},t}(Path);function createNormalBox$1(a,t,n,o,s){var l=a.ends,u=new BoxPath({shape:{points:s?transInit$1(l,o,a):l}});return updateNormalBoxData(a,u,t,n,s),u}function updateNormalBoxData(a,t,n,o,s){var l=n.hostModel,u=graphic[s?"initProps":"updateProps"];u(t,{shape:{points:a.ends}},l,o),t.useStyle(n.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.z2=100;var c=n.getItemModel(o),f=c.getModel("emphasis");setStatesStylesFromModel(t,c),toggleHoverEmphasis(t,f.get("focus"),f.get("blurScope"),f.get("disabled"))}function transInit$1(a,t,n){return map$1(a,function(o){return o=o.slice(),o[t]=n.initBaseline,o})}var each$9=each$f;function boxplotLayout(a){var t=groupSeriesByAxis(a);each$9(t,function(n){var o=n.seriesModels;o.length&&(calculateBase(n),each$9(o,function(s,l){layoutSingleSeries(s,n.boxOffsetList[l],n.boxWidthList[l])}))})}function groupSeriesByAxis(a){var t=[],n=[];return a.eachSeriesByType("boxplot",function(o){var s=o.getBaseAxis(),l=indexOf(n,s);l<0&&(l=n.length,n[l]=s,t[l]={axis:s,seriesModels:[]}),t[l].seriesModels.push(o)}),t}function calculateBase(a){var t=a.axis,n=a.seriesModels,o=n.length,s=a.boxWidthList=[],l=a.boxOffsetList=[],u=[],c;if(t.type==="category")c=t.getBandWidth();else{var f=0;each$9(n,function(x){f=Math.max(f,x.getData().count())});var d=t.getExtent();c=Math.abs(d[1]-d[0])/f}each$9(n,function(x){var b=x.get("boxWidth");isArray$2(b)||(b=[b,b]),u.push([parsePercent(b[0],c)||0,parsePercent(b[1],c)||0])});var g=c*.8-2,y=g/o*.3,S=(g-y*(o-1))/o,_=S/2-g/2;each$9(n,function(x,b){l.push(_),_+=y+S,s.push(Math.min(Math.max(S,u[b][0]),u[b][1]))})}function layoutSingleSeries(a,t,n){var o=a.coordinateSystem,s=a.getData(),l=n/2,u=a.get("layout")==="horizontal"?0:1,c=1-u,f=["x","y"],d=s.mapDimension(f[u]),g=s.mapDimensionsAll(f[c]);if(d==null||g.length<5)return;for(var y=0;y<s.count();y++){var S=s.get(d,y),_=E(S,g[2],y),x=E(S,g[0],y),b=E(S,g[1],y),T=E(S,g[3],y),A=E(S,g[4],y),C=[];P(C,b,!1),P(C,T,!0),C.push(x,b,A,T),M(C,x),M(C,A),M(C,_),s.setItemLayout(y,{initBaseline:_[c],ends:C})}function E(I,D,L){var $=s.get(D,L),O=[];O[u]=I,O[c]=$;var V;return isNaN(I)||isNaN($)?V=[NaN,NaN]:(V=o.dataToPoint(O),V[u]+=t),V}function P(I,D,L){var $=D.slice(),O=D.slice();$[u]+=l,O[u]-=l,L?I.push($,O):I.push(O,$)}function M(I,D){var L=D.slice(),$=D.slice();L[u]-=l,$[u]+=l,I.push(L,$)}}function prepareBoxplotData(a,t){t=t||{};for(var n=[],o=[],s=t.boundIQR,l=s==="none"||s===0,u=0;u<a.length;u++){var c=asc$2(a[u].slice()),f=quantile(c,.25),d=quantile(c,.5),g=quantile(c,.75),y=c[0],S=c[c.length-1],_=(s??1.5)*(g-f),x=l?y:Math.max(y,f-_),b=l?S:Math.min(S,g+_),T=t.itemNameFormatter,A=isFunction(T)?T({value:u}):isString(T)?T.replace("{value}",u+""):u+"";n.push([A,x,f,d,g,b]);for(var C=0;C<c.length;C++){var E=c[C];if(E<x||E>b){var P=[A,E];o.push(P)}}}return{boxData:n,outliers:o}}var boxplotTransform={type:"echarts:boxplot",transform:function a(t){var n=t.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var o="";throwError(o)}var s=prepareBoxplotData(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:s.boxData},{data:s.outliers}]}};function install$z(a){a.registerSeriesModel(BoxplotSeriesModel),a.registerChartView(BoxplotView),a.registerLayout(boxplotLayout),a.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(a,t){return t.get(a>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(a,t){return t.get(a===0?dojiBorderColorQuery:a>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(a,t){if(!t.isSeriesFiltered(a)){var n=a.pipelineContext.large;return!n&&{progress:function(o,s){for(var l;(l=o.next())!=null;){var u=s.getItemModel(l),c=s.getItemLayout(l).sign,f=u.getItemStyle();f.fill=getColor(c,u),f.stroke=getBorderColor(c,u)||f.fill;var d=s.ensureUniqueItemVisual(l,"style");extend(d,f)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},t.prototype.incrementalPrepareRender=function(n,o,s){this._clear(),this._updateDrawMode(n)},t.prototype.incrementalRender=function(n,o,s,l){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,o):this._incrementalRenderNormal(n,o)},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var o=n.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(n){var o=n.getData(),s=this._data,l=this.group,u=o.getLayout("isSimpleBox"),c=n.get("clip",!0),f=n.coordinateSystem,d=f.getArea&&f.getArea();this._data||l.removeAll(),o.diff(s).add(function(g){if(o.hasValue(g)){var y=o.getItemLayout(g);if(c&&isNormalBoxClipped(d,y))return;var S=createNormalBox(y,g,!0);initProps(S,{shape:{points:y.ends}},n,g),setBoxCommon(S,o,g,u),l.add(S),o.setItemGraphicEl(g,S)}}).update(function(g,y){var S=s.getItemGraphicEl(y);if(!o.hasValue(g)){l.remove(S);return}var _=o.getItemLayout(g);if(c&&isNormalBoxClipped(d,_)){l.remove(S);return}S?(updateProps$1(S,{shape:{points:_.ends}},n,g),saveOldStyle(S)):S=createNormalBox(_),setBoxCommon(S,o,g,u),l.add(S),o.setItemGraphicEl(g,S)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&l.remove(y)}).execute(),this._data=o},t.prototype._renderLarge=function(n){this._clear(),createLarge(n,this.group);var o=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;o?this.group.setClipPath(o):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(n,o){for(var s=o.getData(),l=s.getLayout("isSimpleBox"),u;(u=n.next())!=null;){var c=s.getItemLayout(u),f=createNormalBox(c);setBoxCommon(f,s,u,l),f.incremental=!0,this.group.add(f),this._progressiveEls.push(f)}},t.prototype._incrementalRenderLarge=function(n,o){createLarge(o,this.group,this._progressiveEls,!0)},t.prototype.remove=function(n){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ChartView),NormalBoxPathShape=function(){function a(){}return a}(),NormalBoxPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="normalCandlestickBox",o}return t.prototype.getDefaultShape=function(){return new NormalBoxPathShape},t.prototype.buildPath=function(n,o){var s=o.points;this.__simpleBox?(n.moveTo(s[4][0],s[4][1]),n.lineTo(s[6][0],s[6][1])):(n.moveTo(s[0][0],s[0][1]),n.lineTo(s[1][0],s[1][1]),n.lineTo(s[2][0],s[2][1]),n.lineTo(s[3][0],s[3][1]),n.closePath(),n.moveTo(s[4][0],s[4][1]),n.lineTo(s[5][0],s[5][1]),n.moveTo(s[6][0],s[6][1]),n.lineTo(s[7][0],s[7][1]))},t}(Path);function createNormalBox(a,t,n){var o=a.ends;return new NormalBoxPath({shape:{points:n?transInit(o,a):o},z2:100})}function isNormalBoxClipped(a,t){for(var n=!0,o=0;o<t.ends.length;o++)if(a.contain(t.ends[o][0],t.ends[o][1])){n=!1;break}return n}function setBoxCommon(a,t,n,o){var s=t.getItemModel(n);a.useStyle(t.getItemVisual(n,"style")),a.style.strokeNoScale=!0,a.__simpleBox=o,setStatesStylesFromModel(a,s);var l=t.getItemLayout(n).sign;each$f(a.states,function(c,f){var d=s.getModel(f),g=getColor(l,d),y=getBorderColor(l,d)||g,S=c.style||(c.style={});g&&(S.fill=g),y&&(S.stroke=y)});var u=s.getModel("emphasis");toggleHoverEmphasis(a,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function transInit(a,t){return map$1(a,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}var LargeBoxPathShape=function(){function a(){}return a}(),LargeBoxPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o.type="largeCandlestickBox",o}return t.prototype.getDefaultShape=function(){return new LargeBoxPathShape},t.prototype.buildPath=function(n,o){for(var s=o.points,l=0;l<s.length;)if(this.__sign===s[l++]){var u=s[l++];n.moveTo(u,s[l++]),n.lineTo(u,s[l++])}else l+=3},t}(Path);function createLarge(a,t,n,o){var s=a.getData(),l=s.getLayout("largePoints"),u=new LargeBoxPath({shape:{points:l},__sign:1,ignoreCoarsePointer:!0});t.add(u);var c=new LargeBoxPath({shape:{points:l},__sign:-1,ignoreCoarsePointer:!0});t.add(c);var f=new LargeBoxPath({shape:{points:l},__sign:0,ignoreCoarsePointer:!0});t.add(f),setLargeStyle(1,u,a),setLargeStyle(-1,c,a),setLargeStyle(0,f,a),o&&(u.incremental=!0,c.incremental=!0),n&&n.push(u,c)}function setLargeStyle(a,t,n,o){var s=getBorderColor(a,n)||getColor(a,n),l=n.getModel("itemStyle").getItemStyle(SKIP_PROPS);t.useStyle(l),t.style.fill=null,t.style.stroke=s}var CandlestickSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(n,o,s){var l=o.getItemLayout(n);return l&&s.rect(l.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(a){!a||!isArray$2(a.series)||each$f(a.series,function(t){isObject$3(t)&&t.type==="k"&&(t.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(a){var t=a.coordinateSystem,n=a.getData(),o=calculateCandleWidth(a,n),s=0,l=1,u=["x","y"],c=n.getDimensionIndex(n.mapDimension(u[s])),f=map$1(n.mapDimensionsAll(u[l]),n.getDimensionIndex,n),d=f[0],g=f[1],y=f[2],S=f[3];if(n.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),c<0||f.length<4)return;return{progress:a.pipelineContext.large?x:_};function _(b,T){for(var A,C=T.getStore();(A=b.next())!=null;){var E=C.get(c,A),P=C.get(d,A),M=C.get(g,A),I=C.get(y,A),D=C.get(S,A),L=Math.min(P,M),$=Math.max(P,M),O=G(L,E),V=G($,E),F=G(I,E),z=G(D,E),U=[];R(U,V,0),R(U,O,1),U.push(j(z),j(V),j(F),j(O));var H=T.getItemModel(A),N=!!H.get(["itemStyle","borderColorDoji"]);T.setItemLayout(A,{sign:getSign(C,A,P,M,g,N),initBaseline:P>M?V[l]:O[l],ends:U,brushRect:B(I,D,E)})}function G(W,X){var ee=[];return ee[s]=X,ee[l]=W,isNaN(X)||isNaN(W)?[NaN,NaN]:t.dataToPoint(ee)}function R(W,X,ee){var te=X.slice(),le=X.slice();te[s]=subPixelOptimize(te[s]+o/2,1,!1),le[s]=subPixelOptimize(le[s]-o/2,1,!0),ee?W.push(te,le):W.push(le,te)}function B(W,X,ee){var te=G(W,ee),le=G(X,ee);return te[s]-=o/2,le[s]-=o/2,{x:te[0],y:te[1],width:o,height:le[1]-te[1]}}function j(W){return W[s]=subPixelOptimize(W[s],1),W}}function x(b,T){for(var A=createFloat32Array(b.count*4),C=0,E,P=[],M=[],I,D=T.getStore(),L=!!a.get(["itemStyle","borderColorDoji"]);(I=b.next())!=null;){var $=D.get(c,I),O=D.get(d,I),V=D.get(g,I),F=D.get(y,I),z=D.get(S,I);if(isNaN($)||isNaN(F)||isNaN(z)){A[C++]=NaN,C+=3;continue}A[C++]=getSign(D,I,O,V,g,L),P[s]=$,P[l]=F,E=t.dataToPoint(P,null,M),A[C++]=E?E[0]:NaN,A[C++]=E?E[1]:NaN,P[l]=z,E=t.dataToPoint(P,null,M),A[C++]=E?E[1]:NaN}T.setLayout("largePoints",A)}}};function getSign(a,t,n,o,s,l){var u;return n>o?u=-1:n<o?u=1:u=l?0:t>0?a.get(s,t-1)<=o?1:-1:1,u}function calculateCandleWidth(a,t){var n=a.getBaseAxis(),o,s=n.type==="category"?n.getBandWidth():(o=n.getExtent(),Math.abs(o[1]-o[0])/t.count()),l=parsePercent(retrieve2(a.get("barMaxWidth"),s),s),u=parsePercent(retrieve2(a.get("barMinWidth"),1),s),c=a.get("barWidth");return c!=null?parsePercent(c,s):Math.max(Math.min(s/2,l),u)}function install$y(a){a.registerChartView(CandlestickView),a.registerSeriesModel(CandlestickSeriesModel),a.registerPreprocessor(candlestickPreprocessor),a.registerVisual(candlestickVisual),a.registerLayout(candlestickLayout)}function updateRipplePath(a,t){var n=t.rippleEffectColor||t.color;a.eachChild(function(o){o.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var EffectSymbol=function(a){__extends$1(t,a);function t(n,o){var s=a.call(this)||this,l=new Symbol$1(n,o),u=new Group$3;return s.add(l),s.add(u),s.updateData(n,o),s}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(n){for(var o=n.symbolType,s=n.color,l=n.rippleNumber,u=this.childAt(1),c=0;c<l;c++){var f=createSymbol$1(o,-1,-1,2,2,s);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var d=-c/l*n.period+n.effectOffset;f.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(d).start(),f.animateStyle(!0).when(n.period,{opacity:0}).delay(d).start(),u.add(f)}updateRipplePath(u,n)},t.prototype.updateEffectAnimation=function(n){for(var o=this._effectCfg,s=this.childAt(1),l=["symbolType","period","rippleScale","rippleNumber"],u=0;u<l.length;u++){var c=l[u];if(o[c]!==n[c]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}updateRipplePath(s,n)},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},t.prototype.updateData=function(n,o){var s=this,l=n.hostModel;this.childAt(0).updateData(n,o);var u=this.childAt(1),c=n.getItemModel(o),f=n.getItemVisual(o,"symbol"),d=normalizeSymbolSize(n.getItemVisual(o,"symbolSize")),g=n.getItemVisual(o,"style"),y=g&&g.fill,S=c.getModel("emphasis");u.setScale(d),u.traverse(function(T){T.setStyle("fill",y)});var _=normalizeSymbolOffset(n.getItemVisual(o,"symbolOffset"),d);_&&(u.x=_[0],u.y=_[1]);var x=n.getItemVisual(o,"symbolRotate");u.rotation=(x||0)*Math.PI/180||0;var b={};b.showEffectOn=l.get("showEffectOn"),b.rippleScale=c.get(["rippleEffect","scale"]),b.brushType=c.get(["rippleEffect","brushType"]),b.period=c.get(["rippleEffect","period"])*1e3,b.effectOffset=o/n.count(),b.z=l.getShallow("z")||0,b.zlevel=l.getShallow("zlevel")||0,b.symbolType=f,b.color=y,b.rippleEffectColor=c.get(["rippleEffect","color"]),b.rippleNumber=c.get(["rippleEffect","number"]),b.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(b):this.startEffectAnimation(b),this._effectCfg=b):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(T){T==="emphasis"?b.showEffectOn!=="render"&&s.startEffectAnimation(b):T==="normal"&&b.showEffectOn!=="render"&&s.stopEffectAnimation()}),this._effectCfg=b,toggleHoverEmphasis(this,S.get("focus"),S.get("blurScope"),S.get("disabled"))},t.prototype.fadeOut=function(n){n&&n()},t}(Group$3),EffectScatterView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},t.prototype.render=function(n,o,s){var l=n.getData(),u=this._symbolDraw;u.updateData(l,{clipShape:this._getClipShape(n)}),this.group.add(u.group)},t.prototype._getClipShape=function(n){var o=n.coordinateSystem,s=o&&o.getArea&&o.getArea();return n.get("clip",!0)?s:null},t.prototype.updateTransform=function(n,o,s){var l=n.getData();this.group.dirty();var u=pointsLayout("").reset(n,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(n){var o=n.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=clone$2(o.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(n,o){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ChartView),EffectScatterSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(n,o,s){return s.point(o.getItemLayout(n))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(SeriesModel);function install$x(a){a.registerChartView(EffectScatterView),a.registerSeriesModel(EffectScatterSeriesModel),a.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this)||this;return l.add(l.createLine(n,o,s)),l._updateEffectSymbol(n,o),l}return t.prototype.createLine=function(n,o,s){return new Line(n,o,s)},t.prototype._updateEffectSymbol=function(n,o){var s=n.getItemModel(o),l=s.getModel("effect"),u=l.get("symbolSize"),c=l.get("symbol");isArray$2(u)||(u=[u,u]);var f=n.getItemVisual(o,"style"),d=l.get("color")||f&&f.stroke,g=this.childAt(1);this._symbolType!==c&&(this.remove(g),g=createSymbol$1(c,-.5,-.5,1,1,d),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",d),g.setStyle(l.getItemStyle(["color"])),g.scaleX=u[0],g.scaleY=u[1],g.setColor(d),this._symbolType=c,this._symbolScale=u,this._updateEffectAnimation(n,l,o))},t.prototype._updateEffectAnimation=function(n,o,s){var l=this.childAt(1);if(l){var u=n.getItemLayout(s),c=o.get("period")*1e3,f=o.get("loop"),d=o.get("roundTrip"),g=o.get("constantSpeed"),y=retrieve(o.get("delay"),function(_){return _/n.count()*c/3});if(l.ignore=!0,this._updateAnimationPoints(l,u),g>0&&(c=this._getLineLength(l)/g*1e3),c!==this._period||f!==this._loop||d!==this._roundTrip){l.stopAnimation();var S=void 0;isFunction(y)?S=y(s):S=y,l.__t>0&&(S=-c*l.__t),this._animateSymbol(l,c,S,f,d)}this._period=c,this._loop=f,this._roundTrip=d}},t.prototype._animateSymbol=function(n,o,s,l,u){if(o>0){n.__t=0;var c=this,f=n.animate("",l).when(u?o*2:o,{__t:u?2:1}).delay(s).during(function(){c._updateSymbolPosition(n)});l||f.done(function(){c.remove(n)}),f.start()}},t.prototype._getLineLength=function(n){return dist$1(n.__p1,n.__cp1)+dist$1(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,o){n.__p1=o[0],n.__p2=o[1],n.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},t.prototype.updateData=function(n,o,s){this.childAt(0).updateData(n,o,s),this._updateEffectSymbol(n,o)},t.prototype._updateSymbolPosition=function(n){var o=n.__p1,s=n.__p2,l=n.__cp1,u=n.__t<1?n.__t:2-n.__t,c=[n.x,n.y],f=c.slice(),d=quadraticAt$1,g=quadraticDerivativeAt;c[0]=d(o[0],l[0],s[0],u),c[1]=d(o[1],l[1],s[1],u);var y=n.__t<1?g(o[0],l[0],s[0],u):g(s[0],l[0],o[0],1-u),S=n.__t<1?g(o[1],l[1],s[1],u):g(s[1],l[1],o[1],1-u);n.rotation=-Math.atan2(S,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=dist$1(f,c)*1.05,u===1&&(c[0]=f[0]+(c[0]-f[0])/2,c[1]=f[1]+(c[1]-f[1])/2)):n.__lastT===1?n.scaleY=2*dist$1(o,c):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=c[0],n.y=c[1]},t.prototype.updateLayout=function(n,o){this.childAt(0).updateLayout(n,o);var s=n.getItemModel(o).getModel("effect");this._updateEffectAnimation(n,s,o)},t}(Group$3),Polyline=function(a){__extends$1(t,a);function t(n,o,s){var l=a.call(this)||this;return l._createPolyline(n,o,s),l}return t.prototype._createPolyline=function(n,o,s){var l=n.getItemLayout(o),u=new Polyline$1({shape:{points:l}});this.add(u),this._updateCommonStl(n,o,s)},t.prototype.updateData=function(n,o,s){var l=n.hostModel,u=this.childAt(0),c={shape:{points:n.getItemLayout(o)}};updateProps$1(u,c,l,o),this._updateCommonStl(n,o,s)},t.prototype._updateCommonStl=function(n,o,s){var l=this.childAt(0),u=n.getItemModel(o),c=s&&s.emphasisLineStyle,f=s&&s.focus,d=s&&s.blurScope,g=s&&s.emphasisDisabled;if(!s||n.hasItemOption){var y=u.getModel("emphasis");c=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),f=y.get("focus"),d=y.get("blurScope")}l.useStyle(n.getItemVisual(o,"style")),l.style.fill=null,l.style.strokeNoScale=!0;var S=l.ensureState("emphasis");S.style=c,toggleHoverEmphasis(this,f,d,g)},t.prototype.updateLayout=function(n,o){var s=this.childAt(0);s.setShape("points",n.getItemLayout(o))},t}(Group$3),EffectPolyline=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,o,s){return new Polyline(n,o,s)},t.prototype._updateAnimationPoints=function(n,o){this._points=o;for(var s=[0],l=0,u=1;u<o.length;u++){var c=o[u-1],f=o[u];l+=dist$1(c,f),s.push(l)}if(l===0){this._length=0;return}for(var u=0;u<s.length;u++)s[u]/=l;this._offsets=s,this._length=l},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var o=n.__t<1?n.__t:2-n.__t,s=this._points,l=this._offsets,u=s.length;if(l){var c=this._lastFrame,f;if(o<this._lastFramePercent){var d=Math.min(c+1,u-1);for(f=d;f>=0&&!(l[f]<=o);f--);f=Math.min(f,u-2)}else{for(f=c;f<u&&!(l[f]>o);f++);f=Math.min(f-1,u-2)}var g=(o-l[f])/(l[f+1]-l[f]),y=s[f],S=s[f+1];n.x=y[0]*(1-g)+g*S[0],n.y=y[1]*(1-g)+g*S[1];var _=n.__t<1?S[0]-y[0]:y[0]-S[0],x=n.__t<1?S[1]-y[1]:y[1]-S[1];n.rotation=-Math.atan2(x,_)-Math.PI/2,this._lastFrame=f,this._lastFramePercent=o,n.ignore=!1}},t}(EffectLine),LargeLinesPathShape=function(){function a(){this.polyline=!1,this.curveness=0,this.segs=[]}return a}(),LargeLinesPath=function(a){__extends$1(t,a);function t(n){var o=a.call(this,n)||this;return o._off=0,o.hoverDataIdx=-1,o}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LargeLinesPathShape},t.prototype.buildPath=function(n,o){var s=o.segs,l=o.curveness,u;if(o.polyline)for(u=this._off;u<s.length;){var c=s[u++];if(c>0){n.moveTo(s[u++],s[u++]);for(var f=1;f<c;f++)n.lineTo(s[u++],s[u++])}}else for(u=this._off;u<s.length;){var d=s[u++],g=s[u++],y=s[u++],S=s[u++];if(n.moveTo(d,g),l>0){var _=(d+y)/2-(g-S)*l,x=(g+S)/2-(y-d)*l;n.quadraticCurveTo(_,x,y,S)}else n.lineTo(y,S)}this.incremental&&(this._off=u,this.notClear=!0)},t.prototype.findDataIndex=function(n,o){var s=this.shape,l=s.segs,u=s.curveness,c=this.style.lineWidth;if(s.polyline)for(var f=0,d=0;d<l.length;){var g=l[d++];if(g>0)for(var y=l[d++],S=l[d++],_=1;_<g;_++){var x=l[d++],b=l[d++];if(containStroke$4(y,S,x,b,c,n,o))return f}f++}else for(var f=0,d=0;d<l.length;){var y=l[d++],S=l[d++],x=l[d++],b=l[d++];if(u>0){var T=(y+x)/2-(S-b)*u,A=(S+b)/2-(x-y)*u;if(containStroke$2(y,S,T,A,x,b,c,n,o))return f}else if(containStroke$4(y,S,x,b,c,n,o))return f;f++}return-1},t.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(n=s[0],o=s[1],l.contain(n,o)){var u=this.hoverDataIdx=this.findDataIndex(n,o);return u>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var o=this.shape,s=o.segs,l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<s.length;){var g=s[d++],y=s[d++];l=Math.min(g,l),c=Math.max(g,c),u=Math.min(y,u),f=Math.max(y,f)}n=this._rect=new BoundingRect(l,u,c,f)}return n},t}(Path),LargeLineDraw=function(){function a(){this.group=new Group$3}return a.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},a.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(t,n){var o=this._newAdded[0],s=n.getLayout("linesPoints"),l=o&&o.shape.segs;if(l&&l.length<2e4){var u=l.length,c=new Float32Array(u+s.length);c.set(l),c.set(s,u),o.setShape({segs:c})}else{this._newAdded=[];var f=this._create();f.incremental=!0,f.setShape({segs:s}),this._setCommon(f,n),f.__startIndex=t.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},a.prototype._create=function(){var t=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},a.prototype._setCommon=function(t,n,o){var s=n.hostModel;t.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),t.useStyle(s.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var l=n.getVisual("style");l&&l.stroke&&t.setStyle("stroke",l.stroke),t.setStyle("fill",null);var u=getECData(t);u.seriesIndex=s.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>0&&(u.dataIndex=f+t.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(a){var t=a.coordinateSystem;if(t){var n=a.get("polyline"),o=a.pipelineContext.large;return{progress:function(s,l){var u=[];if(o){var c=void 0,f=s.end-s.start;if(n){for(var d=0,g=s.start;g<s.end;g++)d+=a.getLineCoordsCount(g);c=new Float32Array(f+d*2)}else c=new Float32Array(f*4);for(var y=0,S=[],g=s.start;g<s.end;g++){var _=a.getLineCoords(g,u);n&&(c[y++]=_);for(var x=0;x<_;x++)S=t.dataToPoint(u[x],!1,S),c[y++]=S[0],c[y++]=S[1]}l.setLayout("linesPoints",c)}else for(var g=s.start;g<s.end;g++){var b=l.getItemModel(g),_=a.getLineCoords(g,u),T=[];if(n)for(var A=0;A<_;A++)T.push(t.dataToPoint(u[A]));else{T[0]=t.dataToPoint(u[0]),T[1]=t.dataToPoint(u[1]);var C=b.get(["lineStyle","curveness"]);+C&&(T[2]=[(T[0][0]+T[1][0])/2-(T[0][1]-T[1][1])*C,(T[0][1]+T[1][1])/2-(T[1][0]-T[0][0])*C])}l.setItemLayout(g,T)}}}}}},LinesView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=n.getData(),u=this._updateLineDraw(l,n),c=n.get("zlevel"),f=n.get(["effect","trailLength"]),d=s.getZr(),g=d.painter.getType()==="svg";g||d.painter.getLayer(c).clear(!0),this._lastZlevel!=null&&!g&&d.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&f>0&&(g||d.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+.9,1),0)})),u.updateData(l);var y=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,o,s){var l=n.getData(),u=this._updateLineDraw(l,n);u.incrementalPrepareUpdate(l),this._clearLayer(s),this._finished=!1},t.prototype.incrementalRender=function(n,o,s){this._lineDraw.incrementalUpdate(n,o.getData()),this._finished=n.end===o.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,o,s){var l=n.getData(),u=n.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var c=linesLayout.reset(n,o,s);c.progress&&c.progress({start:0,end:l.count(),count:l.count()},l),this._lineDraw.updateLayout(),this._clearLayer(s)},t.prototype._updateLineDraw=function(n,o){var s=this._lineDraw,l=this._showEffect(o),u=!!o.get("polyline"),c=o.pipelineContext,f=c.large;return(!s||l!==this._hasEffet||u!==this._isPolyline||f!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=f?new LargeLineDraw:new LineDraw(u?l?EffectPolyline:Polyline:l?EffectLine:Line),this._hasEffet=l,this._isPolyline=u,this._isLargeDraw=f),this.group.add(s.group),s},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var o=n.getZr(),s=o.painter.getType()==="svg";!s&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},t.prototype.dispose=function(n,o){this.remove(n,o)},t.type="lines",t}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(a){var t=a.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(a.data=map$1(t,function(n){var o=[n[0].coord,n[1].coord],s={coords:o};return n[0].name&&(s.fromName=n[0].name),n[1].name&&(s.toName=n[1].name),mergeAll([s,n[0],n[1]])}))}var LinesSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],compatEc2(n);var o=this._processFlatCoordsArray(n.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(n.data=new Float32Array(o.count)),a.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(compatEc2(n),n.data){var o=this._processFlatCoordsArray(n.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(n.data=new Float32Array(o.count))}a.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var o=this._processFlatCoordsArray(n.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,o.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),n.data=new Float32Array(o.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var o=this.getData().getItemModel(n),s=o.option instanceof Array?o.option:o.getShallow("coords");return s},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[n*2],l=this._flatCoordsOffset[n*2+1],u=0;u<l;u++)o[u]=o[u]||[],o[u][0]=this._flatCoords[s+u*2],o[u][1]=this._flatCoords[s+u*2+1];return l}else{for(var c=this._getCoordsFromItemModel(n),u=0;u<c.length;u++)o[u]=o[u]||[],o[u][0]=c[u][0],o[u][1]=c[u][1];return c.length}},t.prototype._processFlatCoordsArray=function(n){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),isNumber$2(n[0])){for(var s=n.length,l=new Uint32Arr(s),u=new Float64Arr(s),c=0,f=0,d=0,g=0;g<s;){d++;var y=n[g++];l[f++]=c+o,l[f++]=y;for(var S=0;S<y;S++){var _=n[g++],x=n[g++];u[c++]=_,u[c++]=x}}return{flatCoordsOffset:new Uint32Array(l.buffer,0,f),flatCoords:u,count:d}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,o){var s=new SeriesData(["value"],this);return s.hasItemOption=!1,s.initData(n.data,[],function(l,u,c,f){if(l instanceof Array)return NaN;s.hasItemOption=!0;var d=l.value;if(d!=null)return d instanceof Array?d[f]:d}),s},t.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=l.getItemModel(n),c=u.get("name");if(c)return c;var f=u.get("fromName"),d=u.get("toName"),g=[];return f!=null&&g.push(f),d!=null&&g.push(d),createTooltipMarkup("nameValue",{name:g.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),o=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&o>0?o+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(SeriesModel);function normalize(a){return a instanceof Array||(a=[a,a]),a}var linesVisual={seriesType:"lines",reset:function(a){var t=normalize(a.get("symbol")),n=normalize(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",t&&t[0]),o.setVisual("toSymbol",t&&t[1]),o.setVisual("fromSymbolSize",n&&n[0]),o.setVisual("toSymbolSize",n&&n[1]);function s(l,u){var c=l.getItemModel(u),f=normalize(c.getShallow("symbol",!0)),d=normalize(c.getShallow("symbolSize",!0));f[0]&&l.setItemVisual(u,"fromSymbol",f[0]),f[1]&&l.setItemVisual(u,"toSymbol",f[1]),d[0]&&l.setItemVisual(u,"fromSymbolSize",d[0]),d[1]&&l.setItemVisual(u,"toSymbolSize",d[1])}return{dataEach:o.hasItemOption?s:null}}};function install$w(a){a.registerChartView(LinesView),a.registerSeriesModel(LinesSeriesModel),a.registerLayout(linesLayout),a.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=platformApi.createCanvas();this.canvas=t}return a.prototype.update=function(t,n,o,s,l,u){var c=this._getBrush(),f=this._getGradient(l,"inRange"),d=this._getGradient(l,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,S=y.getContext("2d"),_=t.length;y.width=n,y.height=o;for(var x=0;x<_;++x){var b=t[x],T=b[0],A=b[1],C=b[2],E=s(C);S.globalAlpha=E,S.drawImage(c,T-g,A-g)}if(!y.width||!y.height)return y;for(var P=S.getImageData(0,0,y.width,y.height),M=P.data,I=0,D=M.length,L=this.minOpacity,$=this.maxOpacity,O=$-L;I<D;){var E=M[I+3]/256,V=Math.floor(E*(GRADIENT_LEVELS-1))*4;if(E>0){var F=u(E)?f:d;E>0&&(E=E*O+L),M[I++]=F[V],M[I++]=F[V+1],M[I++]=F[V+2],M[I++]=F[V+3]*E*256}else I+=4}return S.putImageData(P,0,0),y},a.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),n=this.pointSize+this.blurSize,o=n*2;t.width=o,t.height=o;var s=t.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-n,n,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),t},a.prototype._getGradient=function(t,n){for(var o=this._gradientPixels,s=o[n]||(o[n]=new Uint8ClampedArray(256*4)),l=[0,0,0,0],u=0,c=0;c<256;c++)t[n](c/255,!0,l),s[u++]=l[0],s[u++]=l[1],s[u++]=l[2],s[u++]=l[3];return s},a}();function getIsInPiecewiseRange(a,t,n){var o=a[1]-a[0];t=map$1(t,function(u){return{interval:[(u.interval[0]-a[0])/o,(u.interval[1]-a[0])/o]}});var s=t.length,l=0;return function(u){var c;for(c=l;c<s;c++){var f=t[c].interval;if(f[0]<=u&&u<=f[1]){l=c;break}}if(c===s)for(c=l-1;c>=0;c--){var f=t[c].interval;if(f[0]<=u&&u<=f[1]){l=c;break}}return c>=0&&c<s&&n[c]}}function getIsInContinuousRange(a,t){var n=a[1]-a[0];return t=[(t[0]-a[0])/n,(t[1]-a[0])/n],function(o){return o>=t[0]&&o<=t[1]}}function isGeoCoordSys(a){var t=a.dimensions;return t[0]==="lng"&&t[1]==="lat"}var HeatmapView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l;o.eachComponent("visualMap",function(c){c.eachTargetSeries(function(f){f===n&&(l=c)})}),this._progressiveEls=null,this.group.removeAll();var u=n.coordinateSystem;u.type==="cartesian2d"||u.type==="calendar"?this._renderOnCartesianAndCalendar(n,s,0,n.getData().count()):isGeoCoordSys(u)&&this._renderOnGeo(u,n,l,s)},t.prototype.incrementalPrepareRender=function(n,o,s){this.group.removeAll()},t.prototype.incrementalRender=function(n,o,s,l){var u=o.coordinateSystem;u&&(isGeoCoordSys(u)?this.render(o,s,l):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,l,n.start,n.end,!0)))},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._renderOnCartesianAndCalendar=function(n,o,s,l,u){var c=n.coordinateSystem,f=isCoordinateSystemType(c,"cartesian2d"),d,g,y,S;if(f){var _=c.getAxis("x"),x=c.getAxis("y");d=_.getBandWidth()+.5,g=x.getBandWidth()+.5,y=_.scale.getExtent(),S=x.scale.getExtent()}for(var b=this.group,T=n.getData(),A=n.getModel(["emphasis","itemStyle"]).getItemStyle(),C=n.getModel(["blur","itemStyle"]).getItemStyle(),E=n.getModel(["select","itemStyle"]).getItemStyle(),P=n.get(["itemStyle","borderRadius"]),M=getLabelStatesModels(n),I=n.getModel("emphasis"),D=I.get("focus"),L=I.get("blurScope"),$=I.get("disabled"),O=f?[T.mapDimension("x"),T.mapDimension("y"),T.mapDimension("value")]:[T.mapDimension("time"),T.mapDimension("value")],V=s;V<l;V++){var F=void 0,z=T.getItemVisual(V,"style");if(f){var U=T.get(O[0],V),H=T.get(O[1],V);if(isNaN(T.get(O[2],V))||isNaN(U)||isNaN(H)||U<y[0]||U>y[1]||H<S[0]||H>S[1])continue;var N=c.dataToPoint([U,H]);F=new Rect$2({shape:{x:N[0]-d/2,y:N[1]-g/2,width:d,height:g},style:z})}else{if(isNaN(T.get(O[1],V)))continue;F=new Rect$2({z2:1,shape:c.dataToRect([T.get(O[0],V)]).contentShape,style:z})}if(T.hasItemOption){var G=T.getItemModel(V),R=G.getModel("emphasis");A=R.getModel("itemStyle").getItemStyle(),C=G.getModel(["blur","itemStyle"]).getItemStyle(),E=G.getModel(["select","itemStyle"]).getItemStyle(),P=G.get(["itemStyle","borderRadius"]),D=R.get("focus"),L=R.get("blurScope"),$=R.get("disabled"),M=getLabelStatesModels(G)}F.shape.r=P;var B=n.getRawValue(V),j="-";B&&B[2]!=null&&(j=B[2]+""),setLabelStyle(F,M,{labelFetcher:n,labelDataIndex:V,defaultOpacity:z.opacity,defaultText:j}),F.ensureState("emphasis").style=A,F.ensureState("blur").style=C,F.ensureState("select").style=E,toggleHoverEmphasis(F,D,L,$),F.incremental=u,u&&(F.states.emphasis.hoverLayer=!0),b.add(F),T.setItemGraphicEl(V,F),this._progressiveEls&&this._progressiveEls.push(F)}},t.prototype._renderOnGeo=function(n,o,s,l){var u=s.targetVisuals.inRange,c=s.targetVisuals.outOfRange,f=o.getData(),d=this._hmLayer||this._hmLayer||new HeatmapLayer;d.blurSize=o.get("blurSize"),d.pointSize=o.get("pointSize"),d.minOpacity=o.get("minOpacity"),d.maxOpacity=o.get("maxOpacity");var g=n.getViewRect().clone(),y=n.getRoamTransform();g.applyTransform(y);var S=Math.max(g.x,0),_=Math.max(g.y,0),x=Math.min(g.width+g.x,l.getWidth()),b=Math.min(g.height+g.y,l.getHeight()),T=x-S,A=b-_,C=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],E=f.mapArray(C,function(D,L,$){var O=n.dataToPoint([D,L]);return O[0]-=S,O[1]-=_,O.push($),O}),P=s.getExtent(),M=s.type==="visualMap.continuous"?getIsInContinuousRange(P,s.option.range):getIsInPiecewiseRange(P,s.getPieceList(),s.option.selected);d.update(E,T,A,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:c.color.getColorMapper()},M);var I=new ZRImage({style:{width:T,height:A,x:S,y:_,image:d.canvas},silent:!0});this.group.add(I)},t.type="heatmap",t}(ChartView),HeatmapSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var n=CoordinateSystemManager.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel);function install$v(a){a.registerChartView(HeatmapView),a.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=this.group,u=n.getData(),c=this._data,f=n.coordinateSystem,d=f.getBaseAxis(),g=d.isHorizontal(),y=f.master.getRect(),S={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:n,coordSys:f,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:LAYOUT_ATTRS[+g],categoryDim:LAYOUT_ATTRS[1-+g]};u.diff(c).add(function(x){if(u.hasValue(x)){var b=getItemModel(u,x),T=getSymbolMeta(u,x,b,S),A=createBar(u,S,T);u.setItemGraphicEl(x,A),l.add(A),updateCommon(A,S,T)}}).update(function(x,b){var T=c.getItemGraphicEl(b);if(!u.hasValue(x)){l.remove(T);return}var A=getItemModel(u,x),C=getSymbolMeta(u,x,A,S),E=getShapeStr(u,C);T&&E!==T.__pictorialShapeStr&&(l.remove(T),u.setItemGraphicEl(x,null),T=null),T?updateBar(T,S,C):T=createBar(u,S,C,!0),u.setItemGraphicEl(x,T),T.__pictorialSymbolMeta=C,l.add(T),updateCommon(T,S,C)}).remove(function(x){var b=c.getItemGraphicEl(x);b&&removeBar(c,x,b.__pictorialSymbolMeta.animationModel,b)}).execute();var _=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;return _?l.setClipPath(_):l.removeClipPath(),this._data=u,this.group},t.prototype.remove=function(n,o){var s=this.group,l=this._data;n.get("animation")?l&&l.eachItemGraphicEl(function(u){removeBar(l,getECData(u).dataIndex,n,u)}):s.removeAll()},t.type="pictorialBar",t}(ChartView);function getSymbolMeta(a,t,n,o){var s=a.getItemLayout(t),l=n.get("symbolRepeat"),u=n.get("symbolClip"),c=n.get("symbolPosition")||"start",f=n.get("symbolRotate"),d=(f||0)*Math.PI/180||0,g=n.get("symbolPatternSize")||2,y=n.isAnimationEnabled(),S={dataIndex:t,layout:s,itemModel:n,symbolType:a.getItemVisual(t,"symbol")||"circle",style:a.getItemVisual(t,"style"),symbolClip:u,symbolRepeat:l,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:d,animationModel:y?n:null,hoverScale:y&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};prepareBarLength(n,l,s,o,S),prepareSymbolSize(a,t,s,l,u,S.boundingLength,S.pxSign,g,o,S),prepareLineWidth(n,S.symbolScale,d,o,S);var _=S.symbolSize,x=normalizeSymbolOffset(n.get("symbolOffset"),_);return prepareLayoutInfo(n,_,s,l,u,x,c,S.valueLineWidth,S.boundingLength,S.repeatCutLength,o,S),S}function prepareBarLength(a,t,n,o,s){var l=o.valueDim,u=a.get("symbolBoundingData"),c=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),f=c.toGlobalCoord(c.dataToCoord(0)),d=1-+(n[l.wh]<=0),g;if(isArray$2(u)){var y=[convertToCoordOnAxis(c,u[0])-f,convertToCoordOnAxis(c,u[1])-f];y[1]<y[0]&&y.reverse(),g=y[d]}else u!=null?g=convertToCoordOnAxis(c,u)-f:t?g=o.coordSysExtent[l.index][d]-f:g=n[l.wh];s.boundingLength=g,t&&(s.repeatCutLength=n[l.wh]);var S=l.xy==="x",_=c.inverse;s.pxSign=S&&!_||!S&&_?g>=0?1:-1:g>0?1:-1}function convertToCoordOnAxis(a,t){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(t)))}function prepareSymbolSize(a,t,n,o,s,l,u,c,f,d){var g=f.valueDim,y=f.categoryDim,S=Math.abs(n[y.wh]),_=a.getItemVisual(t,"symbolSize"),x;isArray$2(_)?x=_.slice():_==null?x=["100%","100%"]:x=[_,_],x[y.index]=parsePercent(x[y.index],S),x[g.index]=parsePercent(x[g.index],o?S:Math.abs(l)),d.symbolSize=x;var b=d.symbolScale=[x[0]/c,x[1]/c];b[g.index]*=(f.isHorizontal?-1:1)*u}function prepareLineWidth(a,t,n,o,s){var l=a.get(BAR_BORDER_WIDTH_QUERY)||0;l&&(pathForLineWidth.attr({scaleX:t[0],scaleY:t[1],rotation:n}),pathForLineWidth.updateTransform(),l/=pathForLineWidth.getLineScale(),l*=t[o.valueDim.index]),s.valueLineWidth=l||0}function prepareLayoutInfo(a,t,n,o,s,l,u,c,f,d,g,y){var S=g.categoryDim,_=g.valueDim,x=y.pxSign,b=Math.max(t[_.index]+c,0),T=b;if(o){var A=Math.abs(f),C=retrieve(a.get("symbolMargin"),"15%")+"",E=!1;C.lastIndexOf("!")===C.length-1&&(E=!0,C=C.slice(0,C.length-1));var P=parsePercent(C,t[_.index]),M=Math.max(b+P*2,0),I=E?0:P*2,D=isNumeric(o),L=D?o:toIntTimes((A+I)/M),$=A-L*b;P=$/2/(E?L:Math.max(L-1,1)),M=b+P*2,I=E?0:P*2,!D&&o!=="fixed"&&(L=d?toIntTimes((Math.abs(d)+I)/M):0),T=L*M-I,y.repeatTimes=L,y.symbolMargin=P}var O=x*(T/2),V=y.pathPosition=[];V[S.index]=n[S.wh]/2,V[_.index]=u==="start"?O:u==="end"?f-O:f/2,l&&(V[0]+=l[0],V[1]+=l[1]);var F=y.bundlePosition=[];F[S.index]=n[S.xy],F[_.index]=n[_.xy];var z=y.barRectShape=extend({},n);z[_.wh]=x*Math.max(Math.abs(n[_.wh]),Math.abs(V[_.index]+O)),z[S.wh]=n[S.wh];var U=y.clipShape={};U[S.xy]=-n[S.xy],U[S.wh]=g.ecSize[S.wh],U[_.xy]=0,U[_.wh]=n[_.wh]}function createPath(a){var t=a.symbolPatternSize,n=createSymbol$1(a.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function createOrUpdateRepeatSymbols(a,t,n,o){var s=a.__pictorialBundle,l=n.symbolSize,u=n.valueLineWidth,c=n.pathPosition,f=t.valueDim,d=n.repeatTimes||0,g=0,y=l[t.valueDim.index]+u+n.symbolMargin*2;for(eachPath(a,function(b){b.__pictorialAnimationIndex=g,b.__pictorialRepeatTimes=d,g<d?updateAttr(b,null,x(g),n,o):updateAttr(b,null,{scaleX:0,scaleY:0},n,o,function(){s.remove(b)}),g++});g<d;g++){var S=createPath(n);S.__pictorialAnimationIndex=g,S.__pictorialRepeatTimes=d,s.add(S);var _=x(g);updateAttr(S,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},n,o)}function x(b){var T=c.slice(),A=n.pxSign,C=b;return(n.symbolRepeatDirection==="start"?A>0:A<0)&&(C=d-1-b),T[f.index]=y*(C-d/2+.5)+c[f.index],{x:T[0],y:T[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function createOrUpdateSingleSymbol(a,t,n,o){var s=a.__pictorialBundle,l=a.__pictorialMainPath;l?updateAttr(l,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,o):(l=a.__pictorialMainPath=createPath(n),s.add(l),updateAttr(l,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,o))}function createOrUpdateBarRect(a,t,n){var o=extend({},t.barRectShape),s=a.__pictorialBarRect;s?updateAttr(s,null,{shape:o},t,n):(s=a.__pictorialBarRect=new Rect$2({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),s.disableMorphing=!0,a.add(s))}function createOrUpdateClip(a,t,n,o){if(n.symbolClip){var s=a.__pictorialClipPath,l=extend({},n.clipShape),u=t.valueDim,c=n.animationModel,f=n.dataIndex;if(s)updateProps$1(s,{shape:l},c,f);else{l[u.wh]=0,s=new Rect$2({shape:l}),a.__pictorialBundle.setClipPath(s),a.__pictorialClipPath=s;var d={};d[u.wh]=n.clipShape[u.wh],graphic[o?"updateProps":"initProps"](s,{shape:d},c,f)}}}function getItemModel(a,t){var n=a.getItemModel(t);return n.getAnimationDelayParams=getAnimationDelayParams,n.isAnimationEnabled=isAnimationEnabled,n}function getAnimationDelayParams(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(a,t,n,o){var s=new Group$3,l=new Group$3;return s.add(l),s.__pictorialBundle=l,l.x=n.bundlePosition[0],l.y=n.bundlePosition[1],n.symbolRepeat?createOrUpdateRepeatSymbols(s,t,n):createOrUpdateSingleSymbol(s,t,n),createOrUpdateBarRect(s,n,o),createOrUpdateClip(s,t,n,o),s.__pictorialShapeStr=getShapeStr(a,n),s.__pictorialSymbolMeta=n,s}function updateBar(a,t,n){var o=n.animationModel,s=n.dataIndex,l=a.__pictorialBundle;updateProps$1(l,{x:n.bundlePosition[0],y:n.bundlePosition[1]},o,s),n.symbolRepeat?createOrUpdateRepeatSymbols(a,t,n,!0):createOrUpdateSingleSymbol(a,t,n,!0),createOrUpdateBarRect(a,n,!0),createOrUpdateClip(a,t,n,!0)}function removeBar(a,t,n,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var l=[];eachPath(o,function(u){l.push(u)}),o.__pictorialMainPath&&l.push(o.__pictorialMainPath),o.__pictorialClipPath&&(n=null),each$f(l,function(u){removeElement(u,{scaleX:0,scaleY:0},n,t,function(){o.parent&&o.parent.remove(o)})}),a.setItemGraphicEl(t,null)}function getShapeStr(a,t){return[a.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function eachPath(a,t,n){each$f(a.__pictorialBundle.children(),function(o){o!==a.__pictorialBarRect&&t.call(n,o)})}function updateAttr(a,t,n,o,s,l){t&&a.attr(t),o.symbolClip&&!s?n&&a.attr(n):n&&graphic[s?"updateProps":"initProps"](a,n,o.animationModel,o.dataIndex,l)}function updateCommon(a,t,n){var o=n.dataIndex,s=n.itemModel,l=s.getModel("emphasis"),u=l.getModel("itemStyle").getItemStyle(),c=s.getModel(["blur","itemStyle"]).getItemStyle(),f=s.getModel(["select","itemStyle"]).getItemStyle(),d=s.getShallow("cursor"),g=l.get("focus"),y=l.get("blurScope"),S=l.get("scale");eachPath(a,function(b){if(b instanceof ZRImage){var T=b.style;b.useStyle(extend({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},n.style))}else b.useStyle(n.style);var A=b.ensureState("emphasis");A.style=u,S&&(A.scaleX=b.scaleX*1.1,A.scaleY=b.scaleY*1.1),b.ensureState("blur").style=c,b.ensureState("select").style=f,d&&(b.cursor=d),b.z2=n.z2});var _=t.valueDim.posDesc[+(n.boundingLength>0)],x=a.__pictorialBarRect;x.ignoreClip=!0,setLabelStyle(x,getLabelStatesModels(s),{labelFetcher:t.seriesModel,labelDataIndex:o,defaultText:getDefaultLabel(t.seriesModel.getData(),o),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:_}),toggleHoverEmphasis(a,g,y,l.get("disabled"))}function toIntTimes(a){var t=Math.round(a);return Math.abs(a-t)<1e-4?t:Math.ceil(a)}var PictorialBarSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return t.prototype.getInitialData=function(n){return n.stack=null,a.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(BaseBarSeriesModel);function install$u(a){a.registerChartView(PictorialBarView),a.registerSeriesModel(PictorialBarSeriesModel),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return t.prototype.render=function(n,o,s){var l=n.getData(),u=this,c=this.group,f=n.getLayerSeries(),d=l.getLayout("layoutInfo"),g=d.rect,y=d.boundaryGap;c.x=0,c.y=g.y+y[0];function S(T){return T.name}var _=new DataDiffer(this._layersSeries||[],f,S,S),x=[];_.add(bind$1(b,this,"add")).update(bind$1(b,this,"update")).remove(bind$1(b,this,"remove")).execute();function b(T,A,C){var E=u._layers;if(T==="remove"){c.remove(E[A]);return}for(var P=[],M=[],I,D=f[A].indices,L=0;L<D.length;L++){var $=l.getItemLayout(D[L]),O=$.x,V=$.y0,F=$.y;P.push(O,V),M.push(O,V+F),I=l.getItemVisual(D[L],"style")}var z,U=l.getItemLayout(D[0]),H=n.getModel("label"),N=H.get("margin"),G=n.getModel("emphasis");if(T==="add"){var R=x[A]=new Group$3;z=new ECPolygon({shape:{points:P,stackedOnPoints:M,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(z),c.add(R),n.isAnimationEnabled()&&z.setClipPath(createGridClipShape(z.getBoundingRect(),n,function(){z.removeClipPath()}))}else{var R=E[C];z=R.childAt(0),c.add(R),x[A]=R,updateProps$1(z,{shape:{points:P,stackedOnPoints:M}},n),saveOldStyle(z)}setLabelStyle(z,getLabelStatesModels(n),{labelDataIndex:D[L-1],defaultText:l.getName(D[L-1]),inheritColor:I.fill},{normal:{verticalAlign:"middle"}}),z.setTextConfig({position:null,local:!0});var B=z.getTextContent();B&&(B.x=U.x-N,B.y=U.y0+U.y/2),z.useStyle(I),l.setItemGraphicEl(A,z),setStatesStylesFromModel(z,n),toggleHoverEmphasis(z,G.get("focus"),G.get("blurScope"),G.get("disabled"))}this._layersSeries=f,this._layers=x},t.type="themeRiver",t}(ChartView);function createGridClipShape(a,t,n){var o=new Rect$2({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(o,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},t,n),o}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},t.prototype.fixData=function(n){var o=n.length,s={},l=groupData(n,function(S){return s.hasOwnProperty(S[0]+"")||(s[S[0]+""]=-1),S[2]}),u=[];l.buckets.each(function(S,_){u.push({name:_,dataList:S})});for(var c=u.length,f=0;f<c;++f){for(var d=u[f].name,g=0;g<u[f].dataList.length;++g){var y=u[f].dataList[g][0]+"";s[y]=f}for(var y in s)s.hasOwnProperty(y)&&s[y]!==f&&(s[y]=f,n[o]=[y,0,d],o++)}return n},t.prototype.getInitialData=function(n,o){for(var s=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],l=s.get("type"),u=filter$1(n.data,function(x){return x[2]!==void 0}),c=this.fixData(u||[]),f=[],d=this.nameMap=createHashMap(),g=0,y=0;y<c.length;++y)f.push(c[y][DATA_NAME_INDEX]),d.get(c[y][DATA_NAME_INDEX])||(d.set(c[y][DATA_NAME_INDEX],g),g++);var S=prepareSeriesDataSchema(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new SeriesData(S,this);return _.initData(c),_},t.prototype.getLayerSeries=function(){for(var n=this.getData(),o=n.count(),s=[],l=0;l<o;++l)s[l]=l;var u=n.mapDimension("single"),c=groupData(s,function(d){return n.get("name",d)}),f=[];return c.buckets.each(function(d,g){d.sort(function(y,S){return n.get(u,y)-n.get(u,S)}),f.push({name:g,indices:d})}),f},t.prototype.getAxisTooltipData=function(n,o,s){isArray$2(n)||(n=n?[n]:[]);for(var l=this.getData(),u=this.getLayerSeries(),c=[],f=u.length,d,g=0;g<f;++g){for(var y=Number.MAX_VALUE,S=-1,_=u[g].indices.length,x=0;x<_;++x){var b=l.get(n[0],u[g].indices[x]),T=Math.abs(b-o);T<=y&&(d=b,y=T,S=u[g].indices[x])}c.push(S)}return{dataIndices:c,nestestValue:d}},t.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=l.getName(n),c=l.get(l.mapDimension("value"),n);return createTooltipMarkup("nameValue",{name:u,value:c})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(SeriesModel);function themeRiverLayout(a,t){a.eachSeriesByType("themeRiver",function(n){var o=n.getData(),s=n.coordinateSystem,l={},u=s.getRect();l.rect=u;var c=n.get("boundaryGap"),f=s.getAxis();if(l.boundaryGap=c,f.orient==="horizontal"){c[0]=parsePercent(c[0],u.height),c[1]=parsePercent(c[1],u.height);var d=u.height-c[0]-c[1];doThemeRiverLayout(o,n,d)}else{c[0]=parsePercent(c[0],u.width),c[1]=parsePercent(c[1],u.width);var g=u.width-c[0]-c[1];doThemeRiverLayout(o,n,g)}o.setLayout("layoutInfo",l)})}function doThemeRiverLayout(a,t,n){if(a.count())for(var o=t.coordinateSystem,s=t.getLayerSeries(),l=a.mapDimension("single"),u=a.mapDimension("value"),c=map$1(s,function(T){return map$1(T.indices,function(A){var C=o.dataToPoint(a.get(l,A));return C[1]=a.get(u,A),C})}),f=computeBaseline(c),d=f.y0,g=n/f.max,y=s.length,S=s[0].indices.length,_,x=0;x<S;++x){_=d[x]*g,a.setItemLayout(s[0].indices[x],{layerIndex:0,x:c[0][x][0],y0:_,y:c[0][x][1]*g});for(var b=1;b<y;++b)_+=c[b-1][x][1]*g,a.setItemLayout(s[b].indices[x],{layerIndex:b,x:c[b][x][0],y0:_,y:c[b][x][1]*g})}}function computeBaseline(a){for(var t=a.length,n=a[0].length,o=[],s=[],l=0,u=0;u<n;++u){for(var c=0,f=0;f<t;++f)c+=a[f][u][1];c>l&&(l=c),o.push(c)}for(var d=0;d<n;++d)s[d]=(l-o[d])/2;l=0;for(var g=0;g<n;++g){var y=o[g]+s[g];y>l&&(l=y)}return{y0:s,max:l}}function install$t(a){a.registerChartView(ThemeRiverView),a.registerSeriesModel(ThemeRiverSeriesModel),a.registerLayout(themeRiverLayout),a.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(a){__extends$1(t,a);function t(n,o,s,l){var u=a.call(this)||this;u.z2=DEFAULT_SECTOR_Z,u.textConfig={inside:!0},getECData(u).seriesIndex=o.seriesIndex;var c=new ZRText({z2:DEFAULT_TEXT_Z,silent:n.getModel().get(["label","silent"])});return u.setTextContent(c),u.updateData(!0,n,o,s,l),u}return t.prototype.updateData=function(n,o,s,l,u){this.node=o,o.piece=this,s=s||this._seriesModel,l=l||this._ecModel;var c=this;getECData(c).dataIndex=o.dataIndex;var f=o.getModel(),d=f.getModel("emphasis"),g=o.getLayout(),y=extend({},g);y.label=null;var S=o.getVisual("style");S.lineJoin="bevel";var _=o.getVisual("decal");_&&(S.decal=createOrUpdatePatternFromDecal(_,u));var x=getSectorCornerRadius(f.getModel("itemStyle"),y,!0);extend(y,x),each$f(SPECIAL_STATES,function(C){var E=c.ensureState(C),P=f.getModel([C,"itemStyle"]);E.style=P.getItemStyle();var M=getSectorCornerRadius(P,y);M&&(E.shape=M)}),n?(c.setShape(y),c.shape.r=g.r0,initProps(c,{shape:{r:g.r}},s,o.dataIndex)):(updateProps$1(c,{shape:y},s),saveOldStyle(c)),c.useStyle(S),this._updateLabel(s);var b=f.getShallow("cursor");b&&c.attr("cursor",b),this._seriesModel=s||this._seriesModel,this._ecModel=l||this._ecModel;var T=d.get("focus"),A=T==="relative"?concatArray(o.getAncestorsIndices(),o.getDescendantIndices()):T==="ancestor"?o.getAncestorsIndices():T==="descendant"?o.getDescendantIndices():T;toggleHoverEmphasis(this,A,d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n){var o=this,s=this.node.getModel(),l=s.getModel("label"),u=this.node.getLayout(),c=u.endAngle-u.startAngle,f=(u.startAngle+u.endAngle)/2,d=Math.cos(f),g=Math.sin(f),y=this,S=y.getTextContent(),_=this.node.dataIndex,x=l.get("minAngle")/180*Math.PI,b=l.get("show")&&!(x!=null&&Math.abs(c)<x);S.ignore=!b,each$f(DISPLAY_STATES,function(A){var C=A==="normal"?s.getModel("label"):s.getModel([A,"label"]),E=A==="normal",P=E?S:S.ensureState(A),M=n.getFormattedLabel(_,A);E&&(M=M||o.node.name),P.style=createTextStyle(C,{},null,A!=="normal",!0),M&&(P.style.text=M);var I=C.get("show");I!=null&&!E&&(P.ignore=!I);var D=T(C,"position"),L=E?y:y.states[A],$=L.style.fill;L.textConfig={outsideFill:C.get("color")==="inherit"?$:null,inside:D!=="outside"};var O,V=T(C,"distance")||0,F=T(C,"align"),z=T(C,"rotate"),U=Math.PI*.5,H=Math.PI*1.5,N=normalizeRadian(z==="tangential"?Math.PI/2-f:f),G=N>U&&!isRadianAroundZero(N-U)&&N<H;D==="outside"?(O=u.r+V,F=G?"right":"left"):!F||F==="center"?(c===2*Math.PI&&u.r0===0?O=0:O=(u.r+u.r0)/2,F="center"):F==="left"?(O=u.r0+V,F=G?"right":"left"):F==="right"&&(O=u.r-V,F=G?"left":"right"),P.style.align=F,P.style.verticalAlign=T(C,"verticalAlign")||"middle",P.x=O*d+u.cx,P.y=O*g+u.cy;var R=0;z==="radial"?R=normalizeRadian(-f)+(G?Math.PI:0):z==="tangential"?R=normalizeRadian(Math.PI/2-f)+(G?Math.PI:0):isNumber$2(z)&&(R=z*Math.PI/180),P.rotation=normalizeRadian(R)});function T(A,C){var E=A.get(C);return E??l.get(C)}S.dirtyStyle()},t}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(a){a.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},o);function o(s,l){var u=retrieveTargetInfo(t,[ROOT_TO_NODE_ACTION],s);if(u){var c=s.getViewRoot();c&&(t.direction=aboveViewRoot(c,u.node)?"rollUp":"drillDown"),s.resetViewRoot(u.node)}}}),a.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(t,n,o){t=extend({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},s);function s(l){var u=retrieveTargetInfo(t,[HIGHLIGHT_ACTION],l);u&&(t.dataIndex=u.node.dataIndex)}o.dispatchAction(extend(t,{type:"highlight"}))}),a.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(t,n,o){t=extend({},t),o.dispatchAction(extend(t,{type:"downplay"}))})}var SunburstView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s,l){var u=this;this.seriesModel=n,this.api=s,this.ecModel=o;var c=n.getData(),f=c.tree.root,d=n.getViewRoot(),g=this.group,y=n.get("renderLabelForZeroData"),S=[];d.eachNode(function(C){S.push(C)});var _=this._oldChildren||[];x(S,_),A(f,d),this._initEvents(),this._oldChildren=S;function x(C,E){if(C.length===0&&E.length===0)return;new DataDiffer(E,C,P,P).add(M).update(M).remove(curry$1(M,null)).execute();function P(I){return I.getId()}function M(I,D){var L=I==null?null:C[I],$=D==null?null:E[D];b(L,$)}}function b(C,E){if(!y&&C&&!C.getValue()&&(C=null),C!==f&&E!==f){if(E&&E.piece)C?(E.piece.updateData(!1,C,n,o,s),c.setItemGraphicEl(C.dataIndex,E.piece)):T(E);else if(C){var P=new SunburstPiece(C,n,o,s);g.add(P),c.setItemGraphicEl(C.dataIndex,P)}}}function T(C){C&&C.piece&&(g.remove(C.piece),C.piece=null)}function A(C,E){E.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,C,n,o,s):(u.virtualPiece=new SunburstPiece(C,n,o,s),g.add(u.virtualPiece)),E.piece.off("click"),u.virtualPiece.on("click",function(P){u._rootToNode(E.parentNode)})):u.virtualPiece&&(g.remove(u.virtualPiece),u.virtualPiece=null)}},t.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(o){var s=!1,l=n.seriesModel.getViewRoot();l.eachNode(function(u){if(!s&&u.piece&&u.piece===o.target){var c=u.getModel().get("nodeClick");if(c==="rootToNode")n._rootToNode(u);else if(c==="link"){var f=u.getModel(),d=f.get("link");if(d){var g=f.get("target",!0)||"_blank";windowOpen(d,g)}}s=!0}})})},t.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},t.prototype.containPoint=function(n,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=n[0]-l.cx,c=n[1]-l.cy,f=Math.sqrt(u*u+c*c);return f<=l.r&&f>=l.r0}},t.type="sunburst",t}(ChartView),SunburstSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n,o){var s={name:n.name,children:n.data};completeTreeValue(s);var l=this._levelModels=map$1(n.levels||[],function(f){return new Model(f,this,o)},this),u=Tree.createTree(s,this,c);function c(f){f.wrapMethod("getItemModel",function(d,g){var y=u.getNodeByDataIndex(g),S=l[y.depth];return S&&(d.parentModel=S),d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treePathInfo=wrapTreePathInfo(s,this),o},t.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var o=this.getRawData().tree.root;(!n||n!==o&&!o.contains(n))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(SeriesModel);function completeTreeValue(a){var t=0;each$f(a.children,function(o){completeTreeValue(o);var s=o.value;isArray$2(s)&&(s=s[0]),t+=s});var n=a.value;isArray$2(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),isArray$2(a.value)?a.value[0]=n:a.value=n}var RADIAN=Math.PI/180;function sunburstLayout(a,t,n){t.eachSeriesByType(a,function(o){var s=o.get("center"),l=o.get("radius");isArray$2(l)||(l=[0,l]),isArray$2(s)||(s=[s,s]);var u=n.getWidth(),c=n.getHeight(),f=Math.min(u,c),d=parsePercent(s[0],u),g=parsePercent(s[1],c),y=parsePercent(l[0],f/2),S=parsePercent(l[1],f/2),_=-o.get("startAngle")*RADIAN,x=o.get("minAngle")*RADIAN,b=o.getData().tree.root,T=o.getViewRoot(),A=T.depth,C=o.get("sort");C!=null&&initChildren(T,C);var E=0;each$f(T.children,function(N){!isNaN(N.getValue())&&E++});var P=T.getValue(),M=Math.PI/(P||E)*2,I=T.depth>0,D=T.height-(I?-1:1),L=(S-y)/(D||1),$=o.get("clockwise"),O=o.get("stillShowZeroSum"),V=$?1:-1,F=function(N,G){if(N){var R=G;if(N!==b){var B=N.getValue(),j=P===0&&O?M:B*M;j<x&&(j=x),R=G+V*j;var W=N.depth-A-(I?-1:1),X=y+L*W,ee=y+L*(W+1),te=o.getLevelModel(N);if(te){var le=te.get("r0",!0),fe=te.get("r",!0),q=te.get("radius",!0);q!=null&&(le=q[0],fe=q[1]),le!=null&&(X=parsePercent(le,f/2)),fe!=null&&(ee=parsePercent(fe,f/2))}N.setLayout({angle:j,startAngle:G,endAngle:R,clockwise:$,cx:d,cy:g,r0:X,r:ee})}if(N.children&&N.children.length){var re=0;each$f(N.children,function(J){re+=F(J,G+re)})}return R-G}};if(I){var z=y,U=y+L,H=Math.PI*2;b.setLayout({angle:H,startAngle:_,endAngle:_+H,clockwise:$,cx:d,cy:g,r0:z,r:U})}F(T,_)})}function initChildren(a,t){var n=a.children||[];a.children=sort(n,t),n.length&&each$f(a.children,function(o){initChildren(o,t)})}function sort(a,t){if(isFunction(t)){var n=map$1(a,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return n.sort(function(s,l){return t(s.params,l.params)}),map$1(n,function(s){return a[s.index]})}else{var o=t==="asc";return a.sort(function(s,l){var u=(s.getValue()-l.getValue())*(o?1:-1);return u===0?(s.dataIndex-l.dataIndex)*(o?-1:1):u})}}function sunburstVisual(a){var t={};function n(o,s,l){for(var u=o;u&&u.depth>1;)u=u.parentNode;var c=s.getColorFromPalette(u.name||u.dataIndex+"",t);return o.depth>1&&isString(c)&&(c=lift(c,(o.depth-1)/(l-1)*.5)),c}a.eachSeriesByType("sunburst",function(o){var s=o.getData(),l=s.tree;l.eachNode(function(u){var c=u.getModel(),f=c.getModel("itemStyle").getItemStyle();f.fill||(f.fill=n(u,o,l.root.height));var d=s.ensureUniqueItemVisual(u.dataIndex,"style");extend(d,f)})})}function install$s(a){a.registerChartView(SunburstView),a.registerSeriesModel(SunburstSeriesModel),a.registerLayout(curry$1(sunburstLayout,"sunburst")),a.registerProcessor(curry$1(dataFilter$1,"sunburst")),a.registerVisual(sunburstVisual),installSunburstAction(a)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(n,o){return createSeriesData(null,this)},t.prototype.getDataParams=function(n,o,s){var l=a.prototype.getDataParams.call(this,n,o);return s&&(l.info=customInnerStore(s).info),l},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(SeriesModel);function dataToCoordSize$3(a,t){return t=t||[0,0],map$1(["x","y"],function(n,o){var s=this.getAxis(n),l=t[o],u=a[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u))},this)}function cartesianPrepareCustom(a){var t=a.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$3,a)}}}function dataToCoordSize$2(a,t){return t=t||[0,0],map$1([0,1],function(n){var o=t[n],s=a[n]/2,l=[],u=[];return l[n]=o-s,u[n]=o+s,l[1-n]=u[1-n]=t[1-n],Math.abs(this.dataToPoint(l)[n]-this.dataToPoint(u)[n])},this)}function geoPrepareCustom(a){var t=a.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:a.getZoom()},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$2,a)}}}function dataToCoordSize$1(a,t){var n=this.getAxis(),o=t instanceof Array?t[0]:t,s=(a instanceof Array?a[0]:a)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s))}function singlePrepareCustom(a){var t=a.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$1,a)}}}function dataToCoordSize(a,t){return t=t||[0,0],map$1(["Radius","Angle"],function(n,o){var s="get"+n+"Axis",l=this[s](),u=t[o],c=a[o]/2,f=l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(u-c)-l.dataToCoord(u+c));return n==="Angle"&&(f=f*Math.PI/180),f},this)}function polarPrepareCustom(a){var t=a.getRadiusAxis(),n=a.getAngleAxis(),o=t.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:o[1],r0:o[0]},api:{coord:function(s){var l=t.dataToRadius(s[0]),u=n.dataToAngle(s[1]),c=a.coordToPoint([l,u]);return c.push(l,u*Math.PI/180),c},size:bind$1(dataToCoordSize,a)}}}function calendarPrepareCustom(a){var t=a.getRect(),n=a.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(o,s){return a.dataToPoint(o,s)}}}}function isEC4CompatibleStyle(a,t,n,o){return a&&(a.legacy||a.legacy!==!1&&!n&&!o&&t!=="tspan"&&(t==="text"||hasOwn(a,"text")))}function convertFromEC4CompatibleStyle(a,t,n){var o=a,s,l,u;if(t==="text")u=o;else{u={},hasOwn(o,"text")&&(u.text=o.text),hasOwn(o,"rich")&&(u.rich=o.rich),hasOwn(o,"textFill")&&(u.fill=o.textFill),hasOwn(o,"textStroke")&&(u.stroke=o.textStroke),hasOwn(o,"fontFamily")&&(u.fontFamily=o.fontFamily),hasOwn(o,"fontSize")&&(u.fontSize=o.fontSize),hasOwn(o,"fontStyle")&&(u.fontStyle=o.fontStyle),hasOwn(o,"fontWeight")&&(u.fontWeight=o.fontWeight),l={type:"text",style:u,silent:!0},s={};var c=hasOwn(o,"textPosition");n?s.position=c?o.textPosition:"inside":c&&(s.position=o.textPosition),hasOwn(o,"textPosition")&&(s.position=o.textPosition),hasOwn(o,"textOffset")&&(s.offset=o.textOffset),hasOwn(o,"textRotation")&&(s.rotation=o.textRotation),hasOwn(o,"textDistance")&&(s.distance=o.textDistance)}return convertEC4CompatibleRichItem(u,a),each$f(u.rich,function(f){convertEC4CompatibleRichItem(f,f)}),{textConfig:s,textContent:l}}function convertEC4CompatibleRichItem(a,t){t&&(t.font=t.textFont||t.font,hasOwn(t,"textStrokeWidth")&&(a.lineWidth=t.textStrokeWidth),hasOwn(t,"textAlign")&&(a.align=t.textAlign),hasOwn(t,"textVerticalAlign")&&(a.verticalAlign=t.textVerticalAlign),hasOwn(t,"textLineHeight")&&(a.lineHeight=t.textLineHeight),hasOwn(t,"textWidth")&&(a.width=t.textWidth),hasOwn(t,"textHeight")&&(a.height=t.textHeight),hasOwn(t,"textBackgroundColor")&&(a.backgroundColor=t.textBackgroundColor),hasOwn(t,"textPadding")&&(a.padding=t.textPadding),hasOwn(t,"textBorderColor")&&(a.borderColor=t.textBorderColor),hasOwn(t,"textBorderWidth")&&(a.borderWidth=t.textBorderWidth),hasOwn(t,"textBorderRadius")&&(a.borderRadius=t.textBorderRadius),hasOwn(t,"textBoxShadowColor")&&(a.shadowColor=t.textBoxShadowColor),hasOwn(t,"textBoxShadowBlur")&&(a.shadowBlur=t.textBoxShadowBlur),hasOwn(t,"textBoxShadowOffsetX")&&(a.shadowOffsetX=t.textBoxShadowOffsetX),hasOwn(t,"textBoxShadowOffsetY")&&(a.shadowOffsetY=t.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(a,t,n){var o=a;o.textPosition=o.textPosition||n.position||"inside",n.offset!=null&&(o.textOffset=n.offset),n.rotation!=null&&(o.textRotation=n.rotation),n.distance!=null&&(o.textDistance=n.distance);var s=o.textPosition.indexOf("inside")>=0,l=a.fill||"#000";convertToEC4RichItem(o,t);var u=o.textFill==null;return s?u&&(o.textFill=n.insideFill||"#fff",!o.textStroke&&n.insideStroke&&(o.textStroke=n.insideStroke),!o.textStroke&&(o.textStroke=l),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(u&&(o.textFill=a.fill||n.outsideFill||"#000"),!o.textStroke&&n.outsideStroke&&(o.textStroke=n.outsideStroke)),o.text=t.text,o.rich=t.rich,each$f(t.rich,function(c){convertToEC4RichItem(c,c)}),o}function convertToEC4RichItem(a,t){t&&(hasOwn(t,"fill")&&(a.textFill=t.fill),hasOwn(t,"stroke")&&(a.textStroke=t.fill),hasOwn(t,"lineWidth")&&(a.textStrokeWidth=t.lineWidth),hasOwn(t,"font")&&(a.font=t.font),hasOwn(t,"fontStyle")&&(a.fontStyle=t.fontStyle),hasOwn(t,"fontWeight")&&(a.fontWeight=t.fontWeight),hasOwn(t,"fontSize")&&(a.fontSize=t.fontSize),hasOwn(t,"fontFamily")&&(a.fontFamily=t.fontFamily),hasOwn(t,"align")&&(a.textAlign=t.align),hasOwn(t,"verticalAlign")&&(a.textVerticalAlign=t.verticalAlign),hasOwn(t,"lineHeight")&&(a.textLineHeight=t.lineHeight),hasOwn(t,"width")&&(a.textWidth=t.width),hasOwn(t,"height")&&(a.textHeight=t.height),hasOwn(t,"backgroundColor")&&(a.textBackgroundColor=t.backgroundColor),hasOwn(t,"padding")&&(a.textPadding=t.padding),hasOwn(t,"borderColor")&&(a.textBorderColor=t.borderColor),hasOwn(t,"borderWidth")&&(a.textBorderWidth=t.borderWidth),hasOwn(t,"borderRadius")&&(a.textBorderRadius=t.borderRadius),hasOwn(t,"shadowColor")&&(a.textBoxShadowColor=t.shadowColor),hasOwn(t,"shadowBlur")&&(a.textBoxShadowBlur=t.shadowBlur),hasOwn(t,"shadowOffsetX")&&(a.textBoxShadowOffsetX=t.shadowOffsetX),hasOwn(t,"shadowOffsetY")&&(a.textBoxShadowOffsetY=t.shadowOffsetY),hasOwn(t,"textShadowColor")&&(a.textShadowColor=t.textShadowColor),hasOwn(t,"textShadowBlur")&&(a.textShadowBlur=t.textShadowBlur),hasOwn(t,"textShadowOffsetX")&&(a.textShadowOffsetX=t.textShadowOffsetX),hasOwn(t,"textShadowOffsetY")&&(a.textShadowOffsetY=t.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys$1(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(a,t){return a[t]=1,a},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(a,t,n,o,s){var l=a+"Animation",u=getAnimationConfig(a,o,s)||{},c=transitionInnerStore(t).userDuring;return u.duration>0&&(u.during=c?bind$1(duringCall,{el:t,userDuring:c}):null,u.setToFinal=!0,u.scope=a),extend(u,n[l]),u}function applyUpdateTransition(a,t,n,o){o=o||{};var s=o.dataIndex,l=o.isInit,u=o.clearStyle,c=n.isAnimationEnabled(),f=transitionInnerStore(a),d=t.style;f.userDuring=t.during;var g={},y={};if(prepareTransformAllPropsFinal(a,t,y),prepareShapeOrExtraAllPropsFinal("shape",t,y),prepareShapeOrExtraAllPropsFinal("extra",t,y),!l&&c&&(prepareTransformTransitionFrom(a,t,g),prepareShapeOrExtraTransitionFrom("shape",a,t,g),prepareShapeOrExtraTransitionFrom("extra",a,t,g),prepareStyleTransitionFrom(a,t,d,g)),y.style=d,applyPropsDirectly(a,y,u),applyMiscProps(a,t),c)if(l){var S={};each$f(ELEMENT_ANIMATABLE_PROPS,function(x){var b=x?t[x]:t;b&&b.enterFrom&&(x&&(S[x]=S[x]||{}),extend(x?S[x]:S,b.enterFrom))});var _=getElementAnimationConfig("enter",a,t,n,s);_.duration>0&&a.animateFrom(S,_)}else applyPropsTransition(a,t,s||0,n,g);updateLeaveTo(a,t),d?a.dirty():a.markRedraw()}function updateLeaveTo(a,t){for(var n=transitionInnerStore(a).leaveToProps,o=0;o<ELEMENT_ANIMATABLE_PROPS.length;o++){var s=ELEMENT_ANIMATABLE_PROPS[o],l=s?t[s]:t;l&&l.leaveTo&&(n||(n=transitionInnerStore(a).leaveToProps={}),s&&(n[s]=n[s]||{}),extend(s?n[s]:n,l.leaveTo))}}function applyLeaveTransition(a,t,n,o){if(a){var s=a.parent,l=transitionInnerStore(a).leaveToProps;if(l){var u=getElementAnimationConfig("update",a,t,n,0);u.done=function(){s.remove(a)},a.animateTo(l,u)}else s.remove(a)}}function isTransitionAll(a){return a==="all"}function applyPropsDirectly(a,t,n){var o=t.style;if(!a.isGroup&&o){if(n){a.useStyle({});for(var s=a.animators,l=0;l<s.length;l++){var u=s[l];u.targetName==="style"&&u.changeTarget(a.style)}}a.setStyle(o)}t&&(t.style=null,t&&a.attr(t),t.style=o)}function applyPropsTransition(a,t,n,o,s){if(s){var l=getElementAnimationConfig("update",a,t,o,n);l.duration>0&&a.animateFrom(s,l)}}function applyMiscProps(a,t){hasOwn(t,"silent")&&(a.silent=t.silent),hasOwn(t,"ignore")&&(a.ignore=t.ignore),a instanceof Displayable&&hasOwn(t,"invisible")&&(a.invisible=t.invisible),a instanceof Path&&hasOwn(t,"autoBatch")&&(a.autoBatch=t.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(a,t){return tmpDuringScope.el[a]=t,this},getTransform:function(a){return tmpDuringScope.el[a]},setShape:function(a,t){var n=tmpDuringScope.el,o=n.shape||(n.shape={});return o[a]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(a){var t=tmpDuringScope.el.shape;if(t)return t[a]},setStyle:function(a,t){var n=tmpDuringScope.el,o=n.style;return o&&(o[a]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(a){var t=tmpDuringScope.el.style;if(t)return t[a]},setExtra:function(a,t){var n=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return n[a]=t,this},getExtra:function(a){var t=tmpDuringScope.el.extra;if(t)return t[a]}};function duringCall(){var a=this,t=a.el;if(t){var n=transitionInnerStore(t).userDuring,o=a.userDuring;if(n!==o){a.el=a.userDuring=null;return}tmpDuringScope.el=t,o(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(a,t,n,o){var s=n[a];if(s){var l=t[a],u;if(l){var c=n.transition,f=s.transition;if(f)if(!u&&(u=o[a]={}),isTransitionAll(f))extend(u,l);else for(var d=normalizeToArray(f),g=0;g<d.length;g++){var y=d[g],S=l[y];u[y]=S}else if(isTransitionAll(c)||indexOf(c,a)>=0){!u&&(u=o[a]={});for(var _=keys$1(l),g=0;g<_.length;g++){var y=_[g],S=l[y];isNonStyleTransitionEnabled(s[y],S)&&(u[y]=S)}}}}}function prepareShapeOrExtraAllPropsFinal(a,t,n){var o=t[a];if(o)for(var s=n[a]={},l=keys$1(o),u=0;u<l.length;u++){var c=l[u];s[c]=cloneValue(o[c])}}function prepareTransformTransitionFrom(a,t,n){for(var o=t.transition,s=isTransitionAll(o)?TRANSFORMABLE_PROPS:normalizeToArray(o||[]),l=0;l<s.length;l++){var u=s[l];if(!(u==="style"||u==="shape"||u==="extra")){var c=a[u];n[u]=c}}}function prepareTransformAllPropsFinal(a,t,n){for(var o=0;o<LEGACY_TRANSFORM_PROPS.length;o++){var s=LEGACY_TRANSFORM_PROPS[o],l=LEGACY_TRANSFORM_PROPS_MAP[s],u=t[s];u&&(n[l[0]]=u[0],n[l[1]]=u[1])}for(var o=0;o<TRANSFORMABLE_PROPS.length;o++){var c=TRANSFORMABLE_PROPS[o];t[c]!=null&&(n[c]=t[c])}}function prepareStyleTransitionFrom(a,t,n,o){if(n){var s=a.style,l;if(s){var u=n.transition,c=t.transition;if(u&&!isTransitionAll(u)){var f=normalizeToArray(u);!l&&(l=o.style={});for(var d=0;d<f.length;d++){var g=f[d],y=s[g];l[g]=y}}else if(a.getAnimationStyleProps&&(isTransitionAll(c)||isTransitionAll(u)||indexOf(c,"style")>=0)){var S=a.getAnimationStyleProps(),_=S?S.style:null;if(_){!l&&(l=o.style={});for(var x=keys$1(n),d=0;d<x.length;d++){var g=x[d];if(_[g]){var y=s[g];l[g]=y}}}}}}}function isNonStyleTransitionEnabled(a,t){return isArrayLike(a)?a!==t:a!=null&&isFinite(a)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(a){a.stopAnimation("keyframe"),a.attr(getStateToRestore(a))}function applyKeyframeAnimation(a,t,n){if(!(!n.isAnimationEnabled()||!t)){if(isArray$2(t)){each$f(t,function(c){applyKeyframeAnimation(a,c,n)});return}var o=t.keyframes,s=t.duration;if(n&&s==null){var l=getAnimationConfig("enter",n,0);s=l&&l.duration}if(!(!o||!s)){var u=getStateToRestore(a);each$f(ELEMENT_ANIMATABLE_PROPS,function(c){if(!(c&&!a[c])){var f;o.sort(function(d,g){return d.percent-g.percent}),each$f(o,function(d){var g=a.animators,y=c?d[c]:d;if(y){var S=keys$1(y);if(c||(S=filter$1(S,function(b){return indexOf(KEYFRAME_EXCLUDE_KEYS,b)<0})),!!S.length){f||(f=a.animate(c,t.loop,!0),f.scope="keyframe");for(var _=0;_<g.length;_++)g[_]!==f&&g[_].targetName===f.targetName&&g[_].stopTracks(S);c&&(u[c]=u[c]||{});var x=c?u[c]:u;each$f(S,function(b){x[b]=((c?a[c]:a)||{})[b]}),f.whenWithKeys(s*d.percent,y,S,d.easing)}}}),f&&f.delay(t.delay||0).duration(s).start(t.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(a){return a instanceof Path}function isDisplayable(a){return a instanceof Displayable}function copyElement(a,t){t.copyTransform(a),isDisplayable(t)&&isDisplayable(a)&&(t.setStyle(a.style),t.z=a.z,t.z2=a.z2,t.zlevel=a.zlevel,t.invisible=a.invisible,t.ignore=a.ignore,isPath(t)&&isPath(a)&&t.setShape(a.shape))}var CustomChartView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s,l){this._progressiveEls=null;var u=this._data,c=n.getData(),f=this.group,d=makeRenderItem(n,c,o,s);u||f.removeAll(),c.diff(u).add(function(y){createOrUpdateItem(s,null,y,d(y,l),n,f,c)}).remove(function(y){var S=u.getItemGraphicEl(y);S&&applyLeaveTransition(S,customInnerStore(S).option,n)}).update(function(y,S){var _=u.getItemGraphicEl(S);createOrUpdateItem(s,_,y,d(y,l),n,f,c)}).execute();var g=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;g?f.setClipPath(g):f.removeClipPath(),this._data=c},t.prototype.incrementalPrepareRender=function(n,o,s){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(n,o,s,l,u){var c=o.getData(),f=makeRenderItem(o,c,s,l),d=this._progressiveEls=[];function g(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}for(var y=n.start;y<n.end;y++){var S=createOrUpdateItem(null,null,y,f(y,u),o,this.group,c);S&&(S.traverse(g),d.push(S))}},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype.filterForExposedEvent=function(n,o,s,l){var u=o.element;if(u==null||s.name===u)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===u)return!0;return!1},t.type="custom",t}(ChartView);function createEl$1(a){var t=a.type,n;if(t==="path"){var o=a.shape,s=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,l=getPathData(o);n=makePath(l,null,s,o.layout||"center"),customInnerStore(n).customPathData=l}else if(t==="image")n=new ZRImage({}),customInnerStore(n).customImagePath=a.style.image;else if(t==="text")n=new ZRText({});else if(t==="group")n=new Group$3;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var u=getShapeClass(t);if(!u){var c="";throwError(c)}n=new u}return customInnerStore(n).customGraphicType=t,n.name=a.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function updateElNormal(a,t,n,o,s,l,u){stopPreviousKeyframeAnimationAndRestore(t);var c=s&&s.normal.cfg;c&&t.setTextConfig(c),o&&o.transition==null&&(o.transition=DEFAULT_TRANSITION);var f=o&&o.style;if(f){if(t.type==="text"){var d=f;hasOwn(d,"textFill")&&(d.fill=d.textFill),hasOwn(d,"textStroke")&&(d.stroke=d.textStroke)}var g=void 0,y=isPath(t)?f.decal:null;a&&y&&(y.dirty=!0,g=createOrUpdatePatternFromDecal(y,a)),f.__decalPattern=g}if(isDisplayable(t)&&f){var g=f.__decalPattern;g&&(f.decal=g)}applyUpdateTransition(t,o,l,{dataIndex:n,isInit:u,clearStyle:!0}),applyKeyframeAnimation(t,o.keyframeAnimation,l)}function updateElOnState(a,t,n,o,s){var l=t.isGroup?null:t,u=s&&s[a].cfg;if(l){var c=l.ensureState(a);if(o===!1){var f=l.getState(a);f&&(f.style=null)}else c.style=o||null;u&&(c.textConfig=u),setDefaultStateProxy(l)}}function updateZ(a,t,n){if(!a.isGroup){var o=a,s=n.currentZ,l=n.currentZLevel;o.z=s,o.zlevel=l;var u=t.z2;u!=null&&(o.z2=u||0);for(var c=0;c<STATES.length;c++)updateZForEachState(o,t,STATES[c])}}function updateZForEachState(a,t,n){var o=n===NORMAL,s=o?t:retrieveStateOption(t,n),l=s?s.z2:null,u;l!=null&&(u=o?a:a.ensureState(n),u.z2=l||0)}function makeRenderItem(a,t,n,o){var s=a.get("renderItem"),l=a.coordinateSystem,u={};l&&(u=l.prepareCustoms?l.prepareCustoms(l):prepareCustoms[l.type](l));for(var c=defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:P,style:I,ordinalRawValue:M,styleEmphasis:D,visual:O,barLayout:V,currentSeriesIndices:F,font:z},u.api||{}),f={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:u.coordSys,dataInsideLength:t.count(),encode:wrapEncodeDef(a.getData())},d,g,y={},S={},_={},x={},b=0;b<STATES.length;b++){var T=STATES[b];_[T]=a.getModel(PATH_ITEM_STYLE[T]),x[T]=a.getModel(PATH_LABEL[T])}function A(U){return U===d?g||(g=t.getItemModel(U)):t.getItemModel(U)}function C(U,H){return t.hasItemOption?U===d?y[H]||(y[H]=A(U).getModel(PATH_ITEM_STYLE[H])):A(U).getModel(PATH_ITEM_STYLE[H]):_[H]}function E(U,H){return t.hasItemOption?U===d?S[H]||(S[H]=A(U).getModel(PATH_LABEL[H])):A(U).getModel(PATH_LABEL[H]):x[H]}return function(U,H){return d=U,g=null,y={},S={},s&&s(defaults({dataIndexInside:U,dataIndex:t.getRawIndex(U),actionType:H?H.type:null},f),c)};function P(U,H){return H==null&&(H=d),t.getStore().get(t.getDimensionIndex(U||0),H)}function M(U,H){H==null&&(H=d),U=U||0;var N=t.getDimensionInfo(U);if(!N){var G=t.getDimensionIndex(U);return G>=0?t.getStore().get(G,H):void 0}var R=t.get(N.name,H),B=N&&N.ordinalMeta;return B?B.categories[R]:R}function I(U,H){H==null&&(H=d);var N=t.getItemVisual(H,"style"),G=N&&N.fill,R=N&&N.opacity,B=C(H,NORMAL).getItemStyle();G!=null&&(B.fill=G),R!=null&&(B.opacity=R);var j={inheritColor:isString(G)?G:"#000"},W=E(H,NORMAL),X=createTextStyle(W,null,j,!1,!0);X.text=W.getShallow("show")?retrieve2(a.getFormattedLabel(H,NORMAL),getDefaultLabel(t,H)):null;var ee=createTextConfig(W,j,!1);return $(U,B),B=convertToEC4StyleForCustomSerise(B,X,ee),U&&L(B,U),B.legacy=!0,B}function D(U,H){H==null&&(H=d);var N=C(H,EMPHASIS).getItemStyle(),G=E(H,EMPHASIS),R=createTextStyle(G,null,null,!0,!0);R.text=G.getShallow("show")?retrieve3(a.getFormattedLabel(H,EMPHASIS),a.getFormattedLabel(H,NORMAL),getDefaultLabel(t,H)):null;var B=createTextConfig(G,null,!0);return $(U,N),N=convertToEC4StyleForCustomSerise(N,R,B),U&&L(N,U),N.legacy=!0,N}function L(U,H){for(var N in H)hasOwn(H,N)&&(U[N]=H[N])}function $(U,H){U&&(U.textFill&&(H.textFill=U.textFill),U.textPosition&&(H.textPosition=U.textPosition))}function O(U,H){if(H==null&&(H=d),hasOwn(STYLE_VISUAL_TYPE,U)){var N=t.getItemVisual(H,"style");return N?N[STYLE_VISUAL_TYPE[U]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,U))return t.getItemVisual(H,U)}function V(U){if(l.type==="cartesian2d"){var H=l.getBaseAxis();return getLayoutOnAxis(defaults({axis:H},U))}}function F(){return n.getCurrentSeriesIndices()}function z(U){return getFont(U,n)}}function wrapEncodeDef(a){var t={};return each$f(a.dimensions,function(n){var o=a.getDimensionInfo(n);if(!o.isExtraCoord){var s=o.coordDim,l=t[s]=t[s]||[];l[o.coordDimIndex]=a.getDimensionIndex(n)}}),t}function createOrUpdateItem(a,t,n,o,s,l,u){if(!o){l.remove(t);return}var c=doCreateOrUpdateEl(a,t,n,o,s,l);return c&&u.setItemGraphicEl(n,c),c&&toggleHoverEmphasis(c,o.focus,o.blurScope,o.emphasisDisabled),c}function doCreateOrUpdateEl(a,t,n,o,s,l){var u=-1,c=t;t&&doesElNeedRecreate(t,o,s)&&(u=indexOf(l.childrenRef(),t),t=null);var f=!t,d=t;d?d.clearStates():(d=createEl$1(o),c&&copyElement(c,d)),o.morph===!1?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(d,n,o,s,f,attachedTxInfoTmp),doCreateOrUpdateClipPath(d,n,o,s,f),updateElNormal(a,d,n,o,attachedTxInfoTmp,s,f),hasOwn(o,"info")&&(customInnerStore(d).info=o.info);for(var g=0;g<STATES.length;g++){var y=STATES[g];if(y!==NORMAL){var S=retrieveStateOption(o,y),_=retrieveStyleOptionOnState(o,S,y);updateElOnState(y,d,S,_,attachedTxInfoTmp)}}return updateZ(d,o,s),o.type==="group"&&mergeChildren(a,d,n,o,s),u>=0?l.replaceAt(d,u):l.add(d),d}function doesElNeedRecreate(a,t,n){var o=customInnerStore(a),s=t.type,l=t.shape,u=t.style;return n.isUniversalTransitionEnabled()||s!=null&&s!==o.customGraphicType||s==="path"&&hasOwnPathData(l)&&getPathData(l)!==o.customPathData||s==="image"&&hasOwn(u,"image")&&u.image!==o.customImagePath}function doCreateOrUpdateClipPath(a,t,n,o,s){var l=n.clipPath;if(l===!1)a&&a.getClipPath()&&a.removeClipPath();else if(l){var u=a.getClipPath();u&&doesElNeedRecreate(u,l,o)&&(u=null),u||(u=createEl$1(l),a.setClipPath(u)),updateElNormal(null,u,t,l,null,o,s)}}function doCreateOrUpdateAttachedTx(a,t,n,o,s,l){if(!a.isGroup){processTxInfo(n,null,l),processTxInfo(n,EMPHASIS,l);var u=l.normal.conOpt,c=l.emphasis.conOpt,f=l.blur.conOpt,d=l.select.conOpt;if(u!=null||c!=null||d!=null||f!=null){var g=a.getTextContent();if(u===!1)g&&a.removeTextContent();else{u=l.normal.conOpt=u||{type:"text"},g?g.clearStates():(g=createEl$1(u),a.setTextContent(g)),updateElNormal(null,g,t,u,null,o,s);for(var y=u&&u.style,S=0;S<STATES.length;S++){var _=STATES[S];if(_!==NORMAL){var x=l[_].conOpt;updateElOnState(_,g,x,retrieveStyleOptionOnState(u,x,_),null)}}y?g.dirty():g.markRedraw()}}}}function processTxInfo(a,t,n){var o=t?retrieveStateOption(a,t):a,s=t?retrieveStyleOptionOnState(a,o,EMPHASIS):a.style,l=a.type,u=o?o.textConfig:null,c=a.textContent,f=c?t?retrieveStateOption(c,t):c:null;if(s&&(n.isLegacy||isEC4CompatibleStyle(s,l,!!u,!!f))){n.isLegacy=!0;var d=convertFromEC4CompatibleStyle(s,l,!t);!u&&d.textConfig&&(u=d.textConfig),!f&&d.textContent&&(f=d.textContent)}if(!t&&f){var g=f;!g.type&&(g.type="text")}var y=t?n[t]:n.normal;y.cfg=u,y.conOpt=f}function retrieveStateOption(a,t){return t?a?a[t]:null:a}function retrieveStyleOptionOnState(a,t,n){var o=t&&t.style;return o==null&&n===EMPHASIS&&a&&(o=a.styleEmphasis),o}function mergeChildren(a,t,n,o,s){var l=o.children,u=l?l.length:0,c=o.$mergeChildren,f=c==="byName"||o.diffChildrenByName,d=c===!1;if(!(!u&&!f&&!d)){if(f){diffGroupChildren({api:a,oldChildren:t.children()||[],newChildren:l||[],dataIndex:n,seriesModel:s,group:t});return}d&&t.removeAll();for(var g=0;g<u;g++){var y=l[g],S=t.childAt(g);y?(y.ignore==null&&(y.ignore=!1),doCreateOrUpdateEl(a,S,n,y,s,t)):S.ignore=!0}for(var _=t.childCount()-1;_>=g;_--){var x=t.childAt(_);removeChildFromGroup(t,x,s)}}}function removeChildFromGroup(a,t,n){t&&applyLeaveTransition(t,customInnerStore(a).option,n)}function diffGroupChildren(a){new DataDiffer(a.oldChildren,a.newChildren,getKey,getKey,a).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(a,t){var n=a&&a.name;return n??GROUP_DIFF_PREFIX+t}function processAddUpdate(a,t){var n=this.context,o=a!=null?n.newChildren[a]:null,s=t!=null?n.oldChildren[t]:null;doCreateOrUpdateEl(n.api,s,n.dataIndex,o,n.seriesModel,n.group)}function processRemove(a){var t=this.context,n=t.oldChildren[a];n&&applyLeaveTransition(n,customInnerStore(n).option,t.seriesModel)}function getPathData(a){return a&&(a.pathData||a.d)}function hasOwnPathData(a){return a&&(hasOwn(a,"pathData")||hasOwn(a,"d"))}function install$r(a){a.registerChartView(CustomChartView),a.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(t,n,o,s){var l=n.get("value"),u=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=o,!(!s&&this._lastValue===l&&this._lastStatus===u)){this._lastValue=l,this._lastStatus=u;var c=this._group,f=this._handle;if(!u||u==="hide"){c&&c.hide(),f&&f.hide();return}c&&c.show(),f&&f.show();var d={};this.makeElOption(d,l,t,n,o);var g=d.graphicKey;g!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(t,n);if(!c)c=this._group=new Group$3,this.createPointerEl(c,d,t,n),this.createLabelEl(c,d,t,n),o.getZr().add(c);else{var S=curry$1(updateProps,n,y);this.updatePointerEl(c,d,S),this.updateLabelEl(c,d,S,n)}updateMandatoryProps(c,n,!0),this._renderHandle(l)}},a.prototype.remove=function(t){this.clear(t)},a.prototype.dispose=function(t){this.clear(t)},a.prototype.determineAnimation=function(t,n){var o=n.get("animation"),s=t.axis,l=s.type==="category",u=n.get("snap");if(!u&&!l)return!1;if(o==="auto"||o==null){var c=this.animationThreshold;if(l&&s.getBandWidth()>c)return!0;if(u){var f=getAxisInfo$1(t).seriesDataCount,d=s.getExtent();return Math.abs(d[0]-d[1])/f>c}return!1}return o===!0},a.prototype.makeElOption=function(t,n,o,s,l){},a.prototype.createPointerEl=function(t,n,o,s){var l=n.pointer;if(l){var u=inner$b(t).pointerEl=new graphic[l.type](clone$1(n.pointer));t.add(u)}},a.prototype.createLabelEl=function(t,n,o,s){if(n.label){var l=inner$b(t).labelEl=new ZRText(clone$1(n.label));t.add(l),updateLabelShowHide(l,s)}},a.prototype.updatePointerEl=function(t,n,o){var s=inner$b(t).pointerEl;s&&n.pointer&&(s.setStyle(n.pointer.style),o(s,{shape:n.pointer.shape}))},a.prototype.updateLabelEl=function(t,n,o,s){var l=inner$b(t).labelEl;l&&(l.setStyle(n.label.style),o(l,{x:n.label.x,y:n.label.y}),updateLabelShowHide(l,s))},a.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,o=this._api.getZr(),s=this._handle,l=n.getModel("handle"),u=n.get("status");if(!l.get("show")||!u||u==="hide"){s&&o.remove(s),this._handle=null;return}var c;this._handle||(c=!0,s=this._handle=createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){stop(d.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(s)),updateMandatoryProps(s,n,!1),s.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=l.get("size");isArray$2(f)||(f=[f,f]),s.scaleX=f[0]/2,s.scaleY=f[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,c)}},a.prototype._moveHandleToValue=function(t,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(t,n){var o=this._handle;if(o){this._dragging=!0;var s=this.updateHandleTransform(getHandleTransProps(o),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(getHandleTransProps(s)),inner$b(o).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),o=this._group,s=this._handle;n&&o&&(this._lastGraphicKey=null,o&&n.remove(o),s&&n.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(t,n,o){return o=o||0,{x:t[o],y:t[1-o],width:n[o],height:n[1-o]}},a}();function updateProps(a,t,n,o){propsEqual(inner$b(n).lastProp,o)||(inner$b(n).lastProp=o,t?updateProps$1(n,o,a):(n.stopAnimation(),n.attr(o)))}function propsEqual(a,t){if(isObject$3(a)&&isObject$3(t)){var n=!0;return each$f(t,function(o,s){n=n&&propsEqual(a[s],o)}),!!n}else return a===t}function updateLabelShowHide(a,t){a[t.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function updateMandatoryProps(a,t,n){var o=t.get("z"),s=t.get("zlevel");a&&a.traverse(function(l){l.type!=="group"&&(o!=null&&(l.z=o),s!=null&&(l.zlevel=s),l.silent=n)})}function buildElStyle(a){var t=a.get("type"),n=a.getModel(t+"Style"),o;return t==="line"?(o=n.getLineStyle(),o.fill=null):t==="shadow"&&(o=n.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(a,t,n,o,s){var l=n.get("value"),u=getValueLabel(l,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),c=n.getModel("label"),f=normalizeCssArray(c.get("padding")||0),d=c.getFont(),g=getBoundingRect(u,d),y=s.position,S=g.width+f[1]+f[3],_=g.height+f[0]+f[2],x=s.align;x==="right"&&(y[0]-=S),x==="center"&&(y[0]-=S/2);var b=s.verticalAlign;b==="bottom"&&(y[1]-=_),b==="middle"&&(y[1]-=_/2),confineInContainer(y,S,_,o);var T=c.get("backgroundColor");(!T||T==="auto")&&(T=t.get(["axisLine","lineStyle","color"])),a.label={x:y[0],y:y[1],style:createTextStyle(c,{text:u,font:d,fill:c.getTextColor(),padding:f,backgroundColor:T}),z2:10}}function confineInContainer(a,t,n,o){var s=o.getWidth(),l=o.getHeight();a[0]=Math.min(a[0]+t,s)-t,a[1]=Math.min(a[1]+n,l)-n,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function getValueLabel(a,t,n,o,s){a=t.scale.parse(a);var l=t.scale.getLabel({value:a},{precision:s.precision}),u=s.formatter;if(u){var c={value:getAxisRawValue(t,{value:a}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};each$f(o,function(f){var d=n.getSeriesByIndex(f.seriesIndex),g=f.dataIndexInside,y=d&&d.getDataParams(g);y&&c.seriesData.push(y)}),isString(u)?l=u.replace("{value}",l):isFunction(u)&&(l=u(c))}return l}function getTransformedPosition(a,t,n){var o=create$1();return rotate$1(o,o,n.rotation),translate(o,o,n.position),applyTransform([a.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(a,t,n,o,s,l){var u=AxisBuilder.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=s.get(["label","margin"]),buildLabelElOption(t,o,s,l,{position:getTransformedPosition(o.axis,a,n),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function makeLineShape(a,t,n){return n=n||0,{x1:a[n],y1:a[1-n],x2:t[n],y2:t[1-n]}}function makeRectShape(a,t,n){return n=n||0,{x:a[n],y:a[1-n],width:t[n],height:t[1-n]}}function makeSectorShape(a,t,n,o,s,l){return{cx:a,cy:t,r0:n,r:o,startAngle:s,endAngle:l,clockwise:!0}}var CartesianAxisPointer=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis,f=c.grid,d=l.get("type"),g=getCartesian(f,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(o,!0));if(d&&d!=="none"){var S=buildElStyle(l),_=pointerShapeBuilder$2[d](c,y,g);_.style=S,n.graphicKey=_.type,n.pointer=_}var x=layout$2(f.model,s);buildCartesianSingleLabelElOption(o,n,x,s,l,u)},t.prototype.getHandleTransform=function(n,o,s){var l=layout$2(o.axis.grid.model,o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,n,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,o,s,l){var u=s.axis,c=u.grid,f=u.getGlobalExtent(!0),d=getCartesian(c,u).getOtherAxis(u).getGlobalExtent(),g=u.dim==="x"?0:1,y=[n.x,n.y];y[g]+=o[g],y[g]=Math.min(f[1],y[g]),y[g]=Math.max(f[0],y[g]);var S=(d[1]+d[0])/2,_=[S,S];_[g]=y[g];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:n.rotation,cursorPoint:_,tooltipOption:x[g]}},t}(BaseAxisPointer);function getCartesian(a,t){var n={};return n[t.dim+"AxisIndex"]=t.index,a.getCartesian(n)}var pointerShapeBuilder$2={line:function(a,t,n){var o=makeLineShape([t,n[0]],[t,n[1]],getAxisDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,t,n){var o=Math.max(1,a.getBandWidth()),s=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-o/2,n[0]],[o,s],getAxisDimIndex(a))}}};function getAxisDimIndex(a){return a.dim==="x"?0:1}var AxisPointerModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register(a,t,n){if(!env.node){var o=t.getZr();inner$a(o).records||(inner$a(o).records={}),initGlobalListeners(o,t);var s=inner$a(o).records[a]||(inner$a(o).records[a]={});s.handler=n}}function initGlobalListeners(a,t){if(inner$a(a).initialized)return;inner$a(a).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(o,s){a.on(o,function(l){var u=makeDispatchAction$1(t);each$8(inner$a(a).records,function(c){c&&s(c,l,u.dispatchAction)}),dispatchTooltipFinally(u.pendings,t)})}}function dispatchTooltipFinally(a,t){var n=a.showTip.length,o=a.hideTip.length,s;n?s=a.showTip[n-1]:o&&(s=a.hideTip[o-1]),s&&(s.dispatchAction=null,t.dispatchAction(s))}function onLeave(a,t,n){a.handler("leave",null,n)}function doEnter(a,t,n,o){t.handler(a,n,o)}function makeDispatchAction$1(a){var t={showTip:[],hideTip:[]},n=function(o){var s=t[o.type];s?s.push(o):(o.dispatchAction=n,a.dispatchAction(o))};return{dispatchAction:n,pendings:t}}function unregister(a,t){if(!env.node){var n=t.getZr(),o=(inner$a(n).records||{})[a];o&&(inner$a(n).records[a]=null)}}var AxisPointerView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=o.getComponent("tooltip"),u=n.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";register("axisPointer",s,function(c,f,d){u!=="none"&&(c==="leave"||u.indexOf(c)>=0)&&d({type:"updateAxisPointer",currTrigger:c,x:f&&f.offsetX,y:f&&f.offsetY})})},t.prototype.remove=function(n,o){unregister("axisPointer",o)},t.prototype.dispose=function(n,o){unregister("axisPointer",o)},t.type="axisPointer",t}(ComponentView);function findPointFromSeries(a,t){var n=[],o=a.seriesIndex,s;if(o==null||!(s=t.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),u=queryDataIndex(l,a);if(u==null||u<0||isArray$2(u))return{point:[]};var c=l.getItemGraphicEl(u),f=s.coordinateSystem;if(s.getTooltipPosition)n=s.getTooltipPosition(u)||[];else if(f&&f.dataToPoint)if(a.isStacked){var d=f.getBaseAxis(),g=f.getOtherAxis(d),y=g.dim,S=d.dim,_=y==="x"||y==="radius"?1:0,x=l.mapDimension(S),b=[];b[_]=l.get(x,u),b[1-_]=l.get(l.getCalculationInfo("stackResultDimension"),u),n=f.dataToPoint(b)||[]}else n=f.dataToPoint(l.getValues(map$1(f.dimensions,function(A){return l.mapDimension(A)}),u))||[];else if(c){var T=c.getBoundingRect().clone();T.applyTransform(c.transform),n=[T.x+T.width/2,T.y+T.height/2]}return{point:n,el:c}}var inner$9=makeInner();function axisTrigger(a,t,n){var o=a.currTrigger,s=[a.x,a.y],l=a,u=a.dispatchAction||bind$1(n.dispatchAction,n),c=t.getComponent("axisPointer").coordSysAxesInfo;if(c){illegalPoint(s)&&(s=findPointFromSeries({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},t).point);var f=illegalPoint(s),d=l.axesInfo,g=c.axesInfo,y=o==="leave"||illegalPoint(s),S={},_={},x={list:[],map:{}},b={showPointer:curry$1(showPointer,_),showTooltip:curry$1(showTooltip,x)};each$f(c.coordSysMap,function(A,C){var E=f||A.containPoint(s);each$f(c.coordSysAxesInfo[C],function(P,M){var I=P.axis,D=findInputAxisInfo(d,P);if(!y&&E&&(!d||D)){var L=D&&D.value;L==null&&!f&&(L=I.pointToData(s)),L!=null&&processOnAxis(P,L,b,!1,S)}})});var T={};return each$f(g,function(A,C){var E=A.linkGroup;E&&!_[C]&&each$f(E.axesInfo,function(P,M){var I=_[M];if(P!==A&&I){var D=I.value;E.mapper&&(D=A.axis.scale.parse(E.mapper(D,makeMapperParam(P),makeMapperParam(A)))),T[A.key]=D}})}),each$f(T,function(A,C){processOnAxis(g[C],A,b,!0,S)}),updateModelActually(_,g,S),dispatchTooltipActually(x,s,a,u),dispatchHighDownActually(g,u,n),S}}function processOnAxis(a,t,n,o,s){var l=a.axis;if(!(l.scale.isBlank()||!l.containData(t))){if(!a.involveSeries){n.showPointer(a,t);return}var u=buildPayloadsBySeries(t,a),c=u.payloadBatch,f=u.snapToValue;c[0]&&s.seriesIndex==null&&extend(s,c[0]),!o&&a.snap&&l.containData(f)&&f!=null&&(t=f),n.showPointer(a,t,c),n.showTooltip(a,u,f)}}function buildPayloadsBySeries(a,t){var n=t.axis,o=n.dim,s=a,l=[],u=Number.MAX_VALUE,c=-1;return each$f(t.seriesModels,function(f,d){var g=f.getData().mapDimensionsAll(o),y,S;if(f.getAxisTooltipData){var _=f.getAxisTooltipData(g,a,n);S=_.dataIndices,y=_.nestestValue}else{if(S=f.getData().indicesOfNearest(g[0],a,n.type==="category"?.5:null),!S.length)return;y=f.getData().get(g[0],S[0])}if(!(y==null||!isFinite(y))){var x=a-y,b=Math.abs(x);b<=u&&((b<u||x>=0&&c<0)&&(u=b,c=x,s=y,l.length=0),each$f(S,function(T){l.push({seriesIndex:f.seriesIndex,dataIndexInside:T,dataIndex:f.getData().getRawIndex(T)})}))}}),{payloadBatch:l,snapToValue:s}}function showPointer(a,t,n,o){a[t.key]={value:n,payloadBatch:o}}function showTooltip(a,t,n,o){var s=n.payloadBatch,l=t.axis,u=l.model,c=t.axisPointerModel;if(!(!t.triggerTooltip||!s.length)){var f=t.coordSys.model,d=makeKey(f),g=a.map[d];g||(g=a.map[d]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},a.list.push(g)),g.dataByAxis.push({axisDim:l.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:o,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function updateModelActually(a,t,n){var o=n.axesInfo=[];each$f(t,function(s,l){var u=s.axisPointerModel.option,c=a[l];c?(!s.useHandle&&(u.status="show"),u.value=c.value,u.seriesDataIndices=(c.payloadBatch||[]).slice()):!s.useHandle&&(u.status="hide"),u.status==="show"&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:u.value})})}function dispatchTooltipActually(a,t,n,o){if(illegalPoint(t)||!a.list.length){o({type:"hideTip"});return}var s=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:a.list})}function dispatchHighDownActually(a,t,n){var o=n.getZr(),s="axisPointerLastHighlights",l=inner$9(o)[s]||{},u=inner$9(o)[s]={};each$f(a,function(d,g){var y=d.axisPointerModel.option;y.status==="show"&&d.triggerEmphasis&&each$f(y.seriesDataIndices,function(S){var _=S.seriesIndex+" | "+S.dataIndex;u[_]=S})});var c=[],f=[];each$f(l,function(d,g){!u[g]&&f.push(d)}),each$f(u,function(d,g){!l[g]&&c.push(d)}),f.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:f}),c.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:c})}function findInputAxisInfo(a,t){for(var n=0;n<(a||[]).length;n++){var o=a[n];if(t.axis.dim===o.axisDim&&t.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(a){var t=a.axis.model,n={},o=n.axisDim=a.axis.dim;return n.axisIndex=n[o+"AxisIndex"]=t.componentIndex,n.axisName=n[o+"AxisName"]=t.name,n.axisId=n[o+"AxisId"]=t.id,n}function illegalPoint(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function install$q(a){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),a.registerComponentModel(AxisPointerModel),a.registerComponentView(AxisPointerView),a.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!isArray$2(n)&&(t.axisPointer.link=[n])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=collect(t,n)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(a){use(install$N),use(install$q)}var PolarAxisPointer=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis;c.dim==="angle"&&(this.animationThreshold=Math.PI/18);var f=c.polar,d=f.getOtherAxis(c),g=d.getExtent(),y=c.dataToCoord(o),S=l.get("type");if(S&&S!=="none"){var _=buildElStyle(l),x=pointerShapeBuilder$1[S](c,f,y,g);x.style=_,n.graphicKey=x.type,n.pointer=x}var b=l.get(["label","margin"]),T=getLabelPosition(o,s,l,f,b);buildLabelElOption(n,s,l,u,T)},t}(BaseAxisPointer);function getLabelPosition(a,t,n,o,s){var l=t.axis,u=l.dataToCoord(a),c=o.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var f=o.getRadiusAxis().getExtent(),d,g,y;if(l.dim==="radius"){var S=create$1();rotate$1(S,S,c),translate(S,S,[o.cx,o.cy]),d=applyTransform([u,-s],S);var _=t.getModel("axisLabel").get("rotate")||0,x=AxisBuilder.innerTextLayout(c,_*Math.PI/180,-1);g=x.textAlign,y=x.textVerticalAlign}else{var b=f[1];d=o.coordToPoint([b+s,u]);var T=o.cx,A=o.cy;g=Math.abs(d[0]-T)/b<.3?"center":d[0]>T?"left":"right",y=Math.abs(d[1]-A)/b<.3?"middle":d[1]>A?"top":"bottom"}return{position:d,align:g,verticalAlign:y}}var pointerShapeBuilder$1={line:function(a,t,n,o){return a.dim==="angle"?{type:"Line",shape:makeLineShape(t.coordToPoint([o[0],n]),t.coordToPoint([o[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(a,t,n,o){var s=Math.max(1,a.getBandWidth()),l=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:makeSectorShape(t.cx,t.cy,o[0],o[1],(-n-s/2)*l,(-n+s/2)*l)}:{type:"Sector",shape:makeSectorShape(t.cx,t.cy,n-s/2,n+s/2,0,Math.PI*2)}}},PolarModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.findAxisModel=function(n){var o,s=this.ecModel;return s.eachComponent(n,function(l){l.getCoordSysModel()===this&&(o=l)},this),o},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(ComponentModel),PolarAxisModel=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},t.type="polarAxis",t}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="angleAxis",t}(PolarAxisModel),RadiusAxisModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="radiusAxis",t}(PolarAxisModel),RadiusAxis=function(a){__extends$1(t,a);function t(n,o){return a.call(this,"radius",n,o)||this}return t.prototype.pointToData=function(n,o){return this.polar.pointToData(n,o)[this.dim==="radius"?0:1]},t}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(a){__extends$1(t,a);function t(n,o){return a.call(this,"angle",n,o||[0,360])||this}return t.prototype.pointToData=function(n,o){return this.polar.pointToData(n,o)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var n=this,o=n.getLabelModel(),s=n.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var c=l[0],f=n.dataToCoord(c+1)-n.dataToCoord(c),d=Math.abs(f),g=getBoundingRect(c==null?"":c+"",o.getFont(),"center","top"),y=Math.max(g.height,7),S=y/d;isNaN(S)&&(S=1/0);var _=Math.max(0,Math.floor(S)),x=inner$8(n.model),b=x.lastAutoInterval,T=x.lastTickCount;return b!=null&&T!=null&&Math.abs(b-_)<=1&&Math.abs(T-u)<=1&&b>_?_=b:(x.lastTickCount=u,x.lastAutoInterval=_),_},t}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function a(t){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},a.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},a.prototype.getAxis=function(t){var n="_"+t+"Axis";return this[n]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(t){var n=[],o=this._angleAxis,s=this._radiusAxis;return o.scale.type===t&&n.push(o),s.scale.type===t&&n.push(s),n},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(t){var n=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},a.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},a.prototype.pointToData=function(t,n){var o=this.pointToCoord(t);return[this._radiusAxis.radiusToData(o[0],n),this._angleAxis.angleToData(o[1],n)]},a.prototype.pointToCoord=function(t){var n=t[0]-this.cx,o=t[1]-this.cy,s=this.getAngleAxis(),l=s.getExtent(),u=Math.min(l[0],l[1]),c=Math.max(l[0],l[1]);s.inverse?u=c-360:c=u+360;var f=Math.sqrt(n*n+o*o);n/=f,o/=f;for(var d=Math.atan2(-o,n)/Math.PI*180,g=d<u?1:-1;d<u||d>c;)d+=g*360;return[f,d]},a.prototype.coordToPoint=function(t){var n=t[0],o=t[1]/180*Math.PI,s=Math.cos(o)*n+this.cx,l=-Math.sin(o)*n+this.cy;return[s,l]},a.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis(),o=n.getExtent().slice();o[0]>o[1]&&o.reverse();var s=t.getExtent(),l=Math.PI/180,u=1e-4;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-s[0]*l,endAngle:-s[1]*l,clockwise:t.inverse,contain:function(c,f){var d=c-this.cx,g=f-this.cy,y=d*d+g*g,S=this.r,_=this.r0;return S!==_&&y-u<=S*S&&y+u>=_*_}}},a.prototype.convertToPixel=function(t,n,o){var s=getCoordSys$2(n);return s===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,n,o){var s=getCoordSys$2(n);return s===this?this.pointToData(o):null},a}();function getCoordSys$2(a){var t=a.seriesModel,n=a.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function resizePolar(a,t,n){var o=t.get("center"),s=n.getWidth(),l=n.getHeight();a.cx=parsePercent(o[0],s),a.cy=parsePercent(o[1],l);var u=a.getRadiusAxis(),c=Math.min(s,l)/2,f=t.get("radius");f==null?f=[0,"100%"]:isArray$2(f)||(f=[0,f]);var d=[parsePercent(f[0],c),parsePercent(f[1],c)];u.inverse?u.setExtent(d[1],d[0]):u.setExtent(d[0],d[1])}function updatePolarScale(a,t){var n=this,o=n.getAngleAxis(),s=n.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),a.eachSeries(function(c){if(c.coordinateSystem===n){var f=c.getData();each$f(getDataDimensionsOnAxis(f,"radius"),function(d){s.scale.unionExtentFromData(f,d)}),each$f(getDataDimensionsOnAxis(f,"angle"),function(d){o.scale.unionExtentFromData(f,d)})}}),niceScaleExtent(o.scale,o.model),niceScaleExtent(s.scale,s.model),o.type==="category"&&!o.onBand){var l=o.getExtent(),u=360/o.scale.count();o.inverse?l[1]+=u:l[1]-=u,o.setExtent(l[0],l[1])}}function isAngleAxisModel(a){return a.mainType==="angleAxis"}function setAxis(a,t){var n;if(a.type=t.get("type"),a.scale=createScaleByModel$1(t),a.onBand=t.get("boundaryGap")&&a.type==="category",a.inverse=t.get("inverse"),isAngleAxisModel(t)){a.inverse=a.inverse!==t.get("clockwise");var o=t.get("startAngle"),s=(n=t.get("endAngle"))!==null&&n!==void 0?n:o+(a.inverse?-360:360);a.setExtent(o,s)}t.axis=a,a.model=t}var polarCreator={dimensions:polarDimensions,create:function(a,t){var n=[];return a.eachComponent("polar",function(o,s){var l=new Polar(s+"");l.update=updatePolarScale;var u=l.getRadiusAxis(),c=l.getAngleAxis(),f=o.findAxisModel("radiusAxis"),d=o.findAxisModel("angleAxis");setAxis(u,f),setAxis(c,d),resizePolar(l,o,t),n.push(l),o.coordinateSystem=l,l.model=o}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var s=o.getReferringComponents("polar",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),n}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(a,t,n){t[1]>t[0]&&(t=t.slice().reverse());var o=a.coordToPoint([t[0],n]),s=a.coordToPoint([t[1],n]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function getRadiusIdx(a){var t=a.getRadiusAxis();return t.inverse?0:1}function fixAngleOverlap(a){var t=a[0],n=a[a.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&a.pop()}var AngleAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,o){if(this.group.removeAll(),!!n.get("show")){var s=n.axis,l=s.polar,u=l.getRadiusAxis().getExtent(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),d=map$1(s.getViewLabels(),function(g){g=clone$4(g);var y=s.scale,S=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=s.dataToCoord(S),g});fixAngleOverlap(d),fixAngleOverlap(c),each$f(elementList,function(g){n.get([g,"show"])&&(!s.scale.isBlank()||g==="axisLine")&&angelAxisElementsBuilders[g](this.group,n,l,c,f,u,d)},this)}},t.type="angleAxis",t}(AxisView),angelAxisElementsBuilders={axisLine:function(a,t,n,o,s,l){var u=t.getModel(["axisLine","lineStyle"]),c=n.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),g=getRadiusIdx(n),y=g?0:1,S,_=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l[y]===0?S=new graphic[_]({shape:{cx:n.cx,cy:n.cy,r:l[g],startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse},style:u.getLineStyle(),z2:1,silent:!0}):S=new Ring({shape:{cx:n.cx,cy:n.cy,r:l[g],r0:l[y]},style:u.getLineStyle(),z2:1,silent:!0}),S.style.fill=null,a.add(S)},axisTick:function(a,t,n,o,s,l){var u=t.getModel("axisTick"),c=(u.get("inside")?-1:1)*u.get("length"),f=l[getRadiusIdx(n)],d=map$1(o,function(g){return new Line$1({shape:getAxisLineShape(n,[f,f+c],g.coord)})});a.add(mergePath(d,{style:defaults(u.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,t,n,o,s,l){if(s.length){for(var u=t.getModel("axisTick"),c=t.getModel("minorTick"),f=(u.get("inside")?-1:1)*c.get("length"),d=l[getRadiusIdx(n)],g=[],y=0;y<s.length;y++)for(var S=0;S<s[y].length;S++)g.push(new Line$1({shape:getAxisLineShape(n,[d,d+f],s[y][S].coord)}));a.add(mergePath(g,{style:defaults(c.getModel("lineStyle").getLineStyle(),defaults(u.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,t,n,o,s,l,u){var c=t.getCategories(!0),f=t.getModel("axisLabel"),d=f.get("margin"),g=t.get("triggerEvent");each$f(u,function(y,S){var _=f,x=y.tickValue,b=l[getRadiusIdx(n)],T=n.coordToPoint([b+d,y.coord]),A=n.cx,C=n.cy,E=Math.abs(T[0]-A)/b<.3?"center":T[0]>A?"left":"right",P=Math.abs(T[1]-C)/b<.3?"middle":T[1]>C?"top":"bottom";if(c&&c[x]){var M=c[x];isObject$3(M)&&M.textStyle&&(_=new Model(M.textStyle,f,f.ecModel))}var I=new ZRText({silent:AxisBuilder.isLabelSilent(t),style:createTextStyle(_,{x:T[0],y:T[1],fill:_.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:E,verticalAlign:P})});if(a.add(I),g){var D=AxisBuilder.makeAxisEventDataBase(t);D.targetType="axisLabel",D.value=y.rawLabel,getECData(I).eventData=D}},this)},splitLine:function(a,t,n,o,s,l){var u=t.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color"),d=0;f=f instanceof Array?f:[f];for(var g=[],y=0;y<o.length;y++){var S=d++%f.length;g[S]=g[S]||[],g[S].push(new Line$1({shape:getAxisLineShape(n,l,o[y].coord)}))}for(var y=0;y<g.length;y++)a.add(mergePath(g[y],{style:defaults({stroke:f[y%f.length]},c.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(a,t,n,o,s,l){if(s.length){for(var u=t.getModel("minorSplitLine"),c=u.getModel("lineStyle"),f=[],d=0;d<s.length;d++)for(var g=0;g<s[d].length;g++)f.push(new Line$1({shape:getAxisLineShape(n,l,s[d][g].coord)}));a.add(mergePath(f,{style:c.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(a,t,n,o,s,l){if(o.length){var u=t.getModel("splitArea"),c=u.getModel("areaStyle"),f=c.get("color"),d=0;f=f instanceof Array?f:[f];for(var g=[],y=Math.PI/180,S=-o[0].coord*y,_=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),b=t.get("clockwise"),T=1,A=o.length;T<=A;T++){var C=T===A?o[0].coord:o[T].coord,E=d++%f.length;g[E]=g[E]||[],g[E].push(new Sector({shape:{cx:n.cx,cy:n.cy,r0:_,r:x,startAngle:S,endAngle:-C*y,clockwise:b},silent:!0})),S=-C*y}for(var T=0;T<g.length;T++)a.add(mergePath(g[T],{style:defaults({fill:f[T%f.length]},c.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,o){if(this.group.removeAll(),!!n.get("show")){var s=this._axisGroup,l=this._axisGroup=new Group$3;this.group.add(l);var u=n.axis,c=u.polar,f=c.getAngleAxis(),d=u.getTicksCoords(),g=u.getMinorTicksCoords(),y=f.getExtent()[0],S=u.getExtent(),_=layoutAxis(c,n,y),x=new AxisBuilder(n,_);each$f(axisBuilderAttrs$1,x.add,x),l.add(x.getGroup()),groupTransition(s,l,n),each$f(selfBuilderAttrs$1,function(b){n.get([b,"show"])&&!u.scale.isBlank()&&axisElementBuilders$1[b](this.group,n,c,y,S,d,g)},this)}},t.type="radiusAxis",t}(AxisView),axisElementBuilders$1={splitLine:function(a,t,n,o,s,l){var u=t.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color"),d=0,g=n.getAngleAxis(),y=Math.PI/180,S=g.getExtent(),_=Math.abs(S[1]-S[0])===360?"Circle":"Arc";f=f instanceof Array?f:[f];for(var x=[],b=0;b<l.length;b++){var T=d++%f.length;x[T]=x[T]||[],x[T].push(new graphic[_]({shape:{cx:n.cx,cy:n.cy,r:Math.max(l[b].coord,0),startAngle:-S[0]*y,endAngle:-S[1]*y,clockwise:g.inverse}}))}for(var b=0;b<x.length;b++)a.add(mergePath(x[b],{style:defaults({stroke:f[b%f.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(a,t,n,o,s,l,u){if(u.length){for(var c=t.getModel("minorSplitLine"),f=c.getModel("lineStyle"),d=[],g=0;g<u.length;g++)for(var y=0;y<u[g].length;y++)d.push(new Circle({shape:{cx:n.cx,cy:n.cy,r:u[g][y].coord}}));a.add(mergePath(d,{style:defaults({fill:null},f.getLineStyle()),silent:!0}))}},splitArea:function(a,t,n,o,s,l){if(l.length){var u=t.getModel("splitArea"),c=u.getModel("areaStyle"),f=c.get("color"),d=0;f=f instanceof Array?f:[f];for(var g=[],y=l[0].coord,S=1;S<l.length;S++){var _=d++%f.length;g[_]=g[_]||[],g[_].push(new Sector({shape:{cx:n.cx,cy:n.cy,r0:y,r:l[S].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[S].coord}for(var S=0;S<g.length;S++)a.add(mergePath(g[S],{style:defaults({fill:f[S%f.length]},c.getAreaStyle()),silent:!0}))}}};function layoutAxis(a,t,n){return{position:[a.cx,a.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function getAxisKey(a,t){return t.dim+a.model.componentIndex}function barLayoutPolar(a,t,n){var o={},s=calRadialBar(filter$1(t.getSeriesByType(a),function(l){return!t.isSeriesFiltered(l)&&l.coordinateSystem&&l.coordinateSystem.type==="polar"}));t.eachSeriesByType(a,function(l){if(l.coordinateSystem.type==="polar"){var u=l.getData(),c=l.coordinateSystem,f=c.getBaseAxis(),d=getAxisKey(c,f),g=getSeriesStackId(l),y=s[d][g],S=y.offset,_=y.width,x=c.getOtherAxis(f),b=l.coordinateSystem.cx,T=l.coordinateSystem.cy,A=l.get("barMinHeight")||0,C=l.get("barMinAngle")||0;o[g]=o[g]||[];for(var E=u.mapDimension(x.dim),P=u.mapDimension(f.dim),M=isDimensionStacked(u,E),I=f.dim!=="radius"||!l.get("roundCap",!0),D=x.model,L=D.get("startValue"),$=x.dataToCoord(L||0),O=0,V=u.count();O<V;O++){var F=u.get(E,O),z=u.get(P,O),U=F>=0?"p":"n",H=$;M&&(o[g][z]||(o[g][z]={p:$,n:$}),H=o[g][z][U]);var N=void 0,G=void 0,R=void 0,B=void 0;if(x.dim==="radius"){var j=x.dataToCoord(F)-$,W=f.dataToCoord(z);Math.abs(j)<A&&(j=(j<0?-1:1)*A),N=H,G=H+j,R=W-S,B=R-_,M&&(o[g][z][U]=G)}else{var X=x.dataToCoord(F,I)-$,ee=f.dataToCoord(z);Math.abs(X)<C&&(X=(X<0?-1:1)*C),N=ee+S,G=N+_,R=H,B=H+X,M&&(o[g][z][U]=B)}u.setItemLayout(O,{cx:b,cy:T,r0:N,r:G,startAngle:-R*Math.PI/180,endAngle:-B*Math.PI/180,clockwise:R>=B})}}})}function calRadialBar(a){var t={};each$f(a,function(o,s){var l=o.getData(),u=o.coordinateSystem,c=u.getBaseAxis(),f=getAxisKey(u,c),d=c.getExtent(),g=c.type==="category"?c.getBandWidth():Math.abs(d[1]-d[0])/l.count(),y=t[f]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=y.stacks;t[f]=y;var _=getSeriesStackId(o);S[_]||y.autoWidthCount++,S[_]=S[_]||{width:0,maxWidth:0};var x=parsePercent(o.get("barWidth"),g),b=parsePercent(o.get("barMaxWidth"),g),T=o.get("barGap"),A=o.get("barCategoryGap");x&&!S[_].width&&(x=Math.min(y.remainedWidth,x),S[_].width=x,y.remainedWidth-=x),b&&(S[_].maxWidth=b),T!=null&&(y.gap=T),A!=null&&(y.categoryGap=A)});var n={};return each$f(t,function(o,s){n[s]={};var l=o.stacks,u=o.bandWidth,c=parsePercent(o.categoryGap,u),f=parsePercent(o.gap,1),d=o.remainedWidth,g=o.autoWidthCount,y=(d-c)/(g+(g-1)*f);y=Math.max(y,0),each$f(l,function(b,T){var A=b.maxWidth;A&&A<y&&(A=Math.min(A,d),b.width&&(A=Math.min(A,b.width)),d-=A,b.width=A,g--)}),y=(d-c)/(g+(g-1)*f),y=Math.max(y,0);var S=0,_;each$f(l,function(b,T){b.width||(b.width=y),_=b,S+=b.width*(1+f)}),_&&(S-=_.width*f);var x=-S/2;each$f(l,function(b,T){n[s][T]=n[s][T]||{offset:x,width:b.width},x+=b.width*(1+f)})}),n}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="polar",t}(ComponentView);function install$o(a){use(install$q),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),a.registerCoordinateSystem("polar",polarCreator),a.registerComponentModel(PolarModel),a.registerComponentView(PolarView),axisModelCreator(a,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(a,"radius",RadiusAxisModel,radiusAxisExtraOption),a.registerComponentView(AngleAxisView),a.registerComponentView(RadiusAxisView),a.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(a,t){t=t||{};var n=a.coordinateSystem,o=a.axis,s={},l=o.position,u=o.orient,c=n.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={horizontal:{top:f[2],bottom:f[3]},vertical:{left:f[0],right:f[1]}};s.position=[u==="vertical"?d.vertical[l]:f[0],u==="horizontal"?d.horizontal[l]:f[3]];var g={horizontal:0,vertical:1};s.rotation=Math.PI/2*g[u];var y={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=y[l],a.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(t.labelInside,a.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var S=t.rotate;return S==null&&(S=a.get(["axisLabel","rotate"])),s.labelRotation=l==="top"?-S:S,s.z2=1,s}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return t.prototype.render=function(n,o,s,l){var u=this.group;u.removeAll();var c=this._axisGroup;this._axisGroup=new Group$3;var f=layout$1(n),d=new AxisBuilder(n,f);each$f(axisBuilderAttrs,d.add,d),u.add(this._axisGroup),u.add(d.getGroup()),each$f(selfBuilderAttrs,function(g){n.get([g,"show"])&&axisElementBuilders[g](this,this.group,this._axisGroup,n)},this),groupTransition(c,this._axisGroup,n),a.prototype.render.call(this,n,o,s,l)},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="singleAxis",t}(AxisView),axisElementBuilders={splitLine:function(a,t,n,o){var s=o.axis;if(!s.scale.isBlank()){var l=o.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("color");c=c instanceof Array?c:[c];for(var f=u.get("width"),d=o.coordinateSystem.getRect(),g=s.isHorizontal(),y=[],S=0,_=s.getTicksCoords({tickModel:l}),x=[],b=[],T=0;T<_.length;++T){var A=s.toGlobalCoord(_[T].coord);g?(x[0]=A,x[1]=d.y,b[0]=A,b[1]=d.y+d.height):(x[0]=d.x,x[1]=A,b[0]=d.x+d.width,b[1]=A);var C=new Line$1({shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},silent:!0});subPixelOptimizeLine(C.shape,f);var E=S++%c.length;y[E]=y[E]||[],y[E].push(C)}for(var P=u.getLineStyle(["color"]),T=0;T<y.length;++T)t.add(mergePath(y[T],{style:defaults({stroke:c[T%c.length]},P),silent:!0}))}},splitArea:function(a,t,n,o){rectCoordAxisBuildSplitArea(a,n,o,o)}},SingleAxisModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(a){__extends$1(t,a);function t(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.type=l||"value",c.position=u||"bottom",c}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.pointToData=function(n,o){return this.coordinateSystem.pointToData(n)[0]},t}(Axis),singleDimensions=["single"],Single=function(){function a(t,n,o){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,o)}return a.prototype._init=function(t,n,o){var s=this.dimension,l=new SingleAxis(s,createScaleByModel$1(t),[0,0],t.get("type"),t.get("position")),u=l.type==="category";l.onBand=u&&t.get("boundaryGap"),l.inverse=t.get("inverse"),l.orient=t.get("orient"),t.axis=l,l.model=t,l.coordinateSystem=this,this._axis=l},a.prototype.update=function(t,n){t.eachSeries(function(o){if(o.coordinateSystem===this){var s=o.getData();each$f(s.mapDimensionsAll(this.dimension),function(l){this._axis.scale.unionExtentFromData(s,l)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(t,n){this._rect=getLayoutRect({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,o=n.isHorizontal(),s=o?[0,t.width]:[0,t.height],l=n.inverse?1:0;n.setExtent(s[l],s[1-l]),this._updateAxisTransform(n,o?t.x:t.y)},a.prototype._updateAxisTransform=function(t,n){var o=t.getExtent(),s=o[0]+o[1],l=t.isHorizontal();t.toGlobalCoord=l?function(u){return u+n}:function(u){return s-u+n},t.toLocalCoord=l?function(u){return u-n}:function(u){return s-u+n}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(t){var n=this.getRect(),o=this.getAxis(),s=o.orient;return s==="horizontal"?o.contain(o.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:o.contain(o.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},a.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient==="horizontal"?0:1]))]},a.prototype.dataToPoint=function(t){var n=this.getAxis(),o=this.getRect(),s=[],l=n.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),s[l]=n.toGlobalCoord(n.dataToCoord(+t)),s[1-l]=l===0?o.y+o.height/2:o.x+o.width/2,s},a.prototype.convertToPixel=function(t,n,o){var s=getCoordSys$1(n);return s===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,n,o){var s=getCoordSys$1(n);return s===this?this.pointToData(o):null},a}();function getCoordSys$1(a){var t=a.seriesModel,n=a.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function create(a,t){var n=[];return a.eachComponent("singleAxis",function(o,s){var l=new Single(o,a,t);l.name="single_"+s,l.resize(o,t),o.coordinateSystem=l,n.push(l)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var s=o.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];o.coordinateSystem=s&&s.coordinateSystem}}),n}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis,f=c.coordinateSystem,d=getGlobalExtent(f,1-getPointDimIndex(c)),g=f.dataToPoint(o)[0],y=l.get("type");if(y&&y!=="none"){var S=buildElStyle(l),_=pointerShapeBuilder[y](c,g,d);_.style=S,n.graphicKey=_.type,n.pointer=_}var x=layout$1(s);buildCartesianSingleLabelElOption(o,n,x,s,l,u)},t.prototype.getHandleTransform=function(n,o,s){var l=layout$1(o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,n,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,o,s,l){var u=s.axis,c=u.coordinateSystem,f=getPointDimIndex(u),d=getGlobalExtent(c,f),g=[n.x,n.y];g[f]+=o[f],g[f]=Math.min(d[1],g[f]),g[f]=Math.max(d[0],g[f]);var y=getGlobalExtent(c,1-f),S=(y[1]+y[0])/2,_=[S,S];return _[f]=g[f],{x:g[0],y:g[1],rotation:n.rotation,cursorPoint:_,tooltipOption:{verticalAlign:"middle"}}},t}(BaseAxisPointer),pointerShapeBuilder={line:function(a,t,n){var o=makeLineShape([t,n[0]],[t,n[1]],getPointDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,t,n){var o=a.getBandWidth(),s=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-o/2,n[0]],[o,s],getPointDimIndex(a))}}};function getPointDimIndex(a){return a.isHorizontal()?0:1}function getGlobalExtent(a,t){var n=a.getRect();return[n[XY$1[t]],n[XY$1[t]]+n[WH$1[t]]]}var SingleView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="single",t}(ComponentView);function install$n(a){use(install$q),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),a.registerComponentView(SingleView),a.registerComponentView(SingleAxisView),a.registerComponentModel(SingleAxisModel),axisModelCreator(a,"single",SingleAxisModel,SingleAxisModel.defaultOption),a.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o,s){var l=getLayoutParams(n);a.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(n,l)},t.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,n)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(ComponentModel);function mergeAndNormalizeLayoutParams$1(a,t){var n=a.cellSize,o;isArray$2(n)?o=n:o=a.cellSize=[n,n],o.length===1&&(o[1]=o[0]);var s=map$1([0,1],function(l){return sizeCalculable(t,l)&&(o[l]="auto"),o[l]!=null&&o[l]!=="auto"});mergeLayoutParam(a,t,{type:"box",ignoreSize:s})}var CalendarView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){var l=this.group;l.removeAll();var u=n.coordinateSystem,c=u.getRangeInfo(),f=u.getOrient(),d=o.getLocaleModel();this._renderDayRect(n,c,l),this._renderLines(n,c,f,l),this._renderYearText(n,c,f,l),this._renderMonthText(n,d,f,l),this._renderWeekText(n,d,c,f,l)},t.prototype._renderDayRect=function(n,o,s){for(var l=n.coordinateSystem,u=n.getModel("itemStyle").getItemStyle(),c=l.getCellWidth(),f=l.getCellHeight(),d=o.start.time;d<=o.end.time;d=l.getNextNDay(d,1).time){var g=l.dataToRect([d],!1).tl,y=new Rect$2({shape:{x:g[0],y:g[1],width:c,height:f},cursor:"default",style:u});s.add(y)}},t.prototype._renderLines=function(n,o,s,l){var u=this,c=n.coordinateSystem,f=n.getModel(["splitLine","lineStyle"]).getLineStyle(),d=n.get(["splitLine","show"]),g=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=o.start,S=0;y.time<=o.end.time;S++){x(y.formatedDate),S===0&&(y=c.getDateInfo(o.start.y+"-"+o.start.m));var _=y.date;_.setMonth(_.getMonth()+1),y=c.getDateInfo(_)}x(c.getNextNDay(o.end.time,1).formatedDate);function x(b){u._firstDayOfMonth.push(c.getDateInfo(b)),u._firstDayPoints.push(c.dataToRect([b],!1).tl);var T=u._getLinePointsOfOneWeek(n,b,s);u._tlpoints.push(T[0]),u._blpoints.push(T[T.length-1]),d&&u._drawSplitline(T,f,l)}d&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,g,s),f,l),d&&this._drawSplitline(u._getEdgesPoints(u._blpoints,g,s),f,l)},t.prototype._getEdgesPoints=function(n,o,s){var l=[n[0].slice(),n[n.length-1].slice()],u=s==="horizontal"?0:1;return l[0][u]=l[0][u]-o/2,l[1][u]=l[1][u]+o/2,l},t.prototype._drawSplitline=function(n,o,s){var l=new Polyline$1({z2:20,shape:{points:n},style:o});s.add(l)},t.prototype._getLinePointsOfOneWeek=function(n,o,s){for(var l=n.coordinateSystem,u=l.getDateInfo(o),c=[],f=0;f<7;f++){var d=l.getNextNDay(u.time,f),g=l.dataToRect([d.time],!1);c[2*d.day]=g.tl,c[2*d.day+1]=g[s==="horizontal"?"bl":"tr"]}return c},t.prototype._formatterLabel=function(n,o){return isString(n)&&n?formatTplSimple(n,o):isFunction(n)?n(o):o.nameMap},t.prototype._yearTextPositionControl=function(n,o,s,l,u){var c=o[0],f=o[1],d=["center","bottom"];l==="bottom"?(f+=u,d=["center","top"]):l==="left"?c-=u:l==="right"?(c+=u,d=["center","top"]):f-=u;var g=0;return(l==="left"||l==="right")&&(g=Math.PI/2),{rotation:g,x:c,y:f,style:{align:d[0],verticalAlign:d[1]}}},t.prototype._renderYearText=function(n,o,s,l){var u=n.getModel("yearLabel");if(u.get("show")){var c=u.get("margin"),f=u.get("position");f||(f=s!=="horizontal"?"top":"left");var d=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(d[0][0]+d[1][0])/2,y=(d[0][1]+d[1][1])/2,S=s==="horizontal"?0:1,_={top:[g,d[S][1]],bottom:[g,d[1-S][1]],left:[d[1-S][0],y],right:[d[S][0],y]},x=o.start.y;+o.end.y>+o.start.y&&(x=x+"-"+o.end.y);var b=u.get("formatter"),T={start:o.start.y,end:o.end.y,nameMap:x},A=this._formatterLabel(b,T),C=new ZRText({z2:30,style:createTextStyle(u,{text:A}),silent:u.get("silent")});C.attr(this._yearTextPositionControl(C,_[f],s,f,c)),l.add(C)}},t.prototype._monthTextPositionControl=function(n,o,s,l,u){var c="left",f="top",d=n[0],g=n[1];return s==="horizontal"?(g=g+u,o&&(c="center"),l==="start"&&(f="bottom")):(d=d+u,o&&(f="middle"),l==="start"&&(c="right")),{x:d,y:g,align:c,verticalAlign:f}},t.prototype._renderMonthText=function(n,o,s,l){var u=n.getModel("monthLabel");if(u.get("show")){var c=u.get("nameMap"),f=u.get("margin"),d=u.get("position"),g=u.get("align"),y=[this._tlpoints,this._blpoints];(!c||isString(c))&&(c&&(o=getLocaleModel(c)||o),c=o.get(["time","monthAbbr"])||[]);var S=d==="start"?0:1,_=s==="horizontal"?0:1;f=d==="start"?-f:f;for(var x=g==="center",b=u.get("silent"),T=0;T<y[S].length-1;T++){var A=y[S][T].slice(),C=this._firstDayOfMonth[T];if(x){var E=this._firstDayPoints[T];A[_]=(E[_]+y[0][T+1][_])/2}var P=u.get("formatter"),M=c[+C.m-1],I={yyyy:C.y,yy:(C.y+"").slice(2),MM:C.m,M:+C.m,nameMap:M},D=this._formatterLabel(P,I),L=new ZRText({z2:30,style:extend(createTextStyle(u,{text:D}),this._monthTextPositionControl(A,x,s,d,f)),silent:b});l.add(L)}}},t.prototype._weekTextPositionControl=function(n,o,s,l,u){var c="center",f="middle",d=n[0],g=n[1],y=s==="start";return o==="horizontal"?(d=d+l+(y?1:-1)*u[0]/2,c=y?"right":"left"):(g=g+l+(y?1:-1)*u[1]/2,f=y?"bottom":"top"),{x:d,y:g,align:c,verticalAlign:f}},t.prototype._renderWeekText=function(n,o,s,l,u){var c=n.getModel("dayLabel");if(c.get("show")){var f=n.coordinateSystem,d=c.get("position"),g=c.get("nameMap"),y=c.get("margin"),S=f.getFirstDayOfWeek();if(!g||isString(g)){g&&(o=getLocaleModel(g)||o);var _=o.get(["time","dayOfWeekShort"]);g=_||map$1(o.get(["time","dayOfWeekAbbr"]),function(I){return I[0]})}var x=f.getNextNDay(s.end.time,7-s.lweek).time,b=[f.getCellWidth(),f.getCellHeight()];y=parsePercent(y,Math.min(b[1],b[0])),d==="start"&&(x=f.getNextNDay(s.start.time,-(7+s.fweek)).time,y=-y);for(var T=c.get("silent"),A=0;A<7;A++){var C=f.getNextNDay(x,A),E=f.dataToRect([C.time],!1).center,P=A;P=Math.abs((A+S)%7);var M=new ZRText({z2:30,style:extend(createTextStyle(c,{text:g[P]}),this._weekTextPositionControl(E,l,d,y,b)),silent:T});u.add(M)}}},t.type="calendar",t}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function a(t,n,o){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=t}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(t){t=parseDate(t);var n=t.getFullYear(),o=t.getMonth()+1,s=o<10?"0"+o:""+o,l=t.getDate(),u=l<10?"0"+l:""+l,c=t.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:n+"",m:s,d:u,day:c,time:t.getTime(),formatedDate:n+"-"+s+"-"+u,date:t}},a.prototype.getNextNDay=function(t,n){return n=n||0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},a.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,s=["width","height"],l=this._model.getCellSize().slice(),u=this._model.getBoxLayoutParams(),c=this._orient==="horizontal"?[o,7]:[7,o];each$f([0,1],function(y){g(l,y)&&(u[s[y]]=l[y]*c[y])});var f={width:n.getWidth(),height:n.getHeight()},d=this._rect=getLayoutRect(u,f);each$f([0,1],function(y){g(l,y)||(l[y]=d[s[y]]/c[y])});function g(y,S){return y[S]!=null&&y[S]!=="auto"}this._sw=l[0],this._sh=l[1]},a.prototype.dataToPoint=function(t,n){isArray$2(t)&&(t=t[0]),n==null&&(n=!0);var o=this.getDateInfo(t),s=this._rangeInfo,l=o.formatedDate;if(n&&!(o.time>=s.start.time&&o.time<s.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var u=o.day,c=this._getRangeInfo([s.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]},a.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},a.prototype.dataToRect=function(t,n){var o=this.dataToPoint(t,n);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},a.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,o=Math.floor((t[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,n-1,s):this._getDateByWeeksAndDay(n,o-1,s)},a.prototype.convertToPixel=function(t,n,o){var s=getCoordSys(n);return s===this?s.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,n,o){var s=getCoordSys(n);return s===this?s.pointToData(o):null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var t=this._model.get("range"),n;if(isArray$2(t)&&t.length===1&&(t=t[0]),isArray$2(t))n=t;else{var o=t.toString();if(/^\d{4}$/.test(o)&&(n=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var s=this.getDateInfo(o),l=s.date;l.setMonth(l.getMonth()+1);var u=this.getNextNDay(l,-1);n=[s.formatedDate,u.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(n=[o,o])}if(!n)return t;var c=this._getRangeInfo(n);return c.start.time>c.end.time&&n.reverse(),n},a.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],o;n[0].time>n[1].time&&(o=!0,n.reverse());var s=Math.floor(n[1].time/PROXIMATE_ONE_DAY)-Math.floor(n[0].time/PROXIMATE_ONE_DAY)+1,l=new Date(n[0].time),u=l.getDate(),c=n[1].date.getDate();l.setDate(u+s-1);var f=l.getDate();if(f!==c)for(var d=l.getTime()-n[1].time>0?1:-1;(f=l.getDate())!==c&&(l.getTime()-n[1].time)*d>0;)s-=d,l.setDate(f-d);var g=Math.floor((s+n[0].day+6)/7),y=o?-g+1:g-1;return o&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:s,weeks:g,nthWeek:y,fweek:n[0].day,lweek:n[1].day}},a.prototype._getDateByWeeksAndDay=function(t,n,o){var s=this._getRangeInfo(o);if(t>s.weeks||t===0&&n<s.fweek||t===s.weeks&&n>s.lweek)return null;var l=(t-1)*7-s.fweek+n,u=new Date(s.start.time);return u.setDate(+s.start.d+l),this.getDateInfo(u)},a.create=function(t,n){var o=[];return t.eachComponent("calendar",function(s){var l=new a(s);o.push(l),s.coordinateSystem=l}),t.eachSeries(function(s){s.get("coordinateSystem")==="calendar"&&(s.coordinateSystem=o[s.get("calendarIndex")||0])}),o},a.dimensions=["time","value"],a}();function getCoordSys(a){var t=a.calendarModel,n=a.seriesModel,o=t?t.coordinateSystem:n?n.coordinateSystem:null;return o}function install$m(a){a.registerComponentModel(CalendarModel),a.registerComponentView(CalendarView),a.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(a,t){var n=a.existing;if(t.id=a.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var o=t.parentOption;o?t.parentId=o.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function isSetLoc(a,t){var n;return each$f(t,function(o){a[o]!=null&&a[o]!=="auto"&&(n=!0)}),n}function mergeNewElOptionToExist(a,t,n){var o=extend({},n),s=a[t],l=n.$action||"merge";l==="merge"?s?(merge(s,o,!0),mergeLayoutParam(s,o,{ignoreSize:!0}),copyLayoutParams(n,s),copyTransitionInfo(n,s),copyTransitionInfo(n,s,"shape"),copyTransitionInfo(n,s,"style"),copyTransitionInfo(n,s,"extra"),n.clipPath=s.clipPath):a[t]=o:l==="replace"?a[t]=o:l==="remove"&&s&&(a[t]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(a,t,n){if(n&&(!a[n]&&t[n]&&(a[n]={}),a=a[n],t=t[n]),!(!a||!t))for(var o=n?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,s=0;s<o.length;s++){var l=o[s];a[l]==null&&t[l]!=null&&(a[l]=t[l])}}function setLayoutInfoToExist(a,t){if(a&&(a.hv=t.hv=[isSetLoc(t,["left","right"]),isSetLoc(t,["top","bottom"])],a.type==="group")){var n=a,o=t;n.width==null&&(n.width=o.width=0),n.height==null&&(n.height=o.height=0)}}var GraphicComponentModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,o){var s=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,n,o),this.option.elements=s},t.prototype.optionUpdated=function(n,o){var s=this.option,l=(o?s:n).elements,u=s.elements=o?[]:s.elements,c=[];this._flatten(l,c,null);var f=mappingToExists(u,c,"normalMerge"),d=this._elOptionsToUpdate=[];each$f(f,function(g,y){var S=g.newOption;S&&(d.push(S),setKeyInfoToNewElOption(g,S),mergeNewElOptionToExist(u,y,S),setLayoutInfoToExist(u[y],S))},this),s.elements=filter$1(u,function(g){return g&&delete g.$action,g!=null})},t.prototype._flatten=function(n,o,s){each$f(n,function(l){if(l){s&&(l.parentOption=s),o.push(l);var u=l.children;u&&u.length&&this._flatten(u,o,l),delete l.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=createHashMap()},t.prototype.render=function(n,o,s){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,s)},t.prototype._updateElements=function(n){var o=n.useElOptionsToUpdate();if(o){var s=this._elMap,l=this.group,u=n.get("z"),c=n.get("zlevel");each$f(o,function(f){var d=convertOptionIdName(f.id,null),g=d!=null?s.get(d):null,y=convertOptionIdName(f.parentId,null),S=y!=null?s.get(y):l,_=f.type,x=f.style;_==="text"&&x&&f.hv&&f.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var b=f.textContent,T=f.textConfig;if(x&&isEC4CompatibleStyle(x,_,!!T,!!b)){var A=convertFromEC4CompatibleStyle(x,_,!0);!T&&A.textConfig&&(T=f.textConfig=A.textConfig),!b&&A.textContent&&(b=A.textContent)}var C=getCleanedElOption(f),E=f.$action||"merge",P=E==="merge",M=E==="replace";if(P){var I=!g,D=g;I?D=createEl(d,S,f.type,s):(D&&(inner$7(D).isNew=!1),stopPreviousKeyframeAnimationAndRestore(D)),D&&(applyUpdateTransition(D,C,n,{isInit:I}),updateCommonAttrs(D,f,u,c))}else if(M){removeEl$1(g,f,s,n);var L=createEl(d,S,f.type,s);L&&(applyUpdateTransition(L,C,n,{isInit:!0}),updateCommonAttrs(L,f,u,c))}else E==="remove"&&(updateLeaveTo(g,f),removeEl$1(g,f,s,n));var $=s.get(d);if($&&b)if(P){var O=$.getTextContent();O?O.attr(b):$.setTextContent(new ZRText(b))}else M&&$.setTextContent(new ZRText(b));if($){var V=f.clipPath;if(V){var F=V.type,z=void 0,I=!1;if(P){var U=$.getClipPath();I=!U||inner$7(U).type!==F,z=I?newEl(F):U}else M&&(I=!0,z=newEl(F));$.setClipPath(z),applyUpdateTransition(z,V,n,{isInit:I}),applyKeyframeAnimation(z,V.keyframeAnimation,n)}var H=inner$7($);$.setTextConfig(T),H.option=f,setEventData($,n,f),setTooltipConfig({el:$,componentModel:n,itemName:$.name,itemTooltipOption:f.tooltip}),applyKeyframeAnimation($,f.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,o){for(var s=n.option.elements,l=this.group,u=this._elMap,c=o.getWidth(),f=o.getHeight(),d=["x","y"],g=0;g<s.length;g++){var y=s[g],S=convertOptionIdName(y.id,null),_=S!=null?u.get(S):null;if(!(!_||!_.isGroup)){var x=_.parent,b=x===l,T=inner$7(_),A=inner$7(x);T.width=parsePercent(T.option.width,b?c:A.width)||0,T.height=parsePercent(T.option.height,b?f:A.height)||0}}for(var g=s.length-1;g>=0;g--){var y=s[g],S=convertOptionIdName(y.id,null),_=S!=null?u.get(S):null;if(_){var x=_.parent,A=inner$7(x),C=x===l?{width:c,height:f}:{width:A.width,height:A.height},E={},P=positionElement(_,y,C,null,{hv:y.hv,boundingMode:y.bounding},E);if(!inner$7(_).isNew&&P){for(var M=y.transition,I={},D=0;D<d.length;D++){var L=d[D],$=E[L];M&&(isTransitionAll(M)||indexOf(M,L)>=0)?I[L]=$:_[L]=$}updateProps$1(_,I,n,0)}else _.attr(E)}}},t.prototype._clear=function(){var n=this,o=this._elMap;o.each(function(s){removeEl$1(s,inner$7(s).option,o,n._lastGraphicModel)}),this._elMap=createHashMap()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(ComponentView);function newEl(a){var t=hasOwn(nonShapeGraphicElements,a)?nonShapeGraphicElements[a]:getShapeClass(a),n=new t({});return inner$7(n).type=a,n}function createEl(a,t,n,o){var s=newEl(n);return t.add(s),o.set(a,s),inner$7(s).id=a,inner$7(s).isNew=!0,s}function removeEl$1(a,t,n,o){var s=a&&a.parent;s&&(a.type==="group"&&a.traverse(function(l){removeEl$1(l,t,n,o)}),applyLeaveTransition(a,t,o),n.removeKey(inner$7(a).id))}function updateCommonAttrs(a,t,n,o){a.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",o||0],["z",n||0],["z2",0]],function(s){var l=s[0];hasOwn(t,l)?a[l]=retrieve2(t[l],s[1]):a[l]==null&&(a[l]=s[1])}),each$f(keys$1(t),function(s){if(s.indexOf("on")===0){var l=t[s];a[s]=isFunction(l)?l:null}}),hasOwn(t,"draggable")&&(a.draggable=t.draggable),t.name!=null&&(a.name=t.name),t.id!=null&&(a.id=t.id)}function getCleanedElOption(a){return a=extend({},a),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(t){delete a[t]}),a}function setEventData(a,t,n){var o=getECData(a).eventData;!a.silent&&!a.ignore&&!o&&(o=getECData(a).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:a.name}),o&&(o.info=n.info)}function install$l(a){a.registerComponentModel(GraphicComponentModel),a.registerComponentView(GraphicComponentView),a.registerPreprocessor(function(t){var n=t.graphic;isArray$2(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(a){var t=a.get("coordinateSystem");return indexOf(SERIES_COORDS,t)>=0}function getAxisMainType(a){return a+"Axis"}function findEffectedDataZooms(a,t){var n=createHashMap(),o=[],s=createHashMap();a.eachComponent({mainType:"dataZoom",query:t},function(g){s.get(g.uid)||c(g)});var l;do l=!1,a.eachComponent("dataZoom",u);while(l);function u(g){!s.get(g.uid)&&f(g)&&(c(g),l=!0)}function c(g){s.set(g.uid,!0),o.push(g),d(g)}function f(g){var y=!1;return g.eachTargetAxis(function(S,_){var x=n.get(S);x&&x[_]&&(y=!0)}),y}function d(g){g.eachTargetAxis(function(y,S){(n.get(y)||n.set(y,[]))[S]=!0})}return o}function collectReferCoordSysModelInfo(a){var t=a.ecModel,n={infoList:[],infoMap:createHashMap()};return a.eachTargetAxis(function(o,s){var l=t.getComponent(getAxisMainType(o),s);if(l){var u=l.getCoordSysModel();if(u){var c=u.uid,f=n.infoMap.get(c);f||(f={model:u,axisModels:[]},n.infoList.push(f),n.infoMap.set(c,f)),f.axisModels.push(l)}}}),n}var DataZoomAxisInfo=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},a}(),DataZoomModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,o,s){var l=retrieveRawOption(n);this.settledOption=l,this.mergeDefaultAndTheme(n,s),this._doInit(l)},t.prototype.mergeOption=function(n){var o=retrieveRawOption(n);merge(this.option,n,!0),merge(this.settledOption,o,!0),this._doInit(o)},t.prototype._doInit=function(n){var o=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l,u){this._rangePropMode[u]==="value"&&(o[l[0]]=s[l[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),o=this._targetAxisInfoMap=createHashMap(),s=this._fillSpecifiedTargetAxis(o);s?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(l){l.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var o=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(s){var l=this.getReferringComponents(getAxisMainType(s),MULTIPLE_REFERRING);if(l.specified){o=!0;var u=new DataZoomAxisInfo;each$f(l.models,function(c){u.add(c.componentIndex)}),n.set(s,u)}},this),o},t.prototype._fillAutoTargetAxisByOrient=function(n,o){var s=this.ecModel,l=!0;if(l){var u=o==="vertical"?"y":"x",c=s.findComponents({mainType:u+"Axis"});f(c,u)}if(l){var c=s.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===o}});f(c,"single")}function f(d,g){var y=d[0];if(y){var S=new DataZoomAxisInfo;if(S.add(y.componentIndex),n.set(g,S),l=!1,g==="x"||g==="y"){var _=y.getReferringComponents("grid",SINGLE_REFERRING).models[0];_&&each$f(d,function(x){y.componentIndex!==x.componentIndex&&_===x.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&S.add(x.componentIndex)})}}}l&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(d){if(l){var g=s.findComponents({mainType:getAxisMainType(d),filter:function(S){return S.get("type",!0)==="category"}});if(g[0]){var y=new DataZoomAxisInfo;y.add(g[0].componentIndex),n.set(d,y),l=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(o){!n&&(n=o)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var o=this._rangePropMode,s=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(l,u){var c=n[l[0]]!=null,f=n[l[1]]!=null;c&&!f?o[u]="percent":!c&&f?o[u]="value":s?o[u]=s[u]:c&&(o[u]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(o,s){n==null&&(n=this.ecModel.getComponent(getAxisMainType(o),s))},this),n},t.prototype.eachTargetAxis=function(n,o){this._targetAxisInfoMap.each(function(s,l){each$f(s.indexList,function(u){n.call(o,l,u)})})},t.prototype.getAxisProxy=function(n,o){var s=this.getAxisModel(n,o);if(s)return s.__dzAxisProxy},t.prototype.getAxisModel=function(n,o){var s=this._targetAxisInfoMap.get(n);if(s&&s.indexMap[o])return this.ecModel.getComponent(getAxisMainType(n),o)},t.prototype.setRawRange=function(n){var o=this.option,s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l){(n[l[0]]!=null||n[l[1]]!=null)&&(o[l[0]]=s[l[0]]=n[l[0]],o[l[1]]=s[l[1]]=n[l[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var o=this.option;each$f(["start","startValue","end","endValue"],function(s){o[s]=n[s]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,o){if(n==null&&o==null){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataValueWindow()}else return this.getAxisProxy(n,o).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),l=0;l<s.length;l++)for(var u=s[l],c=this._targetAxisInfoMap.get(u),f=0;f<c.indexList.length;f++){var d=this.getAxisProxy(u,c.indexList[f]);if(d.hostedBy(this))return d;o||(o=d)}return o},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(ComponentModel);function retrieveRawOption(a){var t={};return each$f(["start","end","startValue","endValue","throttle"],function(n){a.hasOwnProperty(n)&&(t[n]=a[n])}),t}var SelectDataZoomModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(DataZoomModel),DataZoomView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s,l){this.dataZoomModel=n,this.ecModel=o,this.api=s},t.type="dataZoom",t}(ComponentView),SelectDataZoomView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function a(t,n,o,s){this._dimName=t,this._axisIndex=n,this.ecModel=s,this._dataZoomModel=o}return a.prototype.hostedBy=function(t){return this._dataZoomModel===t},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(isCoordSupported(n)){var o=getAxisMainType(this._dimName),s=n.getReferringComponents(o,SINGLE_REFERRING).models[0];s&&this._axisIndex===s.componentIndex&&t.push(n)}},this),t},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},a.prototype.calculateDataWindow=function(t){var n=this._dataExtent,o=this.getAxisModel(),s=o.axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],c=[],f=[],d;each$7(["start","end"],function(S,_){var x=t[S],b=t[S+"Value"];l[_]==="percent"?(x==null&&(x=u[_]),b=s.parse(linearMap$2(x,u,n))):(d=!0,b=b==null?n[_]:s.parse(b),x=linearMap$2(b,n,u)),f[_]=b==null||isNaN(b)?n[_]:b,c[_]=x==null||isNaN(x)?u[_]:x}),asc$1(f),asc$1(c);var g=this._minMaxSpan;d?y(f,c,n,u,!1):y(c,f,u,n,!0);function y(S,_,x,b,T){var A=T?"Span":"ValueSpan";sliderMove(0,S,x,"all",g["min"+A],g["max"+A]);for(var C=0;C<2;C++)_[C]=linearMap$2(S[C],x,b,!0),T&&(_[C]=s.parse(_[C]))}return{valueWindow:f,percentWindow:c}},a.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,n),this._updateMinMaxSpan();var o=this.calculateDataWindow(t.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var o=this._dimName,s=this.getTargetSeriesModels(),l=t.get("filterMode"),u=this._valueWindow;if(l==="none")return;each$7(s,function(f){var d=f.getData(),g=d.mapDimensionsAll(o);if(g.length){if(l==="weakFilter"){var y=d.getStore(),S=map$1(g,function(_){return d.getDimensionIndex(_)},d);d.filterSelf(function(_){for(var x,b,T,A=0;A<g.length;A++){var C=y.get(S[A],_),E=!isNaN(C),P=C<u[0],M=C>u[1];if(E&&!P&&!M)return!0;E&&(T=!0),P&&(x=!0),M&&(b=!0)}return T&&x&&b})}else each$7(g,function(_){if(l==="empty")f.setData(d=d.map(_,function(b){return c(b)?b:NaN}));else{var x={};x[_]=u,d.selectRange(x)}});each$7(g,function(_){d.setApproximateExtent(u,_)})}});function c(f){return f>=u[0]&&f<=u[1]}},a.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,o=this._dataExtent;each$7(["min","max"],function(s){var l=n.get(s+"Span"),u=n.get(s+"ValueSpan");u!=null&&(u=this.getAxisModel().axis.scale.parse(u)),u!=null?l=linearMap$2(o[0]+u,o,[0,100],!0):l!=null&&(u=linearMap$2(l,[0,100],o,!0)-o[0]),t[s+"Span"]=l,t[s+"ValueSpan"]=u},this)},a.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,o=this._valueWindow;if(n){var s=getPixelPrecision(o,[0,500]);s=Math.min(s,20);var l=t.axis.scale.rawExtentInfo;n[0]!==0&&l.setDeterminedMinMax("min",+o[0].toFixed(s)),n[1]!==100&&l.setDeterminedMinMax("max",+o[1].toFixed(s)),l.freeze()}},a}();function calculateDataExtent(a,t,n){var o=[1/0,-1/0];each$7(n,function(u){unionAxisExtentFromData(o,u.getData(),t)});var s=a.getAxisModel(),l=ensureScaleRawExtentInfo(s.axis.scale,s,o).calculate();return[l.min,l.max]}var dataZoomProcessor={getTargetSeries:function(a){function t(s){a.eachComponent("dataZoom",function(l){l.eachTargetAxis(function(u,c){var f=a.getComponent(getAxisMainType(u),c);s(u,c,f,l)})})}t(function(s,l,u,c){u.__dzAxisProxy=null});var n=[];t(function(s,l,u,c){u.__dzAxisProxy||(u.__dzAxisProxy=new AxisProxy(s,l,c,a),n.push(u.__dzAxisProxy))});var o=createHashMap();return each$f(n,function(s){each$f(s.getTargetSeriesModels(),function(l){o.set(l.uid,l)})}),o},overallReset:function(a,t){a.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){n.getAxisProxy(o,s).reset(n)}),n.eachTargetAxis(function(o,s){n.getAxisProxy(o,s).filterData(n,t)})}),a.eachComponent("dataZoom",function(n){var o=n.findRepresentativeAxisProxy();if(o){var s=o.getDataPercentWindow(),l=o.getDataValueWindow();n.setCalculatedRange({start:s[0],end:s[1],startValue:l[0],endValue:l[1]})}})}};function installDataZoomAction(a){a.registerAction("dataZoom",function(t,n){var o=findEffectedDataZooms(n,t);each$f(o,function(s){s.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var installed$1=!1;function installCommon$1(a){installed$1||(installed$1=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(a){a.registerComponentModel(SelectDataZoomModel),a.registerComponentView(SelectDataZoomView),installCommon$1(a)}var ToolboxFeature=function(){function a(){}return a}(),features={};function registerFeature(a,t){features[a]=t}function getFeature(a){return features[a]}var ToolboxModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;each$f(this.option.feature,function(o,s){var l=getFeature(s);l&&(l.getDefaultOption&&(l.defaultOption=l.getDefaultOption(n)),merge(o,l.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(ComponentModel);function layout(a,t,n){var o=t.getBoxLayoutParams(),s=t.get("padding"),l={width:n.getWidth(),height:n.getHeight()},u=getLayoutRect(o,l,s);box(t.get("orient"),a,t.get("itemGap"),u.width,u.height),positionElement(a,o,l,s)}function makeBackground(a,t){var n=normalizeCssArray(t.get("padding")),o=t.getItemStyle(["color","opacity"]);return o.fill=t.get("backgroundColor"),a=new Rect$2({shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[1]+n[3],height:a.height+n[0]+n[2],r:t.get("borderRadius")},style:o,silent:!0,z2:-1}),a}var ToolboxView=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(n,o,s,l){var u=this.group;if(u.removeAll(),!n.get("show"))return;var c=+n.get("itemSize"),f=n.get("orient")==="vertical",d=n.get("feature")||{},g=this._features||(this._features={}),y=[];each$f(d,function(x,b){y.push(b)}),new DataDiffer(this._featureNames||[],y).add(S).update(S).remove(curry$1(S,null)).execute(),this._featureNames=y;function S(x,b){var T=y[x],A=y[b],C=d[T],E=new Model(C,n,n.ecModel),P;if(l&&l.newTitle!=null&&l.featureName===T&&(C.title=l.newTitle),T&&!A){if(isUserFeatureName(T))P={onclick:E.option.onclick,featureName:T};else{var M=getFeature(T);if(!M)return;P=new M}g[T]=P}else if(P=g[A],!P)return;P.uid=getUID("toolbox-feature"),P.model=E,P.ecModel=o,P.api=s;var I=P instanceof ToolboxFeature;if(!T&&A){I&&P.dispose&&P.dispose(o,s);return}if(!E.get("show")||I&&P.unusable){I&&P.remove&&P.remove(o,s);return}_(E,P,T),E.setIconStatus=function(D,L){var $=this.option,O=this.iconPaths;$.iconStatus=$.iconStatus||{},$.iconStatus[D]=L,O[D]&&(L==="emphasis"?enterEmphasis:leaveEmphasis)(O[D])},P instanceof ToolboxFeature&&P.render&&P.render(E,o,s,l)}function _(x,b,T){var A=x.getModel("iconStyle"),C=x.getModel(["emphasis","iconStyle"]),E=b instanceof ToolboxFeature&&b.getIcons?b.getIcons():x.get("icon"),P=x.get("title")||{},M,I;isString(E)?(M={},M[T]=E):M=E,isString(P)?(I={},I[T]=P):I=P;var D=x.iconPaths={};each$f(M,function(L,$){var O=createIcon(L,{},{x:-c/2,y:-c/2,width:c,height:c});O.setStyle(A.getItemStyle());var V=O.ensureState("emphasis");V.style=C.getItemStyle();var F=new ZRText({style:{text:I[$],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null,font:getFont({fontStyle:C.get("textFontStyle"),fontFamily:C.get("textFontFamily"),fontSize:C.get("textFontSize"),fontWeight:C.get("textFontWeight")},o)},ignore:!0});O.setTextContent(F),setTooltipConfig({el:O,componentModel:n,itemName:$,formatterParamsExtra:{title:I[$]}}),O.__title=I[$],O.on("mouseover",function(){var z=C.getItemStyle(),U=f?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";F.setStyle({fill:C.get("textFill")||z.fill||z.stroke||"#000",backgroundColor:C.get("textBackgroundColor")}),O.setTextConfig({position:C.get("textPosition")||U}),F.ignore=!n.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){x.get(["iconStatus",$])!=="emphasis"&&s.leaveEmphasis(this),F.hide()}),(x.get(["iconStatus",$])==="emphasis"?enterEmphasis:leaveEmphasis)(O),u.add(O),O.on("click",bind$1(b.onclick,b,o,s,$)),D[$]=O})}layout(u,n,s),u.add(makeBackground(u.getBoundingRect(),n)),f||u.eachChild(function(x){var b=x.__title,T=x.ensureState("emphasis"),A=T.textConfig||(T.textConfig={}),C=x.getTextContent(),E=C&&C.ensureState("emphasis");if(E&&!isFunction(E)&&b){var P=E.style||(E.style={}),M=getBoundingRect(b,ZRText.makeFont(P)),I=x.x+u.x,D=x.y+u.y+c,L=!1;D+M.height>s.getHeight()&&(A.position="top",L=!0);var $=L?-5-M.height:c+10;I+M.width/2>s.getWidth()?(A.position=["100%",$],P.align="right"):I-M.width/2<0&&(A.position=[0,$],P.align="left")}})},t.prototype.updateView=function(n,o,s,l){each$f(this._features,function(u){u instanceof ToolboxFeature&&u.updateView&&u.updateView(u.model,o,s,l)})},t.prototype.remove=function(n,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.remove&&s.remove(n,o)}),this.group.removeAll()},t.prototype.dispose=function(n,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.dispose&&s.dispose(n,o)})},t.type="toolbox",t}(ComponentView);function isUserFeatureName(a){return a.indexOf("my")===0}var SaveAsImage=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(n,o){var s=this.model,l=s.get("name")||n.get("title.0.text")||"echarts",u=o.getZr().painter.getType()==="svg",c=u?"svg":s.get("type",!0)||"png",f=o.getConnectedDataURL({type:c,backgroundColor:s.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),d=env.browser;if(typeof MouseEvent=="function"&&(d.newEdge||!d.ie&&!d.edge)){var g=document.createElement("a");g.download=l+"."+c,g.target="_blank",g.href=f;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||u){var S=f.split(","),_=S[0].indexOf("base64")>-1,x=u?decodeURIComponent(S[1]):S[1];_&&(x=window.atob(x));var b=l+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var T=x.length,A=new Uint8Array(T);T--;)A[T]=x.charCodeAt(T);var C=new Blob([A]);window.navigator.msSaveOrOpenBlob(C,b)}else{var E=document.createElement("iframe");document.body.appendChild(E);var P=E.contentWindow,M=P.document;M.open("image/svg+xml","replace"),M.write(x),M.close(),P.focus(),M.execCommand("SaveAs",!0,b),document.body.removeChild(E)}}else{var I=s.get("lang"),D='<body style="margin:0;"><img src="'+f+'" style="max-width:100%;" title="'+(I&&I[0]||"")+'" /></body>',L=window.open();L.document.write(D),L.document.title=l}},t.getDefaultOption=function(n){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},t}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,o=n.get("icon"),s={};return each$f(n.get("type"),function(l){o[l]&&(s[l]=o[l])}),s},t.getDefaultOption=function(n){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},t.prototype.onclick=function(n,o,s){var l=this.model,u=l.get(["seriesIndex",s]);if(seriesOptGenreator[s]){var c={series:[]},f=function(y){var S=y.subType,_=y.id,x=seriesOptGenreator[s](S,_,y,l);x&&(defaults(x,y.option),c.series.push(x));var b=y.coordinateSystem;if(b&&b.type==="cartesian2d"&&(s==="line"||s==="bar")){var T=b.getAxesByScale("ordinal")[0];if(T){var A=T.dim,C=A+"Axis",E=y.getReferringComponents(C,SINGLE_REFERRING).models[0],P=E.componentIndex;c[C]=c[C]||[];for(var M=0;M<=P;M++)c[C][P]=c[C][P]||{};c[C][P].boundaryGap=s==="bar"}}};each$f(radioTypes,function(y){indexOf(y,s)>=0&&each$f(y,function(S){l.setIconStatus(S,"normal")})}),l.setIconStatus(s,"emphasis"),n.eachComponent({mainType:"series",query:u==null?null:{seriesIndex:u}},f);var d,g=s;s==="stack"&&(d=merge({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title),l.get(["iconStatus",s])!=="emphasis"&&(g="tiled")),o.dispatchAction({type:"changeMagicType",currentType:g,newOption:c,newTitle:d,featureName:"magicType"})}},t}(ToolboxFeature),seriesOptGenreator={line:function(a,t,n,o){if(a==="bar")return merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(a,t,n,o){if(a==="line")return merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(a,t,n,o){var s=n.get("stack")===INNER_STACK_KEYWORD;if(a==="line"||a==="bar")return o.setIconStatus("stack",s?"normal":"emphasis"),merge({id:t,stack:s?"":INNER_STACK_KEYWORD},o.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,t){t.mergeOption(a.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(a){var t={},n=[],o=[];return a.eachRawSeries(function(s){var l=s.coordinateSystem;if(l&&(l.type==="cartesian2d"||l.type==="polar")){var u=l.getBaseAxis();if(u.type==="category"){var c=u.dim+"_"+u.index;t[c]||(t[c]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},o.push({axisDim:u.dim,axisIndex:u.index})),t[c].series.push(s)}else n.push(s)}else n.push(s)}),{seriesGroupByCategoryAxis:t,other:n,meta:o}}function assembleSeriesWithCategoryAxis(a){var t=[];return each$f(a,function(n,o){var s=n.categoryAxis,l=n.valueAxis,u=l.dim,c=[" "].concat(map$1(n.series,function(_){return _.name})),f=[s.model.getCategories()];each$f(n.series,function(_){var x=_.getRawData();f.push(_.getRawData().mapArray(x.mapDimension(u),function(b){return b}))});for(var d=[c.join(ITEM_SPLITER)],g=0;g<f[0].length;g++){for(var y=[],S=0;S<f.length;S++)y.push(f[S][g]);d.push(y.join(ITEM_SPLITER))}t.push(d.join(`
`))}),t.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(a){return map$1(a,function(t){var n=t.getRawData(),o=[t.name],s=[];return n.each(n.dimensions,function(){for(var l=arguments.length,u=arguments[l-1],c=n.getName(u),f=0;f<l-1;f++)s[f]=arguments[f];o.push((c?c+ITEM_SPLITER:"")+s.join(ITEM_SPLITER))}),o.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(a){var t=groupSeries(a);return{value:filter$1([assembleSeriesWithCategoryAxis(t.seriesGroupByCategoryAxis),assembleOtherSeries(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:t.meta}}function trim(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(a){var t=a.slice(0,a.indexOf(`
`));if(t.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(a){for(var t=a.split(/\n+/g),n=trim(t.shift()).split(itemSplitRegex),o=[],s=map$1(n,function(f){return{name:f,data:[]}}),l=0;l<t.length;l++){var u=trim(t[l]).split(itemSplitRegex);o.push(u.shift());for(var c=0;c<u.length;c++)s[c]&&(s[c].data[l]=u[c])}return{series:s,categories:o}}function parseListContents(a){for(var t=a.split(/\n+/g),n=trim(t.shift()),o=[],s=0;s<t.length;s++){var l=trim(t[s]);if(l){var u=l.split(itemSplitRegex),c="",f=void 0,d=!1;isNaN(u[0])?(d=!0,c=u[0],u=u.slice(1),o[s]={name:c,value:[]},f=o[s].value):f=o[s]=[];for(var g=0;g<u.length;g++)f.push(+u[g]);f.length===1&&(d?o[s].value=f[0]:o[s]=f[0])}}return{name:n,data:o}}function parseContents(a,t){var n=a.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),o={series:[]};return each$f(n,function(s,l){if(isTSVFormat(s)){var u=parseTSVContents(s),c=t[l],f=c.axisDim+"Axis";c&&(o[f]=o[f]||[],o[f][c.axisIndex]={data:u.categories},o.series=o.series.concat(u.series))}else{var u=parseListContents(s);o.series.push(u)}}),o}var DataView=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(n,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),l=this.model;this._dom&&s.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=l.get("backgroundColor")||"#fff";var c=document.createElement("h4"),f=l.get("lang")||[];c.innerHTML=f[0]||l.get("title"),c.style.cssText="margin:10px 20px",c.style.color=l.get("textColor");var d=document.createElement("div"),g=document.createElement("textarea");d.style.cssText="overflow:auto";var y=l.get("optionToContent"),S=l.get("contentToOption"),_=getContentFromModel(n);if(isFunction(y)){var x=y(o.getOption());isString(x)?d.innerHTML=x:isDom(x)&&d.appendChild(x)}else{g.readOnly=l.get("readOnly");var b=g.style;b.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",b.color=l.get("textColor"),b.borderColor=l.get("textareaBorderColor"),b.backgroundColor=l.get("textareaColor"),g.value=_.value,d.appendChild(g)}var T=_.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:5px;left:0;right:0";var C="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),P=document.createElement("div");C+=";background-color:"+l.get("buttonColor"),C+=";color:"+l.get("buttonTextColor");var M=this;function I(){s.removeChild(u),M._dom=null}addEventListener(E,"click",I),addEventListener(P,"click",function(){if(S==null&&y!=null||S!=null&&y==null){I();return}var D;try{isFunction(S)?D=S(d,o.getOption()):D=parseContents(g.value,T)}catch(L){throw I(),new Error("Data view format error "+L)}D&&o.dispatchAction({type:"changeDataView",newOption:D}),I()}),E.innerHTML=f[1],P.innerHTML=f[2],P.style.cssText=E.style.cssText=C,!l.get("readOnly")&&A.appendChild(P),A.appendChild(E),u.appendChild(c),u.appendChild(d),u.appendChild(A),d.style.height=s.clientHeight-80+"px",s.appendChild(u),this._dom=u},t.prototype.remove=function(n,o){this._dom&&o.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,o){this.remove(n,o)},t.getDefaultOption=function(n){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},t}(ToolboxFeature);function tryMergeDataOption(a,t){return map$1(a,function(n,o){var s=t&&t[o];if(isObject$3(s)&&!isArray$2(s)){var l=isObject$3(n)&&!isArray$2(n);l||(n={value:n});var u=s.name!=null&&n.name==null;return n=defaults(n,s),u&&delete n.name,n}else return n})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,t){var n=[];each$f(a.newOption.series,function(o){var s=t.getSeriesByName(o.name)[0];if(!s)n.push(extend({type:"scatter"},o));else{var l=s.get("data");n.push({name:o.name,data:tryMergeDataOption(o.data,l)})}}),t.mergeOption(defaults({series:n},a.newOption))});var each$6=each$f,inner$6=makeInner();function push(a,t){var n=getStoreSnapshots(a);each$6(t,function(o,s){for(var l=n.length-1;l>=0;l--){var u=n[l];if(u[s])break}if(l<0){var c=a.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(c){var f=c.getPercentRange();n[0][s]={dataZoomId:s,start:f[0],end:f[1]}}}}),n.push(t)}function pop(a){var t=getStoreSnapshots(a),n=t[t.length-1];t.length>1&&t.pop();var o={};return each$6(n,function(s,l){for(var u=t.length-1;u>=0;u--)if(s=t[u][l],s){o[l]=s;break}}),o}function clear(a){inner$6(a).snapshots=null}function count(a){return getStoreSnapshots(a).length}function getStoreSnapshots(a){var t=inner$6(a);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var RestoreOption=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(n,o){clear(n),o.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return o},t}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,t){t.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function a(t,n,o){var s=this;this._targetInfoList=[];var l=parseFinder(n,t);each$f(targetInfoBuilders,function(u,c){(!o||!o.include||indexOf(o.include,c)>=0)&&u(l,s._targetInfoList)})}return a.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(o,s,l){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var u=coordConvert[o.brushType](0,l,s);o.__rangeOffset={offset:diffProcessor[o.brushType](u.values,o.range,[1,1]),xyMinMax:u.xyMinMax}}}),t},a.prototype.matchOutputRanges=function(t,n,o){each$f(t,function(s){var l=this.findTargetInfo(s,n);l&&l!==!0&&each$f(l.coordSyses,function(u){var c=coordConvert[s.brushType](1,u,s.range,!0);o(s,c.values,u,n)})},this)},a.prototype.setInputRanges=function(t,n){each$f(t,function(o){var s=this.findTargetInfo(o,n);if(o.range=o.range||[],s&&s!==!0){o.panelId=s.panelId;var l=coordConvert[o.brushType](0,s.coordSys,o.coordRange),u=o.__rangeOffset;o.range=u?diffProcessor[o.brushType](l.values,u.offset,getScales(l.xyMinMax,u.xyMinMax)):l.values}},this)},a.prototype.makePanelOpts=function(t,n){return map$1(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:n?n(o):null,clipPath:makeRectPanelClipPath(s),isTargetByCursor:makeRectIsTargetByCursor(s,t,o.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(s)}})},a.prototype.controlSeries=function(t,n,o){var s=this.findTargetInfo(t,o);return s===!0||s&&indexOf(s.coordSyses,n.coordinateSystem)>=0},a.prototype.findTargetInfo=function(t,n){for(var o=this._targetInfoList,s=parseFinder(n,t),l=0;l<o.length;l++){var u=o[l],c=t.panelId;if(c){if(u.panelId===c)return u}else for(var f=0;f<targetInfoMatchers.length;f++)if(targetInfoMatchers[f](s,u))return u}return!0},a}();function formatMinMax(a){return a[0]>a[1]&&a.reverse(),a}function parseFinder(a,t){return parseFinder$1(a,t,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(a,t){var n=a.xAxisModels,o=a.yAxisModels,s=a.gridModels,l=createHashMap(),u={},c={};!n&&!o&&!s||(each$f(n,function(f){var d=f.axis.grid.model;l.set(d.id,d),u[d.id]=!0}),each$f(o,function(f){var d=f.axis.grid.model;l.set(d.id,d),c[d.id]=!0}),each$f(s,function(f){l.set(f.id,f),u[f.id]=!0,c[f.id]=!0}),l.each(function(f){var d=f.coordinateSystem,g=[];each$f(d.getCartesians(),function(y,S){(indexOf(n,y.getAxis("x").model)>=0||indexOf(o,y.getAxis("y").model)>=0)&&g.push(y)}),t.push({panelId:"grid--"+f.id,gridModel:f,coordSysModel:f,coordSys:g[0],coordSyses:g,getPanelRect:panelRectBuilders.grid,xAxisDeclared:u[f.id],yAxisDeclared:c[f.id]})}))},geo:function(a,t){each$f(a.geoModels,function(n){var o=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:o,coordSyses:[o],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(a,t){var n=a.xAxisModel,o=a.yAxisModel,s=a.gridModel;return!s&&n&&(s=n.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===t.gridModel},function(a,t){var n=a.geoModel;return n&&n===t.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,t=a.getBoundingRect().clone();return t.applyTransform(getTransform$1(a)),t}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(a,t,n,o){var s=a?t.pointToData([n[0][0],n[1][0]],o):t.dataToPoint([n[0][0],n[1][0]],o),l=a?t.pointToData([n[0][1],n[1][1]],o):t.dataToPoint([n[0][1],n[1][1]],o),u=[formatMinMax([s[0],l[0]]),formatMinMax([s[1],l[1]])];return{values:u,xyMinMax:u}},polygon:function(a,t,n,o){var s=[[1/0,-1/0],[1/0,-1/0]],l=map$1(n,function(u){var c=a?t.pointToData(u,o):t.dataToPoint(u,o);return s[0][0]=Math.min(s[0][0],c[0]),s[1][0]=Math.min(s[1][0],c[1]),s[0][1]=Math.max(s[0][1],c[0]),s[1][1]=Math.max(s[1][1],c[1]),c});return{values:l,xyMinMax:s}}};function axisConvert(a,t,n,o){var s=n.getAxis(["x","y"][a]),l=formatMinMax(map$1([0,1],function(c){return t?s.coordToData(s.toLocalCoord(o[c]),!0):s.toGlobalCoord(s.dataToCoord(o[c]))})),u=[];return u[a]=l,u[1-a]=[NaN,NaN],{values:l,xyMinMax:u}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(a,t,n){return[[a[0][0]-n[0]*t[0][0],a[0][1]-n[0]*t[0][1]],[a[1][0]-n[1]*t[1][0],a[1][1]-n[1]*t[1][1]]]},polygon:function(a,t,n){return map$1(a,function(o,s){return[o[0]-n[0]*t[s][0],o[1]-n[1]*t[s][1]]})}};function axisDiffProcessor(a,t,n,o){return[t[0]-o[a]*n[0],t[1]-o[a]*n[1]]}function getScales(a,t){var n=getSize(a),o=getSize(t),s=[n[0]/o[0],n[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function getSize(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(n,o,s,l){this._brushController||(this._brushController=new BrushController(s.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(n,o,this,l,s),updateBackBtnStatus(n,o)},t.prototype.onclick=function(n,o,s){handlers[s].call(this)},t.prototype.remove=function(n,o){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,o){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var o=n.areas;if(!n.isEnd||!o.length)return;var s={},l=this.ecModel;this._brushController.updateCovers([]);var u=new BrushTargetManager(makeAxisFinder(this.model),l,{include:["grid"]});u.matchOutputRanges(o,l,function(d,g,y){if(y.type==="cartesian2d"){var S=d.brushType;S==="rect"?(c("x",y,g[0]),c("y",y,g[1])):c({lineX:"x",lineY:"y"}[S],y,g)}}),push(l,s),this._dispatchZoomAction(s);function c(d,g,y){var S=g.getAxis(d),_=S.model,x=f(d,_,l),b=x.findRepresentativeAxisProxy(_).getMinMaxSpan();(b.minValueSpan!=null||b.maxValueSpan!=null)&&(y=sliderMove(0,y.slice(),S.scale.getExtent(),0,b.minValueSpan,b.maxValueSpan)),x&&(s[x.id]={dataZoomId:x.id,startValue:y[0],endValue:y[1]})}function f(d,g,y){var S;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var x=_.getAxisModel(d,g.componentIndex);x&&(S=_)}),S}},t.prototype._dispatchZoomAction=function(n){var o=[];each$5(n,function(s,l){o.push(clone$4(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},t.getDefaultOption=function(n){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},t}(ToolboxFeature),handlers={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(a){var t={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function updateBackBtnStatus(a,t){a.setIconStatus("back",count(t)>1?"emphasis":"normal")}function updateZoomBtnStatus(a,t,n,o,s){var l=n._isZoomActive;o&&o.type==="takeGlobalCursor"&&(l=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),n._isZoomActive=l,a.setIconStatus("zoom",l?"emphasis":"normal");var u=new BrushTargetManager(makeAxisFinder(a),t,{include:["grid"]}),c=u.makePanelOpts(s,function(f){return f.xAxisDeclared&&!f.yAxisDeclared?"lineX":!f.xAxisDeclared&&f.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(c).enableBrush(l&&c.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(a){var t=a.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var o=t.getModel(n),s=[],l=makeAxisFinder(o),u=parseFinder$1(a,l);each$5(u.xAxisModels,function(f){return c(f,"xAxis","xAxisIndex")}),each$5(u.yAxisModels,function(f){return c(f,"yAxis","yAxisIndex")});function c(f,d,g){var y=f.componentIndex,S={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+d+y};S[g]=y,s.push(S)}return s});function install$j(a){a.registerComponentModel(ToolboxModel),a.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$k)}var TooltipModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ComponentModel);function shouldTooltipConfine(a){var t=a.get("confine");return t!=null?!!t:a.get("renderMode")==="richText"}function testStyle(a){if(env.domSupported){for(var t=document.documentElement.style,n=0,o=a.length;n<o;n++)if(a[n]in t)return a[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(a,t){if(!a)return t;t=toCamelCase(t,!0);var n=a.indexOf(t);return a=n===-1?t:"-"+a.slice(0,n)+"-"+t,a.toLowerCase()}function getComputedStyle$2(a,t){var n=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return n?n[t]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function assembleArrow(a,t,n){if(!isString(n)||n==="inside")return"";var o=a.get("backgroundColor"),s=a.get("borderWidth");t=convertToColorString(t);var l=mirrorPos(n),u=Math.max(Math.round(s)*1.5,6),c="",f=CSS_TRANSFORM_VENDOR+":",d;indexOf(["left","right"],l)>-1?(c+="top:50%",f+="translateY(-50%) rotate("+(d=l==="left"?-225:-45)+"deg)"):(c+="left:50%",f+="translateX(-50%) rotate("+(d=l==="top"?225:45)+"deg)");var g=d*Math.PI/180,y=u+s,S=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),_=Math.round(((S-Math.SQRT2*s)/2+Math.SQRT2*s-(S-y)/2)*100)/100;c+=";"+l+":-"+_+"px";var x=t+" solid "+s+"px;",b=["position:absolute;width:"+u+"px;height:"+u+"px;z-index:-1;",c+";"+f+";","border-bottom:"+x,"border-right:"+x,"background-color:"+o+";"];return'<div style="'+b.join("")+'"></div>'}function assembleTransition(a,t){var n="cubic-bezier(0.23,1,0.32,1)",o=" "+a/2+"s "+n,s="opacity"+o+",visibility"+o;return t||(o=" "+a+"s "+n,s+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+s}function assembleTransform(a,t,n){var o=a.toFixed(0)+"px",s=t.toFixed(0)+"px";if(!env.transformSupported)return n?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var l=env.transform3dSupported,u="translate"+(l?"3d":"")+"("+o+","+s+(l?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+u+";":[["top",0],["left",0],[TRANSFORM_VENDOR,u]]}function assembleFont(a){var t=[],n=a.get("fontSize"),o=a.getTextColor();o&&t.push("color:"+o),t.push("font:"+a.getFont());var s=retrieve2(a.get("lineHeight"),Math.round(n*3/2));n&&t.push("line-height:"+s+"px");var l=a.get("textShadowColor"),u=a.get("textShadowBlur")||0,c=a.get("textShadowOffsetX")||0,f=a.get("textShadowOffsetY")||0;return l&&u&&t.push("text-shadow:"+c+"px "+f+"px "+u+"px "+l),each$f(["decoration","align"],function(d){var g=a.get(d);g&&t.push("text-"+d+":"+g)}),t.join(";")}function assembleCssText(a,t,n){var o=[],s=a.get("transitionDuration"),l=a.get("backgroundColor"),u=a.get("shadowBlur"),c=a.get("shadowColor"),f=a.get("shadowOffsetX"),d=a.get("shadowOffsetY"),g=a.getModel("textStyle"),y=getPaddingFromTooltipModel(a,"html"),S=f+"px "+d+"px "+u+"px "+c;return o.push("box-shadow:"+S),t&&s&&o.push(assembleTransition(s,n)),l&&o.push("background-color:"+l),each$f(["width","color","radius"],function(_){var x="border-"+_,b=toCamelCase(x),T=a.get(b);T!=null&&o.push(x+":"+T+(_==="color"?"":"px"))}),o.push(assembleFont(g)),y!=null&&o.push("padding:"+normalizeCssArray(y).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(a,t,n,o,s){var l=t&&t.painter;if(n){var u=l&&l.getViewportRoot();u&&transformLocalCoord(a,u,n,o,s)}else{a[0]=o,a[1]=s;var c=l&&l.getViewportRootOffset();c&&(a[0]+=c.offsetLeft,a[1]+=c.offsetTop)}a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}var TooltipHTMLContent=function(){function a(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var s=this._zr=t.getZr(),l=n.appendTo,u=l&&(isString(l)?document.querySelector(l):isDom(l)?l:isFunction(l)&&l(t.getDom()));makeStyleCoord$1(this._styleCoord,s,u,t.getWidth()/2,t.getHeight()/2),(u||t.getDom()).appendChild(o),this._api=t,this._container=u;var c=this;o.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},o.onmousemove=function(f){if(f=f||window.event,!c._enterable){var d=s.handler,g=s.painter.getViewportRoot();normalizeEvent(g,f,!0),d.dispatch("mousemove",f)}},o.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return a.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),o=getComputedStyle$2(n,"position"),s=n.style;s.position!=="absolute"&&o!=="absolute"&&(s.position="relative")}var l=t.get("alwaysShowContent");l&&this._moveIfResized(),this._alwaysShowContent=l,this.el.className=t.get("className")||""},a.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,l=this._styleCoord;o.innerHTML?s.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide)+assembleTransform(l[0],l[1],!0)+("border-color:"+convertToColorString(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(t,n,o,s,l){var u=this.el;if(t==null){u.innerHTML="";return}var c="";if(isString(l)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(c=assembleArrow(o,s,l)),isString(t))u.innerHTML=t+c;else if(t){u.innerHTML="",isArray$2(t)||(t=[t]);for(var f=0;f<t.length;f++)isDom(t[f])&&t[f].parentNode!==u&&u.appendChild(t[f]);if(c&&u.childNodes.length){var d=document.createElement("div");d.innerHTML=c,u.appendChild(d)}}},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},a.prototype.moveTo=function(t,n){if(this.el){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._container,t,n),o[0]!=null&&o[1]!=null){var s=this.el.style,l=assembleTransform(o[0],o[1]);each$f(l,function(u){s[u[0]]=u[1]})}}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},a.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",env.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},a}(),TooltipRichContent=function(){function a(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return a.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(t,n,o,s,l){var u=this;isObject$3(t)&&throwError(""),this.el&&this._zr.remove(this.el);var c=o.getModel("textStyle");this.el=new ZRText({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:c.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(d){u.el.style[d]=o.get(d)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(d){u.el.style[d]=c.get(d)||0}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),o=calcShadowOuterSize(t.style);return[n.width+o.left+o.right,n.height+o.top+o.bottom]},a.prototype.moveTo=function(t,n){var o=this.el;if(o){var s=this._styleCoord;makeStyleCoord(s,this._zr,t,n),t=s[0],n=s[1];var l=o.style,u=mathMaxWith0(l.borderWidth||0),c=calcShadowOuterSize(l);o.x=t+u+c.left,o.y=n+u+c.top,o.markRedraw()}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function mathMaxWith0(a){return Math.max(0,a)}function calcShadowOuterSize(a){var t=mathMaxWith0(a.shadowBlur||0),n=mathMaxWith0(a.shadowOffsetX||0),o=mathMaxWith0(a.shadowOffsetY||0);return{left:mathMaxWith0(t-n),right:mathMaxWith0(t+n),top:mathMaxWith0(t-o),bottom:mathMaxWith0(t+o)}}function makeStyleCoord(a,t,n,o){a[0]=n,a[1]=o,a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o){if(!(env.node||!o.getDom())){var s=n.getComponent("tooltip"),l=this._renderMode=getTooltipRenderMode(s.get("renderMode"));this._tooltipContent=l==="richText"?new TooltipRichContent(o):new TooltipHTMLContent(o,{appendTo:s.get("appendToBody",!0)?"body":s.get("appendTo",!0)})}},t.prototype.render=function(n,o,s){if(!(env.node||!s.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=o,this._api=s;var l=this._tooltipContent;l.update(n),l.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,o=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(s,l,u){o!=="none"&&(o.indexOf(s)>=0?this._tryShow(l,u):s==="leave"&&this._hide(u))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,o=this._ecModel,s=this._api,l=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&l!=="none"&&l!=="click"){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&u.manuallyShowTip(n,o,s,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,o,s,l){if(!(l.from===this.uid||env.node||!s.getDom())){var u=makeDispatchAction(l,s);this._ticket="";var c=l.dataByCoordSys,f=findComponentReference(l,o,s);if(f){var d=f.el.getBoundingRect().clone();d.applyTransform(f.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:f.el,position:l.position,positionDefault:"bottom"},u)}else if(l.tooltip&&l.x!=null&&l.y!=null){var g=proxyRect;g.x=l.x,g.y=l.y,g.update(),getECData(g).tooltipConfig={name:null,option:l.tooltip},this._tryShow({offsetX:l.x,offsetY:l.y,target:g},u)}else if(c)this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,dataByCoordSys:c,tooltipOption:l.tooltipOption},u);else if(l.seriesIndex!=null){if(this._manuallyAxisShowTip(n,o,s,l))return;var y=findPointFromSeries(l,o),S=y.point[0],_=y.point[1];S!=null&&_!=null&&this._tryShow({offsetX:S,offsetY:_,target:y.el,position:l.position,positionDefault:"bottom"},u)}else l.x!=null&&l.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:l.x,y:l.y}),this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,target:s.getZr().findHover(l.x,l.y).target},u))}},t.prototype.manuallyHideTip=function(n,o,s,l){var u=this._tooltipContent;this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,l.from!==this.uid&&this._hide(makeDispatchAction(l,s))},t.prototype._manuallyAxisShowTip=function(n,o,s,l){var u=l.seriesIndex,c=l.dataIndex,f=o.getComponent("axisPointer").coordSysAxesInfo;if(!(u==null||c==null||f==null)){var d=o.getSeriesByIndex(u);if(d){var g=d.getData(),y=buildTooltipModel([g.getItemModel(c),d,(d.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:c,position:l.position}),!0}}},t.prototype._tryShow=function(n,o){var s=n.target,l=this._tooltipModel;if(l){this._lastX=n.offsetX,this._lastY=n.offsetY;var u=n.dataByCoordSys;if(u&&u.length)this._showAxisTooltip(u,n);else if(s){var c=getECData(s);if(c.ssrType==="legend")return;this._lastDataByCoordSys=null;var f,d;findEventDispatcher(s,function(g){if(getECData(g).dataIndex!=null)return f=g,!0;if(getECData(g).tooltipConfig!=null)return d=g,!0},!0),f?this._showSeriesItemTooltip(n,f,o):d?this._showComponentItemTooltip(n,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},t.prototype._showOrMove=function(n,o){var s=n.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},t.prototype._showAxisTooltip=function(n,o){var s=this._ecModel,l=this._tooltipModel,u=[o.offsetX,o.offsetY],c=buildTooltipModel([o.tooltipOption],l),f=this._renderMode,d=[],g=createTooltipMarkup("section",{blocks:[],noHeader:!0}),y=[],S=new TooltipMarkupStyleCreator;each$f(n,function(C){each$f(C.dataByAxis,function(E){var P=s.getComponent(E.axisDim+"Axis",E.axisIndex),M=E.value;if(!(!P||M==null)){var I=getValueLabel(M,P.axis,s,E.seriesDataIndices,E.valueLabelOpt),D=createTooltipMarkup("section",{header:I,noHeader:!trim$1(I),sortBlocks:!0,blocks:[]});g.blocks.push(D),each$f(E.seriesDataIndices,function(L){var $=s.getSeriesByIndex(L.seriesIndex),O=L.dataIndexInside,V=$.getDataParams(O);if(!(V.dataIndex<0)){V.axisDim=E.axisDim,V.axisIndex=E.axisIndex,V.axisType=E.axisType,V.axisId=E.axisId,V.axisValue=getAxisRawValue(P.axis,{value:M}),V.axisValueLabel=I,V.marker=S.makeTooltipMarker("item",convertToColorString(V.color),f);var F=normalizeTooltipFormatResult($.formatTooltip(O,!0,null)),z=F.frag;if(z){var U=buildTooltipModel([$],l).get("valueFormatter");D.blocks.push(U?extend({valueFormatter:U},z):z)}F.text&&y.push(F.text),d.push(V)}})}})}),g.blocks.reverse(),y.reverse();var _=o.position,x=c.get("order"),b=buildTooltipMarkup(g,S,f,x,s.get("useUTC"),c.get("textStyle"));b&&y.unshift(b);var T=f==="richText"?`

`:"<br/>",A=y.join(T);this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(n,d)?this._updatePosition(c,_,u[0],u[1],this._tooltipContent,d):this._showTooltipContent(c,A,d,Math.random()+"",u[0],u[1],_,null,S)})},t.prototype._showSeriesItemTooltip=function(n,o,s){var l=this._ecModel,u=getECData(o),c=u.seriesIndex,f=l.getSeriesByIndex(c),d=u.dataModel||f,g=u.dataIndex,y=u.dataType,S=d.getData(y),_=this._renderMode,x=n.positionDefault,b=buildTooltipModel([S.getItemModel(g),d,f&&(f.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),T=b.get("trigger");if(!(T!=null&&T!=="item")){var A=d.getDataParams(g,y),C=new TooltipMarkupStyleCreator;A.marker=C.makeTooltipMarker("item",convertToColorString(A.color),_);var E=normalizeTooltipFormatResult(d.formatTooltip(g,!1,y)),P=b.get("order"),M=b.get("valueFormatter"),I=E.frag,D=I?buildTooltipMarkup(M?extend({valueFormatter:M},I):I,C,_,P,l.get("useUTC"),b.get("textStyle")):E.text,L="item_"+d.name+"_"+g;this._showOrMove(b,function(){this._showTooltipContent(b,D,A,L,n.offsetX,n.offsetY,n.position,n.target,C)}),s({type:"showTip",dataIndexInside:g,dataIndex:S.getRawIndex(g),seriesIndex:c,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,o,s){var l=this._renderMode==="html",u=getECData(o),c=u.tooltipConfig,f=c.option||{},d=f.encodeHTMLContent;if(isString(f)){var g=f;f={content:g,formatter:g},d=!0}d&&l&&f.content&&(f=clone$4(f),f.content=encodeHTML(f.content));var y=[f],S=this._ecModel.getComponent(u.componentMainType,u.componentIndex);S&&y.push(S),y.push({formatter:f.content});var _=n.positionDefault,x=buildTooltipModel(y,this._tooltipModel,_?{position:_}:null),b=x.get("content"),T=Math.random()+"",A=new TooltipMarkupStyleCreator;this._showOrMove(x,function(){var C=clone$4(x.get("formatterParams")||{});this._showTooltipContent(x,b,C,T,n.offsetX,n.offsetY,n.position,o,A)}),s({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,o,s,l,u,c,f,d,g){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var y=this._tooltipContent;y.setEnterable(n.get("enterable"));var S=n.get("formatter");f=f||n.get("position");var _=o,x=this._getNearestPoint([u,c],s,n.get("trigger"),n.get("borderColor")),b=x.color;if(S)if(isString(S)){var T=n.ecModel.get("useUTC"),A=isArray$2(s)?s[0]:s,C=A&&A.axisType&&A.axisType.indexOf("time")>=0;_=S,C&&(_=format(A.axisValue,_,T)),_=formatTpl(_,s,!0)}else if(isFunction(S)){var E=bind$1(function(P,M){P===this._ticket&&(y.setContent(M,g,n,b,f),this._updatePosition(n,f,u,c,y,s,d))},this);this._ticket=l,_=S(s,l,E)}else _=S;y.setContent(_,g,n,b,f),y.show(n,b),this._updatePosition(n,f,u,c,y,s,d)}},t.prototype._getNearestPoint=function(n,o,s,l){if(s==="axis"||isArray$2(o))return{color:l||(this._renderMode==="html"?"#fff":"none")};if(!isArray$2(o))return{color:l||o.color||o.borderColor}},t.prototype._updatePosition=function(n,o,s,l,u,c,f){var d=this._api.getWidth(),g=this._api.getHeight();o=o||n.get("position");var y=u.getSize(),S=n.get("align"),_=n.get("verticalAlign"),x=f&&f.getBoundingRect().clone();if(f&&x.applyTransform(f.transform),isFunction(o)&&(o=o([s,l],c,u.el,x,{viewSize:[d,g],contentSize:y.slice()})),isArray$2(o))s=parsePercent(o[0],d),l=parsePercent(o[1],g);else if(isObject$3(o)){var b=o;b.width=y[0],b.height=y[1];var T=getLayoutRect(b,{width:d,height:g});s=T.x,l=T.y,S=null,_=null}else if(isString(o)&&f){var A=calcTooltipPosition(o,x,y,n.get("borderWidth"));s=A[0],l=A[1]}else{var A=refixTooltipPosition(s,l,u,d,g,S?null:20,_?null:20);s=A[0],l=A[1]}if(S&&(s-=isCenterAlign(S)?y[0]/2:S==="right"?y[0]:0),_&&(l-=isCenterAlign(_)?y[1]/2:_==="bottom"?y[1]:0),shouldTooltipConfine(n)){var A=confineTooltipPosition(s,l,u,d,g);s=A[0],l=A[1]}u.moveTo(s,l)},t.prototype._updateContentNotChangedOnAxis=function(n,o){var s=this._lastDataByCoordSys,l=this._cbParamsList,u=!!s&&s.length===n.length;return u&&each$f(s,function(c,f){var d=c.dataByAxis||[],g=n[f]||{},y=g.dataByAxis||[];u=u&&d.length===y.length,u&&each$f(d,function(S,_){var x=y[_]||{},b=S.seriesDataIndices||[],T=x.seriesDataIndices||[];u=u&&S.value===x.value&&S.axisType===x.axisType&&S.axisId===x.axisId&&b.length===T.length,u&&each$f(b,function(A,C){var E=T[C];u=u&&A.seriesIndex===E.seriesIndex&&A.dataIndex===E.dataIndex}),l&&each$f(S.seriesDataIndices,function(A){var C=A.seriesIndex,E=o[C],P=l[C];E&&P&&P.data!==E.data&&(u=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=o,!!u},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,o){env.node||!o.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},t.type="tooltip",t}(ComponentView);function buildTooltipModel(a,t,n){var o=t.ecModel,s;n?(s=new Model(n,o,o),s=new Model(t.option,s,o)):s=t;for(var l=a.length-1;l>=0;l--){var u=a[l];u&&(u instanceof Model&&(u=u.get("tooltip",!0)),isString(u)&&(u={formatter:u}),u&&(s=new Model(u,s,o)))}return s}function makeDispatchAction(a,t){return a.dispatchAction||bind$1(t.dispatchAction,t)}function refixTooltipPosition(a,t,n,o,s,l,u){var c=n.getSize(),f=c[0],d=c[1];return l!=null&&(a+f+l+2>o?a-=f+l:a+=l),u!=null&&(t+d+u>s?t-=d+u:t+=u),[a,t]}function confineTooltipPosition(a,t,n,o,s){var l=n.getSize(),u=l[0],c=l[1];return a=Math.min(a+u,o)-u,t=Math.min(t+c,s)-c,a=Math.max(a,0),t=Math.max(t,0),[a,t]}function calcTooltipPosition(a,t,n,o){var s=n[0],l=n[1],u=Math.ceil(Math.SQRT2*o)+8,c=0,f=0,d=t.width,g=t.height;switch(a){case"inside":c=t.x+d/2-s/2,f=t.y+g/2-l/2;break;case"top":c=t.x+d/2-s/2,f=t.y-l-u;break;case"bottom":c=t.x+d/2-s/2,f=t.y+g+u;break;case"left":c=t.x-s-u,f=t.y+g/2-l/2;break;case"right":c=t.x+d+u,f=t.y+g/2-l/2}return[c,f]}function isCenterAlign(a){return a==="center"||a==="middle"}function findComponentReference(a,t,n){var o=preParseFinder(a).queryOptionMap,s=o.keys()[0];if(!(!s||s==="series")){var l=queryReferringComponents(t,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),u=l.models[0];if(u){var c=n.getViewOfComponentModel(u),f;if(c.group.traverse(function(d){var g=getECData(d).tooltipConfig;if(g&&g.name===a.name)return f=d,!0}),f)return{componentMainType:s,componentIndex:u.componentIndex,el:f}}}}function install$i(a){use(install$q),a.registerComponentModel(TooltipModel),a.registerComponentView(TooltipView),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$2),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$2)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(a,t){var n=normalizeToArray(a?a.brush:[]);if(n.length){var o=[];each$f(n,function(f){var d=f.hasOwnProperty("toolbox")?f.toolbox:[];d instanceof Array&&(o=o.concat(d))});var s=a&&a.toolbox;isArray$2(s)&&(s=s[0]),s||(s={feature:{}},a.toolbox=[s]);var l=s.feature||(s.feature={}),u=l.brush||(l.brush={}),c=u.type||(u.type=[]);c.push.apply(c,o),removeDuplicate(c),t&&!c.length&&c.push.apply(c,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(a){var t={};each$f(a,function(n){t[n]=1}),a.length=0,each$f(t,function(n,o){a.push(o)})}var each$4=each$f;function hasKeys(a){if(a){for(var t in a)if(a.hasOwnProperty(t))return!0}}function createVisualMappings(a,t,n){var o={};return each$4(t,function(l){var u=o[l]=s();each$4(a[l],function(c,f){if(VisualMapping.isValidType(f)){var d={type:f,visual:c};n&&n(d,l),u[f]=new VisualMapping(d),f==="opacity"&&(d=clone$4(d),d.type="colorAlpha",u.__hidden.__alphaForOpacity=new VisualMapping(d))}})}),o;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var u=new l;return u}}function replaceVisualOption(a,t,n){var o;each$f(n,function(s){t.hasOwnProperty(s)&&hasKeys(t[s])&&(o=!0)}),o&&each$f(n,function(s){t.hasOwnProperty(s)&&hasKeys(t[s])?a[s]=clone$4(t[s]):delete a[s]})}function applyVisual(a,t,n,o,s,l){var u={};each$f(a,function(y){var S=VisualMapping.prepareVisualTypes(t[y]);u[y]=S});var c;function f(y){return getItemVisualFromData(n,c,y)}function d(y,S){setItemVisualFromData(n,c,y,S)}n.each(g);function g(y,S){c=y;var _=n.getRawDataItem(c);if(!(_&&_.visualMap===!1))for(var x=o.call(s,y),b=t[x],T=u[x],A=0,C=T.length;A<C;A++){var E=T[A];b[E]&&b[E].applyVisual(y,f,d)}}}function incrementalApplyVisual(a,t,n,o){var s={};return each$f(a,function(l){var u=VisualMapping.prepareVisualTypes(t[l]);s[l]=u}),{progress:function(u,c){var f;o!=null&&(f=c.getDimensionIndex(o));function d(M){return getItemVisualFromData(c,y,M)}function g(M,I){setItemVisualFromData(c,y,M,I)}for(var y,S=c.getStore();(y=u.next())!=null;){var _=c.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var x=o!=null?S.get(f,y):y,b=n(x),T=t[b],A=s[b],C=0,E=A.length;C<E;C++){var P=A[C];T[P]&&T[P].applyVisual(x,d,g)}}}}}function makeBrushCommonSelectorForSeries(a){var t=a.brushType,n={point:function(o){return selector[t].point(o,n,a)},rect:function(o){return selector[t].rect(o,n,a)}};return n}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(a,t,n){return a&&n.boundingRect.contain(a[0],a[1])},rect:function(a,t,n){return a&&n.boundingRect.intersect(a)}},polygon:{point:function(a,t,n){return a&&n.boundingRect.contain(a[0],a[1])&&contain(n.range,a[0],a[1])},rect:function(a,t,n){var o=n.range;if(!a||o.length<=1)return!1;var s=a.x,l=a.y,u=a.width,c=a.height,f=o[0];if(contain(o,s,l)||contain(o,s+u,l)||contain(o,s,l+c)||contain(o,s+u,l+c)||BoundingRect.create(a).contain(f[0],f[1])||linePolygonIntersect(s,l,s+u,l,o)||linePolygonIntersect(s,l,s,l+c,o)||linePolygonIntersect(s+u,l,s+u,l+c,o)||linePolygonIntersect(s,l+c,s+u,l+c,o))return!0}}};function getLineSelectors(a){var t=["x","y"],n=["width","height"];return{point:function(o,s,l){if(o){var u=l.range,c=o[a];return inLineRange(c,u)}},rect:function(o,s,l){if(o){var u=l.range,c=[o[t[a]],o[t[a]]+o[n[a]]];return c[1]<c[0]&&c.reverse(),inLineRange(c[0],u)||inLineRange(c[1],u)||inLineRange(u[0],c)||inLineRange(u[1],c)}}}}function inLineRange(a,t){return t[0]<=a&&a<=t[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(a){a.eachComponent({mainType:"brush"},function(t){var n=t.brushTargetManager=new BrushTargetManager(t.option,a);n.setInputRanges(t.areas,a)})}function brushVisual(a,t,n){var o=[],s,l;a.eachComponent({mainType:"brush"},function(u){n&&n.type==="takeGlobalCursor"&&u.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),layoutCovers(a),a.eachComponent({mainType:"brush"},function(u,c){var f={brushId:u.id,brushIndex:c,brushName:u.name,areas:clone$4(u.areas),selected:[]};o.push(f);var d=u.option,g=d.brushLink,y=[],S=[],_=[],x=!1;c||(s=d.throttleType,l=d.throttleDelay);var b=map$1(u.areas,function(M){var I=boundingRectBuilders[M.brushType],D=defaults({boundingRect:I?I(M):void 0},M);return D.selectors=makeBrushCommonSelectorForSeries(D),D}),T=createVisualMappings(u.option,STATE_LIST,function(M){M.mappingMethod="fixed"});isArray$2(g)&&each$f(g,function(M){y[M]=1});function A(M){return g==="all"||!!y[M]}function C(M){return!!M.length}a.eachSeries(function(M,I){var D=_[I]=[];M.subType==="parallel"?E(M,I):P(M,I,D)});function E(M,I){var D=M.coordinateSystem;x=x||D.hasAxisBrushed(),A(I)&&D.eachActiveState(M.getData(),function(L,$){L==="active"&&(S[$]=1)})}function P(M,I,D){if(!(!M.brushSelector||brushModelNotControll(u,I))&&(each$f(b,function($){u.brushTargetManager.controlSeries($,M,a)&&D.push($),x=x||C(D)}),A(I)&&C(D))){var L=M.getData();L.each(function($){checkInRange(M,D,L,$)&&(S[$]=1)})}}a.eachSeries(function(M,I){var D={seriesId:M.id,seriesIndex:I,seriesName:M.name,dataIndex:[]};f.selected.push(D);var L=_[I],$=M.getData(),O=A(I)?function(V){return S[V]?(D.dataIndex.push($.getRawIndex(V)),"inBrush"):"outOfBrush"}:function(V){return checkInRange(M,L,$,V)?(D.dataIndex.push($.getRawIndex(V)),"inBrush"):"outOfBrush"};(A(I)?x:C(L))&&applyVisual(STATE_LIST,T,$,O)})}),dispatchAction$1(t,s,l,o,n)}function dispatchAction$1(a,t,n,o,s){if(s){var l=a.getZr();if(!l[DISPATCH_FLAG]){l[DISPATCH_METHOD]||(l[DISPATCH_METHOD]=doDispatch);var u=createOrUpdate(l,DISPATCH_METHOD,n,t);u(a,o)}}}function doDispatch(a,t){if(!a.isDisposed()){var n=a.getZr();n[DISPATCH_FLAG]=!0,a.dispatchAction({type:"brushSelect",batch:t}),n[DISPATCH_FLAG]=!1}}function checkInRange(a,t,n,o){for(var s=0,l=t.length;s<l;s++){var u=t[s];if(a.brushSelector(o,n,u.selectors,u))return!0}}function brushModelNotControll(a,t){var n=a.option.seriesIndex;return n!=null&&n!=="all"&&(isArray$2(n)?indexOf(n,t)<0:t!==n)}var boundingRectBuilders={rect:function(a){return getBoundingRectFromMinMax(a.range)},polygon:function(a){for(var t,n=a.range,o=0,s=n.length;o<s;o++){t=t||[[1/0,-1/0],[1/0,-1/0]];var l=n[o];l[0]<t[0][0]&&(t[0][0]=l[0]),l[0]>t[0][1]&&(t[0][1]=l[0]),l[1]<t[1][0]&&(t[1][0]=l[1]),l[1]>t[1][1]&&(t[1][1]=l[1])}return t&&getBoundingRectFromMinMax(t)}};function getBoundingRectFromMinMax(a){return new BoundingRect(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var BrushView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o){this.ecModel=n,this.api=o,this.model,(this._brushController=new BrushController(o.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},t.prototype.render=function(n,o,s,l){this.model=n,this._updateController(n,o,s,l)},t.prototype.updateTransform=function(n,o,s,l){layoutCovers(o),this._updateController(n,o,s,l)},t.prototype.updateVisual=function(n,o,s,l){this.updateTransform(n,o,s,l)},t.prototype.updateView=function(n,o,s,l){this._updateController(n,o,s,l)},t.prototype._updateController=function(n,o,s,l){(!l||l.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(s)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(n){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:clone$4(s),$from:o}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:clone$4(s),$from:o})},t.type="brush",t}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return t.prototype.optionUpdated=function(n,o){var s=this.option;!o&&replaceVisualOption(s,n,["inBrush","outOfBrush"]);var l=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},l.hasOwnProperty("liftZ")||(l.liftZ=5)},t.prototype.setAreas=function(n){n&&(this.areas=map$1(n,function(o){return generateBrushOption(this.option,o)},this))},t.prototype.setBrushOption=function(n){this.brushOption=generateBrushOption(this.option,n),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(ComponentModel);function generateBrushOption(a,t){return merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new Model(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},t,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(a){__extends$1(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(n,o,s){var l,u,c;o.eachComponent({mainType:"brush"},function(f){l=f.brushType,u=f.brushOption.brushMode||"single",c=c||!!f.areas.length}),this._brushType=l,this._brushMode=u,each$f(n.get("type",!0),function(f){n.setIconStatus(f,(f==="keep"?u==="multiple":f==="clear"?c:f===l)?"emphasis":"normal")})},t.prototype.updateView=function(n,o,s){this.render(n,o,s)},t.prototype.getIcons=function(){var n=this.model,o=n.get("icon",!0),s={};return each$f(n.get("type",!0),function(l){o[l]&&(s[l]=o[l])}),s},t.prototype.onclick=function(n,o,s){var l=this._brushType,u=this._brushMode;s==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:s==="keep"?l:l===s?!1:s,brushMode:s==="keep"?u==="multiple"?"single":"multiple":u}})},t.getDefaultOption=function(n){var o={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return o},t}(ToolboxFeature);function install$h(a){a.registerComponentView(BrushView),a.registerComponentModel(BrushModel),a.registerPreprocessor(brushPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,brushVisual),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(o){o.setAreas(t.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop$2),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop$2),registerFeature("brush",BrushFeature)}var TitleModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(ComponentModel),TitleView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,o,s){if(this.group.removeAll(),!!n.get("show")){var l=this.group,u=n.getModel("textStyle"),c=n.getModel("subtextStyle"),f=n.get("textAlign"),d=retrieve2(n.get("textBaseline"),n.get("textVerticalAlign")),g=new ZRText({style:createTextStyle(u,{text:n.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),S=n.get("subtext"),_=new ZRText({style:createTextStyle(c,{text:S,fill:c.getTextColor(),y:y.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=n.get("link"),b=n.get("sublink"),T=n.get("triggerEvent",!0);g.silent=!x&&!T,_.silent=!b&&!T,x&&g.on("click",function(){windowOpen(x,"_"+n.get("target"))}),b&&_.on("click",function(){windowOpen(b,"_"+n.get("subtarget"))}),getECData(g).eventData=getECData(_).eventData=T?{componentType:"title",componentIndex:n.componentIndex}:null,l.add(g),S&&l.add(_);var A=l.getBoundingRect(),C=n.getBoxLayoutParams();C.width=A.width,C.height=A.height;var E=getLayoutRect(C,{width:s.getWidth(),height:s.getHeight()},n.get("padding"));f||(f=n.get("left")||n.get("right"),f==="middle"&&(f="center"),f==="right"?E.x+=E.width:f==="center"&&(E.x+=E.width/2)),d||(d=n.get("top")||n.get("bottom"),d==="center"&&(d="middle"),d==="bottom"?E.y+=E.height:d==="middle"&&(E.y+=E.height/2),d=d||"top"),l.x=E.x,l.y=E.y,l.markRedraw();var P={align:f,verticalAlign:d};g.setStyle(P),_.setStyle(P),A=l.getBoundingRect();var M=E.margin,I=n.getItemStyle(["color","opacity"]);I.fill=n.get("backgroundColor");var D=new Rect$2({shape:{x:A.x-M[3],y:A.y-M[0],width:A.width+M[1]+M[3],height:A.height+M[0]+M[2],r:n.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});l.add(D)}},t.type="title",t}(ComponentView);function install$g(a){a.registerComponentModel(TitleModel),a.registerComponentView(TitleView)}var TimelineModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return t.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),this._initData()},t.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var o=this._data.count();this.option.loop?n=(n%o+o)%o:(n>=o&&(n=o-1),n<0&&(n=0)),this.option.currentIndex=n},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(n){this.option.autoPlay=!!n},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var n=this.option,o=n.data||[],s=n.axisType,l=this._names=[],u;s==="category"?(u=[],each$f(o,function(d,g){var y=convertOptionIdName(getDataItemValue(d),""),S;isObject$3(d)?(S=clone$4(d),S.value=g):S=g,u.push(S),l.push(y)})):u=o;var c={category:"ordinal",time:"time",value:"number"}[s]||"number",f=this._data=new SeriesData([{name:"value",type:c}],this);f.initData(u,l)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(ComponentModel),SliderTimelineModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline.slider",t.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline",t}(ComponentView),TimelineAxis=function(a){__extends$1(t,a);function t(n,o,s,l){var u=a.call(this,n,o,s)||this;return u.type=l||"value",u}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,o){this.api=o},t.prototype.render=function(n,o,s){if(this.model=n,this.api=s,this.ecModel=o,this.group.removeAll(),n.get("show",!0)){var l=this._layout(n,s),u=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),f=this._axis=this._createAxis(l,n);n.formatTooltip=function(d){var g=f.scale.getLabel({value:d});return createTooltipMarkup("nameValue",{noName:!0,value:g})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(d){this["_render"+d](l,u,f,n)},this),this._renderAxisLabel(l,c,f,n),this._position(l,n)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(n,o){var s=n.get(["label","position"]),l=n.get("orient"),u=getViewRect(n,o),c;s==null||s==="auto"?c=l==="horizontal"?u.y+u.height/2<o.getHeight()/2?"-":"+":u.x+u.width/2<o.getWidth()/2?"+":"-":isString(s)?c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][s]:c=s;var f={horizontal:"center",vertical:c>=0||c==="+"?"left":"right"},d={horizontal:c>=0||c==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:PI/2},y=l==="vertical"?u.height:u.width,S=n.getModel("controlStyle"),_=S.get("show",!0),x=_?S.get("itemSize"):0,b=_?S.get("itemGap"):0,T=x+b,A=n.get(["label","rotate"])||0;A=A*PI/180;var C,E,P,M=S.get("position",!0),I=_&&S.get("showPlayBtn",!0),D=_&&S.get("showPrevBtn",!0),L=_&&S.get("showNextBtn",!0),$=0,O=y;M==="left"||M==="bottom"?(I&&(C=[0,0],$+=T),D&&(E=[$,0],$+=T),L&&(P=[O-x,0],O-=T)):(I&&(C=[O-x,0],O-=T),D&&(E=[0,0],$+=T),L&&(P=[O-x,0],O-=T));var V=[$,O];return n.get("inverse")&&V.reverse(),{viewRect:u,mainLength:y,orient:l,rotation:g[l],labelRotation:A,labelPosOpt:c,labelAlign:n.get(["label","align"])||f[l],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||d[l],playPosition:C,prevBtnPosition:E,nextBtnPosition:P,axisExtent:V,controlSize:x,controlGap:b}},t.prototype._position=function(n,o){var s=this._mainGroup,l=this._labelGroup,u=n.viewRect;if(n.orient==="vertical"){var c=create$1(),f=u.x,d=u.y+u.height;translate(c,c,[-f,-d]),rotate$1(c,c,-PI/2),translate(c,c,[f,d]),u=u.clone(),u.applyTransform(c)}var g=C(u),y=C(s.getBoundingRect()),S=C(l.getBoundingRect()),_=[s.x,s.y],x=[l.x,l.y];x[0]=_[0]=g[0][0];var b=n.labelPosOpt;if(b==null||isString(b)){var T=b==="+"?0:1;E(_,y,g,1,T),E(x,S,g,1,1-T)}else{var T=b>=0?0:1;E(_,y,g,1,T),x[1]=_[1]+b}s.setPosition(_),l.setPosition(x),s.rotation=l.rotation=n.rotation,A(s),A(l);function A(P){P.originX=g[0][0]-P.x,P.originY=g[1][0]-P.y}function C(P){return[[P.x,P.x+P.width],[P.y,P.y+P.height]]}function E(P,M,I,D,L){P[D]+=I[D][L]-M[D][L]}},t.prototype._createAxis=function(n,o){var s=o.getData(),l=o.get("axisType"),u=createScaleByModel(o,l);u.getTicks=function(){return s.mapArray(["value"],function(d){return{value:d}})};var c=s.getDataExtent("value");u.setExtent(c[0],c[1]),u.calcNiceTicks();var f=new TimelineAxis("value",u,n.axisExtent,l);return f.model=o,f},t.prototype._createGroup=function(n){var o=this[n]=new Group$3;return this.group.add(o),o},t.prototype._renderAxisLine=function(n,o,s,l){var u=s.getExtent();if(l.get(["lineStyle","show"])){var c=new Line$1({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:extend({lineCap:"round"},l.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(c);var f=this._progressLine=new Line$1({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:c.style.lineWidth},l.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(f)}},t.prototype._renderAxisTick=function(n,o,s,l){var u=this,c=l.getData(),f=s.scale.getTicks();this._tickSymbols=[],each$f(f,function(d){var g=s.dataToCoord(d.value),y=c.getItemModel(d.value),S=y.getModel("itemStyle"),_=y.getModel(["emphasis","itemStyle"]),x=y.getModel(["progress","itemStyle"]),b={x:g,y:0,onclick:bind$1(u._changeTimeline,u,d.value)},T=giveSymbol(y,S,o,b);T.ensureState("emphasis").style=_.getItemStyle(),T.ensureState("progress").style=x.getItemStyle(),enableHoverEmphasis(T);var A=getECData(T);y.get("tooltip")?(A.dataIndex=d.value,A.dataModel=l):A.dataIndex=A.dataModel=null,u._tickSymbols.push(T)})},t.prototype._renderAxisLabel=function(n,o,s,l){var u=this,c=s.getLabelModel();if(c.get("show")){var f=l.getData(),d=s.getViewLabels();this._tickLabels=[],each$f(d,function(g){var y=g.tickValue,S=f.getItemModel(y),_=S.getModel("label"),x=S.getModel(["emphasis","label"]),b=S.getModel(["progress","label"]),T=s.dataToCoord(g.tickValue),A=new ZRText({x:T,y:0,rotation:n.labelRotation-n.rotation,onclick:bind$1(u._changeTimeline,u,y),silent:!1,style:createTextStyle(_,{text:g.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});A.ensureState("emphasis").style=createTextStyle(x),A.ensureState("progress").style=createTextStyle(b),o.add(A),enableHoverEmphasis(A),labelDataIndexStore(A).dataIndex=y,u._tickLabels.push(A)})}},t.prototype._renderControl=function(n,o,s,l){var u=n.controlSize,c=n.rotation,f=l.getModel("controlStyle").getItemStyle(),d=l.getModel(["emphasis","controlStyle"]).getItemStyle(),g=l.getPlayState(),y=l.get("inverse",!0);S(n.nextBtnPosition,"next",bind$1(this._changeTimeline,this,y?"-":"+")),S(n.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,y?"+":"-")),S(n.playPosition,g?"stop":"play",bind$1(this._handlePlayClick,this,!g),!0);function S(_,x,b,T){if(_){var A=parsePercent$1(retrieve2(l.get(["controlStyle",x+"BtnSize"]),u),u),C=[0,-A/2,A,A],E=makeControlIcon(l,x+"Icon",C,{x:_[0],y:_[1],originX:u/2,originY:0,rotation:T?-c:0,rectHover:!0,style:f,onclick:b});E.ensureState("emphasis").style=d,o.add(E),enableHoverEmphasis(E)}}},t.prototype._renderCurrentPointer=function(n,o,s,l){var u=l.getData(),c=l.getCurrentIndex(),f=u.getItemModel(c).getModel("checkpointStyle"),d=this,g={onCreate:function(y){y.draggable=!0,y.drift=bind$1(d._handlePointerDrag,d),y.ondragend=bind$1(d._handlePointerDragend,d),pointerMoveTo(y,d._progressLine,c,s,l,!0)},onUpdate:function(y){pointerMoveTo(y,d._progressLine,c,s,l)}};this._currentPointer=giveSymbol(f,f,this._mainGroup,{},this._currentPointer,g)},t.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},t.prototype._handlePointerDrag=function(n,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},t.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},t.prototype._pointerChangeTimeline=function(n,o){var s=this._toAxisCoord(n)[0],l=this._axis,u=asc$2(l.getExtent().slice());s>u[1]&&(s=u[1]),s<u[0]&&(s=u[0]),this._currentPointer.x=s,this._currentPointer.markRedraw();var c=this._progressLine;c&&(c.shape.x2=s,c.dirty());var f=this._findNearestTick(s),d=this.model;(o||f!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(f)},t.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=n.model;n._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(n){var o=this._mainGroup.getLocalTransform();return applyTransform(n,o,!0)},t.prototype._findNearestTick=function(n){var o=this.model.getData(),s=1/0,l,u=this._axis;return o.each(["value"],function(c,f){var d=u.dataToCoord(c),g=Math.abs(d-n);g<s&&(s=g,l=f)}),l},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(n){var o=this.model.getCurrentIndex();n==="+"?n=o+1:n==="-"&&(n=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},t.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var l=0;l<o.length;l++)o&&o[l]&&o[l].toggleState("progress",l<n);if(s)for(var l=0;l<s.length;l++)s&&s[l]&&s[l].toggleState("progress",labelDataIndexStore(s[l]).dataIndex<=n)},t.type="timeline.slider",t}(TimelineView);function createScaleByModel(a,t){if(t=t||a.get("type"),t)switch(t){case"category":return new OrdinalScale({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(a,t){return getLayoutRect(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},a.get("padding"))}function makeControlIcon(a,t,n,o){var s=o.style,l=createIcon(a.get(["controlStyle",t]),o||{},new BoundingRect(n[0],n[1],n[2],n[3]));return s&&l.setStyle(s),l}function giveSymbol(a,t,n,o,s,l){var u=t.get("color");if(s)s.setColor(u),n.add(s),l&&l.onUpdate(s);else{var c=a.get("symbol");s=createSymbol$1(c,-1,-1,2,2,u),s.setStyle("strokeNoScale",!0),n.add(s),l&&l.onCreate(s)}var f=t.getItemStyle(["color"]);s.setStyle(f),o=merge({rectHover:!0,z2:100},o,!0);var d=normalizeSymbolSize(a.get("symbolSize"));o.scaleX=d[0]/2,o.scaleY=d[1]/2;var g=normalizeSymbolOffset(a.get("symbolOffset"),d);g&&(o.x=(o.x||0)+g[0],o.y=(o.y||0)+g[1]);var y=a.get("symbolRotate");return o.rotation=(y||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function pointerMoveTo(a,t,n,o,s,l){if(!a.dragging){var u=s.getModel("checkpointStyle"),c=o.dataToCoord(s.getData().get("value",n));if(l||!u.get("animation",!0))a.attr({x:c,y:0}),t&&t.attr({shape:{x2:c}});else{var f={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:c,y:0},f),t&&t.animateTo({shape:{x2:c}},f)}}}function installTimelineAction(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,n,o){var s=n.getComponent("timeline");return s&&t.currentIndex!=null&&(s.setCurrentIndex(t.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),defaults({currentIndex:s.option.currentIndex},t)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,n){var o=n.getComponent("timeline");o&&t.playState!=null&&o.setPlayState(t.playState)})}function timelinePreprocessor(a){var t=a&&a.timeline;isArray$2(t)||(t=t?[t]:[]),each$f(t,function(n){n&&compatibleEC2(n)})}function compatibleEC2(a){var t=a.type,n={number:"value",time:"time"};if(n[t]&&(a.axisType=n[t],delete a.type),transferItem(a),has$1(a,"controlPosition")){var o=a.controlStyle||(a.controlStyle={});has$1(o,"position")||(o.position=a.controlPosition),o.position==="none"&&!has$1(o,"show")&&(o.show=!1,delete o.position),delete a.controlPosition}each$f(a.data||[],function(s){isObject$3(s)&&!isArray$2(s)&&(!has$1(s,"value")&&has$1(s,"name")&&(s.value=s.name),transferItem(s))})}function transferItem(a){var t=a.itemStyle||(a.itemStyle={}),n=t.emphasis||(t.emphasis={}),o=a.label||a.label||{},s=o.normal||(o.normal={}),l={normal:1,emphasis:1};each$f(o,function(u,c){!l[c]&&!has$1(s,c)&&(s[c]=u)}),n.label&&!has$1(o,"emphasis")&&(o.emphasis=n.label,delete n.label)}function has$1(a,t){return a.hasOwnProperty(t)}function install$f(a){a.registerComponentModel(SliderTimelineModel),a.registerComponentView(SliderTimelineView),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(a),a.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(a,t){if(!a)return!1;for(var n=isArray$2(a)?a:[a],o=0;o<n.length;o++)if(n[o]&&n[o][t])return!0;return!1}function fillLabel(a){defaultEmphasis(a,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),this._mergeOption(n,s,!1,!0)},t.prototype.isAnimationEnabled=function(){if(env.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,o){this._mergeOption(n,o,!1,!1)},t.prototype._mergeOption=function(n,o,s,l){var u=this.mainType;s||o.eachSeries(function(c){var f=c.get(this.mainType,!0),d=inner$5(c)[u];if(!f||!f.data){inner$5(c)[u]=null;return}d?d._mergeOption(f,o,!0):(l&&fillLabel(f),each$f(f.data,function(g){g instanceof Array?(fillLabel(g[0]),fillLabel(g[1])):fillLabel(g)}),d=this.createMarkerModelFromSeries(f,this,o),extend(d,{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),d.__hostSeries=c),inner$5(c)[u]=d},this)},t.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.getRawValue(n),c=l.getName(n);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:c,value:u,noName:!c,noValue:u==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.prototype.getDataParams=function(n,o){var s=DataFormatMixin.prototype.getDataParams.call(this,n,o),l=this.__hostSeries;return l&&(s.seriesId=l.id,s.seriesName=l.name,s.seriesType=l.subType),s},t.getMarkerModelFromSeries=function(n,o){return inner$5(n)[o]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,o,s){return new t(n,o,s)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(MarkerModel);function hasXOrY(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function hasXAndY(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function markerTypeCalculatorWithExtent(a,t,n,o,s,l){var u=[],c=isDimensionStacked(t,o),f=c?t.getCalculationInfo("stackResultDimension"):o,d=numCalculate(t,f,a),g=t.indicesOfNearest(f,d)[0];u[s]=t.get(n,g),u[l]=t.get(f,g);var y=t.get(o,g),S=getPrecision(t.get(o,g));return S=Math.min(S,20),S>=0&&(u[l]=+u[l].toFixed(S)),[u,y]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(a,t){if(t){var n=a.getData(),o=a.coordinateSystem,s=o&&o.dimensions;if(!hasXAndY(t)&&!isArray$2(t.coord)&&isArray$2(s)){var l=getAxisInfo(t,n,o,a);if(t=clone$4(t),t.type&&markerTypeCalculator[t.type]&&l.baseAxis&&l.valueAxis){var u=indexOf(s,l.baseAxis.dim),c=indexOf(s,l.valueAxis.dim),f=markerTypeCalculator[t.type](n,l.baseDataDim,l.valueDataDim,u,c);t.coord=f[0],t.value=f[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!isArray$2(s))t.coord=[];else for(var d=t.coord,g=0;g<2;g++)markerTypeCalculator[d[g]]&&(d[g]=numCalculate(n,n.mapDimension(s[g]),d[g]));return t}}function getAxisInfo(a,t,n,o){var s={};return a.valueIndex!=null||a.valueDim!=null?(s.valueDataDim=a.valueIndex!=null?t.getDimension(a.valueIndex):a.valueDim,s.valueAxis=n.getAxis(dataDimToCoordDim(o,s.valueDataDim)),s.baseAxis=n.getOtherAxis(s.valueAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=n.getOtherAxis(s.baseAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim),s.valueDataDim=t.mapDimension(s.valueAxis.dim)),s}function dataDimToCoordDim(a,t){var n=a.getData().getDimensionInfo(t);return n&&n.coordDim}function dataFilter(a,t){return a&&a.containData&&t.coord&&!hasXOrY(t)?a.containData(t.coord):!0}function zoneFilter(a,t,n){return a&&a.containZone&&t.coord&&n.coord&&!hasXOrY(t)&&!hasXOrY(n)?a.containZone(t.coord,n.coord):!0}function createMarkerDimValueGetter(a,t){return a?function(n,o,s,l){var u=l<2?n.coord&&n.coord[l]:n.value;return parseDataValue(u,t[l])}:function(n,o,s,l){return parseDataValue(n.value,t[l])}}function numCalculate(a,t,n){if(n==="average"){var o=0,s=0;return a.each(t,function(l,u){isNaN(l)||(o+=l,s++)}),o/s}else return n==="median"?a.getMedian(t):a.getDataExtent(t)[n==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=createHashMap()},t.prototype.render=function(n,o,s){var l=this,u=this.markerGroupMap;u.each(function(c){inner$4(c).keep=!1}),o.eachSeries(function(c){var f=MarkerModel.getMarkerModelFromSeries(c,l.type);f&&l.renderSeries(c,f,o,s)}),u.each(function(c){!inner$4(c).keep&&l.group.remove(c.group)})},t.prototype.markKeep=function(n){inner$4(n).keep=!0},t.prototype.toggleBlurSeries=function(n,o){var s=this;each$f(n,function(l){var u=MarkerModel.getMarkerModelFromSeries(l,s.type);if(u){var c=u.getData();c.eachItemGraphicEl(function(f){f&&(o?enterBlur(f):leaveBlur(f))})}})},t.type="marker",t}(ComponentView);function updateMarkerLayout(a,t,n){var o=t.coordinateSystem;a.each(function(s){var l=a.getItemModel(s),u,c=parsePercent(l.get("x"),n.getWidth()),f=parsePercent(l.get("y"),n.getHeight());if(!isNaN(c)&&!isNaN(f))u=[c,f];else if(t.getMarkerPosition)u=t.getMarkerPosition(a.getValues(a.dimensions,s));else if(o){var d=a.get(o.dimensions[0],s),g=a.get(o.dimensions[1],s);u=o.dataToPoint([d,g])}isNaN(c)||(u[0]=c),isNaN(f)||(u[1]=f),a.setItemLayout(s,u)})}var MarkPointView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel.getMarkerModelFromSeries(l,"markPoint");u&&(updateMarkerLayout(u.getData(),l,s),this.markerGroupMap.get(l.id).updateLayout())},this)},t.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,f=n.getData(),d=this.markerGroupMap,g=d.get(c)||d.set(c,new SymbolDraw),y=createData(u,n,o);o.setData(y),updateMarkerLayout(o.getData(),n,l),y.each(function(S){var _=y.getItemModel(S),x=_.getShallow("symbol"),b=_.getShallow("symbolSize"),T=_.getShallow("symbolRotate"),A=_.getShallow("symbolOffset"),C=_.getShallow("symbolKeepAspect");if(isFunction(x)||isFunction(b)||isFunction(T)||isFunction(A)){var E=o.getRawValue(S),P=o.getDataParams(S);isFunction(x)&&(x=x(E,P)),isFunction(b)&&(b=b(E,P)),isFunction(T)&&(T=T(E,P)),isFunction(A)&&(A=A(E,P))}var M=_.getModel("itemStyle").getItemStyle(),I=getVisualFromData(f,"color");M.fill||(M.fill=I),y.setItemVisual(S,{symbol:x,symbolSize:b,symbolRotate:T,symbolOffset:A,symbolKeepAspect:C,style:M})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(S){S.traverse(function(_){getECData(_).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||n.get("silent")},t.type="markPoint",t}(MarkerView);function createData(a,t,n){var o;a?o=map$1(a&&a.dimensions,function(c){var f=t.getData().getDimensionInfo(t.getData().mapDimension(c))||{};return extend(extend({},f),{name:c,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData(o,n),l=map$1(n.get("data"),curry$1(dataTransform,t));a&&(l=filter$1(l,curry$1(dataFilter,a)));var u=createMarkerDimValueGetter(!!a,o);return s.initData(l,null,u),s}function install$e(a){a.registerComponentModel(MarkPointModel),a.registerComponentView(MarkPointView),a.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var MarkLineModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,o,s){return new t(n,o,s)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(MarkerModel),inner$3=makeInner(),markLineTransform=function(a,t,n,o){var s=a.getData(),l;if(isArray$2(o))l=o;else{var u=o.type;if(u==="min"||u==="max"||u==="average"||u==="median"||o.xAxis!=null||o.yAxis!=null){var c=void 0,f=void 0;if(o.yAxis!=null||o.xAxis!=null)c=t.getAxis(o.yAxis!=null?"y":"x"),f=retrieve(o.yAxis,o.xAxis);else{var d=getAxisInfo(o,s,t,a);c=d.valueAxis;var g=getStackedDimension(s,d.valueDataDim);f=numCalculate(s,g,u)}var y=c.dim==="x"?0:1,S=1-y,_=clone$4(o),x={coord:[]};_.type=null,_.coord=[],_.coord[S]=-1/0,x.coord[S]=1/0;var b=n.get("precision");b>=0&&isNumber$2(f)&&(f=+f.toFixed(Math.min(b,20))),_.coord[y]=x.coord[y]=f,l=[_,x,{type:u,valueIndex:o.valueIndex,value:f}]}else l=[]}var T=[dataTransform(a,l[0]),dataTransform(a,l[1]),extend({},l[2])];return T[2].type=T[2].type||null,merge(T[2],T[0]),merge(T[2],T[1]),T};function isInfinity$1(a){return!isNaN(a)&&!isFinite(a)}function ifMarkLineHasOnlyDim(a,t,n,o){var s=1-a,l=o.dimensions[a];return isInfinity$1(t[s])&&isInfinity$1(n[s])&&t[a]===n[a]&&o.getAxis(l).containData(t[a])}function markLineFilter(a,t){if(a.type==="cartesian2d"){var n=t[0].coord,o=t[1].coord;if(n&&o&&(ifMarkLineHasOnlyDim(1,n,o,a)||ifMarkLineHasOnlyDim(0,n,o,a)))return!0}return dataFilter(a,t[0])&&dataFilter(a,t[1])}function updateSingleMarkerEndLayout(a,t,n,o,s){var l=o.coordinateSystem,u=a.getItemModel(t),c,f=parsePercent(u.get("x"),s.getWidth()),d=parsePercent(u.get("y"),s.getHeight());if(!isNaN(f)&&!isNaN(d))c=[f,d];else{if(o.getMarkerPosition)c=o.getMarkerPosition(a.getValues(a.dimensions,t));else{var g=l.dimensions,y=a.get(g[0],t),S=a.get(g[1],t);c=l.dataToPoint([y,S])}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),x=l.getAxis("y"),g=l.dimensions;isInfinity$1(a.get(g[0],t))?c[0]=_.toGlobalCoord(_.getExtent()[n?0:1]):isInfinity$1(a.get(g[1],t))&&(c[1]=x.toGlobalCoord(x.getExtent()[n?0:1]))}isNaN(f)||(c[0]=f),isNaN(d)||(c[1]=d)}a.setItemLayout(t,c)}var MarkLineView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel.getMarkerModelFromSeries(l,"markLine");if(u){var c=u.getData(),f=inner$3(u).from,d=inner$3(u).to;f.each(function(g){updateSingleMarkerEndLayout(f,g,!0,l,s),updateSingleMarkerEndLayout(d,g,!1,l,s)}),c.each(function(g){c.setItemLayout(g,[f.getItemLayout(g),d.getItemLayout(g)])}),this.markerGroupMap.get(l.id).updateLayout()}},this)},t.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,f=n.getData(),d=this.markerGroupMap,g=d.get(c)||d.set(c,new LineDraw);this.group.add(g.group);var y=createList$1(u,n,o),S=y.from,_=y.to,x=y.line;inner$3(o).from=S,inner$3(o).to=_,o.setData(x);var b=o.get("symbol"),T=o.get("symbolSize"),A=o.get("symbolRotate"),C=o.get("symbolOffset");isArray$2(b)||(b=[b,b]),isArray$2(T)||(T=[T,T]),isArray$2(A)||(A=[A,A]),isArray$2(C)||(C=[C,C]),y.from.each(function(P){E(S,P,!0),E(_,P,!1)}),x.each(function(P){var M=x.getItemModel(P).getModel("lineStyle").getLineStyle();x.setItemLayout(P,[S.getItemLayout(P),_.getItemLayout(P)]),M.stroke==null&&(M.stroke=S.getItemVisual(P,"style").fill),x.setItemVisual(P,{fromSymbolKeepAspect:S.getItemVisual(P,"symbolKeepAspect"),fromSymbolOffset:S.getItemVisual(P,"symbolOffset"),fromSymbolRotate:S.getItemVisual(P,"symbolRotate"),fromSymbolSize:S.getItemVisual(P,"symbolSize"),fromSymbol:S.getItemVisual(P,"symbol"),toSymbolKeepAspect:_.getItemVisual(P,"symbolKeepAspect"),toSymbolOffset:_.getItemVisual(P,"symbolOffset"),toSymbolRotate:_.getItemVisual(P,"symbolRotate"),toSymbolSize:_.getItemVisual(P,"symbolSize"),toSymbol:_.getItemVisual(P,"symbol"),style:M})}),g.updateData(x),y.line.eachItemGraphicEl(function(P){getECData(P).dataModel=o,P.traverse(function(M){getECData(M).dataModel=o})});function E(P,M,I){var D=P.getItemModel(M);updateSingleMarkerEndLayout(P,M,I,n,l);var L=D.getModel("itemStyle").getItemStyle();L.fill==null&&(L.fill=getVisualFromData(f,"color")),P.setItemVisual(M,{symbolKeepAspect:D.get("symbolKeepAspect"),symbolOffset:retrieve2(D.get("symbolOffset",!0),C[I?0:1]),symbolRotate:retrieve2(D.get("symbolRotate",!0),A[I?0:1]),symbolSize:retrieve2(D.get("symbolSize"),T[I?0:1]),symbol:retrieve2(D.get("symbol",!0),b[I?0:1]),style:L})}this.markKeep(g),g.group.silent=o.get("silent")||n.get("silent")},t.type="markLine",t}(MarkerView);function createList$1(a,t,n){var o;a?o=map$1(a&&a.dimensions,function(d){var g=t.getData().getDimensionInfo(t.getData().mapDimension(d))||{};return extend(extend({},g),{name:d,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData(o,n),l=new SeriesData(o,n),u=new SeriesData([],n),c=map$1(n.get("data"),curry$1(markLineTransform,t,a,n));a&&(c=filter$1(c,curry$1(markLineFilter,a)));var f=createMarkerDimValueGetter(!!a,o);return s.initData(map$1(c,function(d){return d[0]}),null,f),l.initData(map$1(c,function(d){return d[1]}),null,f),u.initData(map$1(c,function(d){return d[2]})),u.hasItemOption=!0,{from:s,to:l,line:u}}function install$d(a){a.registerComponentModel(MarkLineModel),a.registerComponentView(MarkLineView),a.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var MarkAreaModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,o,s){return new t(n,o,s)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(a,t,n,o){var s=o[0],l=o[1];if(!(!s||!l)){var u=dataTransform(a,s),c=dataTransform(a,l),f=u.coord,d=c.coord;f[0]=retrieve(f[0],-1/0),f[1]=retrieve(f[1],-1/0),d[0]=retrieve(d[0],1/0),d[1]=retrieve(d[1],1/0);var g=mergeAll([{},u,c]);return g.coord=[u.coord,c.coord],g.x0=u.x,g.y0=u.y,g.x1=c.x,g.y1=c.y,g}};function isInfinity(a){return!isNaN(a)&&!isFinite(a)}function ifMarkAreaHasOnlyDim(a,t,n,o){var s=1-a;return isInfinity(t[s])&&isInfinity(n[s])}function markAreaFilter(a,t){var n=t.coord[0],o=t.coord[1],s={coord:n,x:t.x0,y:t.y0},l={coord:o,x:t.x1,y:t.y1};return isCoordinateSystemType(a,"cartesian2d")?n&&o&&(ifMarkAreaHasOnlyDim(1,n,o)||ifMarkAreaHasOnlyDim(0,n,o))?!0:zoneFilter(a,s,l):dataFilter(a,s)||dataFilter(a,l)}function getSingleMarkerEndPoint(a,t,n,o,s){var l=o.coordinateSystem,u=a.getItemModel(t),c,f=parsePercent(u.get(n[0]),s.getWidth()),d=parsePercent(u.get(n[1]),s.getHeight());if(!isNaN(f)&&!isNaN(d))c=[f,d];else{if(o.getMarkerPosition){var g=a.getValues(["x0","y0"],t),y=a.getValues(["x1","y1"],t),S=l.clampData(g),_=l.clampData(y),x=[];n[0]==="x0"?x[0]=S[0]>_[0]?y[0]:g[0]:x[0]=S[0]>_[0]?g[0]:y[0],n[1]==="y0"?x[1]=S[1]>_[1]?y[1]:g[1]:x[1]=S[1]>_[1]?g[1]:y[1],c=o.getMarkerPosition(x,n,!0)}else{var b=a.get(n[0],t),T=a.get(n[1],t),A=[b,T];l.clampData&&l.clampData(A,A),c=l.dataToPoint(A,!0)}if(isCoordinateSystemType(l,"cartesian2d")){var C=l.getAxis("x"),E=l.getAxis("y"),b=a.get(n[0],t),T=a.get(n[1],t);isInfinity(b)?c[0]=C.toGlobalCoord(C.getExtent()[n[0]==="x0"?0:1]):isInfinity(T)&&(c[1]=E.toGlobalCoord(E.getExtent()[n[1]==="y0"?0:1]))}isNaN(f)||(c[0]=f),isNaN(d)||(c[1]=d)}return c}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel.getMarkerModelFromSeries(l,"markArea");if(u){var c=u.getData();c.each(function(f){var d=map$1(dimPermutations,function(y){return getSingleMarkerEndPoint(c,f,y,l,s)});c.setItemLayout(f,d);var g=c.getItemGraphicEl(f);g.setShape("points",d)})}},this)},t.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,f=n.getData(),d=this.markerGroupMap,g=d.get(c)||d.set(c,{group:new Group$3});this.group.add(g.group),this.markKeep(g);var y=createList(u,n,o);o.setData(y),y.each(function(S){var _=map$1(dimPermutations,function(L){return getSingleMarkerEndPoint(y,S,L,n,l)}),x=u.getAxis("x").scale,b=u.getAxis("y").scale,T=x.getExtent(),A=b.getExtent(),C=[x.parse(y.get("x0",S)),x.parse(y.get("x1",S))],E=[b.parse(y.get("y0",S)),b.parse(y.get("y1",S))];asc$2(C),asc$2(E);var P=!(T[0]>C[1]||T[1]<C[0]||A[0]>E[1]||A[1]<E[0]),M=!P;y.setItemLayout(S,{points:_,allClipped:M});var I=y.getItemModel(S).getModel("itemStyle").getItemStyle(),D=getVisualFromData(f,"color");I.fill||(I.fill=D,isString(I.fill)&&(I.fill=modifyAlpha(I.fill,.4))),I.stroke||(I.stroke=D),y.setItemVisual(S,"style",I)}),y.diff(inner$2(g).data).add(function(S){var _=y.getItemLayout(S);if(!_.allClipped){var x=new Polygon({shape:{points:_.points}});y.setItemGraphicEl(S,x),g.group.add(x)}}).update(function(S,_){var x=inner$2(g).data.getItemGraphicEl(_),b=y.getItemLayout(S);b.allClipped?x&&g.group.remove(x):(x?updateProps$1(x,{shape:{points:b.points}},o,S):x=new Polygon({shape:{points:b.points}}),y.setItemGraphicEl(S,x),g.group.add(x))}).remove(function(S){var _=inner$2(g).data.getItemGraphicEl(S);g.group.remove(_)}).execute(),y.eachItemGraphicEl(function(S,_){var x=y.getItemModel(_),b=y.getItemVisual(_,"style");S.useStyle(y.getItemVisual(_,"style")),setLabelStyle(S,getLabelStatesModels(x),{labelFetcher:o,labelDataIndex:_,defaultText:y.getName(_)||"",inheritColor:isString(b.fill)?modifyAlpha(b.fill,1):"#000"}),setStatesStylesFromModel(S,x),toggleHoverEmphasis(S,null,null,x.get(["emphasis","disabled"])),getECData(S).dataModel=o}),inner$2(g).data=y,g.group.silent=o.get("silent")||n.get("silent")},t.type="markArea",t}(MarkerView);function createList(a,t,n){var o,s,l=["x0","y0","x1","y1"];if(a){var u=map$1(a&&a.dimensions,function(d){var g=t.getData(),y=g.getDimensionInfo(g.mapDimension(d))||{};return extend(extend({},y),{name:d,ordinalMeta:null})});s=map$1(l,function(d,g){return{name:d,type:u[g%2].type}}),o=new SeriesData(s,n)}else s=[{name:"value",type:"float"}],o=new SeriesData(s,n);var c=map$1(n.get("data"),curry$1(markAreaTransform,t,a,n));a&&(c=filter$1(c,curry$1(markAreaFilter,a)));var f=a?function(d,g,y,S){var _=d.coord[Math.floor(S/2)][S%2];return parseDataValue(_,s[S])}:function(d,g,y,S){return parseDataValue(d.value,s[S])};return o.initData(c,null,f),o.hasItemOption=!0,o}function install$c(a){a.registerComponentModel(MarkAreaModel),a.registerComponentView(MarkAreaView),a.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var getDefaultSelectorOptions=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),this._updateSelector(n)},t.prototype._updateSelector=function(n){var o=n.selector,s=this.ecModel;o===!0&&(o=n.selector=["all","inverse"]),isArray$2(o)&&each$f(o,function(l,u){isString(l)&&(l={type:l}),o[u]=merge(l,getDefaultSelectorOptions(s,l.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var o=!1,s=0;s<n.length;s++){var l=n[s].get("name");if(this.isSelected(l)){this.select(l),o=!0;break}}!o&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var o=[],s=[];n.eachRawSeries(function(f){var d=f.name;s.push(d);var g;if(f.legendVisualProvider){var y=f.legendVisualProvider,S=y.getAllNames();n.isSeriesFiltered(f)||(s=s.concat(S)),S.length?o=o.concat(S):g=!0}else g=!0;g&&isNameSpecified(f)&&o.push(f.name)}),this._availableNames=s;var l=this.get("data")||o,u=createHashMap(),c=map$1(l,function(f){return(isString(f)||isNumber$2(f))&&(f={name:f}),u.get(f.name)?null:(u.set(f.name,!0),new Model(f,this,this.ecModel))},this);this._data=filter$1(c,function(f){return!!f})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var o=this.option.selected,s=this.get("selectedMode");if(s==="single"){var l=this._data;each$f(l,function(u){o[u.get("name")]=!1})}o[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var o=this.option.selected;o.hasOwnProperty(n)||(o[n]=!0),this[o[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,o=this.option.selected;each$f(n,function(s){o[s.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,o=this.option.selected;each$f(n,function(s){var l=s.get("name",!0);o.hasOwnProperty(l)||(o[l]=!0),o[l]=!o[l]})},t.prototype.isSelected=function(n){var o=this.option.selected;return!(o.hasOwnProperty(n)&&!o[n])&&indexOf(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,o,s){var l=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var u=n.get("align"),c=n.get("orient");(!u||u==="auto")&&(u=n.get("left")==="right"&&c==="vertical"?"right":"left");var f=n.get("selector",!0),d=n.get("selectorPosition",!0);f&&(!d||d==="auto")&&(d=c==="horizontal"?"end":"start"),this.renderInner(u,n,o,s,f,c,d);var g=n.getBoxLayoutParams(),y={width:s.getWidth(),height:s.getHeight()},S=n.get("padding"),_=getLayoutRect(g,y,S),x=this.layoutInner(n,u,_,l,f,d),b=getLayoutRect(defaults({width:x.width,height:x.height},g),y,S);this.group.x=b.x-x.x,this.group.y=b.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(x,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,o,s,l,u,c,f){var d=this.getContentGroup(),g=createHashMap(),y=o.get("selectedMode"),S=[];s.eachRawSeries(function(_){!_.get("legendHoverLink")&&S.push(_.id)}),each$3(o.getData(),function(_,x){var b=_.get("name");if(!this.newlineDisabled&&(b===""||b===`
`)){var T=new Group$1;T.newline=!0,d.add(T);return}var A=s.getSeriesByName(b)[0];if(!g.get(b))if(A){var C=A.getData(),E=C.getVisual("legendLineStyle")||{},P=C.getVisual("legendIcon"),M=C.getVisual("style"),I=this._createItem(A,b,x,_,o,n,E,M,P,y,l);I.on("click",curry(dispatchSelectAction,b,null,l,S)).on("mouseover",curry(dispatchHighlightAction,A.name,null,l,S)).on("mouseout",curry(dispatchDownplayAction,A.name,null,l,S)),s.ssr&&I.eachChild(function(D){var L=getECData(D);L.seriesIndex=A.seriesIndex,L.dataIndex=x,L.ssrType="legend"}),g.set(b,!0)}else s.eachRawSeries(function(D){if(!g.get(b)&&D.legendVisualProvider){var L=D.legendVisualProvider;if(!L.containName(b))return;var $=L.indexOfName(b),O=L.getItemVisual($,"style"),V=L.getItemVisual($,"legendIcon"),F=parse(O.fill);F&&F[3]===0&&(F[3]=.2,O=extend(extend({},O),{fill:stringify(F,"rgba")}));var z=this._createItem(D,b,x,_,o,n,{},O,V,y,l);z.on("click",curry(dispatchSelectAction,null,b,l,S)).on("mouseover",curry(dispatchHighlightAction,null,b,l,S)).on("mouseout",curry(dispatchDownplayAction,null,b,l,S)),s.ssr&&z.eachChild(function(U){var H=getECData(U);H.seriesIndex=D.seriesIndex,H.dataIndex=x,H.ssrType="legend"}),g.set(b,!0)}},this)},this),u&&this._createSelector(u,o,l,c,f)},t.prototype._createSelector=function(n,o,s,l,u){var c=this.getSelectorGroup();each$3(n,function(d){var g=d.type,y=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect",legendId:o.id})}});c.add(y);var S=o.getModel("selectorLabel"),_=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(y,{normal:S,emphasis:_},{defaultText:d.title}),enableHoverEmphasis(y)})},t.prototype._createItem=function(n,o,s,l,u,c,f,d,g,y,S){var _=n.visualDrawType,x=u.get("itemWidth"),b=u.get("itemHeight"),T=u.isSelected(o),A=l.get("symbolRotate"),C=l.get("symbolKeepAspect"),E=l.get("icon");g=E||g||"roundRect";var P=getLegendStyle(g,l,f,d,_,T,S),M=new Group$1,I=l.getModel("textStyle");if(isFunction(n.getLegendIcon)&&(!E||E==="inherit"))M.add(n.getLegendIcon({itemWidth:x,itemHeight:b,icon:g,iconRotate:A,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:C}));else{var D=E==="inherit"&&n.getData().getVisual("symbol")?A==="inherit"?n.getData().getVisual("symbolRotate"):A:0;M.add(getDefaultLegendIcon({itemWidth:x,itemHeight:b,icon:g,iconRotate:D,itemStyle:P.itemStyle,symbolKeepAspect:C}))}var L=c==="left"?x+5:-5,$=c,O=u.get("formatter"),V=o;isString(O)&&O?V=O.replace("{name}",o??""):isFunction(O)&&(V=O(o));var F=T?I.getTextColor():l.get("inactiveColor");M.add(new ZRText({style:createTextStyle(I,{text:V,x:L,y:b/2,fill:F,align:$,verticalAlign:"middle"},{inheritColor:F})}));var z=new Rect$2({shape:M.getBoundingRect(),style:{fill:"transparent"}}),U=l.getModel("tooltip");return U.get("show")&&setTooltipConfig({el:z,componentModel:u,itemName:o,itemTooltipOption:U.option}),M.add(z),M.eachChild(function(H){H.silent=!0}),z.silent=!y,this.getContentGroup().add(M),enableHoverEmphasis(M),M.__legendDataIndex=s,M},t.prototype.layoutInner=function(n,o,s,l,u,c){var f=this.getContentGroup(),d=this.getSelectorGroup();box(n.get("orient"),f,n.get("itemGap"),s.width,s.height);var g=f.getBoundingRect(),y=[-g.x,-g.y];if(d.markRedraw(),f.markRedraw(),u){box("horizontal",d,n.get("selectorItemGap",!0));var S=d.getBoundingRect(),_=[-S.x,-S.y],x=n.get("selectorButtonGap",!0),b=n.getOrient().index,T=b===0?"width":"height",A=b===0?"height":"width",C=b===0?"y":"x";c==="end"?_[b]+=g[T]+x:y[b]+=S[T]+x,_[1-b]+=g[A]/2-S[A]/2,d.x=_[0],d.y=_[1],f.x=y[0],f.y=y[1];var E={x:0,y:0};return E[T]=g[T]+x+S[T],E[A]=Math.max(g[A],S[A]),E[C]=Math.min(0,S[C]+_[1-b]),E}else return f.x=y[0],f.y=y[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ComponentView);function getLegendStyle(a,t,n,o,s,l,u){function c(T,A){T.lineWidth==="auto"&&(T.lineWidth=A.lineWidth>0?2:0),each$3(T,function(C,E){T[E]==="inherit"&&(T[E]=A[E])})}var f=t.getModel("itemStyle"),d=f.getItemStyle(),g=a.lastIndexOf("empty",0)===0?"fill":"stroke",y=f.getShallow("decal");d.decal=!y||y==="inherit"?o.decal:createOrUpdatePatternFromDecal(y,u),d.fill==="inherit"&&(d.fill=o[s]),d.stroke==="inherit"&&(d.stroke=o[g]),d.opacity==="inherit"&&(d.opacity=(s==="fill"?o:n).opacity),c(d,o);var S=t.getModel("lineStyle"),_=S.getLineStyle();if(c(_,n),d.fill==="auto"&&(d.fill=o.fill),d.stroke==="auto"&&(d.stroke=o.fill),_.stroke==="auto"&&(_.stroke=o.fill),!l){var x=t.get("inactiveBorderWidth"),b=d[g];d.lineWidth=x==="auto"?o.lineWidth>0&&b?2:0:d.lineWidth,d.fill=t.get("inactiveColor"),d.stroke=t.get("inactiveBorderColor"),_.stroke=S.get("inactiveColor"),_.lineWidth=S.get("inactiveWidth")}return{itemStyle:d,lineStyle:_}}function getDefaultLegendIcon(a){var t=a.icon||"roundRect",n=createSymbol$1(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return n.setStyle(a.itemStyle),n.rotation=(a.iconRotate||0)*Math.PI/180,n.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function dispatchSelectAction(a,t,n,o){dispatchDownplayAction(a,t,n,o),n.dispatchAction({type:"legendToggleSelect",name:a??t}),dispatchHighlightAction(a,t,n,o)}function isUseHoverLayer(a){for(var t=a.getZr().storage.getDisplayList(),n,o=0,s=t.length;o<s&&!(n=t[o].states.emphasis);)o++;return n&&n.hoverLayer}function dispatchHighlightAction(a,t,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:o})}function dispatchDownplayAction(a,t,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:o})}function legendFilter(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(n){for(var o=0;o<t.length;o++)if(!t[o].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(a,t,n){var o=a==="allSelect"||a==="inverseSelect",s={},l=[];n.eachComponent({mainType:"legend",query:t},function(c){o?c[a]():c[a](t.name),makeSelectedMap(c,s),l.push(c.componentIndex)});var u={};return n.eachComponent("legend",function(c){each$f(s,function(f,d){c[f?"select":"unSelect"](d)}),makeSelectedMap(c,u)}),o?{selected:u,legendIndex:l}:{name:t.name,selected:u}}function makeSelectedMap(a,t){var n=t||{};return each$f(a.getData(),function(o){var s=o.get("name");if(!(s===`
`||s==="")){var l=a.isSelected(s);hasOwn(n,s)?n[s]=n[s]&&l:n[s]=l}}),n}function installLegendAction(a){a.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),a.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),a.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(a){a.registerComponentModel(LegendModel),a.registerComponentView(LegendView),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),a.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(a)}var ScrollableLegendModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,o,s){var l=getLayoutParams(n);a.prototype.init.call(this,n,o,s),mergeAndNormalizeLayoutParams(this,n,l)},t.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),mergeAndNormalizeLayoutParams(this,this.option,n)},t.type="legend.scroll",t.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(LegendModel);function mergeAndNormalizeLayoutParams(a,t,n){var o=a.getOrient(),s=[1,1];s[o.index]=0,mergeLayoutParam(t,n,{type:"box",ignoreSize:!!s})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,o,s,l,u,c,f){var d=this;a.prototype.renderInner.call(this,n,o,s,l,u,c,f);var g=this._controllerGroup,y=o.get("pageIconSize",!0),S=isArray$2(y)?y:[y,y];x("pagePrev",0);var _=o.getModel("pageTextStyle");g.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(b,T){var A=b+"DataIndex",C=createIcon(o.get("pageIcons",!0)[o.getOrient().name][T],{onclick:bind$1(d._pageGo,d,A,o,l)},{x:-S[0]/2,y:-S[1]/2,width:S[0],height:S[1]});C.name=b,g.add(C)}},t.prototype.layoutInner=function(n,o,s,l,u,c){var f=this.getSelectorGroup(),d=n.getOrient().index,g=WH[d],y=XY[d],S=WH[1-d],_=XY[1-d];u&&box("horizontal",f,n.get("selectorItemGap",!0));var x=n.get("selectorButtonGap",!0),b=f.getBoundingRect(),T=[-b.x,-b.y],A=clone$4(s);u&&(A[g]=s[g]-b[g]-x);var C=this._layoutContentAndController(n,l,A,d,g,S,_,y);if(u){if(c==="end")T[d]+=C[g]+x;else{var E=b[g]+x;T[d]-=E,C[y]-=E}C[g]+=b[g]+x,T[1-d]+=C[_]+C[S]/2-b[S]/2,C[S]=Math.max(C[S],b[S]),C[_]=Math.min(C[_],b[_]+T[1-d]),f.x=T[0],f.y=T[1],f.markRedraw()}return C},t.prototype._layoutContentAndController=function(n,o,s,l,u,c,f,d){var g=this.getContentGroup(),y=this._containerGroup,S=this._controllerGroup;box(n.get("orient"),g,n.get("itemGap"),l?s.width:null,l?null:s.height),box("horizontal",S,n.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),x=S.getBoundingRect(),b=this._showController=_[u]>s[u],T=[-_.x,-_.y];o||(T[l]=g[d]);var A=[0,0],C=[-x.x,-x.y],E=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(b){var P=n.get("pageButtonPosition",!0);P==="end"?C[l]+=s[u]-x[u]:A[l]+=x[u]+E}C[1-l]+=_[c]/2-x[c]/2,g.setPosition(T),y.setPosition(A),S.setPosition(C);var M={x:0,y:0};if(M[u]=b?s[u]:_[u],M[c]=Math.max(_[c],x[c]),M[f]=Math.min(0,x[f]+C[1-l]),y.__rectSize=s[u],b){var I={x:0,y:0};I[u]=Math.max(s[u]-x[u]-E,0),I[c]=M[c],y.setClipPath(new Rect$2({shape:I})),y.__rectSize=I[u]}else S.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(n);return D.pageIndex!=null&&updateProps$1(g,{x:D.contentPosition[0],y:D.contentPosition[1]},b?n:null),this._updatePageInfoView(n,D),M},t.prototype._pageGo=function(n,o,s){var l=this._getPageInfo(o)[n];l!=null&&s.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:o.id})},t.prototype._updatePageInfoView=function(n,o){var s=this._controllerGroup;each$f(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",S=o[y]!=null,_=s.childOfName(g);_&&(_.setStyle("fill",S?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),_.cursor=S?"pointer":"default")});var l=s.childOfName("pageText"),u=n.get("pageFormatter"),c=o.pageIndex,f=c!=null?c+1:0,d=o.pageCount;l&&u&&l.setStyle("text",isString(u)?u.replace("{current}",f==null?"":f+"").replace("{total}",d==null?"":d+""):u({current:f,total:d}))},t.prototype._getPageInfo=function(n){var o=n.get("scrollDataIndex",!0),s=this.getContentGroup(),l=this._containerGroup.__rectSize,u=n.getOrient().index,c=WH[u],f=XY[u],d=this._findTargetItemIndex(o),g=s.children(),y=g[d],S=g.length,_=S?1:0,x={contentPosition:[s.x,s.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return x;var b=P(y);x.contentPosition[u]=-b.s;for(var T=d+1,A=b,C=b,E=null;T<=S;++T)E=P(g[T]),(!E&&C.e>A.s+l||E&&!M(E,A.s))&&(C.i>A.i?A=C:A=E,A&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=A.i),++x.pageCount)),C=E;for(var T=d-1,A=b,C=b,E=null;T>=-1;--T)E=P(g[T]),(!E||!M(C,E.s))&&A.i<C.i&&(C=A,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=A.i),++x.pageCount,++x.pageIndex),A=E;return x;function P(I){if(I){var D=I.getBoundingRect(),L=D[f]+I[f];return{s:L,e:L+D[c],i:I.__legendDataIndex}}}function M(I,D){return I.e>=D&&I.s<=D+l}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var o,s=this.getContentGroup(),l;return s.eachChild(function(u,c){var f=u.__legendDataIndex;l==null&&f!=null&&(l=c),f===n&&(o=c)}),o??l},t.type="legend.scroll",t}(LegendView);function installScrollableLegendAction(a){a.registerAction("legendScroll","legendscroll",function(t,n){var o=t.scrollDataIndex;o!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(s){s.setScrollDataIndex(o)})})}function install$a(a){use(install$b),a.registerComponentModel(ScrollableLegendModel),a.registerComponentView(ScrollableLegendView),installScrollableLegendAction(a)}function install$9(a){use(install$b),use(install$a)}var InsideZoomModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(a,t,n){inner$1(a).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(t.uid);s&&(s.getRange=n)})}function disposeCoordSysRecordIfNeeded(a,t){for(var n=inner$1(a).coordSysRecordMap,o=n.keys(),s=0;s<o.length;s++){var l=o[s],u=n.get(l),c=u.dataZoomInfoMap;if(c){var f=t.uid,d=c.get(f);d&&(c.removeKey(f),c.keys().length||disposeCoordSysRecord(n,u))}}}function disposeCoordSysRecord(a,t){if(t){a.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function createCoordSysRecord(a,t){var n={model:t,containsPoint:curry$1(containsPoint,t),dispatchAction:curry$1(dispatchAction,a),dataZoomInfoMap:null,controller:null},o=n.controller=new RoamController(a.getZr());return each$f(["pan","zoom","scrollMove"],function(s){o.on(s,function(l){var u=[];n.dataZoomInfoMap.each(function(c){if(l.isAvailableBehavior(c.model.option)){var f=(c.getRange||{})[s],d=f&&f(c.dzReferCoordSysInfo,n.model.mainType,n.controller,l);!c.model.get("disabled",!0)&&d&&u.push({dataZoomId:c.model.id,start:d[0],end:d[1]})}}),u.length&&n.dispatchAction(u)})}),n}function dispatchAction(a,t){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function containsPoint(a,t,n,o){return a.coordinateSystem.containPoint([n,o])}function mergeControllerParams(a){var t,n="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return a.each(function(l){var u=l.model,c=u.get("disabled",!0)?!1:u.get("zoomLock",!0)?"move":!0;o[n+c]>o[n+t]&&(t=c),s=s&&u.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s}}}function installDataZoomRoamProcessor(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(t,n){var o=inner$1(n),s=o.coordSysRecordMap||(o.coordSysRecordMap=createHashMap());s.each(function(l){l.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(l){var u=collectReferCoordSysModelInfo(l);each$f(u.infoList,function(c){var f=c.model.uid,d=s.get(f)||s.set(f,createCoordSysRecord(n,c.model)),g=d.dataZoomInfoMap||(d.dataZoomInfoMap=createHashMap());g.set(l.uid,{dzReferCoordSysInfo:c,model:l,getRange:null})})}),s.each(function(l){var u=l.controller,c,f=l.dataZoomInfoMap;if(f){var d=f.keys()[0];d!=null&&(c=f.get(d))}if(!c){disposeCoordSysRecord(s,l);return}var g=mergeControllerParams(f);u.enable(g.controlType,g.opt),u.setPointerChecker(l.containsPoint),createOrUpdate(l,"dispatchAction",c.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,o,s){if(a.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),setViewInfoToCoordSysRecord(s,n,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(DataZoomView),getRangeHandlers={zoom:function(a,t,n,o){var s=this.range,l=s.slice(),u=a.axisModels[0];if(u){var c=getDirectionInfo[t](null,[o.originX,o.originY],u,n,a),f=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(l[1]-l[0])+l[0],d=Math.max(1/o.scale,0);l[0]=(l[0]-f)*d+f,l[1]=(l[1]-f)*d+f;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,l,[0,100],0,g.minSpan,g.maxSpan),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}},pan:makeMover(function(a,t,n,o,s,l){var u=getDirectionInfo[o]([l.oldX,l.oldY],[l.newX,l.newY],t,s,n);return u.signal*(a[1]-a[0])*u.pixel/u.pixelLength}),scrollMove:makeMover(function(a,t,n,o,s,l){var u=getDirectionInfo[o]([0,0],[l.scrollDelta,l.scrollDelta],t,s,n);return u.signal*(a[1]-a[0])*l.scrollDelta})};function makeMover(a){return function(t,n,o,s){var l=this.range,u=l.slice(),c=t.axisModels[0];if(c){var f=a(u,c,t,n,o,s);if(sliderMove(f,u,[0,100],"all"),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}}}var getDirectionInfo={grid:function(a,t,n,o,s){var l=n.axis,u={},c=s.model.coordinateSystem.getRect();return a=a||[0,0],l.dim==="x"?(u.pixel=t[0]-a[0],u.pixelLength=c.width,u.pixelStart=c.x,u.signal=l.inverse?1:-1):(u.pixel=t[1]-a[1],u.pixelLength=c.height,u.pixelStart=c.y,u.signal=l.inverse?-1:1),u},polar:function(a,t,n,o,s){var l=n.axis,u={},c=s.model.coordinateSystem,f=c.getRadiusAxis().getExtent(),d=c.getAngleAxis().getExtent();return a=a?c.pointToCoord(a):[0,0],t=c.pointToCoord(t),n.mainType==="radiusAxis"?(u.pixel=t[0]-a[0],u.pixelLength=f[1]-f[0],u.pixelStart=f[0],u.signal=l.inverse?1:-1):(u.pixel=t[1]-a[1],u.pixelLength=d[1]-d[0],u.pixelStart=d[0],u.signal=l.inverse?-1:1),u},singleAxis:function(a,t,n,o,s){var l=n.axis,u=s.model.coordinateSystem.getRect(),c={};return a=a||[0,0],l.orient==="horizontal"?(c.pixel=t[0]-a[0],c.pixelLength=u.width,c.pixelStart=u.x,c.signal=l.inverse?1:-1):(c.pixel=t[1]-a[1],c.pixelLength=u.height,c.pixelStart=u.y,c.signal=l.inverse?-1:1),c}};function install$8(a){installCommon$1(a),a.registerComponentModel(InsideZoomModel),a.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(a)}var SliderZoomModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,o){this.api=o,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},t.prototype.render=function(n,o,s,l){if(a.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!l||l.type!=="dataZoom"||l.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(o),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,o=this.api,s=n.get("brushSelect"),l=s?DEFAULT_MOVE_HANDLE_SIZE:0,u=this._findCoordRect(),c={width:o.getWidth(),height:o.getHeight()},f=this._orient===HORIZONTAL?{right:c.width-u.x-u.width,top:c.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-l,width:u.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:u.y,width:DEFAULT_FILLER_SIZE,height:u.height},d=getLayoutParams(n.option);each$f(["right","top","width","height"],function(y){d[y]==="ph"&&(d[y]=f[y])});var g=getLayoutRect(d,c);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===VERTICAL&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,o=this._location,s=this._orient,l=this.dataZoomModel.getFirstTargetAxisModel(),u=l&&l.get("inverse"),c=this._displayables.sliderGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(s===HORIZONTAL&&!u?{scaleY:f?1:-1,scaleX:1}:s===HORIZONTAL&&u?{scaleY:f?1:-1,scaleX:-1}:s===VERTICAL&&!u?{scaleY:f?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:f?-1:1,scaleX:-1,rotation:Math.PI/2});var d=n.getBoundingRect([c]);n.x=o.x-d.x,n.y=o.y-d.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,l=n.get("brushSelect");s.add(new Rect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var u=new Rect({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),c=this.api.getZr();l?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),s.add(u)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var o=this._size,s=this._shadowSize||[],l=n.series,u=l.getRawData(),c=l.getShadowDim&&l.getShadowDim(),f=c&&u.getDimensionInfo(c)?l.getShadowDim():n.otherDim;if(f==null)return;var d=this._shadowPolygonPts,g=this._shadowPolylinePts;if(u!==this._shadowData||f!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var y=u.getDataExtent(f),S=(y[1]-y[0])*.3;y=[y[0]-S,y[1]+S];var _=[0,o[1]],x=[0,o[0]],b=[[o[0],0],[0,0]],T=[],A=x[1]/(u.count()-1),C=0,E=Math.round(u.count()/o[0]),P;u.each([f],function($,O){if(E>0&&O%E){C+=A;return}var V=$==null||isNaN($)||$==="",F=V?0:linearMap$2($,y,_,!0);V&&!P&&O?(b.push([b[b.length-1][0],0]),T.push([T[T.length-1][0],0])):!V&&P&&(b.push([C,0]),T.push([C,0])),b.push([C,F]),T.push([C,F]),C+=A,P=V}),d=this._shadowPolygonPts=b,g=this._shadowPolylinePts=T}this._shadowData=u,this._shadowDim=f,this._shadowSize=[o[0],o[1]];var M=this.dataZoomModel;function I($){var O=M.getModel($?"selectedDataBackground":"dataBackground"),V=new Group$3,F=new Polygon({shape:{points:d},segmentIgnoreThreshold:1,style:O.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),z=new Polyline$1({shape:{points:g},segmentIgnoreThreshold:1,style:O.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return V.add(F),V.add(z),V}for(var D=0;D<3;D++){var L=I(D===1);this._displayables.sliderGroup.add(L),this._displayables.dataShadowSegs.push(L)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,o=n.get("showDataShadow");if(o!==!1){var s,l=this.ecModel;return n.eachTargetAxis(function(u,c){var f=n.getAxisProxy(u,c).getTargetSeriesModels();each$f(f,function(d){if(!s&&!(o!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,d.get("type"))<0)){var g=l.getComponent(getAxisMainType(u),c).axis,y=getOtherDim(u),S,_=d.coordinateSystem;y!=null&&_.getOtherAxis&&(S=_.getOtherAxis(g).inverse),y=d.getData().mapDimension(y),s={thisAxis:g,series:d,thisDim:u,otherDim:y,otherAxisInverse:S}}},this)},this),s}},t.prototype._renderHandle=function(){var n=this.group,o=this._displayables,s=o.handles=[null,null],l=o.handleLabels=[null,null],u=this._displayables.sliderGroup,c=this._size,f=this.dataZoomModel,d=this.api,g=f.get("borderRadius")||0,y=f.get("brushSelect"),S=o.filler=new Rect({silent:y,style:{fill:f.get("fillerColor")},textConfig:{position:"inside"}});u.add(S),u.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:g},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(E){var P=f.get("handleIcon");!symbolBuildProxies[P]&&P.indexOf("path://")<0&&P.indexOf("image://")<0&&(P="path://"+P);var M=createSymbol$1(P,-1,0,2,2,null,!0);M.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,E),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var I=M.getBoundingRect(),D=f.get("handleSize");this._handleHeight=parsePercent(D,this._size[1]),this._handleWidth=I.width/I.height*this._handleHeight,M.setStyle(f.getModel("handleStyle").getItemStyle()),M.style.strokeNoScale=!0,M.rectHover=!0,M.ensureState("emphasis").style=f.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(M);var L=f.get("handleColor");L!=null&&(M.style.fill=L),u.add(s[E]=M);var $=f.getModel("textStyle"),O=f.get("handleLabel")||{},V=O.show||!1;n.add(l[E]=new ZRText({silent:!0,invisible:!V,style:createTextStyle($,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:$.getTextColor(),font:$.getFont()}),z2:10}))},this);var _=S;if(y){var x=parsePercent(f.get("moveHandleSize"),c[1]),b=o.moveHandle=new Rect$2({style:f.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:x}}),T=x*.8,A=o.moveHandleIcon=createSymbol$1(f.get("moveHandleIcon"),-T/2,-T/2,T,T,"#fff",!0);A.silent=!0,A.y=c[1]+x/2-.5,b.ensureState("emphasis").style=f.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var C=Math.min(c[1]/2,Math.max(x,10));_=o.moveZone=new Rect$2({invisible:!0,shape:{y:c[1]-C,height:x+C}}),_.on("mouseover",function(){d.enterEmphasis(b)}).on("mouseout",function(){d.leaveEmphasis(b)}),u.add(b),u.add(A),u.add(_)}_.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[linearMap$2(n[0],[0,100],o,!0),linearMap$2(n[1],[0,100],o,!0)]},t.prototype._updateInterval=function(n,o){var s=this.dataZoomModel,l=this._handleEnds,u=this._getViewExtent(),c=s.findRepresentativeAxisProxy().getMinMaxSpan(),f=[0,100];sliderMove(o,l,u,s.get("zoomLock")?"all":n,c.minSpan!=null?linearMap$2(c.minSpan,f,u,!0):null,c.maxSpan!=null?linearMap$2(c.maxSpan,f,u,!0):null);var d=this._range,g=this._range=asc$2([linearMap$2(l[0],u,f,!0),linearMap$2(l[1],u,f,!0)]);return!d||d[0]!==g[0]||d[1]!==g[1]},t.prototype._updateView=function(n){var o=this._displayables,s=this._handleEnds,l=asc$2(s.slice()),u=this._size;each$f([0,1],function(_){var x=o.handles[_],b=this._handleHeight;x.attr({scaleX:b/2,scaleY:b/2,x:s[_]+(_?-1:1),y:u[1]/2-b/2})},this),o.filler.setShape({x:l[0],y:0,width:l[1]-l[0],height:u[1]});var c={x:l[0],width:l[1]-l[0]};o.moveHandle&&(o.moveHandle.setShape(c),o.moveZone.setShape(c),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",c.x+c.width/2));for(var f=o.dataShadowSegs,d=[0,l[0],l[1],u[0]],g=0;g<f.length;g++){var y=f[g],S=y.getClipPath();S||(S=new Rect$2,y.setClipPath(S)),S.setShape({x:d[g],y:0,width:d[g+1]-d[g],height:u[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var o=this.dataZoomModel,s=this._displayables,l=s.handleLabels,u=this._orient,c=["",""];if(o.get("showDetail")){var f=o.findRepresentativeAxisProxy();if(f){var d=f.getAxisModel().axis,g=this._range,y=n?f.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:f.getDataValueWindow();c=[this._formatLabel(y[0],d),this._formatLabel(y[1],d)]}}var S=asc$2(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(x){var b=getTransform$1(s.handles[x].parent,this.group),T=transformDirection(x===0?"right":"left",b),A=this._handleWidth/2+LABEL_GAP,C=applyTransform([S[x]+(x===0?-A:A),this._size[1]/2],b);l[x].setStyle({x:C[0],y:C[1],verticalAlign:u===HORIZONTAL?"middle":T,align:u===HORIZONTAL?T:"center",text:c[x]})}},t.prototype._formatLabel=function(n,o){var s=this.dataZoomModel,l=s.get("labelFormatter"),u=s.get("labelPrecision");(u==null||u==="auto")&&(u=o.getPixelPrecision());var c=n==null||isNaN(n)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(u,20));return isFunction(l)?l(n,c):isString(l)?l.replace("{value}",c):c},t.prototype._showDataInfo=function(n){var o=this.dataZoomModel.get("handleLabel")||{},s=o.show||!1,l=this.dataZoomModel.getModel(["emphasis","handleLabel"]),u=l.get("show")||!1,c=n||this._dragging?u:s,f=this._displayables,d=f.handleLabels;d[0].attr("invisible",!c),d[1].attr("invisible",!c),f.moveHandle&&this.api[c?"enterEmphasis":"leaveEmphasis"](f.moveHandle,1)},t.prototype._onDragMove=function(n,o,s,l){this._dragging=!0,stop(l.event);var u=this._displayables.sliderGroup.getLocalTransform(),c=applyTransform([o,s],u,!0),f=this._updateInterval(n,c[0]),d=this.dataZoomModel.get("realtime");this._updateView(!d),f&&d&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var l=this._handleEnds,u=(l[0]+l[1])/2,c=this._updateInterval("all",s[0]-u);this._updateView(),c&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var o=n.offsetX,s=n.offsetY;this._brushStart=new Point(o,s),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var s=o.shape,l=+new Date;if(!(l-this._brushStartTime<200&&Math.abs(s.width)<5)){var u=this._getViewExtent(),c=[0,100];this._range=asc$2([linearMap$2(s.x,u,c,!0),linearMap$2(s.x+s.width,u,c,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(stop(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,o){var s=this._displayables,l=this.dataZoomModel,u=s.brushRect;u||(u=s.brushRect=new Rect({silent:!0,style:l.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(u)),u.attr("ignore",!1);var c=this._brushStart,f=this._displayables.sliderGroup,d=f.transformCoordToLocal(n,o),g=f.transformCoordToLocal(c.x,c.y),y=this._size;d[0]=Math.max(Math.min(y[0],d[0]),0),u.setShape({x:g[0],y:0,width:d[0]-g[0],height:y[1]})},t.prototype._dispatchZoomAction=function(n){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?REALTIME_ANIMATION_CONFIG:null,start:o[0],end:o[1]})},t.prototype._findCoordRect=function(){var n,o=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!n&&o.length){var s=o[0].model.coordinateSystem;n=s.getRect&&s.getRect()}if(!n){var l=this.api.getWidth(),u=this.api.getHeight();n={x:l*.2,y:u*.2,width:l*.6,height:u*.6}}return n},t.type="dataZoom.slider",t}(DataZoomView);function getOtherDim(a){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[a]}function getCursor$1(a){return a==="vertical"?"ns-resize":"ew-resize"}function install$7(a){a.registerComponentModel(SliderZoomModel),a.registerComponentView(SliderZoomView),installCommon$1(a)}function install$6(a){use(install$8),use(install$7)}var visualDefault={get:function(a,t,n){var o=clone$4((defaultOption[a]||{})[t]);return n&&isArray$2(o)?o[o.length-1]:o}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray$1=isArray$2,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s)},t.prototype.optionUpdated=function(n,o){var s=this.option;!o&&replaceVisualOption(s,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(n){var o=this.stateList;n=bind$1(n,this),this.controllerVisuals=createVisualMappings(this.option.controller,o,n),this.targetVisuals=createVisualMappings(this.option.target,o,n)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,o=[];return n==null||n==="all"?this.ecModel.eachSeries(function(s,l){o.push(l)}):o=normalizeToArray(n),o},t.prototype.eachTargetSeries=function(n,o){each$f(this.getTargetSeriesIndices(),function(s){var l=this.ecModel.getSeriesByIndex(s);l&&n.call(o,l)},this)},t.prototype.isTargetSeries=function(n){var o=!1;return this.eachTargetSeries(function(s){s===n&&(o=!0)}),o},t.prototype.formatValueText=function(n,o,s){var l=this.option,u=l.precision,c=this.dataBound,f=l.formatter,d;s=s||["<",">"],isArray$2(n)&&(n=n.slice(),d=!0);var g=o?n:d?[y(n[0]),y(n[1])]:y(n);if(isString(f))return f.replace("{value}",d?g[0]:g).replace("{value2}",d?g[1]:g);if(isFunction(f))return d?f(n[0],n[1]):f(n);if(d)return n[0]===c[0]?s[0]+" "+g[1]:n[1]===c[1]?s[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(S){return S===c[0]?"min":S===c[1]?"max":(+S).toFixed(Math.min(u,20))}},t.prototype.resetExtent=function(){var n=this.option,o=asc([n.min,n.max]);this._dataExtent=o},t.prototype.getDataDimensionIndex=function(n){var o=this.option.dimension;if(o!=null)return n.getDimensionIndex(o);for(var s=n.dimensions,l=s.length-1;l>=0;l--){var u=s[l],c=n.getDimensionInfo(u);if(!c.isCalculationCoord)return c.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var n=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},l=o.target||(o.target={}),u=o.controller||(o.controller={});merge(l,s),merge(u,s);var c=this.isCategory();f.call(this,l),f.call(this,u),d.call(this,l,"inRange","outOfRange"),g.call(this,u);function f(y){isArray$1(o.color)&&!y.inRange&&(y.inRange={color:o.color.slice().reverse()}),y.inRange=y.inRange||{color:n.get("gradientColor")}}function d(y,S,_){var x=y[S],b=y[_];x&&!b&&(b=y[_]={},each$2(x,function(T,A){if(VisualMapping.isValidType(A)){var C=visualDefault.get(A,"inactive",c);C!=null&&(b[A]=C,A==="color"&&!b.hasOwnProperty("opacity")&&!b.hasOwnProperty("colorAlpha")&&(b.opacity=[0,0]))}}))}function g(y){var S=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,_=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),b=this.getItemSymbol(),T=b||"roundRect";each$2(this.stateList,function(A){var C=this.itemSize,E=y[A];E||(E=y[A]={color:c?x:[x]}),E.symbol==null&&(E.symbol=S&&clone$4(S)||(c?T:[T])),E.symbolSize==null&&(E.symbolSize=_&&clone$4(_)||(c?C[0]:[C[0],C[0]])),E.symbol=mapVisual(E.symbol,function(I){return I==="none"?T:I});var P=E.symbolSize;if(P!=null){var M=-1/0;eachVisual(P,function(I){I>M&&(M=I)}),E.symbolSize=mapVisual(P,function(I){return linearMap$1(I,[0,M],[0,C[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(n){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(n){return null},t.prototype.getVisualMeta=function(n){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(n,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=DEFAULT_BAR_BOUND[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=DEFAULT_BAR_BOUND[1])},t.prototype._resetRange=function(){var n=this.getExtent(),o=this.option.range;!o||o.auto?(n.auto=1,this.option.range=n):isArray$2(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],n[0]),o[1]=Math.min(o[1],n[1]))},t.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(n){var o=this.option.controller[n].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},t.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},t.prototype.getSelected=function(){var n=this.getExtent(),o=asc$2((this.get("range")||[]).slice());return o[0]>n[1]&&(o[0]=n[1]),o[1]>n[1]&&(o[1]=n[1]),o[0]<n[0]&&(o[0]=n[0]),o[1]<n[0]&&(o[1]=n[0]),o},t.prototype.getValueState=function(n){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=n)&&(o[1]>=s[1]||n<=o[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var o=[];return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimensionIndex(u),function(c,f){n[0]<=c&&c<=n[1]&&l.push(f)},this),o.push({seriesId:s.id,dataIndex:l})},this),o},t.prototype.getVisualMeta=function(n){var o=getColorStopValues(this,"outOfRange",this.getExtent()),s=getColorStopValues(this,"inRange",this.option.range.slice()),l=[];function u(_,x){l.push({value:_,color:n(_,x)})}for(var c=0,f=0,d=s.length,g=o.length;f<g&&(!s.length||o[f]<=s[0]);f++)o[f]<s[c]&&u(o[f],"outOfRange");for(var y=1;c<d;c++,y=0)y&&l.length&&u(s[c],"outOfRange"),u(s[c],"inRange");for(var y=1;f<g;f++)(!s.length||s[s.length-1]<o[f])&&(y&&(l.length&&u(l[l.length-1].value,"outOfRange"),y=0),u(o[f],"outOfRange"));var S=l.length;return{stops:l,outerColors:[S?l[0].color:"transparent",S?l[S-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(VisualMapModel);function getColorStopValues(a,t,n){if(n[0]===n[1])return n.slice();for(var o=200,s=(n[1]-n[0])/o,l=n[0],u=[],c=0;c<=o&&l<n[1];c++)u.push(l),l+=s;return u.push(n[1]),u}var VisualMapView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(n,o){this.ecModel=n,this.api=o},t.prototype.render=function(n,o,s,l){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,o,s,l)},t.prototype.renderBackground=function(n){var o=this.visualMapModel,s=normalizeCssArray(o.get("padding")||0),l=n.getBoundingRect();n.add(new Rect$2({z2:-1,silent:!0,shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[3]+s[1],height:l.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},t.prototype.getControllerVisual=function(n,o,s){s=s||{};var l=s.forceState,u=this.visualMapModel,c={};if(o==="color"){var f=u.get("contentColor");c.color=f}function d(_){return c[_]}function g(_,x){c[_]=x}var y=u.controllerVisuals[l||u.getValueState(n)],S=VisualMapping.prepareVisualTypes(y);return each$f(S,function(_){var x=y[_];s.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",x=y.__alphaForOpacity),VisualMapping.dependsOn(_,o)&&x&&x.applyVisual(n,d,g)}),c[o]},t.prototype.positionGroup=function(n){var o=this.visualMapModel,s=this.api;positionElement(n,o.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},t.prototype.doRender=function(n,o,s,l){},t.type="visualMap",t}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(a,t,n){var o=a.option,s=o.align;if(s!=null&&s!=="auto")return s;for(var l={width:t.getWidth(),height:t.getHeight()},u=o.orient==="horizontal"?1:0,c=paramsSet[u],f=[0,null,10],d={},g=0;g<3;g++)d[paramsSet[1-u][g]]=f[g],d[c[g]]=g===2?n[0]:o[c[g]];var y=[["x","width",3],["y","height",0]][u],S=getLayoutRect(d,l,o.padding);return c[(S.margin[y[2]]||0)+S[y[0]]+S[y[1]]*.5<l[y[1]]*.5?0:1]}function makeHighDownBatch(a,t){return each$f(a||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),a}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(n,o){a.prototype.init.call(this,n,o),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},t.prototype.doRender=function(n,o,s,l){(!l||l.type!=="selectDataRange"||l.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,o=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(o);var s=n.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},t.prototype._renderEndsText=function(n,o,s){if(o){var l=o[1-s];l=l!=null?l+"":"";var u=this.visualMapModel,c=u.get("textGap"),f=u.itemSize,d=this._shapes.mainGroup,g=this._applyTransform([f[0]/2,s===0?-c:f[1]+c],d),y=this._applyTransform(s===0?"bottom":"top",d),S=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle(_,{x:g[0],y:g[1],verticalAlign:S==="horizontal"?"middle":y,align:S==="horizontal"?y:"center",text:l})}))}},t.prototype._renderBar=function(n){var o=this.visualMapModel,s=this._shapes,l=o.itemSize,u=this._orient,c=this._useHandle,f=getItemAlign(o,this.api,l),d=s.mainGroup=this._createBarGroup(f),g=new Group$3;d.add(g),g.add(s.outOfRange=createPolygon()),g.add(s.inRange=createPolygon(null,c?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),g.setClipPath(new Rect$2({shape:{x:0,y:0,width:l[0],height:l[1],r:3}}));var y=o.textStyleModel.getTextRect(""),S=mathMax(y.width,y.height);c&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,d,0,l,S,u),this._createHandle(o,d,1,l,S,u)),this._createIndicator(o,d,l,S,u),n.add(d)},t.prototype._createHandle=function(n,o,s,l,u,c){var f=bind$1(this._dragHandle,this,s,!1),d=bind$1(this._dragHandle,this,s,!0),g=parsePercent$1(n.get("handleSize"),l[0]),y=createSymbol$1(n.get("handleIcon"),-g/2,-g/2,g,g,null,!0),S=getCursor(this._orient);y.attr({cursor:S,draggable:!0,drift:f,ondragend:d,onmousemove:function(A){stop(A.event)}}),y.x=l[0]/2,y.useStyle(n.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(y,!0),o.add(y);var _=this.visualMapModel.textStyleModel,x=new ZRText({cursor:S,draggable:!0,drift:f,onmousemove:function(A){stop(A.event)},ondragend:d,style:createTextStyle(_,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var b=[g,0],T=this._shapes;T.handleThumbs[s]=y,T.handleLabelPoints[s]=b,T.handleLabels[s]=x},t.prototype._createIndicator=function(n,o,s,l,u){var c=parsePercent$1(n.get("indicatorSize"),s[0]),f=createSymbol$1(n.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);f.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var d=n.getModel("indicatorStyle").getItemStyle();if(f instanceof ZRImage){var g=f.style;f.useStyle(extend({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},d))}else f.useStyle(d);o.add(f);var y=this.visualMapModel.textStyleModel,S=new ZRText({silent:!0,invisible:!0,style:createTextStyle(y,{x:0,y:0,text:""})});this.group.add(S);var _=[(u==="horizontal"?l/2:HOVER_LINK_OUT)+s[0]/2,0],x=this._shapes;x.indicator=f,x.indicatorLabel=S,x.indicatorLabelPoint=_,this._firstShowIndicator=!0},t.prototype._dragHandle=function(n,o,s,l){if(this._useHandle){if(this._dragging=!o,!o){var u=this._applyTransform([s,l],this._shapes.mainGroup,!0);this._updateInterval(n,u[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},t.prototype._resetInterval=function(){var n=this.visualMapModel,o=this._dataInterval=n.getSelected(),s=n.getExtent(),l=[0,n.itemSize[1]];this._handleEnds=[linearMap(o[0],s,l,!0),linearMap(o[1],s,l,!0)]},t.prototype._updateInterval=function(n,o){o=o||0;var s=this.visualMapModel,l=this._handleEnds,u=[0,s.itemSize[1]];sliderMove(o,l,u,n,0);var c=s.getExtent();this._dataInterval=[linearMap(l[0],u,c,!0),linearMap(l[1],u,c,!0)]},t.prototype._updateView=function(n){var o=this.visualMapModel,s=o.getExtent(),l=this._shapes,u=[0,o.itemSize[1]],c=n?u:this._handleEnds,f=this._createBarVisual(this._dataInterval,s,c,"inRange"),d=this._createBarVisual(s,s,u,"outOfRange");l.inRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),l.outOfRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),this._updateHandle(c,f)},t.prototype._createBarVisual=function(n,o,s,l){var u={forceState:l,convertOpacityToAlpha:!0},c=this._makeColorGradient(n,u),f=[this.getControllerVisual(n[0],"symbolSize",u),this.getControllerVisual(n[1],"symbolSize",u)],d=this._createBarPoints(s,f);return{barColor:new LinearGradient(0,0,0,1,c),barPoints:d,handlesColor:[c[0].color,c[c.length-1].color]}},t.prototype._makeColorGradient=function(n,o){var s=100,l=[],u=(n[1]-n[0])/s;l.push({color:this.getControllerVisual(n[0],"color",o),offset:0});for(var c=1;c<s;c++){var f=n[0]+u*c;if(f>n[1])break;l.push({color:this.getControllerVisual(f,"color",o),offset:c/s})}return l.push({color:this.getControllerVisual(n[1],"color",o),offset:1}),l},t.prototype._createBarPoints=function(n,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],n[0]],[s[0],n[0]],[s[0],n[1]],[s[0]-o[1],n[1]]]},t.prototype._createBarGroup=function(n){var o=this._orient,s=this.visualMapModel.get("inverse");return new Group$3(o==="horizontal"&&!s?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&s?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!s?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},t.prototype._updateHandle=function(n,o){if(this._useHandle){var s=this._shapes,l=this.visualMapModel,u=s.handleThumbs,c=s.handleLabels,f=l.itemSize,d=l.getExtent(),g=this._applyTransform("left",s.mainGroup);each$1([0,1],function(y){var S=u[y];S.setStyle("fill",o.handlesColor[y]),S.y=n[y];var _=linearMap(n[y],[0,f[1]],d,!0),x=this.getControllerVisual(_,"symbolSize");S.scaleX=S.scaleY=x/f[0],S.x=f[0]-x/2;var b=applyTransform(s.handleLabelPoints[y],getTransform$1(S,this.group));if(this._orient==="horizontal"){var T=g==="left"||g==="top"?(f[0]-x)/2:(f[0]-x)/-2;b[1]+=T}c[y].setStyle({x:b[0],y:b[1],text:l.formatValueText(this._dataInterval[y]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(n,o,s,l){var u=this.visualMapModel,c=u.getExtent(),f=u.itemSize,d=[0,f[1]],g=this._shapes,y=g.indicator;if(y){y.attr("invisible",!1);var S={convertOpacityToAlpha:!0},_=this.getControllerVisual(n,"color",S),x=this.getControllerVisual(n,"symbolSize"),b=linearMap(n,c,d,!0),T=f[0]-x/2,A={x:y.x,y:y.y};y.y=b,y.x=T;var C=applyTransform(g.indicatorLabelPoint,getTransform$1(y,this.group)),E=g.indicatorLabel;E.attr("invisible",!1);var P=this._applyTransform("left",g.mainGroup),M=this._orient,I=M==="horizontal";E.setStyle({text:(s||"")+u.formatValueText(o),verticalAlign:I?P:"middle",align:I?"center":P});var D={x:T,y:b,style:{fill:_}},L={style:{x:C[0],y:C[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var $={duration:100,easing:"cubicInOut",additive:!0};y.x=A.x,y.y=A.y,y.animateTo(D,$),E.animateTo(L,$)}else y.attr(D),E.attr(L);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var V=0;V<O.length;V++)this.api.enterBlur(O[V])}},t.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(o){if(n._hovering=!0,!n._dragging){var s=n.visualMapModel.itemSize,l=n._applyTransform([o.offsetX,o.offsetY],n._shapes.mainGroup,!0,!0);l[1]=mathMin(mathMax(0,l[1]),s[1]),n._doHoverLinkToSeries(l[1],0<=l[0]&&l[0]<=s[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(n,o){var s=this.visualMapModel,l=s.itemSize;if(s.option.hoverLink){var u=[0,l[1]],c=s.getExtent();n=mathMin(mathMax(u[0],n),u[1]);var f=getHalfHoverLinkSize(s,c,u),d=[n-f,n+f],g=linearMap(n,u,c,!0),y=[linearMap(d[0],u,c,!0),linearMap(d[1],u,c,!0)];d[0]<u[0]&&(y[0]=-1/0),d[1]>u[1]&&(y[1]=1/0),o&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",f):y[1]===1/0?this._showIndicator(g,y[0],"> ",f):this._showIndicator(g,g," ",f));var S=this._hoverLinkDataIndices,_=[];(o||useHoverLinkOnHandle(s))&&(_=this._hoverLinkDataIndices=s.findTargetDataIndices(y));var x=compressBatches(S,_);this._dispatchHighDown("downplay",makeHighDownBatch(x[0],s)),this._dispatchHighDown("highlight",makeHighDownBatch(x[1],s))}},t.prototype._hoverLinkFromSeriesMouseOver=function(n){var o;if(findEventDispatcher(n.target,function(f){var d=getECData(f);if(d.dataIndex!=null)return o=d,!0},!0),!!o){var s=this.ecModel.getSeriesByIndex(o.seriesIndex),l=this.visualMapModel;if(l.isTargetSeries(s)){var u=s.getData(o.dataType),c=u.getStore().get(l.getDataDimensionIndex(u),o.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},t.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this.api.leaveBlur(o[s])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(n,this.visualMapModel)),n.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(n,o,s,l){var u=getTransform$1(o,l?null:this.group);return isArray$2(n)?applyTransform(n,u,s):transformDirection(n,u,s)},t.prototype._dispatchHighDown=function(n,o){o&&o.length&&this.api.dispatchAction({type:n,batch:o})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(VisualMapView);function createPolygon(a,t,n,o){return new Polygon({shape:{points:a},draggable:!!n,cursor:t,drift:n,onmousemove:function(s){stop(s.event)},ondragend:o})}function getHalfHoverLinkSize(a,t,n){var o=HOVER_LINK_SIZE/2,s=a.get("hoverLinkDataSize");return s&&(o=linearMap(s,t,n,!0)/2),o}function useHoverLinkOnHandle(a){var t=a.get("hoverLinkOnHandle");return!!(t??a.get("realtime"))}function getCursor(a){return a==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(a,t){t.eachComponent({mainType:"visualMap",query:a},function(n){n.setSelected(a.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(a,t){var n=[];return t.eachComponent("visualMap",function(o){var s=a.pipelineContext;!o.isTargetSeries(a)||s&&s.large||n.push(incrementalApplyVisual(o.stateList,o.targetVisuals,bind$1(o.getValueState,o),o.getDataDimensionIndex(a.getData())))}),n}},{createOnAllSeries:!0,reset:function(a,t){var n=a.getData(),o=[];t.eachComponent("visualMap",function(s){if(s.isTargetSeries(a)){var l=s.getVisualMeta(bind$1(getColorVisual,null,a,s))||{stops:[],outerColors:[]},u=s.getDataDimensionIndex(n);u>=0&&(l.dimension=u,o.push(l))}}),a.getData().setVisual("visualMeta",o)}}];function getColorVisual(a,t,n,o){for(var s=t.targetVisuals[o],l=VisualMapping.prepareVisualTypes(s),u={color:getVisualFromData(a.getData(),"color")},c=0,f=l.length;c<f;c++){var d=l[c],g=s[d==="opacity"?"__alphaForOpacity":d];g&&g.applyVisual(n,y,S)}return u.color;function y(_){return u[_]}function S(_,x){u[_]=x}}var each=each$f;function visualMapPreprocessor(a){var t=a&&a.visualMap;isArray$2(t)||(t=t?[t]:[]),each(t,function(n){if(n){has(n,"splitList")&&!has(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var o=n.pieces;o&&isArray$2(o)&&each(o,function(s){isObject$3(s)&&(has(s,"start")&&!has(s,"min")&&(s.min=s.start),has(s,"end")&&!has(s,"max")&&(s.max=s.end))})}})}function has(a,t){return a&&a.hasOwnProperty&&a.hasOwnProperty(t)}var installed=!1;function installCommon(a){installed||(installed=!0,a.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),a.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(t){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,t)}),a.registerPreprocessor(visualMapPreprocessor))}function install$5(a){a.registerComponentModel(ContinuousModel),a.registerComponentView(ContinuousView),installCommon(a)}var PiecewiseModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(n,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(n,o);var l=this.option.categories;this.resetVisual(function(u,c){s==="categories"?(u.mappingMethod="category",u.categories=clone$4(l)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=map$1(this._pieceList,function(f){return f=clone$4(f),c!=="inRange"&&(f.visual=null),f}))})},t.prototype.completeVisualOption=function(){var n=this.option,o={},s=VisualMapping.listVisualTypes(),l=this.isCategory();each$f(n.pieces,function(c){each$f(s,function(f){c.hasOwnProperty(f)&&(o[f]=1)})}),each$f(o,function(c,f){var d=!1;each$f(this.stateList,function(g){d=d||u(n,g,f)||u(n.target,g,f)},this),!d&&each$f(this.stateList,function(g){(n[g]||(n[g]={}))[f]=visualDefault.get(f,g==="inRange"?"active":"inactive",l)})},this);function u(c,f,d){return c&&c[f]&&c[f].hasOwnProperty(d)}a.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(n,o){var s=this.option,l=this._pieceList,u=(o?s:n).selected||{};if(s.selected=u,each$f(l,function(f,d){var g=this.getSelectedMapKey(f);u.hasOwnProperty(g)||(u[g]=!0)},this),s.selectedMode==="single"){var c=!1;each$f(l,function(f,d){var g=this.getSelectedMapKey(f);u[g]&&(c?u[g]=!1:c=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(n){this.option.selected=clone$4(n)},t.prototype.getValueState=function(n){var o=VisualMapping.findPieceIndex(n,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var o=[],s=this._pieceList;return this.eachTargetSeries(function(l){var u=[],c=l.getData();c.each(this.getDataDimensionIndex(c),function(f,d){var g=VisualMapping.findPieceIndex(f,s);g===n&&u.push(d)},this),o.push({seriesId:l.id,dataIndex:u})},this),o},t.prototype.getRepresentValue=function(n){var o;if(this.isCategory())o=n.value;else if(n.value!=null)o=n.value;else{var s=n.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},t.prototype.getVisualMeta=function(n){if(this.isCategory())return;var o=[],s=["",""],l=this;function u(g,y){var S=l.getRepresentValue({interval:g});y||(y=l.getValueState(S));var _=n(S,y);g[0]===-1/0?s[0]=_:g[1]===1/0?s[1]=_:o.push({value:g[0],color:_},{value:g[1],color:_})}var c=this._pieceList.slice();if(!c.length)c.push({interval:[-1/0,1/0]});else{var f=c[0].interval[0];f!==-1/0&&c.unshift({interval:[-1/0,f]}),f=c[c.length-1].interval[1],f!==1/0&&c.push({interval:[f,1/0]})}var d=-1/0;return each$f(c,function(g){var y=g.interval;y&&(y[0]>d&&u([d,y[0]],"outOfRange"),u(y.slice()),d=y[1])},this),{stops:o,outerColors:s}},t.type="visualMap.piecewise",t.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(VisualMapModel),resetMethods={splitNumber:function(a){var t=this.option,n=Math.min(t.precision,20),o=this.getExtent(),s=t.splitNumber;s=Math.max(parseInt(s,10),1),t.splitNumber=s;for(var l=(o[1]-o[0])/s;+l.toFixed(n)!==l&&n<5;)n++;t.precision=n,l=+l.toFixed(n),t.minOpen&&a.push({interval:[-1/0,o[0]],close:[0,0]});for(var u=0,c=o[0];u<s;c+=l,u++){var f=u===s-1?o[1]:c+l;a.push({interval:[c,f],close:[1,1]})}t.maxOpen&&a.push({interval:[o[1],1/0],close:[0,0]}),reformIntervals(a),each$f(a,function(d,g){d.index=g,d.text=this.formatValueText(d.interval)},this)},categories:function(a){var t=this.option;each$f(t.categories,function(n){a.push({text:this.formatValueText(n,!0),value:n})},this),normalizeReverse(t,a)},pieces:function(a){var t=this.option;each$f(t.pieces,function(n,o){isObject$3(n)||(n={value:n});var s={text:"",index:o};if(n.label!=null&&(s.text=n.label),n.hasOwnProperty("value")){var l=s.value=n.value;s.interval=[l,l],s.close=[1,1]}else{for(var u=s.interval=[],c=s.close=[0,0],f=[1,0,1],d=[-1/0,1/0],g=[],y=0;y<2;y++){for(var S=[["gte","gt","min"],["lte","lt","max"]][y],_=0;_<3&&u[y]==null;_++)u[y]=n[S[_]],c[y]=f[_],g[y]=_===2;u[y]==null&&(u[y]=d[y])}g[0]&&u[1]===1/0&&(c[0]=0),g[1]&&u[0]===-1/0&&(c[1]=0),u[0]===u[1]&&c[0]&&c[1]&&(s.value=u[0])}s.visual=VisualMapping.retrieveVisuals(n),a.push(s)},this),normalizeReverse(t,a),reformIntervals(a),each$f(a,function(n){var o=n.close,s=[["<",""][o[1]],[">",""][o[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,s)},this)}};function normalizeReverse(a,t){var n=a.inverse;(a.orient==="vertical"?!n:n)&&t.reverse()}var PiecewiseVisualMapView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var n=this.group;n.removeAll();var o=this.visualMapModel,s=o.get("textGap"),l=o.textStyleModel,u=l.getFont(),c=l.getTextColor(),f=this._getItemAlign(),d=o.itemSize,g=this._getViewData(),y=g.endsText,S=retrieve(o.get("showLabel",!0),!y),_=!o.get("selectedMode");y&&this._renderEndsText(n,y[0],d,S,f),each$f(g.viewPieceList,function(x){var b=x.piece,T=new Group$3;T.onclick=bind$1(this._onItemClick,this,b),this._enableHoverLink(T,x.indexInModelPieceList);var A=o.getRepresentValue(b);if(this._createItemSymbol(T,A,[0,0,d[0],d[1]],_),S){var C=this.visualMapModel.getValueState(A);T.add(new ZRText({style:{x:f==="right"?-s:d[0]+s,y:d[1]/2,text:b.text,verticalAlign:"middle",align:f,font:u,fill:c,opacity:C==="outOfRange"?.5:1},silent:_}))}n.add(T)},this),y&&this._renderEndsText(n,y[1],d,S,f),box(o.get("orient"),n,o.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},t.prototype._enableHoverLink=function(n,o){var s=this;n.on("mouseover",function(){return l("highlight")}).on("mouseout",function(){return l("downplay")});var l=function(u){var c=s.visualMapModel;c.option.hoverLink&&s.api.dispatchAction({type:u,batch:makeHighDownBatch(c.findTargetDataIndices(o),c)})}},t.prototype._getItemAlign=function(){var n=this.visualMapModel,o=n.option;if(o.orient==="vertical")return getItemAlign(n,this.api,n.itemSize);var s=o.align;return(!s||s==="auto")&&(s="left"),s},t.prototype._renderEndsText=function(n,o,s,l,u){if(o){var c=new Group$3,f=this.visualMapModel.textStyleModel;c.add(new ZRText({style:createTextStyle(f,{x:l?u==="right"?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:l?u:"center",text:o})})),n.add(c)}},t.prototype._getViewData=function(){var n=this.visualMapModel,o=map$1(n.getPieceList(),function(c,f){return{piece:c,indexInModelPieceList:f}}),s=n.get("text"),l=n.get("orient"),u=n.get("inverse");return(l==="horizontal"?u:!u)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},t.prototype._createItemSymbol=function(n,o,s,l){var u=createSymbol$1(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color"));u.silent=l,n.add(u)},t.prototype._onItemClick=function(n){var o=this.visualMapModel,s=o.option,l=s.selectedMode;if(l){var u=clone$4(s.selected),c=o.getSelectedMapKey(n);l==="single"||l===!0?(u[c]=!0,each$f(u,function(f,d){u[d]=d===c})):u[c]=!u[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}},t.type="visualMap.piecewise",t}(VisualMapView);function install$4(a){a.registerComponentModel(PiecewiseModel),a.registerComponentView(PiecewiseVisualMapView),installCommon(a)}function install$3(a){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(a,t){var n=a.getModel("aria");if(!n.get("enabled"))return;var o=clone$4(DEFAULT_OPTION);merge(o.label,a.getLocaleModel().get("aria"),!1),merge(n.option,o,!1),s(),l();function s(){var d=n.getModel("decal"),g=d.get("show");if(g){var y=createHashMap();a.eachSeries(function(S){if(!S.isColorBySeries()){var _=y.get(S.type);_||(_={},y.set(S.type,_)),inner(S).scope=_}}),a.eachRawSeries(function(S){if(a.isSeriesFiltered(S))return;if(isFunction(S.enableAriaDecal)){S.enableAriaDecal();return}var _=S.getData();if(S.isColorBySeries()){var C=getDecalFromPalette(S.ecModel,S.name,decalPaletteScope,a.getSeriesCount()),E=_.getVisual("decal");_.setVisual("decal",P(E,C))}else{var x=S.getRawData(),b={},T=inner(S).scope;_.each(function(M){var I=_.getRawIndex(M);b[I]=M});var A=x.count();x.each(function(M){var I=b[M],D=x.getName(M)||M+"",L=getDecalFromPalette(S.ecModel,D,T,A),$=_.getItemVisual(I,"decal");_.setItemVisual(I,"decal",P($,L))})}function P(M,I){var D=M?extend(extend({},I),M):I;return D.dirty=!0,D}})}}function l(){var d=t.getZr().dom;if(d){var g=a.getLocaleModel().get("aria"),y=n.getModel("label");if(y.option=defaults(y.option,g),!!y.get("enabled")){if(d.setAttribute("role","img"),y.get("description")){d.setAttribute("aria-label",y.get("description"));return}var S=a.getSeriesCount(),_=y.get(["data","maxCount"])||10,x=y.get(["series","maxCount"])||10,b=Math.min(S,x),T;if(!(S<1)){var A=c();if(A){var C=y.get(["general","withTitle"]);T=u(C,{title:A})}else T=y.get(["general","withoutTitle"]);var E=[],P=S>1?y.get(["series","multiple","prefix"]):y.get(["series","single","prefix"]);T+=u(P,{seriesCount:S}),a.eachSeries(function(L,$){if($<b){var O=void 0,V=L.get("name"),F=V?"withName":"withoutName";O=S>1?y.get(["series","multiple",F]):y.get(["series","single",F]),O=u(O,{seriesId:L.seriesIndex,seriesName:L.get("name"),seriesType:f(L.subType)});var z=L.getData();if(z.count()>_){var U=y.get(["data","partialData"]);O+=u(U,{displayCnt:_})}else O+=y.get(["data","allData"]);for(var H=y.get(["data","separator","middle"]),N=y.get(["data","separator","end"]),G=y.get(["data","excludeDimensionId"]),R=[],B=0;B<z.count();B++)if(B<_){var j=z.getName(B),W=G?filter$1(z.getValues(B),function(ee,te){return indexOf(G,te)===-1}):z.getValues(B),X=y.get(["data",j?"withName":"withoutName"]);R.push(u(X,{name:j,value:W.join(H)}))}O+=R.join(H)+N,E.push(O)}});var M=y.getModel(["series","multiple","separator"]),I=M.get("middle"),D=M.get("end");T+=E.join(I)+D,d.setAttribute("aria-label",T)}}}}function u(d,g){if(!isString(d))return d;var y=d;return each$f(g,function(S,_){y=y.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),S)}),y}function c(){var d=a.get("title");return d&&d.length&&(d=d[0]),d&&d.text}function f(d){var g=a.getLocaleModel().get(["series","typeNames"]);return g[d]||g.chart}}function ariaPreprocessor(a){if(!(!a||!a.aria)){var t=a.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},each$f(["description","general","series","data"],function(n){t[n]!=null&&(t.label[n]=t[n])})}}function install$2(a){a.registerPreprocessor(ariaPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function a(t){var n=this._condVal=isString(t)?new RegExp(t):isRegExp(t)?t:null;if(n==null){var o="";throwError(o)}}return a.prototype.evaluate=function(t){var n=typeof t;return isString(n)?this._condVal.test(t):isNumber$2(n)?this._condVal.test(t+""):!1},a}(),ConstConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),AndConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},a}(),OrConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},a}(),NotConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),RelationalConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,o=n(this.valueGetterParam),s=t?this.valueParser(o):null,l=0;l<this.subCondList.length;l++)if(!this.subCondList[l].evaluate(t?s:o))return!1;return!0},a}();function parseOption(a,t){if(a===!0||a===!1){var n=new ConstConditionInternal;return n.value=a,n}var o="";return isObjectNotArray(a)||throwError(o),a.and?parseAndOrOption("and",a,t):a.or?parseAndOrOption("or",a,t):a.not?parseNotOption(a,t):parseRelationalOption(a,t)}function parseAndOrOption(a,t,n){var o=t[a],s="";isArray$2(o)||throwError(s),o.length||throwError(s);var l=a==="and"?new AndConditionInternal:new OrConditionInternal;return l.children=map$1(o,function(u){return parseOption(u,n)}),l.children.length||throwError(s),l}function parseNotOption(a,t){var n=a.not,o="";isObjectNotArray(n)||throwError(o);var s=new NotConditionInternal;return s.child=parseOption(n,t),s.child||throwError(o),s}function parseRelationalOption(a,t){for(var n="",o=t.prepareGetValue(a),s=[],l=keys$1(a),u=a.parser,c=u?getRawValueParser(u):null,f=0;f<l.length;f++){var d=l[f];if(!(d==="parser"||t.valueGetterAttrMap.get(d))){var g=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,d)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[d]:d,y=a[d],S=c?c(y):y,_=createFilterComparator(g,S)||g==="reg"&&new RegExpEvaluator(S);_||throwError(n),s.push(_)}}s.length||throwError(n);var x=new RelationalConditionInternal;return x.valueGetterParam=o,x.valueParser=c,x.getValue=t.getValue,x.subCondList=s,x}function isObjectNotArray(a){return isObject$3(a)&&!isArrayLike(a)}var ConditionalExpressionParsed=function(){function a(t,n){this._cond=parseOption(t,n)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function parseConditionalExpression(a,t){return new ConditionalExpressionParsed(a,t)}var filterTransform={type:"echarts:filter",transform:function(a){for(var t=a.upstream,n,o=parseConditionalExpression(a.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(c){var f="",d=c.dimension;hasOwn(c,"dimension")||throwError(f);var g=t.getDimensionInfo(d);return g||throwError(f),{dimIdx:g.index}},getValue:function(c){return t.retrieveValueFromItem(n,c.dimIdx)}}),s=[],l=0,u=t.count();l<u;l++)n=t.getRawDataItem(l),o.evaluate()&&s.push(n);return{data:s}}},sortTransform={type:"echarts:sort",transform:function(a){var t=a.upstream,n=a.config,o="",s=normalizeToArray(n);s.length||throwError(o);var l=[];each$f(s,function(g){var y=g.dimension,S=g.order,_=g.parser,x=g.incomparable;if(y==null&&throwError(o),S!=="asc"&&S!=="desc"&&throwError(o),x&&x!=="min"&&x!=="max"){var b="";throwError(b)}if(S!=="asc"&&S!=="desc"){var T="";throwError(T)}var A=t.getDimensionInfo(y);A||throwError(o);var C=_?getRawValueParser(_):null;_&&!C&&throwError(o),l.push({dimIdx:A.index,parser:C,comparator:new SortOrderComparator(S,x)})});var u=t.sourceFormat;u!==SOURCE_FORMAT_ARRAY_ROWS&&u!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(o);for(var c=[],f=0,d=t.count();f<d;f++)c.push(t.getRawDataItem(f));return c.sort(function(g,y){for(var S=0;S<l.length;S++){var _=l[S],x=t.retrieveValueFromItem(g,_.dimIdx),b=t.retrieveValueFromItem(y,_.dimIdx);_.parser&&(x=_.parser(x),b=_.parser(b));var T=_.comparator.evaluate(x,b);if(T!==0)return T}return 0}),{data:c}}};function install$1(a){a.registerTransform(filterTransform),a.registerTransform(sortTransform)}var DatasetModel=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,o,s){a.prototype.init.call(this,n,o,s),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},t.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),disableTransformOptionMerge(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},t}(ComponentModel),DatasetView=function(a){__extends$1(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(ComponentView);function install(a){a.registerComponentModel(DatasetModel),a.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(a,t){return Math.abs(a-t)<1e-5}function pathToBezierCurves(a){var t=a.data,n=a.len(),o=[],s,l=0,u=0,c=0,f=0;function d(z,U){s&&s.length>2&&o.push(s),s=[z,U]}function g(z,U,H,N){aroundEqual(z,H)&&aroundEqual(U,N)||s.push(z,U,H,N,H,N)}function y(z,U,H,N,G,R){var B=Math.abs(U-z),j=Math.tan(B/4)*4/3,W=U<z?-1:1,X=Math.cos(z),ee=Math.sin(z),te=Math.cos(U),le=Math.sin(U),fe=X*G+H,q=ee*R+N,re=te*G+H,J=le*R+N,oe=G*j*W,ne=R*j*W;s.push(fe-oe*ee,q+ne*X,re+oe*le,J-ne*te,re,J)}for(var S,_,x,b,T=0;T<n;){var A=t[T++],C=T===1;switch(C&&(l=t[T],u=t[T+1],c=l,f=u,(A===CMD.L||A===CMD.C||A===CMD.Q)&&(s=[c,f])),A){case CMD.M:l=c=t[T++],u=f=t[T++],d(c,f);break;case CMD.L:S=t[T++],_=t[T++],g(l,u,S,_),l=S,u=_;break;case CMD.C:s.push(t[T++],t[T++],t[T++],t[T++],l=t[T++],u=t[T++]);break;case CMD.Q:S=t[T++],_=t[T++],x=t[T++],b=t[T++],s.push(l+2/3*(S-l),u+2/3*(_-u),x+2/3*(S-x),b+2/3*(_-b),x,b),l=x,u=b;break;case CMD.A:var E=t[T++],P=t[T++],M=t[T++],I=t[T++],D=t[T++],L=t[T++]+D;T+=1;var $=!t[T++];S=Math.cos(D)*M+E,_=Math.sin(D)*I+P,C?(c=S,f=_,d(c,f)):g(l,u,S,_),l=Math.cos(L)*M+E,u=Math.sin(L)*I+P;for(var O=($?-1:1)*Math.PI/2,V=D;$?V>L:V<L;V+=O){var F=$?Math.max(V+O,L):Math.min(V+O,L);y(V,F,E,P,M,I)}break;case CMD.R:c=l=t[T++],f=u=t[T++],S=c+t[T++],_=f+t[T++],d(S,f),g(S,f,S,_),g(S,_,c,_),g(c,_,c,f),g(c,f,S,f);break;case CMD.Z:s&&g(l,u,c,f),l=c,u=f;break}}return s&&s.length>2&&o.push(s),o}function adpativeBezier(a,t,n,o,s,l,u,c,f,d){if(aroundEqual(a,n)&&aroundEqual(t,o)&&aroundEqual(s,u)&&aroundEqual(l,c)){f.push(u,c);return}var g=2/d,y=g*g,S=u-a,_=c-t,x=Math.sqrt(S*S+_*_);S/=x,_/=x;var b=n-a,T=o-t,A=s-u,C=l-c,E=b*b+T*T,P=A*A+C*C;if(E<y&&P<y){f.push(u,c);return}var M=S*b+_*T,I=-S*A-_*C,D=E-M*M,L=P-I*I;if(D<y&&M>=0&&L<y&&I>=0){f.push(u,c);return}var $=[],O=[];cubicSubdivide(a,n,s,u,.5,$),cubicSubdivide(t,o,l,c,.5,O),adpativeBezier($[0],O[0],$[1],O[1],$[2],O[2],$[3],O[3],f,d),adpativeBezier($[4],O[4],$[5],O[5],$[6],O[6],$[7],O[7],f,d)}function pathToPolygons(a,t){var n=pathToBezierCurves(a),o=[];t=t||1;for(var s=0;s<n.length;s++){var l=n[s],u=[],c=l[0],f=l[1];u.push(c,f);for(var d=2;d<l.length;){var g=l[d++],y=l[d++],S=l[d++],_=l[d++],x=l[d++],b=l[d++];adpativeBezier(c,f,g,y,S,_,x,b,u,t),c=x,f=b}o.push(u)}return o}function getDividingGrids(a,t,n){var o=a[t],s=a[1-t],l=Math.abs(o/s),u=Math.ceil(Math.sqrt(l*n)),c=Math.floor(n/u);c===0&&(c=1,u=n);for(var f=[],d=0;d<u;d++)f.push(c);var g=u*c,y=n-g;if(y>0)for(var d=0;d<y;d++)f[d%u]+=1;return f}function divideSector(a,t,n){for(var o=a.r0,s=a.r,l=a.startAngle,u=a.endAngle,c=Math.abs(u-l),f=c*s,d=s-o,g=f>Math.abs(d),y=getDividingGrids([f,d],g?0:1,t),S=(g?c:d)/y.length,_=0;_<y.length;_++)for(var x=(g?d:c)/y[_],b=0;b<y[_];b++){var T={};g?(T.startAngle=l+S*_,T.endAngle=l+S*(_+1),T.r0=o+x*b,T.r=o+x*(b+1)):(T.startAngle=l+x*b,T.endAngle=l+x*(b+1),T.r0=o+S*_,T.r=o+S*(_+1)),T.clockwise=a.clockwise,T.cx=a.cx,T.cy=a.cy,n.push(T)}}function divideRect(a,t,n){for(var o=a.width,s=a.height,l=o>s,u=getDividingGrids([o,s],l?0:1,t),c=l?"width":"height",f=l?"height":"width",d=l?"x":"y",g=l?"y":"x",y=a[c]/u.length,S=0;S<u.length;S++)for(var _=a[f]/u[S],x=0;x<u[S];x++){var b={};b[d]=S*y,b[g]=x*_,b[c]=y,b[f]=_,b.x+=a.x,b.y+=a.y,n.push(b)}}function crossProduct2d(a,t,n,o){return a*o-n*t}function lineLineIntersect(a,t,n,o,s,l,u,c){var f=n-a,d=o-t,g=u-s,y=c-l,S=crossProduct2d(g,y,f,d);if(Math.abs(S)<1e-6)return null;var _=a-s,x=t-l,b=crossProduct2d(_,x,g,y)/S;return b<0||b>1?null:new Point(b*f+a,b*d+t)}function projPtOnLine(a,t,n){var o=new Point;Point.sub(o,n,t),o.normalize();var s=new Point;Point.sub(s,a,t);var l=s.dot(o);return l}function addToPoly(a,t){var n=a[a.length-1];n&&n[0]===t[0]&&n[1]===t[1]||a.push(t)}function splitPolygonByLine(a,t,n){for(var o=a.length,s=[],l=0;l<o;l++){var u=a[l],c=a[(l+1)%o],f=lineLineIntersect(u[0],u[1],c[0],c[1],t.x,t.y,n.x,n.y);f&&s.push({projPt:projPtOnLine(f,t,n),pt:f,idx:l})}if(s.length<2)return[{points:a},{points:a}];s.sort(function(T,A){return T.projPt-A.projPt});var d=s[0],g=s[s.length-1];if(g.idx<d.idx){var y=d;d=g,g=y}for(var S=[d.pt.x,d.pt.y],_=[g.pt.x,g.pt.y],x=[S],b=[_],l=d.idx+1;l<=g.idx;l++)addToPoly(x,a[l].slice());addToPoly(x,_),addToPoly(x,S);for(var l=g.idx+1;l<=d.idx+o;l++)addToPoly(b,a[l%o].slice());return addToPoly(b,S),addToPoly(b,_),[{points:x},{points:b}]}function binaryDividePolygon(a){var t=a.points,n=[],o=[];fromPoints(t,n,o);var s=new BoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]),l=s.width,u=s.height,c=s.x,f=s.y,d=new Point,g=new Point;return l>u?(d.x=g.x=c+l/2,d.y=f,g.y=f+u):(d.y=g.y=f+u/2,d.x=c,g.x=c+l),splitPolygonByLine(t,d,g)}function binaryDivideRecursive(a,t,n,o){if(n===1)o.push(t);else{var s=Math.floor(n/2),l=a(t);binaryDivideRecursive(a,l[0],s,o),binaryDivideRecursive(a,l[1],n-s,o)}return o}function clone(a,t){for(var n=[],o=0;o<t;o++)n.push(clonePath(a));return n}function copyPathProps(a,t){t.setStyle(a.style),t.z=a.z,t.z2=a.z2,t.zlevel=a.zlevel}function polygonConvert(a){for(var t=[],n=0;n<a.length;)t.push([a[n++],a[n++]]);return t}function split(a,t){var n=[],o=a.shape,s;switch(a.type){case"rect":divideRect(o,t,n),s=Rect$2;break;case"sector":divideSector(o,t,n),s=Sector;break;case"circle":divideSector({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},t,n),s=Sector;break;default:var l=a.getComputedTransform(),u=l?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,c=map$1(pathToPolygons(a.getUpdatedPathProxy(),u),function(A){return polygonConvert(A)}),f=c.length;if(f===0)binaryDivideRecursive(binaryDividePolygon,{points:c[0]},t,n);else if(f===t)for(var d=0;d<f;d++)n.push({points:c[d]});else{var g=0,y=map$1(c,function(A){var C=[],E=[];fromPoints(A,C,E);var P=(E[1]-C[1])*(E[0]-C[0]);return g+=P,{poly:A,area:P}});y.sort(function(A,C){return C.area-A.area});for(var S=t,d=0;d<f;d++){var _=y[d];if(S<=0)break;var x=d===f-1?S:Math.ceil(_.area/g*t);x<0||(binaryDivideRecursive(binaryDividePolygon,{points:_.poly},x,n),S-=x)}}s=Polygon;break}if(!s)return clone(a,t);for(var b=[],d=0;d<n.length;d++){var T=new s;T.setShape(n[d]),copyPathProps(a,T),b.push(T)}return b}function alignSubpath(a,t){var n=a.length,o=t.length;if(n===o)return[a,t];for(var s=[],l=[],u=n<o?a:t,c=Math.min(n,o),f=Math.abs(o-n)/6,d=(c-2)/6,g=Math.ceil(f/d)+1,y=[u[0],u[1]],S=f,_=2;_<c;){var x=u[_-2],b=u[_-1],T=u[_++],A=u[_++],C=u[_++],E=u[_++],P=u[_++],M=u[_++];if(S<=0){y.push(T,A,C,E,P,M);continue}for(var I=Math.min(S,g-1)+1,D=1;D<=I;D++){var L=D/I;cubicSubdivide(x,T,C,P,L,s),cubicSubdivide(b,A,E,M,L,l),x=s[3],b=l[3],y.push(s[1],l[1],s[2],l[2],x,b),T=s[5],A=l[5],C=s[6],E=l[6]}S-=I-1}return u===a?[y,t]:[a,y]}function createSubpath(a,t){for(var n=a.length,o=a[n-2],s=a[n-1],l=[],u=0;u<t.length;)l[u++]=o,l[u++]=s;return l}function alignBezierCurves(a,t){for(var n,o,s,l=[],u=[],c=0;c<Math.max(a.length,t.length);c++){var f=a[c],d=t[c],g=void 0,y=void 0;f?d?(n=alignSubpath(f,d),g=n[0],y=n[1],o=g,s=y):(y=createSubpath(s||f,f),g=f):(g=createSubpath(o||d,d),y=d),l.push(g),u.push(y)}return[l,u]}function centroid(a){for(var t=0,n=0,o=0,s=a.length,l=0,u=s-2;l<s;u=l,l+=2){var c=a[u],f=a[u+1],d=a[l],g=a[l+1],y=c*g-d*f;t+=y,n+=(c+d)*y,o+=(f+g)*y}return t===0?[a[0]||0,a[1]||0]:[n/t/3,o/t/3,t]}function findBestRingOffset(a,t,n,o){for(var s=(a.length-2)/6,l=1/0,u=0,c=a.length,f=c-2,d=0;d<s;d++){for(var g=d*6,y=0,S=0;S<c;S+=2){var _=S===0?g:(g+S-2)%f+2,x=a[_]-n[0],b=a[_+1]-n[1],T=t[S]-o[0],A=t[S+1]-o[1],C=T-x,E=A-b;y+=C*C+E*E}y<l&&(l=y,u=d)}return u}function reverse(a){for(var t=[],n=a.length,o=0;o<n;o+=2)t[o]=a[n-o-2],t[o+1]=a[n-o-1];return t}function findBestMorphingRotation(a,t,n,o){for(var s=[],l,u=0;u<a.length;u++){var c=a[u],f=t[u],d=centroid(c),g=centroid(f);l==null&&(l=d[2]<0!=g[2]<0);var y=[],S=[],_=0,x=1/0,b=[],T=c.length;l&&(c=reverse(c));for(var A=findBestRingOffset(c,f,d,g)*6,C=T-2,E=0;E<C;E+=2){var P=(A+E)%C+2;y[E+2]=c[P]-d[0],y[E+3]=c[P+1]-d[1]}y[0]=c[A]-d[0],y[1]=c[A+1]-d[1];for(var M=o/n,I=-o/2;I<=o/2;I+=M){for(var D=Math.sin(I),L=Math.cos(I),$=0,E=0;E<c.length;E+=2){var O=y[E],V=y[E+1],F=f[E]-g[0],z=f[E+1]-g[1],U=F*L-z*D,H=F*D+z*L;b[E]=U,b[E+1]=H;var N=U-O,G=H-V;$+=N*N+G*G}if($<x){x=$,_=I;for(var R=0;R<b.length;R++)S[R]=b[R]}}s.push({from:y,to:S,fromCp:d,toCp:g,rotation:-_})}return s}function isCombineMorphing(a){return a.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(a,t,n){var o=SAVED_METHOD_PREFIX+t,s=a[o]||a[t];a[o]||(a[o]=a[t]);var l=n.replace,u=n.after,c=n.before;a[t]=function(){var f=arguments,d;return c&&c.apply(this,f),l?d=l.apply(this,f):d=s.apply(this,f),u&&u.apply(this,f),d}}function restoreMethod(a,t){var n=SAVED_METHOD_PREFIX+t;a[n]&&(a[t]=a[n],a[n]=null)}function applyTransformOnBeziers(a,t){for(var n=0;n<a.length;n++)for(var o=a[n],s=0;s<o.length;){var l=o[s],u=o[s+1];o[s++]=t[0]*l+t[2]*u+t[4],o[s++]=t[1]*l+t[3]*u+t[5]}}function prepareMorphPath(a,t){var n=a.getUpdatedPathProxy(),o=t.getUpdatedPathProxy(),s=alignBezierCurves(pathToBezierCurves(n),pathToBezierCurves(o)),l=s[0],u=s[1],c=a.getComputedTransform(),f=t.getComputedTransform();function d(){this.transform=null}c&&applyTransformOnBeziers(l,c),f&&applyTransformOnBeziers(u,f),saveAndModifyMethod(t,"updateTransform",{replace:d}),t.transform=null;var g=findBestMorphingRotation(l,u,10,Math.PI),y=[];saveAndModifyMethod(t,"buildPath",{replace:function(S){for(var _=t.__morphT,x=1-_,b=[],T=0;T<g.length;T++){var A=g[T],C=A.from,E=A.to,P=A.rotation*_,M=A.fromCp,I=A.toCp,D=Math.sin(P),L=Math.cos(P);lerp$1(b,M,I,_);for(var $=0;$<C.length;$+=2){var O=C[$],V=C[$+1],F=E[$],z=E[$+1],U=O*x+F*_,H=V*x+z*_;y[$]=U*L-H*D+b[0],y[$+1]=U*D+H*L+b[1]}var N=y[0],G=y[1];S.moveTo(N,G);for(var $=2;$<C.length;){var F=y[$++],z=y[$++],R=y[$++],B=y[$++],j=y[$++],W=y[$++];N===F&&G===z&&R===j&&B===W?S.lineTo(j,W):S.bezierCurveTo(F,z,R,B,j,W),N=j,G=W}}}})}function morphPath(a,t,n){if(!a||!t)return t;var o=n.done,s=n.during;prepareMorphPath(a,t),t.__morphT=0;function l(){restoreMethod(t,"buildPath"),restoreMethod(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},defaults({during:function(u){t.dirtyShape(),s&&s(u)},done:function(){l(),o&&o()}},n)),t}function hilbert(a,t,n,o,s,l){var u=16;a=s===n?0:Math.round(32767*(a-n)/(s-n)),t=l===o?0:Math.round(32767*(t-o)/(l-o));for(var c=0,f,d=(1<<u)/2;d>0;d/=2){var g=0,y=0;(a&d)>0&&(g=1),(t&d)>0&&(y=1),c+=d*d*(3*g^y),y===0&&(g===1&&(a=d-1-a,t=d-1-t),f=a,a=t,t=f)}return c}function sortPaths(a){var t=1/0,n=1/0,o=-1/0,s=-1/0,l=map$1(a,function(c){var f=c.getBoundingRect(),d=c.getComputedTransform(),g=f.x+f.width/2+(d?d[4]:0),y=f.y+f.height/2+(d?d[5]:0);return t=Math.min(g,t),n=Math.min(y,n),o=Math.max(g,o),s=Math.max(y,s),[g,y]}),u=map$1(l,function(c,f){return{cp:c,z:hilbert(c[0],c[1],t,n,o,s),path:a[f]}});return u.sort(function(c,f){return c.z-f.z}).map(function(c){return c.path})}function defaultDividePath(a){return split(a.path,a.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(a,t,n){var o=[];function s(M){for(var I=0;I<M.length;I++){var D=M[I];isCombineMorphing(D)?s(D.childrenRef()):D instanceof Path&&o.push(D)}}s(a);var l=o.length;if(!l)return createEmptyReturn();var u=n.dividePath||defaultDividePath,c=u({path:t,count:l});if(c.length!==l)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();o=sortPaths(o),c=sortPaths(c);for(var f=n.done,d=n.during,g=n.individualDelay,y=new Transformable,S=0;S<l;S++){var _=o[S],x=c[S];x.parent=t,x.copyTransform(y),g||prepareMorphPath(_,x)}t.__isCombineMorphing=!0,t.childrenRef=function(){return c};function b(M){for(var I=0;I<c.length;I++)c[I].addSelfToZr(M)}saveAndModifyMethod(t,"addSelfToZr",{after:function(M){b(M)}}),saveAndModifyMethod(t,"removeSelfFromZr",{after:function(M){for(var I=0;I<c.length;I++)c[I].removeSelfFromZr(M)}});function T(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,restoreMethod(t,"addSelfToZr"),restoreMethod(t,"removeSelfFromZr")}var A=c.length;if(g)for(var C=A,E=function(){C--,C===0&&(T(),f&&f())},S=0;S<A;S++){var P=g?defaults({delay:(n.delay||0)+g(S,A,o[S],c[S]),done:E},n):n;morphPath(o[S],c[S],P)}else t.__morphT=0,t.animateTo({__morphT:1},defaults({during:function(M){for(var I=0;I<A;I++){var D=c[I];D.__morphT=t.__morphT,D.dirtyShape()}d&&d(M)},done:function(){T();for(var M=0;M<a.length;M++)restoreMethod(a[M],"updateTransform");f&&f()}},n));return t.__zr&&b(t.__zr),{fromIndividuals:o,toIndividuals:c,count:A}}function separateMorph(a,t,n){var o=t.length,s=[],l=n.dividePath||defaultDividePath;function u(_){for(var x=0;x<_.length;x++){var b=_[x];isCombineMorphing(b)?u(b.childrenRef()):b instanceof Path&&s.push(b)}}if(isCombineMorphing(a)){u(a.childrenRef());var c=s.length;if(c<o)for(var f=0,d=c;d<o;d++)s.push(clonePath(s[f++%c]));s.length=o}else{s=l({path:a,count:o});for(var g=a.getComputedTransform(),d=0;d<s.length;d++)s[d].setLocalTransform(g);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}s=sortPaths(s),t=sortPaths(t);for(var y=n.individualDelay,d=0;d<o;d++){var S=y?defaults({delay:(n.delay||0)+y(d,o,s[d],t[d])},n):n;morphPath(s[d],t[d],S)}return{fromIndividuals:s,toIndividuals:t,count:t.length}}function isMultiple(a){return isArray$2(a[0])}function prepareMorphBatches(a,t){for(var n=[],o=a.length,s=0;s<o;s++)n.push({one:a[s],many:[]});for(var s=0;s<t.length;s++){var l=t[s].length,u=void 0;for(u=0;u<l;u++)n[u%o].many.push(t[s][u])}for(var c=0,s=o-1;s>=0;s--)if(!n[s].many.length){var f=n[c].many;if(f.length<=1)if(c)c=0;else return n;var l=f.length,d=Math.ceil(l/2);n[s].many=f.slice(d,l),n[c].many=f.slice(0,d),c++}return n}var pathDividers={clone:function(a){for(var t=[],n=1-Math.pow(1-a.path.style.opacity,1/a.count),o=0;o<a.count;o++){var s=clonePath(a.path);s.setStyle("opacity",n),t.push(s)}return t},split:null};function applyMorphAnimation(a,t,n,o,s,l){if(!a.length||!t.length)return;var u=getAnimationConfig("update",o,s);if(!(u&&u.duration>0))return;var c=o.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},u),d,g;isMultiple(a)&&(d=a,g=t),isMultiple(t)&&(d=t,g=a);function y(A,C,E,P,M){var I=A.many,D=A.one;if(I.length===1&&!M){var L=C?I[0]:D,$=C?D:I[0];if(isCombineMorphing(L))y({many:[L],one:$},!0,E,P,!0);else{var O=c?defaults({delay:c(E,P)},f):f;morphPath(L,$,O),l(L,$,L,$,O)}}else for(var V=defaults({dividePath:pathDividers[n],individualDelay:c&&function(G,R,B,j){return c(G+E,P)}},f),F=C?combineMorph(I,D,V):separateMorph(D,I,V),z=F.fromIndividuals,U=F.toIndividuals,H=z.length,N=0;N<H;N++){var O=c?defaults({delay:c(N,H)},f):f;l(z[N],U[N],C?I[N]:A.one,C?A.one:I[N],O)}}for(var S=d?d===a:a.length>t.length,_=d?prepareMorphBatches(g,d):prepareMorphBatches(S?t:a,[S?a:t]),x=0,b=0;b<_.length;b++)x+=_[b].many.length;for(var T=0,b=0;b<_.length;b++)y(_[b],S,T,x),T+=_[b].many.length}function getPathList(a){if(!a)return[];if(isArray$2(a)){for(var t=[],n=0;n<a.length;n++)t.push(getPathList(a[n]));return t}var o=[];return a.traverse(function(s){s instanceof Path&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(a,t){for(var n=a.dimensions,o=0;o<n.length;o++){var s=a.getDimensionInfo(n[o]);if(s&&s.otherDims[t]===0)return n[o]}}function getValueByDimension(a,t,n){var o=a.getDimensionInfo(n),s=o&&o.ordinalMeta;if(o){var l=a.get(o.name,t);return s&&s.categories[l]||l+""}}function getGroupId(a,t,n,o){var s=o?"itemChildGroupId":"itemGroupId",l=getDimension(a,s);if(l){var u=getValueByDimension(a,t,l);return u}var c=a.getRawDataItem(t),f=o?"childGroupId":"groupId";if(c&&c[f])return c[f]+"";if(!o)return n||a.getId(t)}function flattenDataDiffItems(a){var t=[];return each$f(a,function(n){var o=n.data,s=n.dataGroupId;if(!(o.count()>DATA_COUNT_THRESHOLD))for(var l=o.getIndices(),u=0;u<l.length;u++)t.push({data:o,groupId:getGroupId(o,u,s,!1),childGroupId:getGroupId(o,u,s,!0),divide:n.divide,dataIndex:u})}),t}function fadeInElement(a,t,n){a.traverse(function(o){o instanceof Path&&initProps(o,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function removeEl(a){if(a.parent){var t=a.getComputedTransform();a.setLocalTransform(t),a.parent.remove(a)}}function stopAnimation(a){a.stopAnimation(),a.isGroup&&a.traverse(function(t){t.stopAnimation()})}function animateElementStyles(a,t,n){var o=getAnimationConfig("update",n,t);o&&a.traverse(function(s){if(s instanceof Displayable){var l=getOldStyle(s);l&&s.animateFrom({style:l},o)}})}function isAllIdSame(a,t){var n=a.length;if(n!==t.length)return!1;for(var o=0;o<n;o++){var s=a[o],l=t[o];if(s.data.getId(s.dataIndex)!==l.data.getId(l.dataIndex))return!1}return!0}function transitionBetween(a,t,n){var o=flattenDataDiffItems(a),s=flattenDataDiffItems(t);function l(E,P,M,I,D){(M||E)&&P.animateFrom({style:M&&M!==E?extend(extend({},M.style),E.style):E.style},D)}var u=!1,c=TRANSITION_NONE,f=createHashMap(),d=createHashMap();o.forEach(function(E){E.groupId&&f.set(E.groupId,!0),E.childGroupId&&d.set(E.childGroupId,!0)});for(var g=0;g<s.length;g++){var y=s[g].groupId;if(d.get(y)){c=TRANSITION_P2C;break}var S=s[g].childGroupId;if(S&&f.get(S)){c=TRANSITION_C2P;break}}function _(E,P){return function(M){var I=M.data,D=M.dataIndex;return P?I.getId(D):E?c===TRANSITION_P2C?M.childGroupId:M.groupId:c===TRANSITION_C2P?M.childGroupId:M.groupId}}var x=isAllIdSame(o,s),b={};if(!x)for(var g=0;g<s.length;g++){var T=s[g],A=T.data.getItemGraphicEl(T.dataIndex);A&&(b[A.id]=!0)}function C(E,P){var M=o[P],I=s[E],D=I.data.hostModel,L=M.data.getItemGraphicEl(M.dataIndex),$=I.data.getItemGraphicEl(I.dataIndex);if(L===$){$&&animateElementStyles($,I.dataIndex,D);return}L&&b[L.id]||$&&(stopAnimation($),L?(stopAnimation(L),removeEl(L),u=!0,applyMorphAnimation(getPathList(L),getPathList($),I.divide,D,E,l)):fadeInElement($,D,E))}new DataDiffer(o,s,_(!0,x),_(!1,x),null,"multiple").update(C).updateManyToOne(function(E,P){var M=s[E],I=M.data,D=I.hostModel,L=I.getItemGraphicEl(M.dataIndex),$=filter$1(map$1(P,function(O){return o[O].data.getItemGraphicEl(o[O].dataIndex)}),function(O){return O&&O!==L&&!b[O.id]});L&&(stopAnimation(L),$.length?(each$f($,function(O){stopAnimation(O),removeEl(O)}),u=!0,applyMorphAnimation(getPathList($),getPathList(L),M.divide,D,E,l)):fadeInElement(L,D,M.dataIndex))}).updateOneToMany(function(E,P){var M=o[P],I=M.data.getItemGraphicEl(M.dataIndex);if(!(I&&b[I.id])){var D=filter$1(map$1(E,function($){return s[$].data.getItemGraphicEl(s[$].dataIndex)}),function($){return $&&$!==I}),L=s[E[0]].data.hostModel;D.length&&(each$f(D,function($){return stopAnimation($)}),I?(stopAnimation(I),removeEl(I),u=!0,applyMorphAnimation(getPathList(I),getPathList(D),M.divide,L,E[0],l)):each$f(D,function($){return fadeInElement($,L,E[0])}))}}).updateManyToMany(function(E,P){new DataDiffer(P,E,function(M){return o[M].data.getId(o[M].dataIndex)},function(M){return s[M].data.getId(s[M].dataIndex)}).update(function(M,I){C(E[M],P[I])}).execute()}).execute(),u&&each$f(t,function(E){var P=E.data,M=P.hostModel,I=M&&n.getViewOfSeriesModel(M),D=getAnimationConfig("update",M,0);I&&M.isAnimationEnabled()&&D&&D.duration>0&&I.group.traverse(function(L){L instanceof Path&&!L.animators.length&&L.animateFrom({style:{opacity:0}},D)})})}function getSeriesTransitionKey(a){var t=a.getModel("universalTransition").get("seriesKey");return t||a.id}function convertArraySeriesKeyToString(a){return isArray$2(a)?a.sort().join(","):a}function getDivideShapeFromData(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(a,t){var n=createHashMap(),o=createHashMap(),s=createHashMap();return each$f(a.oldSeries,function(l,u){var c=a.oldDataGroupIds[u],f=a.oldData[u],d=getSeriesTransitionKey(l),g=convertArraySeriesKeyToString(d);o.set(g,{dataGroupId:c,data:f}),isArray$2(d)&&each$f(d,function(y){s.set(y,{key:g,dataGroupId:c,data:f})})}),each$f(t.updatedSeries,function(l){if(l.isUniversalTransitionEnabled()&&l.isAnimationEnabled()){var u=l.get("dataGroupId"),c=l.getData(),f=getSeriesTransitionKey(l),d=convertArraySeriesKeyToString(f),g=o.get(d);if(g)n.set(d,{oldSeries:[{dataGroupId:g.dataGroupId,divide:getDivideShapeFromData(g.data),data:g.data}],newSeries:[{dataGroupId:u,divide:getDivideShapeFromData(c),data:c}]});else if(isArray$2(f)){var y=[];each$f(f,function(x){var b=o.get(x);b.data&&y.push({dataGroupId:b.dataGroupId,divide:getDivideShapeFromData(b.data),data:b.data})}),y.length&&n.set(d,{oldSeries:y,newSeries:[{dataGroupId:u,data:c,divide:getDivideShapeFromData(c)}]})}else{var S=s.get(f);if(S){var _=n.get(S.key);_||(_={oldSeries:[{dataGroupId:S.dataGroupId,data:S.data,divide:getDivideShapeFromData(S.data)}],newSeries:[]},n.set(S.key,_)),_.newSeries.push({dataGroupId:u,data:c,divide:getDivideShapeFromData(c)})}}}}),n}function querySeries(a,t){for(var n=0;n<a.length;n++){var o=t.seriesIndex!=null&&t.seriesIndex===a[n].seriesIndex||t.seriesId!=null&&t.seriesId===a[n].id;if(o)return n}}function transitionSeriesFromOpt(a,t,n,o){var s=[],l=[];each$f(normalizeToArray(a.from),function(u){var c=querySeries(t.oldSeries,u);c>=0&&s.push({dataGroupId:t.oldDataGroupIds[c],data:t.oldData[c],divide:getDivideShapeFromData(t.oldData[c]),groupIdDim:u.dimension})}),each$f(normalizeToArray(a.to),function(u){var c=querySeries(n.updatedSeries,u);if(c>=0){var f=n.updatedSeries[c].getData();l.push({dataGroupId:t.oldDataGroupIds[c],data:f,divide:getDivideShapeFromData(f),groupIdDim:u.dimension})}}),s.length>0&&l.length>0&&transitionBetween(s,l,o)}function installUniversalTransition(a){a.registerUpdateLifecycle("series:beforeupdate",function(t,n,o){each$f(normalizeToArray(o.seriesTransition),function(s){each$f(normalizeToArray(s.to),function(l){for(var u=o.updatedSeries,c=0;c<u.length;c++)(l.seriesIndex!=null&&l.seriesIndex===u[c].seriesIndex||l.seriesId!=null&&l.seriesId===u[c].id)&&(u[c][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(t,n,o){var s=getUniversalTransitionGlobalStore(n);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var l=o.seriesTransition;if(l)each$f(normalizeToArray(l),function(_){transitionSeriesFromOpt(_,s,o,n)});else{var u=findTransitionSeriesBatches(s,o);each$f(u.keys(),function(_){var x=u.get(_);transitionBetween(x.oldSeries,x.newSeries,n)})}each$f(o.updatedSeries,function(_){_[SERIES_UNIVERSAL_TRANSITION_PROP]&&(_[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var c=t.getSeries(),f=s.oldSeries=[],d=s.oldDataGroupIds=[],g=s.oldData=[],y=0;y<c.length;y++){var S=c[y].getData();S.count()<DATA_COUNT_THRESHOLD&&(f.push(c[y]),d.push(c[y].get("dataGroupId")),g.push(S))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const _sfc_main$f=defineComponent({__name:"RadiantText",props:{duration:{type:Number,default:10},radiantWidth:{type:Number,default:100},class:String},setup(a){const t=a,n=computed(()=>({"--radiant-anim-duration":`${t.duration}s`,"--radiant-width":`${t.radiantWidth}px`}));return(o,s)=>(openBlock(),createElementBlock("p",{style:normalizeStyle$1(n.value),class:normalizeClass(unref(cn)("mx-auto max-w-md text-neutral-600/70 dark:text-neutral-400/70","radiant-animation bg-clip-text bg-no-repeat [background-position:0_0] [background-size:var(--radiant-width)_100%] [transition:background-position_1s_cubic-bezier(.6,.6,0,1)_infinite]","bg-gradient-to-r from-transparent via-black via-50% to-transparent  dark:via-white",o.$props.class))},[renderSlot(o.$slots,"default",{},void 0,!0)],6))}}),RadiantText=_export_sfc(_sfc_main$f,[["__scopeId","data-v-901bb70e"]]),_hoisted_1$d={class:"chart-container"},_sfc_main$e=defineComponent({__name:"EmotionalRadarChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const l={color:["#FF5E5E","#5E8BFF"],title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{trigger:"item"},legend:{data:["",""],bottom:0},radar:{shape:"circle",indicator:[{name:"",max:100},{name:"",max:100},{name:"",max:100},{name:"",max:100},{name:"",max:100},{name:"",max:100}]},series:[{name:"",type:"radar",data:[{value:[85,90,75,80,70,65],name:"",areaStyle:{opacity:.3}},{value:[70,60,80,65,85,60],name:"",areaStyle:{opacity:.3}}]}]};n.setOption(l),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalRadarChart=_export_sfc(_sfc_main$e,[["__scopeId","data-v-af12b50a"]]),_hoisted_1$c={class:"chart-container"},_sfc_main$d=defineComponent({__name:"EmotionalHeatmapChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const l=["","","","","",""],u=["1","2","3","4","5","6","7","8","9","10","11","12"],f={title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{position:"top",formatter:function(d){return": "+d.value[2]+"<br>"+l[d.value[0]]+"<br>"+u[d.value[1]]}},grid:{left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:{type:"category",data:u,splitArea:{show:!0}},yAxis:{type:"category",data:l,splitArea:{show:!0}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"0%",inRange:{color:["#FFEEEE","#FFD0D0","#FFA8A8","#FF7F7F","#FF5E5E","#FF0000"]}},series:[{name:"",type:"heatmap",data:[[0,0,25],[0,1,35],[0,2,55],[0,3,40],[0,4,60],[0,5,75],[0,6,50],[0,7,65],[0,8,70],[0,9,80],[0,10,85],[0,11,90],[1,0,30],[1,1,40],[1,2,45],[1,3,50],[1,4,65],[1,5,70],[1,6,60],[1,7,75],[1,8,80],[1,9,85],[1,10,90],[1,11,95],[2,0,20],[2,1,30],[2,2,40],[2,3,45],[2,4,55],[2,5,65],[2,6,60],[2,7,70],[2,8,75],[2,9,80],[2,10,85],[2,11,90],[3,0,40],[3,1,45],[3,2,50],[3,3,55],[3,4,65],[3,5,70],[3,6,75],[3,7,80],[3,8,85],[3,9,90],[3,10,95],[3,11,100],[4,0,15],[4,1,25],[4,2,35],[4,3,50],[4,4,60],[4,5,75],[4,6,70],[4,7,80],[4,8,85],[4,9,90],[4,10,95],[4,11,100],[5,0,30],[5,1,40],[5,2,50],[5,3,60],[5,4,70],[5,5,80],[5,6,75],[5,7,85],[5,8,90],[5,9,95],[5,10,100],[5,11,100]],label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};n.setOption(f),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalHeatmapChart=_export_sfc(_sfc_main$d,[["__scopeId","data-v-66e0c37a"]]),_hoisted_1$b={class:"chart-container"},_sfc_main$c=defineComponent({__name:"EmotionalScatterChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const u={title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{trigger:"item",formatter:function(c){return`${c.name}<br>: ${c.value[0]}<br>: ${c.value[1]}%<br>: ${c.value[2]}`}},grid:{left:"10%",right:"10%",top:"15%",bottom:"15%"},xAxis:{type:"value",name:"",nameLocation:"end",min:40,max:100,splitLine:{show:!0,lineStyle:{type:"dashed"}}},yAxis:{type:"value",name:"(%)",nameLocation:"end",min:30,max:80,splitLine:{show:!0,lineStyle:{type:"dashed"}}},series:[{name:"",type:"scatter",data:[{name:"",value:[65,45,5],symbolSize:25,itemStyle:{color:"#FF8C8C"}},{name:"",value:[80,65,10],symbolSize:35,itemStyle:{color:"#FF5E5E"}},{name:"",value:[70,60,7],symbolSize:30,itemStyle:{color:"#FFADAD"}},{name:"",value:[75,55,3],symbolSize:28,itemStyle:{color:"#FF9494"}},{name:"",value:[90,70,15],symbolSize:40,itemStyle:{color:"#FF3030"}},{name:"",value:[60,50,8],symbolSize:26,itemStyle:{color:"#FFC1C1"}},{name:"",value:[85,40,1],symbolSize:22,itemStyle:{color:"#FF7F7F"}}],label:{show:!0,position:"right",formatter:"{b}"},emphasis:{label:{show:!0,position:"right",color:"#000",fontSize:14},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)"}}}]};n.setOption(u),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalScatterChart=_export_sfc(_sfc_main$c,[["__scopeId","data-v-697c202b"]]),_hoisted_1$a={class:"chart-container"},_sfc_main$b=defineComponent({__name:"EmotionalRejectionChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const c={title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["","","",""],bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:[{type:"category",data:["2","3","4","5","6","7","8","9","10","11"],axisPointer:{type:"shadow"},axisLine:{lineStyle:{color:"#888"}},splitLine:{show:!1},markLine:{symbol:["none","none"],label:{formatter:"",position:"middle"},lineStyle:{width:2,type:"solid",color:"#FF5E5E"},data:[{xAxis:3}]}}],yAxis:[{type:"value",name:"/",min:0,max:100,axisLabel:{formatter:"{value}"},splitLine:{lineStyle:{type:"dashed"}}},{type:"value",name:"/",min:0,max:10,axisLabel:{formatter:"{value}"},splitLine:{show:!1}}],series:[{name:"",type:"line",smooth:!0,data:[85,87,90,95,60,45,50,55,65,70],itemStyle:{color:"#FF8C8C"},lineStyle:{width:3}},{name:"",type:"line",smooth:!0,data:[65,75,80,90,40,30,35,45,55,60],itemStyle:{color:"#FF5E5E"},lineStyle:{width:3}},{name:"",type:"line",yAxisIndex:1,smooth:!0,data:[3,2.5,2,1.5,7,8,7.5,6,5,4.5],itemStyle:{color:"#BD4B4B"},lineStyle:{width:3,type:"dashed"}},{name:"",type:"bar",yAxisIndex:1,data:[0,0,0,0,7.5,0,0,0,0,0],itemStyle:{color:"#FFADAD",opacity:.8}}]};n.setOption(c),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalRejectionChart=_export_sfc(_sfc_main$b,[["__scopeId","data-v-76d279ce"]]),_hoisted_1$9={class:"chart-container"},_sfc_main$a=defineComponent({__name:"EmotionalPersistenceChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const u={title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["","","","",""],bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["5","6","7","8","9","10","11","12","1","2","3"]}],yAxis:[{type:"value",name:"",axisLabel:{formatter:"{value}"},splitLine:{lineStyle:{type:"dashed"}}}],series:[{name:"",type:"line",stack:"",areaStyle:{color:new LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 94, 94, 0.8)"},{offset:1,color:"rgba(255, 94, 94, 0.1)"}])},emphasis:{focus:"series"},data:[40,45,55,65,70,75,80,85,90,95,100]},{name:"",type:"line",stack:"",areaStyle:{color:new LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 140, 140, 0.8)"},{offset:1,color:"rgba(255, 140, 140, 0.1)"}])},emphasis:{focus:"series"},data:[50,60,65,75,80,85,90,95,100,105,110]},{name:"",type:"line",stack:"",areaStyle:{color:new LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 173, 173, 0.8)"},{offset:1,color:"rgba(255, 173, 173, 0.1)"}])},emphasis:{focus:"series"},data:[30,35,40,45,50,60,65,75,80,85,90]},{name:"",type:"line",stack:"",areaStyle:{color:new LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 207, 207, 0.8)"},{offset:1,color:"rgba(255, 207, 207, 0.1)"}])},emphasis:{focus:"series"},data:[45,50,55,60,65,70,75,80,85,90,95]},{name:"",type:"line",symbol:"emptyCircle",symbolSize:8,lineStyle:{width:3,color:"#FF3030"},itemStyle:{color:"#FF3030"},data:[60,65,70,75,80,85,82,88,90,93,98],emphasis:{focus:"series"},areaStyle:null,stack:null}]};n.setOption(u),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalPersistenceChart=_export_sfc(_sfc_main$a,[["__scopeId","data-v-dcc34247"]]),_hoisted_1$8={class:"chart-container"},_sfc_main$9=defineComponent({__name:"EmotionalSankeyChart",setup(a){const t=ref(null);let n=null;const o=()=>{if(t.value){n=init$1(t.value);const l={title:{text:"",show:!1,left:"center",textStyle:{fontSize:16}},tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"sankey",data:[{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""}],links:[{source:"",target:"",value:5},{source:"",target:"",value:3},{source:"",target:"",value:8},{source:"",target:"",value:4},{source:"",target:"",value:7},{source:"",target:"",value:6},{source:"",target:"",value:5},{source:"",target:"",value:3},{source:"",target:"",value:7},{source:"",target:"",value:4},{source:"",target:"",value:5},{source:"",target:"",value:4},{source:"",target:"",value:3},{source:"",target:"",value:4},{source:"",target:"",value:2},{source:"",target:"",value:1},{source:"",target:"",value:1},{source:"",target:"",value:2},{source:"",target:"",value:4},{source:"",target:"",value:7},{source:"",target:"",value:5},{source:"",target:"",value:6}],label:{position:"right"},emphasis:{focus:"adjacency"},lineStyle:{color:"gradient",curveness:.5},levels:[{depth:0,itemStyle:{color:"#FF8C8C"},lineStyle:{color:"source",opacity:.6}},{depth:1,itemStyle:{color:"#FF5E5E"}},{depth:2,itemStyle:{color:"#BD4B4B"}},{depth:3,itemStyle:{color:"#FF3030"}}]}]};n.setOption(l),window.addEventListener("resize",s)}},s=()=>{n==null||n.resize()};return onMounted(()=>{o()}),onUnmounted(()=>{window.removeEventListener("resize",s),n==null||n.dispose(),n=null}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode$1(RadiantText,{class:"inline-flex items-center justify-center px-4 py-1 transition ease-out hover:text-neutral-600 hover:duration-300 hover:dark:text-neutral-400",duration:5},{default:withCtx(()=>u[0]||(u[0]=[createBaseVNode("span",{class:"text-3xl font-bold"},"  - ",-1)])),_:1}),createBaseVNode("div",{ref_key:"chartRef",ref:t,class:"chart"},null,512)]))}}),EmotionalSankeyChart=_export_sfc(_sfc_main$9,[["__scopeId","data-v-f4b92ca6"]]),_hoisted_1$7={class:"p-4"},_hoisted_2$5={class:"charts-container"},_sfc_main$8=defineComponent({__name:"PsychActivityView",setup(a){return(t,n)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[n[0]||(n[0]=createBaseVNode("h1",{class:"text-2xl font-bold mb-6"},"",-1)),n[1]||(n[1]=createBaseVNode("p",{class:"mb-6 text-base"},"  ",-1)),createBaseVNode("div",_hoisted_2$5,[createVNode$1(EmotionalRadarChart),createVNode$1(EmotionalHeatmapChart),createVNode$1(EmotionalScatterChart),createVNode$1(EmotionalRejectionChart),createVNode$1(EmotionalPersistenceChart),createVNode$1(EmotionalSankeyChart)])]))}}),PsychActivityView=_export_sfc(_sfc_main$8,[["__scopeId","data-v-87ebcc0d"]]),checkStringStartsWith=a=>t=>typeof t=="string"&&t.startsWith(a),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=a=>startsAsVariableToken(a)?singleCssVariableRegex.test(a.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors={};function addScaleCorrector(a){for(const t in a)scaleCorrectors[t]=a[t],isCSSVariableName(t)&&(scaleCorrectors[t].isCSSVariable=!0)}function createContext(a,t){const n=typeof a=="string"?`${a}Context`:t,o=Symbol(n);return[u=>{const c=inject(o,u);if(c||c===null)return c;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(a)?`one of the following components: ${a.join(", ")}`:`\`${a}\``}`)},u=>(provide(o,u),u)]}const[injectMotion,provideMotion]=createContext("Motion"),[injectLayoutGroup,provideLayoutGroup]=createContext("LayoutGroup");function isAnimationControls$1(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}class Feature{constructor(t){this.state=t}beforeMount(){}mount(){}unmount(){}update(){}beforeUpdate(){}beforeUnmount(){}}var warning=function(){};function resolveVariant$1(a,t,n){if(Array.isArray(a))return a.reduce((o,s)=>{const l=resolveVariant$1(s,t,n);return l?{...o,...l}:o},{});if(typeof a=="object")return a;if(a&&t){const o=t[a];return typeof o=="function"?o(n):o}}function hasChanged(a,t){return typeof a!=typeof t?!0:Array.isArray(a)&&Array.isArray(t)?!shallowCompare(a,t):a!==t}function shallowCompare(a,t){const n=t.length;if(n!==a.length)return!1;for(let o=0;o<n;o++)if(t[o]!==a[o])return!1;return!0}function isCssVar(a){return a==null?void 0:a.startsWith("--")}const noopReturn=a=>a;function isNumber$1(a){return typeof a=="number"}const svgElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],svgElementSet=new Set(svgElements);function isSVGElement$1(a){return svgElementSet.has(a)}function isAnimateChanged(a,t){const n=a.animate,o=t.animate;if(n===o)return!1;if(!n||!o)return!0;if(typeof n=="object"||typeof o=="object"){const s=Object.keys(n),l=Object.keys(o);return s.length!==l.length?!0:s.some(u=>{if(u==="transition")return!1;const c=n[u],f=o[u];return c!==f})}return n!==o}class FeatureManager{constructor(t){this.features=[];const{features:n=[],lazyMotionContext:o}=t.options,s=n.concat(o.features.value);this.features=s.map(u=>new u(t));const l=this.features;watch(o.features,u=>{u.forEach(c=>{if(!s.includes(c)){s.push(c);const f=new c(t);l.push(f),t.isMounted()&&(f.beforeMount(),f.mount())}})},{flush:"pre"})}mount(){this.features.forEach(t=>t.mount())}beforeMount(){this.features.forEach(t=>{var n;return(n=t.beforeMount)==null?void 0:n.call(t)})}unmount(){this.features.forEach(t=>t.unmount())}update(){this.features.forEach(t=>{var n;return(n=t.update)==null?void 0:n.call(t)})}beforeUpdate(){this.features.forEach(t=>t.beforeUpdate())}beforeUnmount(){this.features.forEach(t=>t.beforeUnmount())}}const doneCallbacks=new WeakMap,[injectAnimatePresence,provideAnimatePresence]=createContext("AnimatePresenceContext");function isVariantLabels(a){return typeof a=="string"||a===!1||Array.isArray(a)}const noop$1=a=>a;let invariant=noop$1;const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"];function createRenderStep(a,t){let n=new Set,o=new Set,s=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),a()),g(c)}const d={schedule:(g,y=!1,S=!1)=>{const x=S&&s?n:o;return y&&u.add(g),x.has(g)||x.add(g),g},cancel:g=>{o.delete(g),u.delete(g)},process:g=>{if(c=g,s){l=!0;return}s=!0,[n,o]=[o,n],n.forEach(f),n.clear(),s=!1,l&&(l=!1,d.process(g))}};return d}const maxElapsed$1=40;function createRenderBatcher(a,t){let n=!1,o=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=stepsOrder.reduce((A,C)=>(A[C]=createRenderStep(l),A),{}),{read:c,resolveKeyframes:f,update:d,preRender:g,render:y,postRender:S}=u,_=()=>{const A=performance.now();n=!1,s.delta=o?1e3/60:Math.max(Math.min(A-s.timestamp,maxElapsed$1),1),s.timestamp=A,s.isProcessing=!0,c.process(s),f.process(s),d.process(s),g.process(s),y.process(s),S.process(s),s.isProcessing=!1,n&&t&&(o=!1,a(_))},x=()=>{n=!0,o=!0,s.isProcessing||a(_)};return{schedule:stepsOrder.reduce((A,C)=>{const E=u[C];return A[C]=(P,M=!1,I=!1)=>(n||x(),E.schedule(P,M,I)),A},{}),cancel:A=>{for(let C=0;C<stepsOrder.length;C++)u[stepsOrder[C]].cancel(A)},state:s,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),mountedStates=new WeakMap;let id$1=0;const mountedLayoutIds=new Set;class MotionState{constructor(t,n){var o;this.element=null,this.isSafeToRemove=!1,this.isVShow=!1,this.children=new Set,this.activeStates={initial:!0,animate:!0},this.currentProcess=null,this._context=null,this.animateUpdates=noop$1,this.id=`motion-state-${id$1++}`,this.options=t,this.parent=n,(o=n==null?void 0:n.children)==null||o.add(this),this.depth=(n==null?void 0:n.depth)+1||0;const s=this.context.initial===!1?["initial","animate"]:["initial"];this.initTarget(s),this.featureManager=new FeatureManager(this),this.type=isSVGElement$1(this.options.as)?"svg":"html"}get context(){if(!this._context){const t={get:(n,o)=>{var s;return isVariantLabels(this.options[o])?this.options[o]:(s=this.parent)==null?void 0:s.context[o]}};this._context=new Proxy({},t)}return this._context}initTarget(t){this.baseTarget=t.reduce((n,o)=>({...n,...resolveVariant$1(this.options[o]||this.context[o],this.options.variants)}),{}),this.target={}}updateOptions(){var t;(t=this.visualElement)==null||t.update({...this.options,whileTap:this.options.whilePress,reducedMotionConfig:this.options.motionConfig.reduceMotion},{isPresent:!doneCallbacks.has(this.element)})}beforeMount(){this.featureManager.beforeMount()}mount(t,n,o=!1){var s;this.element=t,this.options=n,this.updateOptions(),this.featureManager.mount(),!o&&this.options.animate&&(this.type==="svg"&&this.visualElement.updateDimensions(),(s=this.startAnimation)==null||s.call(this)),this.options.layoutId&&(mountedLayoutIds.add(this.options.layoutId),frame.render(()=>{mountedLayoutIds.clear()}))}clearAnimation(){var t,n;this.currentProcess&&cancelFrame(this.currentProcess),this.currentProcess=null,(n=(t=this.visualElement)==null?void 0:t.variantChildren)==null||n.forEach(o=>{o.state.clearAnimation()})}startAnimation(){this.clearAnimation(),this.currentProcess=frame.render(()=>{this.currentProcess=null,this.animateUpdates()})}beforeUnmount(){this.featureManager.beforeUnmount()}unmount(t=!1){const n=this.options.layoutId&&!mountedLayoutIds.has(this.options.layoutId);(()=>{t&&Array.from(this.children).reverse().forEach(this.unmountChild);const s=()=>{var l,u,c;(u=(l=this.parent)==null?void 0:l.children)==null||u.delete(this),mountedStates.delete(this.element),this.featureManager.unmount(),(c=this.visualElement)==null||c.unmount()};n?Promise.resolve().then(s):s()})()}unmountChild(t){t.unmount(!0)}beforeUpdate(){this.featureManager.beforeUpdate()}update(t){const n=isAnimateChanged(this.options,t);this.options=t,this.updateOptions(),this.featureManager.update(),n&&this.startAnimation()}setActive(t,n,o=!0){var s;!this.element||this.activeStates[t]===n||(this.activeStates[t]=n,(s=this.visualElement.variantChildren)==null||s.forEach(l=>{l.state.setActive(t,n,!1)}),o&&this.animateUpdates({isFallback:!n&&t!=="exit"&&this.visualElement.isControllingVariants,isExit:t==="exit"&&this.activeStates.exit}))}isMounted(){return!!this.element}willUpdate(t){var n;(this.options.layout||this.options.layoutId)&&((n=this.visualElement.projection)==null||n.willUpdate())}}const visualElementStore=new WeakMap;function motionEvent(a,t,n){return new CustomEvent(a,{detail:{target:t,isExit:n}})}const rotation={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:a=>`${a}deg`},baseTransformProperties={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:a=>`${a}px`},rotate:rotation,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:noopReturn},skew:rotation},order=["translate","scale","rotate","skew"],axes=["","X","Y","Z"],transformDefinitions=new Map,transforms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"];order.forEach(a=>{axes.forEach(t=>{transforms.push(a+t),transformDefinitions.set(a+t,baseTransformProperties[a])})});const transformLookup=new Set(transforms),isTransform=a=>transformLookup.has(a),transformAlias={x:"translateX",y:"translateY",z:"translateZ"};function compareTransformOrder([a],[t]){return transforms.indexOf(a)-transforms.indexOf(t)}function transformListToString(a,[t,n]){return`${a} ${t}(${n})`}function buildTransformTemplate(a){return a.sort(compareTransformOrder).reduce(transformListToString,"").trim()}const transformResetValue={translate:[0,0],rotate:0,scale:1,skew:0,x:0,y:0,z:0};function createUnitType$1(a){return{test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}}const percent$1=createUnitType$1("%"),px$1=createUnitType$1("px");function isMotionValue$1(a){return!!(a&&a.getVelocity)}const style={get:(a,t)=>{let n=isCssVar(t)?a.style.getPropertyValue(t):getComputedStyle(a)[t];if(!n&&n!=="0"){const o=transformDefinitions.get(t);o&&(n=o.initialValue)}return n},set:(a,t,n)=>{isCssVar(t)?a.style.setProperty(t,n):a.style[t]=n}};function createStyles(a){var t;const n={},o=[];for(let s in a){let l=a[s];l=isMotionValue$1(l)?l.get():l,isTransform(s)&&s in transformAlias&&(s=transformAlias[s]);let u=Array.isArray(l)?l[0]:l;const c=transformDefinitions.get(s);c?(u=isNumber$1(l)?(t=c.toDefaultUnit)==null?void 0:t.call(c,l):l,o.push([s,u])):n[s]=u}return o.length&&(n.transform=buildTransformTemplate(o)),Object.keys(n).length===0?null:n}const SVG_STYLE_TO_ATTRIBUTES={fill:!0,stroke:!0,opacity:!0,"stroke-width":!0,"fill-opacity":!0,"stroke-opacity":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,cx:!0,cy:!0,r:!0,d:!0,x1:!0,y1:!0,x2:!0,y2:!0,points:!0,"path-length":!0,viewBox:!0,width:!0,height:!0,"preserve-aspect-ratio":!0,"clip-path":!0,filter:!0,mask:!0,"stop-color":!0,"stop-opacity":!0,"gradient-transform":!0,"gradient-units":!0,"spread-method":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,"font-size":!0,"font-weight":!0,"letter-spacing":!0,"vector-effect":!0};function camelToKebab(a){return a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function buildSVGPath$1(a,t,n=1,o=0){a["path-length"]=1,a["stroke-dashoffset"]=px$1.transform(-o);const s=px$1.transform(t),l=px$1.transform(n);a["stroke-dasharray"]=`${s} ${l}`}function convertSvgStyleToAttributes(a){const t={},n={};for(const o in a){const s=camelToKebab(o);if(s in SVG_STYLE_TO_ATTRIBUTES){const l=a[o];t[s]=isMotionValue$1(l)?l.get():l}else n[o]=a[o]}return t["path-length"]!==void 0&&buildSVGPath$1(t,t["path-length"],t["path-spacing"],t["path-offset"]),{attributes:t,style:n}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const isDef=a=>typeof a<"u";function convertBoundingBoxToBox$1({top:a,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:a,max:o}}}function transformBoxPoints$1(a,t){if(!t)return a;const n=t({x:a.left,y:a.top}),o=t({x:a.right,y:a.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function measureViewportBox$1(a,t){return convertBoundingBoxToBox$1(transformBoxPoints$1(a.getBoundingClientRect(),t))}const isMotionValue=a=>!!(a&&a.getVelocity);function addUniqueItem(a,t){a.indexOf(t)===-1&&a.push(t)}function removeItem(a,t){const n=a.indexOf(t);n>-1&&a.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,o){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,o);else for(let l=0;l<s;l++){const u=this.subscriptions[l];u&&u(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MotionGlobalConfig={useManualTiming:!1};let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:a=>{now$1=a,queueMicrotask(clearTime)}};function velocityPerSecond(a,t){return t?a*(1e3/t):0}const MAX_VELOCITY_DELTA=30,isFloat=a=>!isNaN(parseFloat(a)),collectMotionValues={current:void 0};class MotionValue{constructor(t,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,s=!0)=>{const l=time.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=time.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SubscriptionManager);const o=this.events[t].add(n);return t==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return collectMotionValues.current&&collectMotionValues.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(a,t){return new MotionValue(a,t)}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const a in featureProps)featureDefinitions[a]={isEnabled:t=>featureProps[a].some(n=>!!t[n])};const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis$1=()=>({min:0,max:0}),createBox$1=()=>({x:createAxis$1(),y:createAxis$1()}),isNumericalString=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),isZeroValueString=a=>/^0[^.\s]+$/u.test(a),isBrowser=typeof window<"u",prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=a.matches;a.addListener(t),t()}else prefersReducedMotion.current=!1}const clamp$1=(a,t,n)=>n>t?t:n<a?a:n,number={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},alpha={...number,transform:a=>clamp$1(0,1,a)},scale={...number,default:1},sanitize=a=>Math.round(a*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(a){return a==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(a,t)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(a)||t&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,t)),splitColor=(a,t,n)=>o=>{if(typeof o!="string")return o;const[s,l,u,c]=o.match(floatRegex);return{[a]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},clampRgbUnit=a=>clamp$1(0,255,a),rgbUnit={...number,transform:a=>Math.round(clampRgbUnit(a))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:a,green:t,blue:n,alpha:o=1})=>"rgba("+rgbUnit.transform(a)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(n)+", "+sanitize(alpha.transform(o))+")"};function parseHex(a){let t="",n="",o="",s="";return a.length>5?(t=a.substring(1,3),n=a.substring(3,5),o=a.substring(5,7),s=a.substring(7,9)):(t=a.substring(1,2),n=a.substring(2,3),o=a.substring(3,4),s=a.substring(4,5),t+=t,n+=n,o+=o,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:s?parseInt(s,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:a=>percent.parse(a)/100,transform:a=>percent.transform(a*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(a)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha.transform(o))+")"},color={test:a=>rgba.test(a)||hex.test(a)||hsla.test(a),parse:a=>rgba.test(a)?rgba.parse(a):hsla.test(a)?hsla.parse(a):hex.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?rgba.transform(a):hsla.transform(a)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(a){var t,n;return isNaN(a)&&typeof a=="string"&&(((t=a.match(floatRegex))===null||t===void 0?void 0:t.length)||0)+(((n=a.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(a){const t=a.toString(),n=[],o={color:[],number:[],var:[]},s=[];let l=0;const c=t.replace(complexRegex,f=>(color.test(f)?(o.color.push(l),s.push(COLOR_TOKEN),n.push(color.parse(f))):f.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(l),s.push(VAR_TOKEN),n.push(f)):(o.number.push(l),s.push(NUMBER_TOKEN),n.push(parseFloat(f))),++l,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:c,indexes:o,types:s}}function parseComplexValue(a){return analyseComplexValue(a).values}function createTransformer(a){const{split:t,types:n}=analyseComplexValue(a),o=t.length;return s=>{let l="";for(let u=0;u<o;u++)if(l+=t[u],s[u]!==void 0){const c=n[u];c===NUMBER_TOKEN?l+=sanitize(s[u]):c===COLOR_TOKEN?l+=color.transform(s[u]):l+=s[u]}return l}}const convertNumbersToZero=a=>typeof a=="number"?0:a;function getAnimatableNone$1(a){const t=parseComplexValue(a);return createTransformer(a)(t.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(a){const[t,n]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[o]=n.match(floatRegex)||[];if(!o)return a;const s=n.replace(o,"");let l=maxDefaults.has(t)?1:0;return o!==n&&(l*=100),t+"("+l+s+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:a=>{const t=a.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):a}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=a=>defaultValueTypes[a];function getAnimatableNone(a,t){let n=getDefaultValueType(a);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const testValueType=a=>t=>t.test(a),auto={test:a=>a==="auto",parse:a=>a},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=a=>dimensionValueTypes.find(testValueType(a)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=a=>valueTypes.find(testValueType(a)),transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isAnimationControls(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function isVariantLabel(a){return typeof a=="string"||Array.isArray(a)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(a){return isAnimationControls(a.animate)||variantProps.some(t=>isVariantLabel(a[t]))}function isVariantNode(a){return!!(isControllingVariants(a)||a.variants)}const radToDeg=a=>a*180/Math.PI,rotate=a=>{const t=radToDeg(Math.atan2(a[1],a[0]));return rebaseAngle(t)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate,rotateZ:rotate,skewX:a=>radToDeg(Math.atan(a[1])),skewY:a=>radToDeg(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},rebaseAngle=a=>(a=a%360,a<0&&(a+=360),a),rotateZ=rotate,scaleX=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),scaleY=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:a=>(scaleX(a)+scaleY(a))/2,rotateX:a=>rebaseAngle(radToDeg(Math.atan2(a[6],a[5]))),rotateY:a=>rebaseAngle(radToDeg(Math.atan2(-a[2],a[0]))),rotateZ,rotate:rotateZ,skewX:a=>radToDeg(Math.atan(a[4])),skewY:a=>radToDeg(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function defaultTransformValue(a){return a.includes("scale")?1:0}function parseValueFromTransform(a,t){if(!a||a==="none")return defaultTransformValue(t);const n=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,s;if(n)o=matrix3dParsers,s=n;else{const c=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=matrix2dParsers,s=c}if(!s)return defaultTransformValue(t);const l=o[t],u=s[1].split(",").map(convertTransformToNumber);return typeof l=="function"?l(u):u[l]}const readTransformValue=(a,t)=>{const{transform:n="none"}=getComputedStyle(a);return parseValueFromTransform(n,t)};function convertTransformToNumber(a){return parseFloat(a.trim())}const isNumOrPxType=a=>a===number||a===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(a=>!transformKeys.has(a));function removeNonTranslationalTransform(a){const t=[];return nonTranslationalTransformKeys.forEach(n=>{const o=a.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:a},{paddingLeft:t="0",paddingRight:n="0"})=>a.max-a.min-parseFloat(t)-parseFloat(n),height:({y:a},{paddingTop:t="0",paddingBottom:n="0"})=>a.max-a.min-parseFloat(t)-parseFloat(n),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>parseValueFromTransform(t,"x"),y:(a,{transform:t})=>parseValueFromTransform(t,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const a=Array.from(toResolve).filter(o=>o.needsMeasurement),t=new Set(a.map(o=>o.element)),n=new Map;t.forEach(o=>{const s=removeNonTranslationalTransform(o);s.length&&(n.set(o,s),o.render())}),a.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const s=n.get(o);s&&s.forEach(([l,u])=>{var c;(c=o.getValue(l))===null||c===void 0||c.set(u)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(a=>a.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(t,n,o,s,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=s,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:s}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const u=s==null?void 0:s.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(o&&n){const f=o.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),s&&u===void 0&&s.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}function updateMotionValuesFromProps(a,t,n){for(const o in t){const s=t[o],l=n[o];if(isMotionValue(s))a.addValue(o,s);else if(isMotionValue(l))a.addValue(o,motionValue(s,{owner:a}));else if(l!==s)if(a.hasValue(o)){const u=a.getValue(o);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=a.getStaticValue(o);a.addValue(o,motionValue(u!==void 0?u:s,{owner:a}))}}for(const o in n)t[o]===void 0&&a.removeValue(o);return t}function getValueState(a){const t=[{},{}];return a==null||a.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function resolveVariantFromProps(a,t,n,o){if(typeof t=="function"){const[s,l]=getValueState(o);t=t(n!==void 0?n:a.custom,s,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[s,l]=getValueState(o);t=t(n!==void 0?n:a.custom,s,l)}return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:s,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=time.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,frame.render(this.render,!1,!0))};const{latestValues:f,renderState:d,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in S){const x=S[_];f[_]!==void 0&&isMotionValue(x)&&x.set(f[_],!1)}}mount(t){this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=transformProps.has(t);o&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const n=featureDefinitions[t];if(!n)continue;const{isEnabled:o,Feature:s}=n;if(!this.features[t]&&s&&o(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox$1()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<propEventHandlers.length;o++){const s=propEventHandlers[o];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,u=t[l];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=motionValue(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){var o;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(o=this.getBaseTargetFromProps(this.props,t))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(isNumericalString(s)||isZeroValueString(s))?s=parseFloat(s):!findValueType(s)&&complex.test(n)&&(s=getAnimatableNone(t,n)),this.setBaseTarget(t,isMotionValue(s)?s.get():s)),isMotionValue(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:o}=this.props;let s;if(typeof o=="string"||typeof o=="object"){const u=resolveVariantFromProps(this.props,o,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[t])}if(o&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!isMotionValue(l)?l:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}function isNone(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||isZeroValueString(a):!0}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(a,t,n){let o=0,s;for(;o<a.length&&!s;){const l=a[o];typeof l=="string"&&!invalidTemplates.has(l)&&analyseComplexValue(l).values.length&&(s=a[o]),o++}if(s&&n)for(const l of t)a[l]=getAnimatableNone(n,s)}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(a){const t=splitCSSVariableRegex.exec(a);if(!t)return[,];const[,n,o,s]=t;return[`--${n??o}`,s]}function getVariableValue(a,t,n=1){const[o,s]=parseCSSVariable(a);if(!o)return;const l=window.getComputedStyle(t).getPropertyValue(o);if(l){const u=l.trim();return isNumericalString(u)?parseFloat(u):u}return isCSSVariableToken(s)?getVariableValue(s,t,n+1):s}class DOMKeyframesResolver extends KeyframeResolver{constructor(t,n,o,s,l){super(t,n,o,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),isCSSVariableToken(d))){const g=getVariableValue(d,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||t.length!==2)return;const[s,l]=t,u=findDimensionValueType(s),c=findDimensionValueType(l);if(u!==c)if(isNumOrPxType(u)&&isNumOrPxType(c))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let s=0;s<t.length;s++)isNone(t[s])&&o.push(s);o.length&&makeNoneKeyframesAnimatable(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(o,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:o,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const l=n.getValue(o);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=positionalValues[o](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,d])=>{n.getValue(f).set(d)}),this.resolveNoneKeyframes()}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const getValueAsType=(a,t)=>t&&typeof a=="number"?t.transform(a):a,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(a,t,n){let o="",s=!0;for(let l=0;l<numTransforms;l++){const u=transformPropOrder[l],c=a[u];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(u.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const d=getValueAsType(c,numberValueTypes[u]);if(!f){s=!1;const g=translateAlias[u]||u;o+=`${g}(${d}) `}n&&(t[u]=d)}}return o=o.trim(),n?o=n(t,s?"":o):s&&(o="none"),o}function buildHTMLStyles(a,t,n){const{style:o,vars:s,transformOrigin:l}=a;let u=!1,c=!1;for(const f in t){const d=t[f];if(transformProps.has(f)){u=!0;continue}else if(isCSSVariableName(f)){s[f]=d;continue}else{const g=getValueAsType(d,numberValueTypes[f]);f.startsWith("origin")?(c=!0,l[f]=g):o[f]=g}}if(t.transform||(u||n?o.transform=buildTransform(t,a.transform,n):o.transform&&(o.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:g=0}=l;o.transformOrigin=`${f} ${d} ${g}`}}function renderHTML(a,{style:t,vars:n},o,s){Object.assign(a.style,t,s&&s.getProjectionStyles(o));for(const l in n)a.style.setProperty(l,n[l])}function isForcedMotionValue(a,{layout:t,layoutId:n}){return transformProps.has(a)||a.startsWith("origin")||(t||n!==void 0)&&(!!scaleCorrectors[a]||a==="opacity")}function scrapeMotionValuesFromProps$1(a,t,n){var o;const{style:s}=a,l={};for(const u in s)(isMotionValue(s[u])||t.style&&isMotionValue(t.style[u])||isForcedMotionValue(u,a)||((o=n==null?void 0:n.getValue(u))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(l[u]=s[u]);return l}function getComputedStyle$1(a){return window.getComputedStyle(a)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,n){if(transformProps.has(n))return readTransformValue(t,n);{const o=getComputedStyle$1(t),s=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox$1(t,n)}build(t,n,o){buildHTMLStyles(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return scrapeMotionValuesFromProps$1(t,n,o)}}const camelToDash=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(a,t,n=1,o=0,s=!0){a.pathLength=1;const l=s?dashKeys:camelKeys;a[l.offset]=px.transform(-o);const u=px.transform(t),c=px.transform(n);a[l.array]=`${u} ${c}`}function calcOrigin$1(a,t,n){return typeof a=="string"?a:px.transform(t+n*a)}function calcSVGTransformOrigin(a,t,n){const o=calcOrigin$1(t,a.x,a.width),s=calcOrigin$1(n,a.y,a.height);return`${o} ${s}`}function buildSVGAttrs(a,{attrX:t,attrY:n,attrScale:o,originX:s,originY:l,pathLength:u,pathSpacing:c=1,pathOffset:f=0,...d},g,y){if(buildHTMLStyles(a,d,y),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:S,style:_,dimensions:x}=a;S.transform&&(x&&(_.transform=S.transform),delete S.transform),x&&(s!==void 0||l!==void 0||_.transform)&&(_.transformOrigin=calcSVGTransformOrigin(x,s!==void 0?s:.5,l!==void 0?l:.5)),t!==void 0&&(S.x=t),n!==void 0&&(S.y=n),o!==void 0&&(S.scale=o),u!==void 0&&buildSVGPath(S,u,c,f,!1)}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),isSVGTag=a=>typeof a=="string"&&a.toLowerCase()==="svg";function updateSVGDimensions(a,t){try{t.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function renderSVG(a,t,n,o){renderHTML(a,t,void 0,o);for(const s in t.attrs)a.setAttribute(camelCaseAttributes.has(s)?s:camelToDash(s),t.attrs[s])}function scrapeMotionValuesFromProps(a,t,n){const o=scrapeMotionValuesFromProps$1(a,t,n);for(const s in a)if(isMotionValue(a[s])||isMotionValue(t[s])){const l=transformPropOrder.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;o[l]=a[s]}return o}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox$1,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&updateSVGDimensions(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return scrapeMotionValuesFromProps(t,n,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&frame.postRender(this.updateDimensions)}build(t,n,o){buildSVGAttrs(t,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,o,s){renderSVG(t,n,o,s)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}function createVisualElement(a,t){return isSVGElement$1(a)?new SVGVisualElement(t):new HTMLVisualElement(t)}function memo(a){let t;return()=>(t===void 0&&(t=a()),t)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=n}attachTimeline(t,n){const o=this.animations.map(s=>{if(supportsScrollTimeline()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{o.forEach((s,l)=>{s&&s(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}const secondsToMilliseconds$1=a=>a*1e3,millisecondsToSeconds$1=a=>a/1e3,maxGeneratorDuration=2e4;function calcGeneratorDuration(a){let t=0;const n=50;let o=a.next(t);for(;!o.done&&t<maxGeneratorDuration;)t+=n,o=a.next(t);return t>=maxGeneratorDuration?1/0:t}const progress$1=(a,t,n)=>{const o=t-a;return o===0?1:(n-a)/o},generateLinearEasing=(a,t,n=10)=>{let o="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)o+=a(progress$1(0,s-1,l))+", ";return`linear(${o.substring(0,o.length-2)})`},velocitySampleDuration=5;function calcGeneratorVelocity(a,t,n){const o=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(n-a(o),t-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:a=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:o=springDefaults.mass}){let s,l,u=1-t;u=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,u),a=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds$1(a)),u<1?(s=d=>{const g=d*u,y=g*a,S=g-n,_=calcAngularFreq(d,u),x=Math.exp(-y);return safeMin-S/_*x},l=d=>{const y=d*u*a,S=y*n+n,_=Math.pow(u,2)*Math.pow(d,2)*a,x=Math.exp(-y),b=calcAngularFreq(Math.pow(d,2),u);return(-s(d)+safeMin>0?-1:1)*((S-_)*x)/b}):(s=d=>{const g=Math.exp(-d*a),y=(d-n)*a+1;return-.001+g*y},l=d=>{const g=Math.exp(-d*a),y=(n-d)*(a*a);return g*y});const c=5/a,f=approximateRoot(s,l,c);if(a=secondsToMilliseconds$1(a),isNaN(f))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:a};{const d=Math.pow(f,2)*o;return{stiffness:d,damping:u*2*Math.sqrt(o*d),duration:a}}}const rootIterations=12;function approximateRoot(a,t,n){let o=n;for(let s=1;s<rootIterations;s++)o=o-a(o)/t(o);return o}function calcAngularFreq(a,t){return a*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(a,t){return t.some(n=>a[n]!==void 0)}function getSpringOptions(a){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...a};if(!isSpringType(a,physicsKeys)&&isSpringType(a,durationKeys))if(a.visualDuration){const n=a.visualDuration,o=2*Math.PI/(n*1.2),s=o*o,l=2*clamp$1(.05,1,1-(a.bounce||0))*Math.sqrt(s);t={...t,mass:springDefaults.mass,stiffness:s,damping:l}}else{const n=findSpring(a);t={...t,...n,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(a=springDefaults.visualDuration,t=springDefaults.bounce){const n=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:o,restDelta:s}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:f,damping:d,mass:g,duration:y,velocity:S,isResolvedFromDuration:_}=getSpringOptions({...n,velocity:-millisecondsToSeconds$1(n.velocity||0)}),x=S||0,b=d/(2*Math.sqrt(f*g)),T=u-l,A=millisecondsToSeconds$1(Math.sqrt(f/g)),C=Math.abs(T)<5;o||(o=C?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),s||(s=C?springDefaults.restDelta.granular:springDefaults.restDelta.default);let E;if(b<1){const M=calcAngularFreq(A,b);E=I=>{const D=Math.exp(-b*A*I);return u-D*((x+b*A*T)/M*Math.sin(M*I)+T*Math.cos(M*I))}}else if(b===1)E=M=>u-Math.exp(-A*M)*(T+(x+A*T)*M);else{const M=A*Math.sqrt(b*b-1);E=I=>{const D=Math.exp(-b*A*I),L=Math.min(M*I,300);return u-D*((x+b*A*T)*Math.sinh(L)+M*T*Math.cosh(L))/M}}const P={calculatedDuration:_&&y||null,next:M=>{const I=E(M);if(_)c.done=M>=y;else{let D=0;b<1&&(D=M===0?secondsToMilliseconds$1(x):calcGeneratorVelocity(E,M,I));const L=Math.abs(D)<=o,$=Math.abs(u-I)<=s;c.done=L&&$}return c.value=c.done?u:I,c},toString:()=>{const M=Math.min(calcGeneratorDuration(P),maxGeneratorDuration),I=generateLinearEasing(D=>P.next(M*D).value,M,30);return M+"ms "+I}};return P}function createGeneratorEasing(a,t=100,n){const o=n({...a,keyframes:[0,t]}),s=Math.min(calcGeneratorDuration(o),maxGeneratorDuration);return{type:"keyframes",ease:l=>o.next(s*l).value/t,duration:millisecondsToSeconds$1(s)}}function isGenerator(a){return typeof a=="function"}const wrap=(a,t,n)=>{const o=t-a;return((n-a)%o+o)%o+a},isEasingArray=a=>Array.isArray(a)&&typeof a[0]!="number";function getEasingForSegment(a,t){return isEasingArray(a)?a[wrap(0,a.length,t)]:a}const mixNumber$2=(a,t,n)=>a+(t-a)*n;function fillOffset(a,t){const n=a[a.length-1];for(let o=1;o<=t;o++){const s=progress$1(0,t,o);a.push(mixNumber$2(n,1,s))}}function defaultOffset$1(a){const t=[0];return fillOffset(t,a.length-1),t}function resolveElements(a,t,n){var o;if(a instanceof EventTarget)return[a];if(typeof a=="string"){let s=document;const l=(o=n==null?void 0:n[a])!==null&&o!==void 0?o:s.querySelectorAll(a);return l?Array.from(l):[]}return Array.from(a)}function isDOMKeyframes(a){return typeof a=="object"&&!Array.isArray(a)}function resolveSubjects(a,t,n,o){return typeof a=="string"&&isDOMKeyframes(t)?resolveElements(a,n,o):a instanceof NodeList?Array.from(a):Array.isArray(a)?a:[a]}function calculateRepeatDuration(a,t,n){return a*(t+1)}function calcNextTime(a,t,n,o){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,a+parseFloat(t)):t==="<"?n:(s=o.get(t))!==null&&s!==void 0?s:a}function eraseKeyframes(a,t,n){for(let o=0;o<a.length;o++){const s=a[o];s.at>t&&s.at<n&&(removeItem(a,s),o--)}}function addKeyframes(a,t,n,o,s,l){eraseKeyframes(a,s,l);for(let u=0;u<t.length;u++)a.push({value:t[u],at:mixNumber$2(s,l,o[u]),easing:getEasingForSegment(n,u)})}function normalizeTimes(a,t){for(let n=0;n<a.length;n++)a[n]=a[n]/(t+1)}function compareByTime(a,t){return a.at===t.at?a.value===null?1:t.value===null?-1:0:a.at-t.at}const defaultSegmentEasing="easeInOut";function createAnimationsFromSequence(a,{defaultTransition:t={},...n}={},o,s){const l=t.duration||.3,u=new Map,c=new Map,f={},d=new Map;let g=0,y=0,S=0;for(let _=0;_<a.length;_++){const x=a[_];if(typeof x=="string"){d.set(x,y);continue}else if(!Array.isArray(x)){d.set(x.name,calcNextTime(y,x.at,g,d));continue}let[b,T,A={}]=x;A.at!==void 0&&(y=calcNextTime(y,A.at,g,d));let C=0;const E=(P,M,I,D=0,L=0)=>{const $=keyframesAsList(P),{delay:O=0,times:V=defaultOffset$1($),type:F="keyframes",repeat:z,repeatType:U,repeatDelay:H=0,...N}=M;let{ease:G=t.ease||"easeOut",duration:R}=M;const B=typeof O=="function"?O(D,L):O,j=$.length,W=isGenerator(F)?F:s==null?void 0:s[F];if(j<=2&&W){let le=100;if(j===2&&isNumberKeyframesArray($)){const re=$[1]-$[0];le=Math.abs(re)}const fe={...N};R!==void 0&&(fe.duration=secondsToMilliseconds$1(R));const q=createGeneratorEasing(fe,le,W);G=q.ease,R=q.duration}R??(R=l);const X=y+B;V.length===1&&V[0]===0&&(V[1]=1);const ee=V.length-$.length;if(ee>0&&fillOffset(V,ee),$.length===1&&$.unshift(null),z){R=calculateRepeatDuration(R,z);const le=[...$],fe=[...V];G=Array.isArray(G)?[...G]:[G];const q=[...G];for(let re=0;re<z;re++){$.push(...le);for(let J=0;J<le.length;J++)V.push(fe[J]+(re+1)),G.push(J===0?"linear":getEasingForSegment(q,J-1))}normalizeTimes(V,z)}const te=X+R;addKeyframes(I,$,G,V,X,te),C=Math.max(B+R,C),S=Math.max(te,S)};if(isMotionValue(b)){const P=getSubjectSequence(b,c);E(T,A,getValueSequence("default",P))}else{const P=resolveSubjects(b,T,o,f),M=P.length;for(let I=0;I<M;I++){T=T,A=A;const D=P[I],L=getSubjectSequence(D,c);for(const $ in T)E(T[$],getValueTransition$1(A,$),getValueSequence($,L),I,M)}}g=y,y+=C}return c.forEach((_,x)=>{for(const b in _){const T=_[b];T.sort(compareByTime);const A=[],C=[],E=[];for(let M=0;M<T.length;M++){const{at:I,value:D,easing:L}=T[M];A.push(D),C.push(progress$1(0,S,I)),E.push(L||"easeOut")}C[0]!==0&&(C.unshift(0),A.unshift(A[0]),E.unshift(defaultSegmentEasing)),C[C.length-1]!==1&&(C.push(1),A.push(null)),u.has(x)||u.set(x,{keyframes:{},transition:{}});const P=u.get(x);P.keyframes[b]=A,P.transition[b]={...t,duration:S,ease:E,times:C,...n}}}),u}function getSubjectSequence(a,t){return!t.has(a)&&t.set(a,{}),t.get(a)}function getValueSequence(a,t){return t[a]||(t[a]=[]),t[a]}function keyframesAsList(a){return Array.isArray(a)?a:[a]}function getValueTransition$1(a,t){return a&&a[t]?{...a,...a[t]}:{...a}}const isNumber=a=>typeof a=="number",isNumberKeyframesArray=a=>a.every(isNumber);function getValueTransition(a,t){return a?a[t]||a.default||a:void 0}const isKeyframesTarget=a=>Array.isArray(a),isCustomValue=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),resolveFinalValueInKeyframes=a=>isKeyframesTarget(a)?a[a.length-1]||0:a;function resolveVariant(a,t,n){const o=a.getProps();return resolveVariantFromProps(o,t,o.custom,a)}function setMotionValue(a,t,n){a.hasValue(t)?a.getValue(t).set(n):a.addValue(t,motionValue(n))}function setTarget(a,t){const n=resolveVariant(a,t);let{transitionEnd:o={},transition:s={},...l}=n||{};l={...l,...o};for(const u in l){const c=resolveFinalValueInKeyframes(l[u]);setMotionValue(a,u,c)}}function isWillChangeMotionValue$1(a){return!!(isMotionValue(a)&&a.add)}function addValueToWillChange$1(a,t){const n=a.getValue("willChange");if(isWillChangeMotionValue$1(n))return n.add(t)}const optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(a){return a.props[optimizedAppearDataAttribute]}function attachTimeline(a,t){a.timeline=t,a.onfinish=null}const isBezierDefinition=a=>Array.isArray(a)&&typeof a[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(a,t){const n=memo(a);return()=>{var o;return(o=supportsFlags[t])!==null&&o!==void 0?o:n()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(a){return!!(typeof a=="function"&&supportsLinearEasing()||!a||typeof a=="string"&&(a in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(a)||Array.isArray(a)&&a.every(isWaapiSupportedEasing))}const cubicBezierAsString=([a,t,n,o])=>`cubic-bezier(${a}, ${t}, ${n}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(a,t){if(a)return typeof a=="function"&&supportsLinearEasing()?generateLinearEasing(a,t):isBezierDefinition(a)?cubicBezierAsString(a):Array.isArray(a)?a.map(n=>mapEasingToNativeEasing(n,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[a]}const calcBezier=(a,t,n)=>(((1-3*n+3*t)*a+(3*n-6*t))*a+3*t)*a,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(a,t,n,o,s){let l,u,c=0;do u=t+(n-t)/2,l=calcBezier(u,o,s)-a,l>0?n=u:t=u;while(Math.abs(l)>subdivisionPrecision&&++c<subdivisionMaxIterations);return u}function cubicBezier(a,t,n,o){if(a===t&&n===o)return noop$1;const s=l=>binarySubdivide(l,0,1,a,n);return l=>l===0||l===1?l:calcBezier(s(l),t,o)}const mirrorEasing=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,reverseEasing=a=>t=>1-a(1-t),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=a=>(a*=2)<1?.5*backIn(a):.5*(2-Math.pow(2,-10*(a-1))),circIn=a=>1-Math.sin(Math.acos(a)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isAnimatable=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(complex.test(a)||a==="0")&&!a.startsWith("url("));function hasKeyframesChanged(a){const t=a[0];if(a.length===1)return!0;for(let n=0;n<a.length;n++)if(a[n]!==t)return!0}function canAnimate(a,t,n,o){const s=a[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],u=isAnimatable(s,t),c=isAnimatable(l,t);return!u||!c?!1:hasKeyframesChanged(a)||(n==="spring"||isGenerator(n))&&o}const isNotNull=a=>a!==null;function getFinalKeyframe(a,{repeat:t,repeatType:n="loop"},o){const s=a.filter(isNotNull),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return!l||o===void 0?s[l]:o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:t,delay:n,type:o,repeat:s,repeatDelay:l,repeatType:u,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:s,velocity:l,delay:u,onComplete:c,onUpdate:f,isGenerator:d}=this.options;if(!d&&!canAnimate(t,o,s,l))if(u)this.options.duration=0;else{f&&f(getFinalKeyframe(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,n);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function hueToRgb(a,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(t-a)*6*n:n<1/2?t:n<2/3?a+(t-a)*(2/3-n)*6:a}function hslaToRgba({hue:a,saturation:t,lightness:n,alpha:o}){a/=360,t/=100,n/=100;let s=0,l=0,u=0;if(!t)s=l=u=n;else{const c=n<.5?n*(1+t):n+t-n*t,f=2*n-c;s=hueToRgb(f,c,a+1/3),l=hueToRgb(f,c,a),u=hueToRgb(f,c,a-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:o}}function mixImmediate(a,t){return n=>n>0?t:a}const mixLinearColor=(a,t,n)=>{const o=a*a,s=n*(t*t-o)+o;return s<0?0:Math.sqrt(s)},colorTypes=[hex,rgba,hsla],getColorType=a=>colorTypes.find(t=>t.test(a));function asRGBA(a){const t=getColorType(a);if(!t)return!1;let n=t.parse(a);return t===hsla&&(n=hslaToRgba(n)),n}const mixColor=(a,t)=>{const n=asRGBA(a),o=asRGBA(t);if(!n||!o)return mixImmediate(a,t);const s={...n};return l=>(s.red=mixLinearColor(n.red,o.red,l),s.green=mixLinearColor(n.green,o.green,l),s.blue=mixLinearColor(n.blue,o.blue,l),s.alpha=mixNumber$2(n.alpha,o.alpha,l),rgba.transform(s))},combineFunctions=(a,t)=>n=>t(a(n)),pipe=(...a)=>a.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(a,t){return invisibleValues.has(a)?n=>n<=0?a:t:n=>n>=1?t:a}function mixNumber$1(a,t){return n=>mixNumber$2(a,t,n)}function getMixer$1(a){return typeof a=="number"?mixNumber$1:typeof a=="string"?isCSSVariableToken(a)?mixImmediate:color.test(a)?mixColor:mixComplex:Array.isArray(a)?mixArray:typeof a=="object"?color.test(a)?mixColor:mixObject:mixImmediate}function mixArray(a,t){const n=[...a],o=n.length,s=a.map((l,u)=>getMixer$1(l)(l,t[u]));return l=>{for(let u=0;u<o;u++)n[u]=s[u](l);return n}}function mixObject(a,t){const n={...a,...t},o={};for(const s in n)a[s]!==void 0&&t[s]!==void 0&&(o[s]=getMixer$1(a[s])(a[s],t[s]));return s=>{for(const l in o)n[l]=o[l](s);return n}}function matchOrder(a,t){var n;const o=[],s={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],c=a.indexes[u][s[u]],f=(n=a.values[c])!==null&&n!==void 0?n:0;o[l]=f,s[u]++}return o}const mixComplex=(a,t)=>{const n=complex.createTransformer(t),o=analyseComplexValue(a),s=analyseComplexValue(t);return o.indexes.var.length===s.indexes.var.length&&o.indexes.color.length===s.indexes.color.length&&o.indexes.number.length>=s.indexes.number.length?invisibleValues.has(a)&&!s.values.length||invisibleValues.has(t)&&!o.values.length?mixVisibility(a,t):pipe(mixArray(matchOrder(o,s),s.values),n):mixImmediate(a,t)};function mix(a,t,n){return typeof a=="number"&&typeof t=="number"&&typeof n=="number"?mixNumber$2(a,t,n):getMixer$1(a)(a,t)}function inertia({keyframes:a,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:f,restDelta:d=.5,restSpeed:g}){const y=a[0],S={done:!1,value:y},_=L=>c!==void 0&&L<c||f!==void 0&&L>f,x=L=>c===void 0?f:f===void 0||Math.abs(c-L)<Math.abs(f-L)?c:f;let b=n*t;const T=y+b,A=u===void 0?T:u(T);A!==T&&(b=A-y);const C=L=>-b*Math.exp(-L/o),E=L=>A+C(L),P=L=>{const $=C(L),O=E(L);S.done=Math.abs($)<=d,S.value=S.done?A:O};let M,I;const D=L=>{_(S.value)&&(M=L,I=spring({keyframes:[S.value,x(S.value)],velocity:calcGeneratorVelocity(E,L,S.value),damping:s,stiffness:l,restDelta:d,restSpeed:g}))};return D(0),{calculatedDuration:null,next:L=>{let $=!1;return!I&&M===void 0&&($=!0,P(L),D(L)),M!==void 0&&L>=M?I.next(L-M):(!$&&P(L),S)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=a=>{if(isBezierDefinition(a)){invariant(a.length===4);const[t,n,o,s]=a;return cubicBezier(t,n,o,s)}else if(typeof a=="string")return easingLookup[a];return a};function createMixers(a,t,n){const o=[],s=n||mix,l=a.length-1;for(let u=0;u<l;u++){let c=s(a[u],a[u+1]);if(t){const f=Array.isArray(t)?t[u]||noop$1:t;c=pipe(f,c)}o.push(c)}return o}function interpolate(a,t,{clamp:n=!0,ease:o,mixer:s}={}){const l=a.length;if(invariant(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const c=createMixers(t,o,s),f=c.length,d=g=>{if(u&&g<a[0])return t[0];let y=0;if(f>1)for(;y<a.length-2&&!(g<a[y+1]);y++);const S=progress$1(a[y],a[y+1],g);return c[y](S)};return n?g=>d(clamp$1(a[0],a[l-1],g)):d}function convertOffsetToTimes(a,t){return a.map(n=>n*t)}function defaultEasing(a,t){return a.map(()=>t||easeInOut).splice(0,a.length-1)}function keyframes({duration:a=300,keyframes:t,times:n,ease:o="easeInOut"}){const s=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),l={done:!1,value:t[0]},u=convertOffsetToTimes(n&&n.length===t.length?n:defaultOffset$1(t),a),c=interpolate(u,t,{ease:Array.isArray(s)?s:defaultEasing(t,s)});return{calculatedDuration:a,next:f=>(l.value=c(f),l.done=f>=a,l)}}const frameloopDriver=a=>{const t=({timestamp:n})=>a(n);return{start:()=>frame.update(t,!0),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=a=>a/100;class MainThreadAnimation extends BaseAnimation{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:o,element:s,keyframes:l}=this.options,u=(s==null?void 0:s.KeyframeResolver)||KeyframeResolver,c=(f,d)=>this.onKeyframesResolved(f,d);this.resolver=new u(l,c,n,o,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l,velocity:u=0}=this.options,c=isGenerator(n)?n:generators[n]||keyframes;let f,d;c!==keyframes&&typeof t[0]!="number"&&(f=pipe(percentToProgress,mix(t[0],t[1])),t=[0,100]);const g=c({...this.options,keyframes:t});l==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=calcGeneratorDuration(g));const{calculatedDuration:y}=g,S=y+s,_=S*(o+1)-s;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:S,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:o}=this;if(!o){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:s,generator:l,mirroredGenerator:u,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:d,totalDuration:g,resolvedDuration:y}=o;if(this.startTime===null)return l.next(0);const{delay:S,repeat:_,repeatType:x,repeatDelay:b,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const A=this.currentTime-S*(this.speed>=0?1:-1),C=this.speed>=0?A<0:A>g;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let E=this.currentTime,P=l;if(_){const L=Math.min(this.currentTime,g)/y;let $=Math.floor(L),O=L%1;!O&&L>=1&&(O=1),O===1&&$--,$=Math.min($,_+1),!!($%2)&&(x==="reverse"?(O=1-O,b&&(O-=b/y)):x==="mirror"&&(P=u)),E=clamp$1(0,1,O)*y}const M=C?{done:!1,value:f[0]}:P.next(E);c&&(M.value=c(M.value));let{done:I}=M;!C&&d!==null&&(I=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return D&&s!==void 0&&(M.value=getFinalKeyframe(f,this.options,s)),T&&T(M.value),D&&this.finish(),M}get duration(){const{resolved:t}=this;return t?millisecondsToSeconds$1(t.calculatedDuration):0}get time(){return millisecondsToSeconds$1(this.currentTime)}set time(t){t=secondsToMilliseconds$1(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=millisecondsToSeconds$1(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=frameloopDriver,onPlay:n,startTime:o}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(a,t,n,{delay:o=0,duration:s=300,repeat:l=0,repeatType:u="loop",ease:c="easeInOut",times:f}={}){const d={[t]:n};f&&(d.offset=f);const g=mapEasingToNativeEasing(c,s);return Array.isArray(g)&&(d.easing=g),a.animate(d,{delay:o,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(a){return isGenerator(a.type)||a.type==="spring"||!isWaapiSupportedEasing(a.ease)}function pregenerateKeyframes(a,t){const n=new MainThreadAnimation({...t,keyframes:a,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:a[0]};const s=[];let l=0;for(;!o.done&&l<maxDuration;)o=n.sample(l),s.push(o.value),l+=sampleDelta;return{times:void 0,keyframes:s,duration:l-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(a){return a in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(t){super(t);const{name:n,motionValue:o,element:s,keyframes:l}=this.options;this.resolver=new DOMKeyframesResolver(l,(u,c)=>this.onKeyframesResolved(u,c),n,o,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:o=300,times:s,ease:l,type:u,motionValue:c,name:f,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof l=="string"&&supportsLinearEasing()&&isUnsupportedEase(l)&&(l=unsupportedEasingFunctions[l]),requiresPregeneratedKeyframes(this.options)){const{onComplete:y,onUpdate:S,motionValue:_,element:x,...b}=this.options,T=pregenerateKeyframes(t,b);t=T.keyframes,t.length===1&&(t[1]=t[0]),o=T.duration,s=T.times,l=T.ease,u="keyframes"}const g=startWaapiAnimation(c.owner.current,f,t,{...this.options,duration:o,times:s,ease:l});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(attachTimeline(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(getFinalKeyframe(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:o,times:s,type:u,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return millisecondsToSeconds$1(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return millisecondsToSeconds$1(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.currentTime=secondsToMilliseconds$1(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return noop$1;const{animation:o}=n;attachTimeline(o,t)}return noop$1}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:o,duration:s,type:l,ease:u,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:y,element:S,..._}=this.options,x=new MainThreadAnimation({..._,keyframes:o,duration:s,type:l,ease:u,times:c,isGenerator:!0}),b=secondsToMilliseconds$1(this.time);d.setWithVelocity(x.sample(b-sampleDelta).value,x.sample(b).value,sampleDelta)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:o,repeatDelay:s,repeatType:l,damping:u,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=n.owner.getProps();return supportsWaapi()&&o&&acceleratedValues.has(o)&&!f&&!d&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(a,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(a)?a.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:a,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:s,repeat:l,repeatType:u,repeatDelay:c,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const animateMotionValue=(a,t,n,o={},s,l)=>u=>{const c=getValueTransition(o,a)||{},f=c.delay||o.delay||0;let{elapsed:d=0}=o;d=d-secondsToMilliseconds$1(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:S=>{t.set(S),c.onUpdate&&c.onUpdate(S)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:a,motionValue:t,element:l?void 0:s};isTransitionDefined(c)||(g={...g,...getDefaultTransition(a,g)}),g.duration&&(g.duration=secondsToMilliseconds$1(g.duration)),g.repeatDelay&&(g.repeatDelay=secondsToMilliseconds$1(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),g.allowFlatten=!c.type&&!c.ease,y&&!l&&t.get()!==void 0){const S=getFinalKeyframe(g.keyframes,c);if(S!==void 0)return frame.update(()=>{g.onUpdate(S),g.onComplete()}),new GroupPlaybackControls([])}return!l&&AcceleratedAnimation.supports(g)?new AcceleratedAnimation(g):new MainThreadAnimation(g)};function shouldBlockAnimation({protectedKeys:a,needsAnimating:t},n){const o=a.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function animateTarget(a,t,{delay:n=0,transitionOverride:o,type:s}={}){var l;let{transition:u=a.getDefaultTransition(),transitionEnd:c,...f}=t;o&&(u=o);const d=[],g=s&&a.animationState&&a.animationState.getState()[s];for(const y in f){const S=a.getValue(y,(l=a.latestValues[y])!==null&&l!==void 0?l:null),_=f[y];if(_===void 0||g&&shouldBlockAnimation(g,y))continue;const x={delay:n,...getValueTransition(u||{},y)};let b=!1;if(window.MotionHandoffAnimation){const A=getOptimisedAppearId(a);if(A){const C=window.MotionHandoffAnimation(A,y,frame);C!==null&&(x.startTime=C,b=!0)}}addValueToWillChange$1(a,y),S.start(animateMotionValue(y,S,_,a.shouldReduceMotion&&positionalKeys.has(y)?{type:!1}:x,a,b));const T=S.animation;T&&d.push(T)}return c&&Promise.all(d).then(()=>{frame.update(()=>{c&&setTarget(a,c)})}),d}function isSVGElement(a){return a instanceof SVGElement&&a.tagName!=="svg"}function isObjectKey(a,t){return a in t}class ObjectVisualElement extends VisualElement{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(isObjectKey(n,t)){const o=t[n];if(typeof o=="string"||typeof o=="number")return o}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return createBox$1()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function createDOMVisualElement(a){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=isSVGElement(a)?new SVGVisualElement(t):new HTMLVisualElement(t);n.mount(a),visualElementStore.set(a,n)}function createObjectVisualElement(a){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new ObjectVisualElement(t);n.mount(a),visualElementStore.set(a,n)}function animateSingleValue(a,t,n){const o=isMotionValue(a)?a:motionValue(a);return o.start(animateMotionValue("",o,t,n)),o.animation}function isSingleValue(a,t){return isMotionValue(a)||typeof a=="number"||typeof a=="string"&&!isDOMKeyframes(t)}function animateSubject(a,t,n,o){const s=[];if(isSingleValue(a,t))s.push(animateSingleValue(a,isDOMKeyframes(t)&&t.default||t,n&&(n.default||n)));else{const l=resolveSubjects(a,t,o),u=l.length;for(let c=0;c<u;c++){const f=l[c],d=f instanceof Element?createDOMVisualElement:createObjectVisualElement;visualElementStore.has(f)||d(f);const g=visualElementStore.get(f),y={...n};"delay"in y&&typeof y.delay=="function"&&(y.delay=y.delay(c,u)),s.push(...animateTarget(g,{...t,transition:y},{}))}}return s}function animateSequence(a,t,n){const o=[];return createAnimationsFromSequence(a,t,n,{spring}).forEach(({keyframes:l,transition:u},c)=>{o.push(...animateSubject(c,l,u))}),o}function isSequence(a){return Array.isArray(a)&&a.some(Array.isArray)}function createScopedAnimate(a){function t(n,o,s){let l=[];return isSequence(n)?l=animateSequence(n,o,a):l=animateSubject(n,o,s,a),new GroupPlaybackControls(l)}return t}const animate=createScopedAnimate(),STATE_TYPES=["initial","animate","whileInView","whileHover","whilePress","whileDrag","whileFocus","exit"];class AnimationFeature extends Feature{constructor(t){var n;super(t),this.animateUpdates=({controlActiveState:o,directAnimate:s,directTransition:l,controlDelay:u=0,isFallback:c,isExit:f}={})=>{const d=this.state.target;this.state.target={...this.state.baseTarget};let g={};const y={...this.state.options.transition};g=this.resolveStateAnimation({controlActiveState:o,directAnimate:s,directTransition:l});const S=this.createAnimationFactories(d,g,u),{getChildAnimations:_,childAnimations:x}=this.setupChildAnimations(g,this.state.activeStates,c);return this.executeAnimations({factories:S,getChildAnimations:_,childAnimations:x,transition:y,controlActiveState:o,isExit:f})},this.state.visualElement=createVisualElement(this.state.options.as,{presenceContext:null,parent:(n=this.state.parent)==null?void 0:n.visualElement,props:{...this.state.options,whileTap:this.state.options.whilePress},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{...this.state.baseTarget}},reducedMotionConfig:this.state.options.motionConfig.reduceMotion}),this.state.animateUpdates=this.animateUpdates,this.state.isMounted()&&this.state.startAnimation()}updateAnimationControlsSubscription(){const{animate:t}=this.state.options;isAnimationControls$1(t)&&(this.unmountControls=t.subscribe(this.state))}executeAnimations({factories:t,getChildAnimations:n,transition:o,controlActiveState:s,isExit:l=!1}){const u=()=>Promise.all(t.map(y=>y()).filter(Boolean)),c={...this.state.target},f=this.state.element,d=y=>{var S,_;f.dispatchEvent(motionEvent("motionstart",c)),(_=(S=this.state.options).onAnimationStart)==null||_.call(S,c),y.then(()=>{var x,b;f.dispatchEvent(motionEvent("motioncomplete",c,l)),(b=(x=this.state.options).onAnimationComplete)==null||b.call(x,c)}).catch(noop$1)},g=()=>{const y=o!=null&&o.when?(o.when==="beforeChildren"?u():n()).then(()=>o.when==="beforeChildren"?n():u()):Promise.all([u(),n()]);return d(y),y};return s?g:g()}setupChildAnimations(t,n,o){var s;if(!((s=this.state.visualElement.variantChildren)!=null&&s.size)||!n)return{getChildAnimations:()=>Promise.resolve(),childAnimations:[]};const{staggerChildren:l=0,staggerDirection:u=1,delayChildren:c=0}=t||{},f=(this.state.visualElement.variantChildren.size-1)*l,d=u===1?(y=0)=>y*l:(y=0)=>f-y*l,g=Array.from(this.state.visualElement.variantChildren).map((y,S)=>{const _=c+d(S);return y.state.animateUpdates({controlActiveState:n,controlDelay:o?0:_})}).filter(Boolean);return{getChildAnimations:()=>Promise.all(g.map(y=>y==null?void 0:y())),childAnimations:g}}createAnimationFactories(t,n,o){const s=[];return Object.keys(this.state.target).forEach(l=>{var u;if(!hasChanged(t[l],this.state.target[l]))return;(u=this.state.baseTarget)[l]??(u[l]=style.get(this.state.element,l));const c=this.state.target[l]==="none"&&isDef(transformResetValue[l])?transformResetValue[l]:this.state.target[l];s.push(()=>{var f;return animate(this.state.element,{[l]:c},{...(n==null?void 0:n[l])||n,delay:(((f=n==null?void 0:n[l])==null?void 0:f.delay)||(n==null?void 0:n.delay)||0)+o})})}),s}resolveStateAnimation({controlActiveState:t,directAnimate:n,directTransition:o}){let s=this.state.options.transition,l={};const{variants:u,custom:c,transition:f,animatePresenceContext:d}=this.state.options,g=isDef(c)?c:d==null?void 0:d.custom;return this.state.activeStates={...this.state.activeStates,...t},STATE_TYPES.forEach(y=>{if(!this.state.activeStates[y]||isAnimationControls$1(this.state.options[y]))return;const S=this.state.options[y];let _=isDef(S)?resolveVariant$1(S,u,g):void 0;if(this.state.visualElement.isVariantNode){const x=resolveVariant$1(this.state.context[y],u,g);_=x?Object.assign(x||{},_):l}_&&(y!=="initial"&&(s=_.transition||this.state.options.transition||{}),l=Object.assign(l,_))}),n&&(l=resolveVariant$1(n,u,g),s=l.transition||o||f),Object.entries(l).forEach(([y,S])=>{y!=="transition"&&(this.state.target[y]=S)}),s}mount(){const{element:t}=this.state;mountedStates.set(t,this.state),visualElementStore.get(t)||(this.state.visualElement.mount(t),visualElementStore.set(t,this.state.visualElement)),this.state.visualElement.state=this.state,this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.state.options,{animate:n}=this.state.visualElement.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;(t=this.unmountControls)==null||t.call(this)}}const isDragging={y:!1};function isDragActive(){return isDragging.y}function capturePointer(a,t){const n=`${t}PointerCapture`;if(a.target instanceof Element&&n in a.target&&a.pointerId!==void 0)try{a.target[n](a.pointerId)}catch{}}const isNodeOrChild=(a,t)=>t?a===t?!0:isNodeOrChild(a,t.parentElement):!1,isPrimaryPointer$1=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function setupGesture(a,t){const n=resolveElements(a),o=new AbortController,s={passive:!0,...t,signal:o.signal};return[n,s,()=>o.abort()]}const focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(a){return focusableElements.has(a.tagName)||a.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(a){return t=>{t.key==="Enter"&&a(t)}}function firePointerEvent(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(a,t)=>{const n=a.currentTarget;if(!n)return;const o=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const s=filterEvents(()=>{firePointerEvent(n,"up")}),l=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function isValidPressEvent(a){return isPrimaryPointer$1(a)&&!0}function press(a,t,n={}){const[o,s,l]=setupGesture(a,n),u=c=>{const f=c.currentTarget;if(!f||!isValidPressEvent(c)||isPressing.has(f))return;isPressing.add(f),capturePointer(c,"set");const d=t(f,c),g=(_,x)=>{f.removeEventListener("pointerup",y),f.removeEventListener("pointercancel",S),capturePointer(_,"release"),!(!isValidPressEvent(_)||!isPressing.has(f))&&(isPressing.delete(f),typeof d=="function"&&d(_,{success:x}))},y=_=>{(_.isTrusted?checkOutside(_,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(_,!1):g(_,!(f instanceof Element)||isNodeOrChild(f,_.target))},S=_=>{g(_,!1)};f.addEventListener("pointerup",y,s),f.addEventListener("pointercancel",S,s),f.addEventListener("lostpointercapture",S,s)};return o.forEach(c=>{c=n.useGlobalTarget?window:c;let f=!1;c instanceof HTMLElement&&(f=!0,!isElementKeyboardAccessible(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",u,s),f&&c.addEventListener("focus",d=>enableKeyboardPress(d,s),s)}),l}function checkOutside(a,t){return a.clientX<t.left||a.clientX>t.right||a.clientY<t.top||a.clientY>t.bottom}function extractEventInfo$1(a){return{point:{x:a.pageX,y:a.pageY}}}function handlePressEvent(a,t,n){const o=a.options;o.whilePress&&a.setActive("whilePress",n==="Start");const s=`onPress${n==="End"?"":n}`,l=o[s];l&&frame.postRender(()=>l(t,extractEventInfo$1(t)))}class PressGesture extends Feature{isActive(){const{whilePress:t,onPress:n,onPressCancel:o,onPressStart:s}=this.state.options;return!!(t||n||o||s)}constructor(t){super(t)}mount(){this.register()}update(){const{whilePress:t,onPress:n,onPressCancel:o,onPressStart:s}=this.state.options;t||n||o||s||this.register()}register(){const t=this.state.element;!t||!this.isActive()||(this.unmount(),this.unmount=press(t,(n,o)=>(handlePressEvent(this.state,o,"Start"),(s,{success:l})=>handlePressEvent(this.state,s,l?"End":"Cancel")),{useGlobalTarget:this.state.options.globalPressTarget}))}}function isValidHover(a){return!(a.pointerType==="touch"||isDragActive())}function hover(a,t,n={}){const[o,s,l]=setupGesture(a,n),u=c=>{if(!isValidHover(c))return;const{target:f}=c,d=t(f,c);if(typeof d!="function"||!f)return;const g=y=>{isValidHover(y)&&(d(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return o.forEach(c=>{c.addEventListener("pointerenter",u,s)}),l}function handleHoverEvent$1(a,t,n){const o=a.options;o.whileHover&&a.setActive("whileHover",n==="Start");const s=`onHover${n}`,l=o[s];l&&frame.postRender(()=>l(t,extractEventInfo$1(t)))}class HoverGesture extends Feature{isActive(){const{whileHover:t,onHoverStart:n,onHoverEnd:o}=this.state.options;return!!(t||n||o)}constructor(t){super(t)}mount(){this.register()}update(){const{whileHover:t,onHoverStart:n,onHoverEnd:o}=this.state.visualElement.prevProps;t||n||o||this.register()}register(){const t=this.state.element;!t||!this.isActive()||(this.unmount(),this.unmount=hover(t,(n,o)=>(handleHoverEvent$1(this.state,o,"Start"),s=>{handleHoverEvent$1(this.state,s,"End")})))}}const thresholds={some:0,all:1};function inView(a,t,{root:n,margin:o,amount:s="some"}={}){const l=resolveElements(a),u=new WeakMap,c=d=>{d.forEach(g=>{const y=u.get(g.target);if(g.isIntersecting!==!!y)if(g.isIntersecting){const S=t(g.target,g);typeof S=="function"?u.set(g.target,S):f.unobserve(g.target)}else typeof y=="function"&&(y(g),u.delete(g.target))})},f=new IntersectionObserver(c,{root:n,rootMargin:o,threshold:typeof s=="number"?s:thresholds[s]});return l.forEach(d=>f.observe(d)),()=>f.disconnect()}function handleHoverEvent(a,t,n){const o=a.options;o.whileInView&&a.setActive("whileInView",n==="Enter");const s=`onViewport${n}`,l=o[s];l&&frame.postRender(()=>l(t))}class InViewGesture extends Feature{isActive(){return!!this.state.options.whileInView}constructor(t){super(t)}startObserver(){const t=this.state.element;if(!t||!this.isActive())return;this.unmount();const{once:n,...o}=this.state.options.inViewOptions||{};this.unmount=inView(t,(s,l)=>{if(handleHoverEvent(this.state,l,"Enter"),!n)return u=>{handleHoverEvent(this.state,l,"Leave")}},o)}mount(){this.startObserver()}update(){const{props:t,prevProps:n}=this.state.visualElement;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}}function hasViewportOptionChanged({inViewOptions:a={}},{inViewOptions:t={}}={}){return n=>a[n]!==t[n]}function addDomEvent$1(a,t,n,o={passive:!0}){return a.addEventListener(t,n,o),()=>a.removeEventListener(t,n)}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.state.element.matches(":focus-visible")}catch{t=!0}t&&(this.state.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&(this.state.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent$1(this.state.element,"focus",()=>this.onFocus()),addDomEvent$1(this.state.element,"blur",()=>this.onBlur()))}}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),compareByDepth=(a,t)=>a.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(a,t){const n=time.now(),o=({timestamp:s})=>{const l=s-n;l>=t&&(cancelFrame(o),a(l-t))};return frame.read(o,!0),()=>cancelFrame(o)}function resolveMotionValue(a){const t=isMotionValue(a)?a.get():a;return isCustomValue(t)?t.toValue():t}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=a=>typeof a=="string"?parseFloat(a):a,isPx=a=>typeof a=="number"||px.test(a);function mixValues(a,t,n,o,s,l){s?(a.opacity=mixNumber$2(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(o)),a.opacityExit=mixNumber$2(t.opacity!==void 0?t.opacity:1,0,easeCrossfadeOut(o))):l&&(a.opacity=mixNumber$2(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let u=0;u<numBorders;u++){const c=`border${borders[u]}Radius`;let f=getRadius(t,c),d=getRadius(n,c);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||isPx(f)===isPx(d)?(a[c]=Math.max(mixNumber$2(asNumber(f),asNumber(d),o),0),(percent.test(d)||percent.test(f))&&(a[c]+="%")):a[c]=d}(t.rotate||n.rotate)&&(a.rotate=mixNumber$2(t.rotate||0,n.rotate||0,o))}function getRadius(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(a,t,n){return o=>o<a?0:o>t?1:n(progress$1(a,t,o))}function copyAxisInto(a,t){a.min=t.min,a.max=t.max}function copyBoxInto(a,t){copyAxisInto(a.x,t.x),copyAxisInto(a.y,t.y)}function copyAxisDeltaInto(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function isIdentityScale(a){return a===void 0||a===1}function hasScale({scale:a,scaleX:t,scaleY:n}){return!isIdentityScale(a)||!isIdentityScale(t)||!isIdentityScale(n)}function hasTransform(a){return hasScale(a)||has2DTranslate(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function has2DTranslate(a){return is2DTranslate(a.x)||is2DTranslate(a.y)}function is2DTranslate(a){return a&&a!=="0%"}function scalePoint(a,t,n){const o=a-n,s=t*o;return n+s}function applyPointDelta(a,t,n,o,s){return s!==void 0&&(a=scalePoint(a,s,o)),scalePoint(a,n,o)+t}function applyAxisDelta(a,t=0,n=1,o,s){a.min=applyPointDelta(a.min,t,n,o,s),a.max=applyPointDelta(a.max,t,n,o,s)}function applyBoxDelta(a,{x:t,y:n}){applyAxisDelta(a.x,t.translate,t.scale,t.originPoint),applyAxisDelta(a.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(a,t,n,o=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,u;for(let c=0;c<s;c++){l=n[c],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&transformBox(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,applyBoxDelta(a,u)),o&&hasTransform(l.latestValues)&&transformBox(a,l.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis$1(a,t){a.min=a.min+t,a.max=a.max+t}function transformAxis(a,t,n,o,s=.5){const l=mixNumber$2(a.min,a.max,s);applyAxisDelta(a,t,n,l,o)}function transformBox(a,t){transformAxis(a.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(a.y,t.y,t.scaleY,t.scale,t.originY)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength$1(a){return a.max-a.min}function isNear(a,t,n){return Math.abs(a-t)<=n}function calcAxisDelta(a,t,n,o=.5){a.origin=o,a.originPoint=mixNumber$2(t.min,t.max,a.origin),a.scale=calcLength$1(n)/calcLength$1(t),a.translate=mixNumber$2(n.min,n.max,a.origin)-a.originPoint,(a.scale>=SCALE_MIN&&a.scale<=SCALE_MAX||isNaN(a.scale))&&(a.scale=1),(a.translate>=TRANSLATE_MIN&&a.translate<=TRANSLATE_MAX||isNaN(a.translate))&&(a.translate=0)}function calcBoxDelta(a,t,n,o){calcAxisDelta(a.x,t.x,n.x,o?o.originX:void 0),calcAxisDelta(a.y,t.y,n.y,o?o.originY:void 0)}function calcRelativeAxis(a,t,n){a.min=n.min+t.min,a.max=a.min+calcLength$1(t)}function calcRelativeBox(a,t,n){calcRelativeAxis(a.x,t.x,n.x),calcRelativeAxis(a.y,t.y,n.y)}function calcRelativeAxisPosition(a,t,n){a.min=t.min-n.min,a.max=a.min+calcLength$1(t)}function calcRelativePosition(a,t,n){calcRelativeAxisPosition(a.x,t.x,n.x),calcRelativeAxisPosition(a.y,t.y,n.y)}function removePointDelta(a,t,n,o,s){return a-=t,a=scalePoint(a,1/n,o),s!==void 0&&(a=scalePoint(a,1/s,o)),a}function removeAxisDelta(a,t=0,n=1,o=.5,s,l=a,u=a){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$2(u.min,u.max,t/100)-u.min),typeof t!="number")return;let c=mixNumber$2(l.min,l.max,o);a===l&&(c-=t),a.min=removePointDelta(a.min,t,n,c,s),a.max=removePointDelta(a.max,t,n,c,s)}function removeAxisTransforms(a,t,[n,o,s],l,u){removeAxisDelta(a,t[n],t[o],t[s],t.scale,l,u)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(a,t,n,o){removeAxisTransforms(a.x,t,xKeys,n?n.x:void 0,o?o.x:void 0),removeAxisTransforms(a.y,t,yKeys,n?n.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(a){return a.translate===0&&a.scale===1}function isDeltaZero(a){return isAxisDeltaZero(a.x)&&isAxisDeltaZero(a.y)}function axisEquals(a,t){return a.min===t.min&&a.max===t.max}function boxEquals(a,t){return axisEquals(a.x,t.x)&&axisEquals(a.y,t.y)}function axisEqualsRounded(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function boxEqualsRounded(a,t){return axisEqualsRounded(a.x,t.x)&&axisEqualsRounded(a.y,t.y)}function aspectRatio(a){return calcLength$1(a.x)/calcLength$1(a.y)}function axisDeltaEquals(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let o;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){o=l;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(a,t,n){let o="";const s=a.x.translate/t.x,l=a.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((s||l||u)&&(o=`translate3d(${s}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:y,rotateY:S,skewX:_,skewY:x}=n;d&&(o=`perspective(${d}px) ${o}`),g&&(o+=`rotate(${g}deg) `),y&&(o+=`rotateX(${y}deg) `),S&&(o+=`rotateY(${S}deg) `),_&&(o+=`skewX(${_}deg) `),x&&(o+=`skewY(${x}deg) `)}const c=a.x.scale*t.x,f=a.y.scale*t.y;return(c!==1||f!==1)&&(o+=`scale(${c}, ${f})`),o||"none"}function eachAxis$1(a){return[a("x"),a("y")]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1},transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(a,t,n,o){const{latestValues:s}=t;s[a]&&(n[a]=s[a],t.setStaticValue(a,0),o&&(o[a]=0))}function cancelTreeOptimisedTransformAnimations(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const n=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(s||l))}const{parent:o}=a;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:a,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:s}){return class{constructor(u={},c=t==null?void 0:t()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new SubscriptionManager),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const f=this.eventHandlers.get(u);f&&f.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(u),this.instance=u;const{layoutId:f,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||f)&&(this.isLayoutDirty=!0),a){let y;const S=()=>this.root.updateBlockedByResize=!1;a(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=delay(S,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:S,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||g.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:T,onLayoutAnimationComplete:A}=g.getProps(),C=!this.targetLayout||!boxEqualsRounded(this.targetLayout,x),E=!S&&_;if(this.options.layoutRoot||this.resumeFrom||E||S&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,E);const P={...getValueTransition(b,"layout"),onPlay:T,onComplete:A};(g.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else S||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const c=time.now();frameData.delta=clamp$1(0,1e3/60,c-frameData.timestamp),frameData.timestamp=c,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength$1(this.snapshot.measuredBox.x)&&!calcLength$1(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox$1(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!isDeltaZero(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&(c||hasTransform(this.latestValues)||g)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return u&&(f=this.removeTransform(f)),roundBox(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:c}=this.options;if(!c)return createBox$1();const f=c.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:g}=this.root;g&&(translateAxis$1(f.x,g.offset.x),translateAxis$1(f.y,g.offset.y))}return f}removeElementScroll(u){var c;const f=createBox$1();if(copyBoxInto(f,u),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:y,options:S}=g;g!==this.root&&y&&S.layoutScroll&&(y.wasRoot&&copyBoxInto(f,u),translateAxis$1(f.x,y.offset.x),translateAxis$1(f.y,y.offset.y))}return f}applyTransform(u,c=!1){const f=createBox$1();copyBoxInto(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),hasTransform(g.latestValues)&&transformBox(f,g.latestValues)}return hasTransform(this.latestValues)&&transformBox(f,this.latestValues),f}removeTransform(u){const c=createBox$1();copyBoxInto(c,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!hasTransform(d.latestValues))continue;hasScale(d.latestValues)&&d.updateSnapshot();const g=createBox$1(),y=d.measurePageBox();copyBoxInto(g,y),removeBoxTransforms(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return hasTransform(this.latestValues)&&removeBoxTransforms(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:S}=this.options;if(!(!this.layout||!(y||S))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox$1(),this.targetWithTransforms=createBox$1()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition(this.relativeTargetOrigin,this.target,_.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(d=!1),d)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,_=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=createBox$1());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==_||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(u,c=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},y=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const S=createBox$1(),_=f?f.source:void 0,x=this.layout?this.layout.source:void 0,b=_!==x,T=this.getStack(),A=!T||T.members.length<=1,C=!!(b&&!A&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const M=P/1e3;mixAxisDelta(y.x,u.x,M),mixAxisDelta(y.y,u.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,S,M),E&&boxEquals(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=createBox$1()),copyBoxInto(E,this.relativeTarget)),b&&(this.animationValues=g,mixValues(g,d,this.latestValues,M,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...u,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:f,layout:d,latestValues:g}=u;if(!(!c||!f||!d)){if(this!==u&&this.layout&&d&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||createBox$1();const y=calcLength$1(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const S=calcLength$1(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+S}copyBoxInto(c,f),transformBox(c,g),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new NodeStack),this.sharedNodes.get(u).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const d={};f.z&&resetDistortingTransform("z",u,d,this.animationValues);for(let g=0;g<transformAxes.length;g++)resetDistortingTransform(`rotate${transformAxes[g]}`,u,d,this.animationValues),resetDistortingTransform(`skew${transformAxes[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}getProjectionStyles(u){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=resolveMotionValue(u==null?void 0:u.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=resolveMotionValue(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(b.transform=g?g({},""):"none",this.hasProjected=!1),b}const S=y.animationValues||y.latestValues;this.applyTransformsToTarget(),d.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,S),g&&(d.transform=g(S,d.transform));const{x:_,y:x}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,y.animationValues?d.opacity=y===this?(f=(c=S.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:d.opacity=y===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const b in scaleCorrectors){if(S[b]===void 0)continue;const{correct:T,applyTo:A,isCSSVariable:C}=scaleCorrectors[b],E=d.transform==="none"?S[b]:T(S[b],y);if(A){const P=A.length;for(let M=0;M<P;M++)d[A[M]]=E}else C?this.options.visualElement.renderState.vars[b]=E:d[b]=E}return this.options.layoutId&&(d.pointerEvents=y===this?resolveMotionValue(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(a){a.updateLayout()}function notifyLayoutUpdate(a){var t;const n=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&n&&a.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:s}=a.layout,{animationType:l}=a.options,u=n.source!==a.layout.source;l==="size"?eachAxis$1(y=>{const S=u?n.measuredBox[y]:n.layoutBox[y],_=calcLength$1(S);S.min=o[y].min,S.max=S.min+_}):shouldAnimatePositionOnly(l,n.layoutBox,o)&&eachAxis$1(y=>{const S=u?n.measuredBox[y]:n.layoutBox[y],_=calcLength$1(o[y]);S.max=S.min+_,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[y].max=a.relativeTarget[y].min+_)});const c=createDelta();calcBoxDelta(c,o,n.layoutBox);const f=createDelta();u?calcBoxDelta(f,a.applyTransform(s,!0),n.measuredBox):calcBoxDelta(f,o,n.layoutBox);const d=!isDeltaZero(c);let g=!1;if(!a.resumeFrom){const y=a.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:S,layout:_}=y;if(S&&_){const x=createBox$1();calcRelativePosition(x,n.layoutBox,S.layoutBox);const b=createBox$1();calcRelativePosition(b,o,_.layoutBox),boxEqualsRounded(x,b)||(g=!0),y.options.layoutRoot&&(a.relativeTarget=b,a.relativeTargetOrigin=x,a.relativeParent=y)}}}a.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:o}=a.options;o&&o()}a.options.transition=void 0}function propagateDirtyNodes(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function cleanDirtyNodes(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function clearSnapshot(a){a.clearSnapshot()}function clearMeasurements(a){a.clearMeasurements()}function clearIsLayoutDirty(a){a.isLayoutDirty=!1}function resetTransformStyle(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function finishAnimation(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function resolveTargetDelta(a){a.resolveTargetDelta()}function calcProjection(a){a.calcProjection()}function resetSkewAndRotation(a){a.resetSkewAndRotation()}function removeLeadSnapshots(a){a.removeLeadSnapshot()}function mixAxisDelta(a,t,n){a.translate=mixNumber$2(t.translate,0,n),a.scale=mixNumber$2(t.scale,1,n),a.origin=t.origin,a.originPoint=t.originPoint}function mixAxis(a,t,n,o){a.min=mixNumber$2(t.min,n.min,o),a.max=mixNumber$2(t.max,n.max,o)}function mixBox(a,t,n,o){mixAxis(a.x,t.x,n.x,o),mixAxis(a.y,t.y,n.y,o)}function hasOpacityCrossfade(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(a){a.min=roundPoint(a.min),a.max=roundPoint(a.max)}function roundBox(a){roundAxis(a.x),roundAxis(a.y)}function shouldAnimatePositionOnly(a,t,n){return a==="position"||a==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(n),.2)}function checkNodeWasScrollRoot(a){var t;return a!==a.root&&((t=a.scroll)===null||t===void 0?void 0:t.wasRoot)}function addDomEvent(a,t,n,o={passive:!0}){return a.addEventListener(t,n,o),()=>a.removeEventListener(t,n)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(a,t)=>addDomEvent(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const a=new DocumentProjectionNode({});a.mount(window),a.setOptions({layoutScroll:!0}),rootProjectionNode.current=a}return rootProjectionNode.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"});function getClosestProjectingNode(a){if(a)return a.options.allowProjection!==!1?a.projection:getClosestProjectingNode(a.parent)}function pixelsToPercent(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const correctBorderRadius={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(px.test(a))a=parseFloat(a);else return a;const n=pixelsToPercent(a,t.target.x),o=pixelsToPercent(a,t.target.y);return`${n}% ${o}%`}},correctBoxShadow={correct:(a,{treeScale:t,projectionDelta:n})=>{const o=a,s=complex.parse(a);if(s.length>5)return o;const l=complex.createTransformer(a),u=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,f=n.y.scale*t.y;s[0+u]/=c,s[1+u]/=f;const d=mixNumber$2(c,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=d),typeof s[3+u]=="number"&&(s[3+u]/=d),l(s)}},defaultScaleCorrector={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function isHTMLElement(a){return typeof a=="object"&&a!==null&&"nodeType"in a}class ProjectionFeature extends Feature{constructor(t){super(t),addScaleCorrector(defaultScaleCorrector)}initProjection(){const t=this.state.options;this.state.visualElement.projection=new HTMLProjectionNode(this.state.visualElement.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(this.state.visualElement.parent)),this.state.visualElement.projection.isPresent=!0,this.setOptions()}beforeMount(){this.initProjection()}setOptions(){const t=this.state.options;this.state.visualElement.projection.setOptions({layout:t.layout,layoutId:t.layoutId,alwaysMeasureLayout:!!t.drag||t.dragConstraints&&isHTMLElement(t.dragConstraints),visualElement:this.state.visualElement,animationType:typeof t.layout=="string"?t.layout:"both",layoutRoot:t.layoutRoot,layoutScroll:t.layoutScroll,crossfade:t.crossfade,onExitComplete:()=>{var n;if(!((n=this.state.visualElement.projection)!=null&&n.isPresent)){const o=doneCallbacks.get(this.state.element);this.state.isSafeToRemove=!0,o&&o({detail:{isExit:!0}},!0)}}})}update(){this.setOptions()}mount(){var t;(t=this.state.visualElement.projection)==null||t.mount(this.state.element)}}function isPrimaryPointer(a){return a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1}function extractEventInfo(a,t="page"){return{point:{x:a[`${t}X`],y:a[`${t}Y`]}}}function addPointerInfo(a){return t=>isPrimaryPointer(t)&&a(t,extractEventInfo(t))}function addPointerEvent(a,t,n,o){return addDomEvent$1(a,t,addPointerInfo(n),o)}function createLock(a){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=a,n):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(a){let t=!1;if(a==="y")t=globalVerticalLock();else if(a==="x")t=globalHorizontalLock();else{const n=globalHorizontalLock(),o=globalVerticalLock();n&&o?t=()=>{n(),o()}:(n&&n(),o&&o())}return t}function calcLength(a){return a.max-a.min}function clamp(a,t,n){return n>t?t:n<a?a:n}function mixNumber(a,t,n){return a+(t-a)*n}function progress(a,t,n){const o=t-a;return o===0?1:(n-a)/o}function applyConstraints(a,{min:t,max:n},o){return t!==void 0&&a<t?a=o?mixNumber(t,a,o.min):Math.max(a,t):n!==void 0&&a>n&&(a=o?mixNumber(n,a,o.max):Math.min(a,n)),a}const defaultElastic=.35;function calcRelativeConstraints(a,{top:t,left:n,bottom:o,right:s}){return{x:calcRelativeAxisConstraints(a.x,n,s),y:calcRelativeAxisConstraints(a.y,t,o)}}function calcRelativeAxisConstraints(a,t,n){return{min:t!==void 0?a.min+t:void 0,max:n!==void 0?a.max+n-(a.max-a.min):void 0}}function resolveDragElastic(a=defaultElastic){return a===!1?a=0:a===!0&&(a=defaultElastic),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}}function resolveAxisElastic(a,t,n){return{min:resolvePointElastic(a,t),max:resolvePointElastic(a,n)}}function resolvePointElastic(a,t){return typeof a=="number"?a:a[t]||0}function rebaseAxisConstraints(a,t){const n={};return t.min!==void 0&&(n.min=t.min-a.min),t.max!==void 0&&(n.max=t.max-a.min),n}function calcViewportConstraints(a,t){return{x:calcViewportAxisConstraints(a.x,t.x),y:calcViewportAxisConstraints(a.y,t.y)}}function calcViewportAxisConstraints(a,t){let n=t.min-a.min,o=t.max-a.max;return t.max-t.min<a.max-a.min&&([n,o]=[o,n]),{min:n,max:o}}function calcOrigin(a,t){let n=.5;const o=calcLength(a),s=calcLength(t);return s>o?n=progress(t.min,t.max-o,a.min):o>s&&(n=progress(a.min,a.max-s,t.min)),clamp(0,1,n)}const distance=(a,t)=>Math.abs(a-t);function distance2D(a,t){const n=distance(a.x,t.x),o=distance(a.y,t.y);return Math.sqrt(n**2+o**2)}const secondsToMilliseconds=a=>a*1e3;function millisecondsToSeconds(a){return a/1e3}class PanSession{constructor(t,n,{transformPagePoint:o,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=getPanInfo(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=distance2D(y.offset,{x:0,y:0})>=3;if(!S&&!_)return;const{point:x}=y,{timestamp:b}=frameData;this.history.push({...x,timestamp:b});const{onStart:T,onMove:A}=this.handlers;S||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,S)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=transformPoint(S,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(y,S)=>{this.end();const{onEnd:_,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=getPanInfo(y.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,T),x&&x(y,T)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=o,this.contextWindow=s||window;const u=extractEventInfo(t),c=transformPoint(u,this.transformPagePoint),{point:f}=c,{timestamp:d}=frameData;this.history=[{...f,timestamp:d}];const{onSessionStart:g}=n;g&&g(t,getPanInfo(c,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(a,t){return t?{point:t(a.point)}:a}function subtractPoint(a,t){return{x:a.x-t.x,y:a.y-t.y}}function getPanInfo({point:a},t){return{point:a,delta:subtractPoint(a,lastDevicePoint(t)),offset:subtractPoint(a,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(a){return a[0]}function lastDevicePoint(a){return a[a.length-1]}function getVelocity(a,t){if(a.length<2)return{x:0,y:0};let n=a.length-1,o=null;const s=lastDevicePoint(a);for(;n>=0&&(o=a[n],!(s.timestamp-o.timestamp>secondsToMilliseconds(t)));)n--;if(!o)return{x:0,y:0};const l=millisecondsToSeconds(s.timestamp-o.timestamp);if(l===0)return{x:0,y:0};const u={x:(s.x-o.x)/l,y:(s.y-o.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const createAxis=()=>({min:0,max:0});function createBox(){return{x:createAxis(),y:createAxis()}}function eachAxis(a){return[a("x"),a("y")]}function isWillChangeMotionValue(a){return!!(isMotionValue$1(a)&&a.add)}function addValueToWillChange(a,t){const n=a.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(t)}function convertBoundingBoxToBox({top:a,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:a,max:o}}}function transformBoxPoints(a,t){if(!t)return a;const n=t({x:a.left,y:a.top}),o=t({x:a.right,y:a.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function convertBoxToBoundingBox({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function translateAxis(a,t){a.min=a.min+t,a.max=a.max+t}function measureViewportBox(a,t){return convertBoundingBoxToBox(transformBoxPoints(a.getBoundingClientRect(),t))}function measurePageBox(a,t,n){const o=measureViewportBox(a,n),{scroll:s}=t;return s&&(translateAxis(o.x,s.offset.x),translateAxis(o.y,s.offset.y)),o}function isPresent(a){return!doneCallbacks.has(a.current)}function getContextWindow({current:a}){return a?a.ownerDocument.defaultView:null}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(!isPresent(this.visualElement))return;const o=d=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(d,"page").point)},s=(d,g)=>{const{drag:y,dragPropagation:S,onDragStart:_}=this.getProps();if(y&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(b=>{let T=this.getAxisMotionValue(b).get()||0;if(percent$1.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const C=A.layout.layoutBox[b];C&&(T=calcLength(C)*(parseFloat(T)/100))}}this.originPoint[b]=T}),_&&frame.postRender(()=>_(d,g)),addValueToWillChange(this.visualElement,"transform"),this.visualElement.state.setActive("whileDrag",!0)},l=(d,g)=>{const{dragPropagation:y,dragDirectionLock:S,onDirectionLock:_,onDrag:x}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:b}=g;if(S&&this.currentDirection===null){this.currentDirection=getCurrentDirection(b),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),x&&x(d,g)},u=(d,g)=>this.stop(d,g),c=()=>eachAxis(d=>{var g;return this.getAnimationState(d)==="paused"&&((g=this.getAxisMotionValue(d).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:o,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&frame.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),this.visualElement.state.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:s}=this.getProps();if(!o||!shouldDrag(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(u=applyConstraints(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:o}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)==null?void 0:t.layout,l=this.constraints;n&&isHTMLElement(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=calcRelativeConstraints(s.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(o),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rebaseAxisConstraints(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isHTMLElement(t))return!1;const o=t,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=measurePageBox(o,s.root,this.visualElement.getTransformPagePoint());let u=calcViewportConstraints(s.layout.layoutBox,l);if(n){const c=n(convertBoxToBoundingBox(u));this.hasMutatedConstraints=!!c,c&&(u=convertBoundingBoxToBox(c))}return u}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:s,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},d=eachAxis(g=>{if(!shouldDrag(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const S=s?200:1e6,_=s?40:1e7,x={type:"inertia",velocity:o?t[g]:0,bounceStiffness:S,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),o.start(animateMotionValue(t,o,0,n,this.visualElement,!1))}stopAnimation(){isPresent(this.visualElement)&&eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps();return o[n]||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:o}=this.getProps();if(!shouldDrag(n,o,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:c}=s.layout.layoutBox[n];l.set(t[n]-mixNumber(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!isHTMLElement(n)||!o||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};eachAxis(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const f=c.get();s[u]=calcOrigin({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(u=>{if(!shouldDrag(u,t,null))return;const c=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];c.set(mixNumber(f,d,s[u]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,n=addPointerEvent(t,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();isHTMLElement(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",o);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),frame.read(o);const u=addDomEvent$1(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(eachAxis(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:u=defaultElastic,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:s,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function shouldDrag(a,t,n){return(t===!0||t===a)&&(n===null||n===a)}function getCurrentDirection(a,t=10){let n=null;return Math.abs(a.y)>t?n="y":Math.abs(a.x)>t&&(n="x"),n}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(t.visualElement)}mount(){const{dragControls:t}=this.state.options;t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}class LayoutFeature extends Feature{constructor(t){super(t),addScaleCorrector(defaultScaleCorrector)}beforeUpdate(){this.state.willUpdate("beforeUpdate")}update(){this.didUpdate()}didUpdate(){var t,n;(this.state.options.layout||this.state.options.layoutId||this.state.options.drag)&&((n=(t=this.state.visualElement.projection)==null?void 0:t.root)==null||n.didUpdate())}mount(){var t;const n=this.state.options,o=this.state.options.layoutGroup;if(n.layout||n.layoutId){const s=this.state.visualElement.projection;s&&(s.promote(),(t=o==null?void 0:o.group)==null||t.add(s)),globalProjectionState.hasEverUpdated=!0}this.didUpdate()}beforeUnmount(){const t=this.state.visualElement.projection;t&&(this.state.willUpdate("beforeUnmount"),this.state.options.layoutId?(t.isPresent=!1,t.relegate()):this.state.options.layout&&(this.state.isSafeToRemove=!0))}unmount(){const t=this.state.options.layoutGroup,n=this.state.visualElement.projection;n&&(t!=null&&t.group&&t.group.remove(n),this.didUpdate())}}function asyncHandler(a){return(t,n)=>{a&&frame.postRender(()=>a(t,n))}}class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.state.visualElement.getTransformPagePoint(),contextWindow:getContextWindow(this.state.visualElement)})}createPanHandlers(){return{onSessionStart:asyncHandler((t,n)=>{const{onPanSessionStart:o}=this.state.options;o&&o(t,n)}),onStart:asyncHandler((t,n)=>{const{onPanStart:o}=this.state.options;o&&o(t,n)}),onMove:(t,n)=>{const{onPan:o}=this.state.options;o&&o(t,n)},onEnd:(t,n)=>{const{onPanEnd:o}=this.state.options;delete this.session,o&&frame.postRender(()=>o(t,n))}}}mount(){this.removePointerDownListener=addPointerEvent(this.state.element,"pointerdown",this.onPointerDown.bind(this))}update(){}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const domMax=[AnimationFeature,PressGesture,HoverGesture,InViewGesture,FocusGesture,ProjectionFeature,PanGesture,DragGesture,LayoutFeature],defaultConfig={reduceMotion:"never",transition:void 0,nonce:void 0},[injectMotionConfig,provideMotionConfig]=createContext("MotionConfig");function useMotionConfig(){return injectMotionConfig(computed(()=>defaultConfig))}function observeTimeline(a,t){let n;const o=()=>{const{currentTime:s}=t,u=(s===null?0:s.value)/100;n!==u&&a(u),n=u};return frame.update(o,!0),()=>cancelFrame(o)}const resizeHandlers=new WeakMap;let observer;function getElementSize(a,t){if(t){const{inlineSize:n,blockSize:o}=t[0];return{width:n,height:o}}else return a instanceof SVGElement&&"getBBox"in a?a.getBBox():{width:a.offsetWidth,height:a.offsetHeight}}function notifyTarget({target:a,contentRect:t,borderBoxSize:n}){var o;(o=resizeHandlers.get(a))===null||o===void 0||o.forEach(s=>{s({target:a,contentSize:t,get size(){return getElementSize(a,n)}})})}function notifyAll(a){a.forEach(notifyTarget)}function createResizeObserver(){typeof ResizeObserver>"u"||(observer=new ResizeObserver(notifyAll))}function resizeElement(a,t){observer||createResizeObserver();const n=resolveElements(a);return n.forEach(o=>{let s=resizeHandlers.get(o);s||(s=new Set,resizeHandlers.set(o,s)),s.add(t),observer==null||observer.observe(o)}),()=>{n.forEach(o=>{const s=resizeHandlers.get(o);s==null||s.delete(t),s!=null&&s.size||observer==null||observer.unobserve(o)})}}const windowCallbacks=new Set;let windowResizeHandler;function createWindowResizeHandler(){windowResizeHandler=()=>{const a={width:window.innerWidth,height:window.innerHeight},t={target:window,size:a,contentSize:a};windowCallbacks.forEach(n=>n(t))},window.addEventListener("resize",windowResizeHandler)}function resizeWindow(a){return windowCallbacks.add(a),windowResizeHandler||createWindowResizeHandler(),()=>{windowCallbacks.delete(a),!windowCallbacks.size&&windowResizeHandler&&(windowResizeHandler=void 0)}}function resize(a,t){return typeof a=="function"?resizeWindow(a):resizeElement(a,t)}const maxElapsed=50,createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()}),keys={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(a,t,n,o){const s=n[t],{length:l,position:u}=keys[t],c=s.current,f=n.time;s.current=a[`scroll${u}`],s.scrollLength=a[`scroll${l}`]-a[`client${l}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=progress$1(0,s.scrollLength,s.current);const d=o-f;s.velocity=d>maxElapsed?0:velocityPerSecond(s.current-c,d)}function updateScrollInfo(a,t,n){updateAxisInfo(a,"x",t,n),updateAxisInfo(a,"y",t,n),t.time=n}function calcInset(a,t){const n={x:0,y:0};let o=a;for(;o&&o!==t;)if(o instanceof HTMLElement)n.x+=o.offsetLeft,n.y+=o.offsetTop,o=o.offsetParent;else if(o.tagName==="svg"){const s=o.getBoundingClientRect();o=o.parentElement;const l=o.getBoundingClientRect();n.x+=s.left-l.left,n.y+=s.top-l.top}else if(o instanceof SVGGraphicsElement){const{x:s,y:l}=o.getBBox();n.x+=s,n.y+=l;let u=null,c=o.parentNode;for(;!u;)c.tagName==="svg"&&(u=c),c=o.parentNode;o=u}else break;return n}const namedEdges={start:0,center:.5,end:1};function resolveEdge(a,t,n=0){let o=0;if(a in namedEdges&&(a=namedEdges[a]),typeof a=="string"){const s=parseFloat(a);a.endsWith("px")?o=s:a.endsWith("%")?a=s/100:a.endsWith("vw")?o=s/100*document.documentElement.clientWidth:a.endsWith("vh")?o=s/100*document.documentElement.clientHeight:a=s}return typeof a=="number"&&(o=t*a),n+o}const defaultOffset=[0,0];function resolveOffset(a,t,n,o){let s=Array.isArray(a)?a:defaultOffset,l=0,u=0;return typeof a=="number"?s=[a,a]:typeof a=="string"&&(a=a.trim(),a.includes(" ")?s=a.split(" "):s=[a,namedEdges[a]?a:"0"]),l=resolveEdge(s[0],n,o),u=resolveEdge(s[1],t),l-u}const ScrollOffset={All:[[0,0],[1,1]]},point={x:0,y:0};function getTargetSize(a){return"getBBox"in a&&a.tagName!=="svg"?a.getBBox():{width:a.clientWidth,height:a.clientHeight}}function resolveOffsets(a,t,n){const{offset:o=ScrollOffset.All}=n,{target:s=a,axis:l="y"}=n,u=l==="y"?"height":"width",c=s!==a?calcInset(s,a):point,f=s===a?{width:a.scrollWidth,height:a.scrollHeight}:getTargetSize(s),d={width:a.clientWidth,height:a.clientHeight};t[l].offset.length=0;let g=!t[l].interpolate;const y=o.length;for(let S=0;S<y;S++){const _=resolveOffset(o[S],d[u],f[u],c[l]);!g&&_!==t[l].interpolatorOffsets[S]&&(g=!0),t[l].offset[S]=_}g&&(t[l].interpolate=interpolate(t[l].offset,defaultOffset$1(o),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=clamp$1(0,1,t[l].interpolate(t[l].current))}function measure(a,t=a,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==a){let o=t;for(;o&&o!==a;)n.x.targetOffset+=o.offsetLeft,n.y.targetOffset+=o.offsetTop,o=o.offsetParent}n.x.targetLength=t===a?t.scrollWidth:t.clientWidth,n.y.targetLength=t===a?t.scrollHeight:t.clientHeight,n.x.containerLength=a.clientWidth,n.y.containerLength=a.clientHeight}function createOnScrollHandler(a,t,n,o={}){return{measure:()=>measure(a,o.target,n),update:s=>{updateScrollInfo(a,n,s),(o.offset||o.target)&&resolveOffsets(a,n,o)},notify:()=>t(n)}}const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=a=>a===document.documentElement?window:a;function scrollInfo(a,{container:t=document.documentElement,...n}={}){let o=onScrollHandlers.get(t);o||(o=new Set,onScrollHandlers.set(t,o));const s=createScrollInfo(),l=createOnScrollHandler(t,a,s,n);if(o.add(l),!scrollListeners.has(t)){const c=()=>{for(const S of o)S.measure()},f=()=>{for(const S of o)S.update(frameData.timestamp)},d=()=>{for(const S of o)S.notify()},g=()=>{frame.read(c,!1,!0),frame.read(f,!1,!0),frame.update(d,!1,!0)};scrollListeners.set(t,g);const y=getEventTarget(t);window.addEventListener("resize",g,{passive:!0}),t!==document.documentElement&&resizeListeners.set(t,resize(t,g)),y.addEventListener("scroll",g,{passive:!0})}const u=scrollListeners.get(t);return frame.read(u,!1,!0),()=>{var c;cancelFrame(u);const f=onScrollHandlers.get(t);if(!f||(f.delete(l),f.size))return;const d=scrollListeners.get(t);scrollListeners.delete(t),d&&(getEventTarget(t).removeEventListener("scroll",d),(c=resizeListeners.get(t))===null||c===void 0||c(),window.removeEventListener("resize",d))}}function scrollTimelineFallback({source:a,container:t,axis:n="y"}){a&&(t=a);const o={value:0},s=scrollInfo(l=>{o.value=l[n].progress*100},{container:t,axis:n});return{currentTime:o,cancel:s}}const timelineCache=new Map;function getTimeline({source:a,container:t=document.documentElement,axis:n="y"}={}){a&&(t=a),timelineCache.has(t)||timelineCache.set(t,{});const o=timelineCache.get(t);return o[n]||(o[n]=supportsScrollTimeline()?new ScrollTimeline({source:t,axis:n}):scrollTimelineFallback({source:t,axis:n})),o[n]}function isOnScrollWithInfo(a){return a.length===2}function needsElementTracking(a){return a&&(a.target||a.offset)}function scrollFunction(a,t){return isOnScrollWithInfo(a)||needsElementTracking(t)?scrollInfo(n=>{a(n[t.axis].progress,n)},t):observeTimeline(a,getTimeline(t))}function scrollAnimation(a,t){if(a.flatten(),needsElementTracking(t))return a.pause(),scrollInfo(n=>{a.time=a.duration*n[t.axis].progress},t);{const n=getTimeline(t);return a.attachTimeline?a.attachTimeline(n,o=>(o.pause(),observeTimeline(s=>{o.time=o.duration*s},n))):noop$1}}function scroll(a,{axis:t="y",...n}={}){const o={axis:t,...n};return typeof a=="function"?scrollFunction(a,o):scrollAnimation(a,o)}const isCustomValueType=a=>a&&typeof a=="object"&&a.mix,getMixer=a=>isCustomValueType(a)?a.mix:void 0;function transform(...a){const t=!Array.isArray(a[0]),n=t?0:-1,o=a[0+n],s=a[1+n],l=a[2+n],u=a[3+n],c=interpolate(s,l,{mixer:getMixer(l[0]),...u});return t?c(o):c}function getMotionElement(a){return(a==null?void 0:a.nodeType)===3||(a==null?void 0:a.nodeType)===8?getMotionElement(a.nextSibling):a}const[useLazyMotionContext,lazyMotionContextProvider]=createContext("LazyMotionContext");function useMotionState(a){const t=injectMotion(null),n=injectLayoutGroup({}),o=useMotionConfig(),s=injectAnimatePresence({}),l=useLazyMotionContext({features:ref([]),strict:!1}),u=useAttrs();function c(){return n.id&&a.layoutId?`${n.id}-${a.layoutId}`:a.layoutId||void 0}function f(){return{...a,lazyMotionContext:l,layoutId:c(),transition:a.transition??o.value.transition,layoutGroup:n,motionConfig:o.value,inViewOptions:a.inViewOptions??o.value.inViewOptions,animatePresenceContext:s,initial:s.initial===!1?s.initial:a.initial===!0?void 0:a.initial}}function d(){return{...u,...f()}}const g=new MotionState(d(),t);provideMotion(g);function y(){var _;const x=g.type==="svg",b={...u};Object.keys(u).forEach(C=>{isMotionValue$1(u[C])&&(b[C]=u[C].get())});let T={...a.style,...x?{}:((_=g.visualElement)==null?void 0:_.latestValues)||g.baseTarget};if(x){const{attributes:C,style:E}=convertSvgStyleToAttributes({...g.isMounted()?g.target:g.baseTarget,...T});Object.assign(b,C),T=E}a.drag&&a.dragListener!==!1&&Object.assign(T,{userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",touchAction:a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`});const A=createStyles(T);return A&&(b.style=A),b}const S=getCurrentInstance().proxy;return onBeforeMount(()=>{g.beforeMount()}),onMounted(()=>{g.mount(getMotionElement(S.$el),d(),checkMotionIsHidden(S))}),onBeforeUnmount(()=>g.beforeUnmount()),onUnmounted(()=>{const _=getMotionElement(S.$el);_!=null&&_.isConnected||g.unmount()}),onBeforeUpdate(()=>{g.beforeUpdate()}),onUpdated(()=>{g.update(d())}),{getProps:f,getAttrs:y,layoutGroup:n,state:g}}const MotionComponentProps={ignoreStrict:{type:Boolean},forwardMotionProps:{type:Boolean,default:!1},asChild:{type:Boolean,default:!1},hover:{type:[String,Array,Object]},press:{type:[String,Array,Object]},inView:{type:[String,Array,Object]},focus:{type:[String,Array,Object]},whileDrag:{type:[String,Array,Object]},whileHover:{type:[String,Array,Object],default:({hover:a})=>a},whilePress:{type:[String,Array,Object],default:({press:a})=>a},whileInView:{type:[String,Array,Object],default:({inView:a})=>a},whileFocus:{type:[String,Array,Object],default:({focus:a})=>a},custom:{type:[String,Number,Object,Array]},initial:{type:[String,Array,Object,Boolean],default:void 0},animate:{type:[String,Array,Object],default:void 0},exit:{type:[String,Array,Object]},variants:{type:Object},inherit:{type:Boolean},style:{type:Object},transformTemplate:{type:Function},transition:{type:Object},layoutGroup:{type:Object},motionConfig:{type:Object},onAnimationComplete:{type:Function},onUpdate:{type:Function},layout:{type:[Boolean,String],default:!1},layoutId:{type:String,default:void 0},layoutScroll:{type:Boolean,default:!1},layoutRoot:{type:Boolean,default:!1},"data-framer-portal-id":{type:String},crossfade:{type:Boolean,default:!0},layoutDependency:{type:[String,Number,Object,Array]},onBeforeLayoutMeasure:{type:Function},onLayoutMeasure:{type:Function},onLayoutAnimationStart:{type:Function},onLayoutAnimationComplete:{type:Function},globalPressTarget:{type:Boolean},onPressStart:{type:Function},onPress:{type:Function},onPressCancel:{type:Function},onHoverStart:{type:Function},onHoverEnd:{type:Function},inViewOptions:{type:Object},onViewportEnter:{type:Function},onViewportLeave:{type:Function},drag:{type:[Boolean,String]},dragSnapToOrigin:{type:Boolean},dragDirectionLock:{type:Boolean},dragPropagation:{type:Boolean},dragConstraints:{type:[Boolean,Object]},dragElastic:{type:[Boolean,Number,Object],default:.5},dragMomentum:{type:Boolean,default:!0},dragTransition:{type:Object},dragListener:{type:Boolean,default:!0},dragControls:{type:Object},onDragStart:{type:Function},onDragEnd:{type:Function},onDrag:{type:Function},onDirectionLock:{type:Function},onDragTransitionEnd:{type:Function},onMeasureDragConstraints:{type:Function},onPanSessionStart:{type:Function},onPanStart:{type:Function},onPan:{type:Function},onPanEnd:{type:Function}};function checkMotionIsHidden(a){var t;const n=((t=getMotionElement(a.$el))==null?void 0:t.style.display)==="none";return a.$.vnode.transition&&n}const componentMaxCache=new Map,componentMiniCache=new Map;function renderSlotFragments(a){if(!Array.isArray(a))return[a];const t=[];for(const n of a)Array.isArray(n)?t.push(...n):t.push(n);return t}const SELF_CLOSING_TAGS=["area","img","input"];function handlePrimitiveAndSlot(a,t,n){var o,s;if(typeof a=="string"&&SELF_CLOSING_TAGS.includes(a))return h$5(a,t);if(a==="template"){if(!n.default)return null;const l=renderSlotFragments(n.default()),u=l.findIndex(g=>g.type!==Comment);if(u===-1)return l;const c=l[u];(o=c.props)==null||delete o.ref;const f=c.props?mergeProps(t,c.props):t;t.class&&((s=c.props)!=null&&s.class)&&delete c.props.class;const d=cloneVNode(c,f);for(const g in f)g.startsWith("on")&&(d.props||(d.props={}),d.props[g]=f[g]);return l.length===1?d:(l[u]=d,l)}return null}function createMotionComponent(a,t={}){var n;const o=typeof a=="string",s=o?a:a.name||"",l=((n=t.features)==null?void 0:n.length)>0?componentMaxCache:componentMiniCache;if(o&&(l!=null&&l.has(a)))return l.get(a);const u=defineComponent({inheritAttrs:!1,props:{...MotionComponentProps,features:{type:Object,default:()=>t.features||[]},as:{type:[String,Object],default:a||"div"}},name:s?`motion.${s}`:"Motion",setup(c,{slots:f}){const{getProps:d,getAttrs:g,state:y}=useMotionState(c);function S(){const _=y.element;if((!(typeof c.as=="object")||c.asChild)&&_){const{style:b}=g();if(b)for(const[T,A]of Object.entries(b))_.style[T]=A}}return()=>{const _=d(),x=g(),b=c.asChild?"template":c.as,T={...t.forwardMotionProps||c.forwardMotionProps?_:{},...x,onVnodeUpdated:S},A=handlePrimitiveAndSlot(b,T,f);return A!==null?A:h$5(b,{...T},f)}}});return o&&(l==null||l.set(a,u)),u}function createMotionComponentWithFeatures(a=[]){return new Proxy({},{get(t,n){return n==="create"?(o,s)=>createMotionComponent(o,{...s,features:a}):createMotionComponent(n,{features:a})}})}const motion=createMotionComponentWithFeatures(domMax),Motion=motion.create("div");function useCombineMotionValues(a){const t=motionValue(a()),n=()=>t.set(a()),o=()=>frame.preRender(n,!1,!0);let s;const l=c=>{s=c.map(f=>f.on("change",o))},u=()=>{s.forEach(c=>c()),cancelFrame(n)};return onUnmounted(()=>{u()}),{subscribe:l,unsubscribe:u,value:t}}function useComputed(a){collectMotionValues.current=[];const{value:t,subscribe:n,unsubscribe:o}=useCombineMotionValues(a);return n(collectMotionValues.current),collectMotionValues.current=void 0,onBeforeUpdate(()=>{o(),collectMotionValues.current=[],a(),n(collectMotionValues.current),collectMotionValues.current=void 0}),t}function useTransform(a,t,n,o){if(typeof a=="function")return useComputed(a);const s=typeof t=="function"?t:isRef(t)?computed(()=>transform(t.value,n,o)):transform(t,n,o);return Array.isArray(a)?useListTransform(a,s):useListTransform([a],([l])=>isRef(s)?s.value(l):s(l))}function useListTransform(a,t){const n=[],{value:o,subscribe:s}=useCombineMotionValues(()=>{n.length=0;const l=a.length;for(let u=0;u<l;u++)n[u]=a[u].get();return isRef(t)?t.value(n):t(n)});return s(a),o}function refWarning(a,t){warning(!!(!t||t.value))}function createScrollMotionValues(){return{scrollX:motionValue(0),scrollY:motionValue(0),scrollXProgress:motionValue(0),scrollYProgress:motionValue(0)}}function useScroll({container:a,target:t,...n}={}){const o=createScrollMotionValues();return onMounted(()=>{refWarning("target",t),refWarning("container",a)}),watch([a,t,()=>n.offset],(s,l,u)=>{const c=scroll((f,{x:d,y:g})=>{o.scrollX.set(d.current),o.scrollXProgress.set(d.progress),o.scrollY.set(g.current),o.scrollYProgress.set(g.progress)},{...n,container:(a==null?void 0:a.value)??void 0,target:(t==null?void 0:t.value)??void 0});u(()=>{c()})},{immediate:!0,flush:"post"}),o}const _hoisted_1$6={class:"mx-auto max-w-7xl px-4 py-20 lg:px-10 md:px-8"},_hoisted_2$4={class:"mb-4 max-w-4xl text-lg text-black md:text-4xl dark:text-white"},_hoisted_3$4={class:"max-w-sm text-sm text-neutral-700 md:text-base dark:text-neutral-300"},_hoisted_4$4={className:"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full"},_hoisted_5$4={className:"hidden md:block text-xl md:pl-20 md:text-2xl font-bold text-neutral-500 dark:text-neutral-500"},_hoisted_6$3={class:"relative w-full pl-20 pr-4"},_hoisted_7$3={class:"masonry-grid"},_hoisted_8$2={class:"group relative overflow-hidden rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl"},_hoisted_9$2={class:"w-full h-full"},_hoisted_10$2=["src","alt"],_hoisted_11$2=["src"],_hoisted_12$2={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"},_hoisted_13$2={class:"text-center p-4"},_hoisted_14$2={class:"text-white text-lg font-bold mb-2"},_hoisted_15$2={class:"text-white text-sm mb-4"},_hoisted_16$2=["onClick"],_hoisted_17$2={class:"relative max-w-full max-h-full w-auto h-auto mx-4 overflow-hidden"},_hoisted_18$1=["src","alt"],_hoisted_19$1=["src"],_sfc_main$7=defineComponent({__name:"Timeline",props:{containerClass:{},class:{},items:{default:()=>[]},title:{},description:{}},setup(a){const t=a,n=ref(null),o=ref(null),s=ref(0),l=ref(null);onMounted(async()=>{if(await nextTick(),o.value){const y=o.value.getBoundingClientRect();s.value=y.height}});const{scrollYProgress:u}=useScroll({target:o,offset:["start 10%","end 100%"]}),c=useTransform(u,[0,.1],[0,1]),f=ref(useTransform(u,[0,1],[0,0]));watch(s,y=>{f.value=useTransform(u,[0,1],[0,y])});const d=y=>{l.value=y,document.body.style.overflow="hidden"},g=()=>{l.value=null,document.body.style.overflow=""};return(y,S)=>(openBlock(),createElementBlock("div",{ref_key:"timelineContainerRef",ref:n,class:"w-full bg-white font-sans md:px-10 dark:bg-neutral-950"},[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("h2",_hoisted_2$4,toDisplayString(y.title),1),createBaseVNode("p",_hoisted_3$4,toDisplayString(y.description),1)]),createBaseVNode("div",{ref_key:"timelineRef",ref:o,class:"relative z-0 mx-auto max-w-7xl pb-20"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.items,(_,x)=>(openBlock(),createElementBlock("div",{key:_.id+x,class:"flex flex-col justify-start md:gap-10"},[createBaseVNode("div",_hoisted_4$4,[S[0]||(S[0]=createBaseVNode("div",{className:"h-10 absolute left-3 md:left-3 w-10 rounded-full bg-white dark:bg-black flex items-center justify-center"},[createBaseVNode("div",{className:"h-4 w-4 rounded-full bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-2"})],-1)),createBaseVNode("h3",_hoisted_5$4,toDisplayString(_.label),1)]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.media,(b,T)=>(openBlock(),createElementBlock("div",{key:T,class:"masonry-item"},[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$2,[b.type==="image"?(openBlock(),createElementBlock("img",{key:0,src:b.url,alt:b.title,class:"object-cover w-full h-full transition-all duration-300",loading:"lazy"},null,8,_hoisted_10$2)):b.type==="video"?(openBlock(),createElementBlock("video",{key:1,src:b.url,class:"object-cover w-full h-full",preload:"metadata"},null,8,_hoisted_11$2)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,[createBaseVNode("h4",_hoisted_14$2,toDisplayString(b.title),1),createBaseVNode("p",_hoisted_15$2,toDisplayString(b.description),1),createBaseVNode("button",{onClick:A=>d(b),class:"bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-full transition-all duration-300 transform hover:scale-105"},toDisplayString(b.type==="video"?"":""),9,_hoisted_16$2)])])])]))),128))])])]))),128)),createBaseVNode("div",{style:normalizeStyle$1({height:s.value+"px"}),class:"absolute left-8 top-0 w-[2px] overflow-hidden bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-0% via-neutral-200 to-transparent to-[99%] [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] md:left-8 dark:via-neutral-700"},[createVNode$1(unref(Motion),{as:"div",style:normalizeStyle$1({height:f.value,opacity:unref(c)}),class:"absolute inset-x-0 top-0 w-[2px] rounded-full bg-gradient-to-t from-purple-500 from-0% via-blue-500 via-10% to-transparent"},null,8,["style"])],4)],512),l.value?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:g},[createBaseVNode("div",_hoisted_17$2,[createBaseVNode("button",{onClick:g,class:"absolute top-4 right-4 text-white hover:text-primary transition-colors z-10"},S[1]||(S[1]=[createBaseVNode("span",{class:"text-3xl"},"",-1)])),l.value.type==="image"?(openBlock(),createElementBlock("img",{key:0,src:l.value.url,alt:l.value.title,class:"max-w-[90vw] max-h-[90vh] w-auto h-auto object-contain rounded-lg"},null,8,_hoisted_18$1)):l.value.type==="video"?(openBlock(),createElementBlock("video",{key:1,src:l.value.url,controls:"",class:"max-w-[90vw] max-h-[90vh] w-auto h-auto object-contain rounded-lg"},null,8,_hoisted_19$1)):createCommentVNode("",!0)])])):createCommentVNode("",!0)],512))}}),Timeline=_export_sfc(_sfc_main$7,[["__scopeId","data-v-351adc0e"]]),useAssetsImage=a=>{const t=`../assets/images/${a}`;return new URL(t,import.meta.url).href},useAssetsAvatar=(a,t="jpg")=>{const n=`../assets/images/avatar/${a}.${t}`;return new URL(n,import.meta.url).href},useAssetsMarkdownImage=a=>{const t=`../assets/markdown/${a}`;return new URL(t,import.meta.url).href},useAssetsVideo=a=>{const t=`../assets/video/${a}`;return new URL(t,import.meta.url).href},_hoisted_1$5={class:"h-fit w-full"},_sfc_main$6=defineComponent({__name:"TimelineView",setup(a){const t=[{id:"2021",label:"2021",media:[{type:"image",url:new URL("../assets/images/time/1.jpg",import.meta.url).href,title:"1111",description:"2021"},{type:"image",url:useAssetsImage("time/2.png"),title:"",description:"2021"},{type:"image",url:"https://images.unsplash.com/photo-1499084732479-de2c02d45fcc?q=80&w=1000",title:"",description:"2021"},{type:"image",url:"https://images.unsplash.com/photo-1499084732479-de2c02d45fcc?q=80&w=1000",title:"",description:"2021"},{type:"video",url:useAssetsVideo("play.mp4"),title:"",description:""},{type:"video",url:useAssetsVideo("play.mp4"),title:"",description:""}]},{id:"2022",label:"2022",media:[{type:"image",url:"https://images.unsplash.com/photo-1549558549-415fe4c37b60?q=80&w=1000",title:"",description:""},{type:"image",url:"https://images.unsplash.com/photo-1549558549-415fe4c37b60?q=80&w=1000",title:"",description:""},{type:"image",url:"https://images.unsplash.com/photo-1514539079130-25950c84af65?q=80&w=1000",title:"",description:""}]},{id:"2023",label:"2023",media:[{type:"video",url:"https://example.com/video2.mp4",title:"",description:"2023"},{type:"image",url:"https://images.unsplash.com/photo-1499084732479-de2c02d45fcc?q=80&w=1000",title:"",description:""}]},{id:"2024",label:"2024",media:[{type:"image",url:"https://images.unsplash.com/photo-1549558549-415fe4c37b60?q=80&w=1000",title:"",description:"2024"},{type:"video",url:"https://example.com/video3.mp4",title:"",description:""}]}];return(n,o)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode$1(Timeline,{items:t,title:"",description:""})]))}}),_hoisted_1$4={class:"py-4"},_hoisted_2$3={class:"space-y-6 mb-10"},_hoisted_3$3={key:0,class:"absolute inset-0 bg-black opacity-40"},_hoisted_4$3={class:"relative z-10"},_hoisted_5$3={class:"flex justify-between items-start mb-3"},_hoisted_6$2={class:"text-xl font-bold text-white"},_hoisted_7$2={class:"text-sm opacity-80 text-white font-alibaba"},_hoisted_8$1={class:"text-right"},_hoisted_9$1={class:"text-white text-xl font-bold font-alibaba-bold slit-in-horizontal"},_hoisted_10$1={class:"text-right text-white text-opacity-90 count-animation font-alibaba-bold slit-in-horizontal"},_hoisted_11$1={class:"px-4 py-3 flex justify-between items-center text-sm bg-opacity-90"},_hoisted_12$1={class:"flex space-x-3"},_hoisted_13$1=["onClick"],_hoisted_14$1=["onClick"],_hoisted_15$1={class:"fixed bottom-20 right-6"},_hoisted_16$1={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},_hoisted_17$1={class:"bg-white dark:bg-gray-800 w-full max-w-md mx-4 rounded-lg shadow-xl z-10 p-6"},_hoisted_18={class:"text-xl font-bold mb-4 dark:text-white"},_hoisted_19={class:"space-y-4"},_hoisted_20={class:"mt-6 flex space-x-3"},_sfc_main$5=defineComponent({__name:"CountdownView",setup(a){const t=ref([]),n=ref(!1),o=ref(!1),s=ref(-1),l=reactive({title:"",date:"",bgImage:"",repeatType:""});onMounted(()=>{const b=localStorage.getItem("countdownItems");b?t.value=JSON.parse(b):(t.value=[{title:"",date:"1996-09-13T00:00:00",bgImage:"https://img1.baidu.com/it/u=3975493565,2331093880&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800",repeatType:""},{title:"",date:"1994-02-19T10:28",bgImage:"https://img0.baidu.com/it/u=1890382512,2683281957&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500",repeatType:""},{title:"",date:"2021-08-31T11:00",bgImage:"https://cdn-hsyq-static.shanhutech.cn/bizhi/staticwp/202501/a4e58e73f632f044248ab1c97ca33b6b--3548989359.jpg",repeatType:""},{title:"",date:"2023-07-14T21:30",bgImage:"https://images.unsplash.com/photo-1514539079130-25950c84af65?q=80&w=1000",repeatType:""},{title:"",date:"2023-08-04T22:00",bgImage:"https://img0.baidu.com/it/u=2959879535,3826083403&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800",repeatType:""},{title:"",date:"2022-05-04T12:00",bgImage:"https://img2.baidu.com/it/u=4132056813,1308129754&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800",repeatType:""}],c()),setInterval(u,1e3)});const u=()=>{t.value=[...t.value]},c=()=>{localStorage.setItem("countdownItems",JSON.stringify(t.value))},f=b=>{const T=new Date(b);return`${T.getFullYear()}.${String(T.getMonth()+1).padStart(2,"0")}.${String(T.getDate()).padStart(2,"0")} ${T.getHours()>0||T.getMinutes()>0?String(T.getHours()).padStart(2,"0")+":"+String(T.getMinutes()).padStart(2,"0"):""}`},d=b=>{const T=new Date,A=new Date(b.date),C=Math.abs(A.getTime()-T.getTime()),E=Math.floor(C/(1e3*3600*24)),P=Math.floor(E/365);return A.getTime()<=T.getTime()?Math.random()>.5?`${E}`:`${P}`:Math.random()>.5?`${E}`:`${P}`},g=b=>{const T=new Date,A=new Date(b.date),C=Math.abs(A.getTime()-T.getTime()),E=Math.floor(C%(1e3*3600*24)/(1e3*3600)),P=Math.floor(C%(1e3*3600)/(1e3*60)),M=Math.floor(C%(1e3*60)/1e3);return`${String(E).padStart(2,"0")}  ${String(P).padStart(2,"0")}  ${String(M).padStart(2,"0")} `},y=()=>{if(!l.title||!l.date){alert("");return}o.value&&s.value>=0?t.value[s.value]={...l}:t.value.push({...l}),c(),x(),n.value=!1},S=b=>{o.value=!0,s.value=b;const T=t.value[b];l.title=T.title,l.date=T.date,l.bgImage=T.bgImage||"",l.repeatType=T.repeatType||"",n.value=!0},_=b=>{confirm("")&&(t.value.splice(b,1),c())},x=()=>{l.title="",l.date="",l.bgImage="",l.repeatType="",o.value=!1,s.value=-1};return(b,T)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[T[13]||(T[13]=createBaseVNode("h1",{class:"text-2xl font-bold mb-6 text-center dark:text-white"},"",-1)),createBaseVNode("div",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.value,(A,C)=>(openBlock(),createElementBlock("div",{key:C,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden slit-in-horizontal"},[createBaseVNode("div",{class:"py-6 px-5 relative",style:normalizeStyle$1({backgroundImage:A.bgImage?`url(${A.bgImage})`:"none",backgroundSize:"cover",backgroundPosition:"center"})},[A.bgImage?(openBlock(),createElementBlock("div",_hoisted_3$3)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",null,[createBaseVNode("h2",_hoisted_6$2,toDisplayString(A.title),1),createBaseVNode("div",_hoisted_7$2,toDisplayString(f(A.date)),1)]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,toDisplayString(d(A)),1),createBaseVNode("div",_hoisted_10$1,toDisplayString(g(A)),1)])])])],4),createBaseVNode("div",_hoisted_11$1,[createBaseVNode("div",null,toDisplayString(A.repeatType||""),1),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("button",{onClick:E=>S(C),class:"text-blue-500 dark:text-blue-400 hover:text-blue-600 dark:hover:text-blue-500"},"  ",8,_hoisted_13$1),createBaseVNode("button",{onClick:E=>_(C),class:"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-500"},"  ",8,_hoisted_14$1)])])]))),128))]),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("button",{onClick:T[0]||(T[0]=A=>n.value=!0),class:"bg-primary hover:bg-primary/90 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all"},T[7]||(T[7]=[createBaseVNode("span",{class:"text-2xl font-alibaba"},"+",-1)]))]),n.value?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:T[1]||(T[1]=A=>n.value=!1)}),createBaseVNode("div",_hoisted_17$1,[createBaseVNode("h3",_hoisted_18,toDisplayString(o.value?"":""),1),createBaseVNode("div",_hoisted_19,[createBaseVNode("div",null,[T[8]||(T[8]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[2]||(T[2]=A=>l.title=A),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",placeholder:""},null,512),[[vModelText,l.title]])]),createBaseVNode("div",null,[T[9]||(T[9]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[3]||(T[3]=A=>l.date=A),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"},null,512),[[vModelText,l.date]])]),createBaseVNode("div",null,[T[10]||(T[10]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"URL ()",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[4]||(T[4]=A=>l.bgImage=A),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",placeholder:"URL"},null,512),[[vModelText,l.bgImage]])]),createBaseVNode("div",null,[T[12]||(T[12]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":T[5]||(T[5]=A=>l.repeatType=A),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"},T[11]||(T[11]=[createStaticVNode('<option value="" data-v-f7da80ca></option><option value="" data-v-f7da80ca></option><option value="" data-v-f7da80ca></option><option value="" data-v-f7da80ca></option><option value="" data-v-f7da80ca></option>',5)]),512),[[vModelSelect,l.repeatType]])])]),createBaseVNode("div",_hoisted_20,[createBaseVNode("button",{onClick:T[6]||(T[6]=A=>n.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},"  "),createBaseVNode("button",{onClick:y,class:"flex-1 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90"},"  ")])])])):createCommentVNode("",!0)]))}}),CountdownView=_export_sfc(_sfc_main$5,[["__scopeId","data-v-f7da80ca"]]);/*!
 * vue-use-spring v0.3.3
 * (c) 2020-2024 Eduardo San Martin Morote
 * Released under the MIT License.
 */const noWobble={mass:1,tension:170,friction:26,precision:.01},isClient=typeof window<"u",raf=isClient?window.requestAnimationFrame.bind(window):()=>{},cancelRaf=isClient?window.cancelAnimationFrame.bind(window):()=>{},now=typeof performance<"u"?performance.now.bind(performance):Date.now.bind(Date),isArray=Array.isArray.bind(Array),reusedTuple=[0,0];function stepper(a,t,n,o,s){const l=-s.tension*(t-o),u=-s.friction*n,c=(l+u)/(s.mass||1),f=n+c*a,d=t+f*a,g=s.precision||.01;return Math.abs(f)<g&&Math.abs(d-o)<g?(reusedTuple[0]=o,reusedTuple[1]=0,reusedTuple):(reusedTuple[0]=d,reusedTuple[1]=f,reusedTuple)}const msPerFrame=1e3/60;function defineInitialValues(a,t){const n=isArray(a)?[]:{},o=isArray(a)?[]:{};for(const s in a)n[s]=a[s],o[s]=t?t[s]:0;return[n,o]}const noop=()=>{};function useSpring(a,t=noWobble,n={}){const o=n.onRest||noop,s=ref(isRef(a)?a:toValue$1(a));let l=!1,u=0,c=0,f;watch(s,(T,A)=>{l||(u=now(),c=0,x())},{deep:!0});const d=defineInitialValues(s.value,null),g=ref(d[0]),y=ref(d[1]);let S=d[0],_=d[1];if(isClient){u=now(),c=0;const T=defineInitialValues(g.value,y.value);S=T[0],_=T[1],x()}onScopeDispose(()=>{f&&cancelRaf(f)});function x(){f=raf(()=>{if(shouldStopAnimation(g.value,s.value,y.value)){l&&o(),f=null,l=!1;return}l=!0;const T=now(),A=T-u;if(u=T,c+=A,c>msPerFrame*10&&(c=0),c===0)return f=null,x();const C=(c-Math.floor(c/msPerFrame)*msPerFrame)/msPerFrame,E=Math.floor(c/msPerFrame);animateValues(E,C,toValue$1(t),toValue$1(s),g.value,y.value,S,_),f=null,c-=E*msPerFrame,x()})}const b=isArray(s.value)?[]:{};for(const T in s.value)b[T]=computed({get:()=>g.value[T],set:A=>s.value[T]=A});return b.reset=T=>{Object.assign(g.value,T),Object.assign(s.value,T),l=!1,f=null},reactive(b)}function shouldStopAnimation(a,t,n){for(const o in t)if(n[o]!==0||a[o]!==t[o])return!1;return!0}function animateValues(a,t,n,o,s,l,u,c){for(const f in o){let d=u[f],g=c[f];const y=o[f];for(let x=0;x<a;x++)[d,g]=stepper(msPerFrame/1e3,d,g,y,n);const[S,_]=stepper(msPerFrame/1e3,d,g,y,n);s[f]=d+(S-d)*t,l[f]=g+(_-g)*t,u[f]=d,c[f]=g}}const _hoisted_1$3={class:"absolute -left-4 top-3 md:-left-12"},_hoisted_2$2=["viewBox","height"],_hoisted_3$2=["d"],_hoisted_4$2=["d"],_hoisted_5$2=["y1","y2"],_sfc_main$4=defineComponent({__name:"TracingBeam",props:{class:String},setup(a){const t=ref(),n=ref(),o=ref(0),s=ref(0),l=ref(0),u=computed(()=>y(o.value,0,.8,o.value,s.value)*(1.4-l.value)),c=computed(()=>y(o.value,0,1,o.value,s.value-500)*(1.4-l.value)),f=useSpring({y1:u.value,y2:c.value},{tension:80,friction:26,precision:.01});watch(u,S=>{f.y1=S}),watch(c,S=>{f.y2=S});function d(){if(t.value){const S=t.value.getBoundingClientRect(),_=window.innerHeight,x=S.height;l.value=(_-S.top)/(_+x),o.value=S.y/_*-1}}onMounted(()=>{window.addEventListener("scroll",d),window.addEventListener("resize",d),d(),new ResizeObserver(function(){g()}).observe(n.value),g()}),onUnmounted(()=>{var S;(S=t.value)==null||S.removeEventListener("scroll",d),window.removeEventListener("resize",d)});function g(){n.value&&(s.value=n.value.offsetHeight)}function y(S,_,x,b,T){return(S-_)*(T-b)/(x-_)+b}return(S,_)=>(openBlock(),createElementBlock("div",{ref_key:"tracingBeamRef",ref:t,class:normalizeClass(unref(cn)("relative w-full max-w-4xl mx-auto h-full",S.$props.class))},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",{style:normalizeStyle$1({boxShadow:o.value>0?"none":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}),class:"border-netural-200 ml-[27px] flex size-4 items-center justify-center rounded-full border shadow-sm"},[createVNode$1(unref(Motion),{animate:{backgroundColor:o.value>0?"white":"var(--red-300)",borderColor:o.value>0?"white":"var(--red-400)"},class:"size-2 rounded-full border border-neutral-300 bg-white"},null,8,["animate"])],4),(openBlock(),createElementBlock("svg",{viewBox:`0 0 20 ${s.value}`,width:"20",height:s.value,class:"ml-4 block","aria-hidden":"true"},[createBaseVNode("path",{d:`M 1 0V -36 l 18 24 V ${s.value*.8} l -18 24V ${s.value}`,fill:"none",stroke:"#9091A0","stroke-opacity":"0.16"},null,8,_hoisted_3$2),createBaseVNode("path",{d:`M 1 0V -36 l 18 24 V ${s.value*.8} l -18 24V ${s.value}`,fill:"none",stroke:"url(#gradient)","stroke-width":"1.25",class:"motion-reduce:hidden"},null,8,_hoisted_4$2),createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:"gradient",gradientUnits:"userSpaceOnUse",x1:"0",x2:"0",y1:unref(f).y1,y2:unref(f).y2},_[0]||(_[0]=[createBaseVNode("stop",{"stop-color":"#18CCFC","stop-opacity":"0"},null,-1),createBaseVNode("stop",{"stop-color":"#18CCFC"},null,-1),createBaseVNode("stop",{offset:"0.325","stop-color":"#6344F5"},null,-1),createBaseVNode("stop",{offset:"1","stop-color":"#AE48FF","stop-opacity":"0"},null,-1)]),8,_hoisted_5$2)])],8,_hoisted_2$2))]),createBaseVNode("div",{ref_key:"tracingBeamContentRef",ref:n},[renderSlot(S.$slots,"default")],512)],2))}}),_hoisted_1$2={class:"w-full items-center justify-center px-8"},_hoisted_2$1={class:"relative mx-auto max-w-2xl pt-4 antialiased"},_hoisted_3$1={class:"mb-10 content-body"},_hoisted_4$1={class:"mb-4 w-fit rounded-full bg-black px-2 text-sm text-white dark:bg-white dark:text-black"},_hoisted_5$1={class:"prose prose-sm dark:prose-invert font-weiqingshu"},_hoisted_6$1=["src"],_hoisted_7$1=["src"],_hoisted_8=["src"],_hoisted_9=["src"],_hoisted_10=["src"],_hoisted_11=["src"],_hoisted_12=["src"],_hoisted_13=["src"],_hoisted_14=["src"],_hoisted_15=["src"],_hoisted_16=["src"],_hoisted_17=["src"],_sfc_main$3=defineComponent({__name:"LetterView",setup(a){const t=ref("");return(n,o)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode$1(_sfc_main$4,{class:"px-6"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,toDisplayString(t.value),1),createBaseVNode("div",_hoisted_5$1,[o[0]||(o[0]=createBaseVNode("h2",{key:"content-0"},[createBaseVNode("strong",null,"2021.4.26"),createTextVNode(" -")],-1)),o[1]||(o[1]=createBaseVNode("p",null,"BM",-1)),o[2]||(o[2]=createBaseVNode("p",null,"  ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("E08260E2-3B9B-42CB-A013-2205E1B59AC9_1_105_c.jpeg"),referrerpolicy:"no-referrer",alt:""},null,8,_hoisted_6$1)]),o[3]||(o[3]=createBaseVNode("p",null,"   ",-1)),o[4]||(o[4]=createBaseVNode("p",null,"",-1)),o[5]||(o[5]=createBaseVNode("p",null,"  ",-1)),o[6]||(o[6]=createBaseVNode("p",null,"  ",-1)),o[7]||(o[7]=createBaseVNode("p",null,"  ",-1)),o[8]||(o[8]=createBaseVNode("h2",{key:"content-1"},"2022.1.20 196",-1)),o[9]||(o[9]=createBaseVNode("p",null,"2021",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("1.jpeg")},null,8,_hoisted_7$1)]),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("8ECF4336-0F04-4128-B74C-255E1ADF4A67_1_105_c.jpeg"),referrerpolicy:"no-referrer",alt:"8ECF4336-0F04-4128-B74C-255E1ADF4A67_1_105_c"},null,8,_hoisted_8)]),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("2.jpeg"),referrerpolicy:"no-referrer",alt:"2"},null,8,_hoisted_9)]),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("0C87C67B-DAAB-442E-A907-6B8E1C7E0DA3_1_105_c.jpeg"),referrerpolicy:"no-referrer",alt:"0C87C67B-DAAB-442E-A907-6B8E1C7E0DA3_1_105_c"},null,8,_hoisted_10)]),o[10]||(o[10]=createBaseVNode("p",{key:"content-1"},"  2021   1969619~6  ",-1)),o[11]||(o[11]=createBaseVNode("p",null," 2023.11.25  ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("C77DADAF-8971-4F7A-8856-A609E818E078_1_105_c.jpeg"),referrerpolicy:"no-referrer",alt:"C77DADAF-8971-4F7A-8856-A609E818E078_1_105_c"},null,8,_hoisted_11)]),o[12]||(o[12]=createBaseVNode("p",null,"",-1)),o[13]||(o[13]=createBaseVNode("h2",{key:"content-2"},[createBaseVNode("strong",null,"2021.8.31 ")],-1)),o[14]||(o[14]=createBaseVNode("p",null,"  ",-1)),o[15]||(o[15]=createBaseVNode("p",null,"  ",-1)),o[16]||(o[16]=createBaseVNode("p",null,"",-1)),o[17]||(o[17]=createBaseVNode("p",null,"   ",-1)),o[18]||(o[18]=createBaseVNode("p",null,"  ",-1)),o[19]||(o[19]=createBaseVNode("p",null,"  ",-1)),o[20]||(o[20]=createBaseVNode("p",null,"   ",-1)),o[21]||(o[21]=createBaseVNode("p",null,"",-1)),o[22]||(o[22]=createBaseVNode("h2",{key:"content-3"},"2022.3.28 ",-1)),o[23]||(o[23]=createBaseVNode("p",null,"",-1)),o[24]||(o[24]=createBaseVNode("p",null,"",-1)),o[25]||(o[25]=createBaseVNode("p",null,"  ",-1)),o[26]||(o[26]=createBaseVNode("p",null,"  ",-1)),o[27]||(o[27]=createBaseVNode("p",null,"  ",-1)),o[28]||(o[28]=createBaseVNode("p",null,"   ",-1)),o[29]||(o[29]=createBaseVNode("p",null,"  ",-1)),o[30]||(o[30]=createBaseVNode("p",null,"   ",-1)),o[31]||(o[31]=createBaseVNode("p",null,"   ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("FB0A2EEA-9F9E-41BF-9DBE-999995CF6FAB.png"),alt:"FB0A2EEA-9F9E-41BF-9DBE-999995CF6FAB",style:{zoom:"50%"}},null,8,_hoisted_12)]),o[32]||(o[32]=createBaseVNode("p",null,"",-1)),o[33]||(o[33]=createBaseVNode("p",null,"    ",-1)),o[34]||(o[34]=createBaseVNode("p",null,"  BM  ",-1)),o[35]||(o[35]=createBaseVNode("p",null,"  10  ",-1)),o[36]||(o[36]=createBaseVNode("p",null,"  ",-1)),o[37]||(o[37]=createBaseVNode("p",null,"   ",-1)),o[38]||(o[38]=createBaseVNode("p",null,"  ",-1)),o[39]||(o[39]=createBaseVNode("p",null,"  ",-1)),o[40]||(o[40]=createBaseVNode("p",null,"  MTBIMTBI  ",-1)),o[41]||(o[41]=createBaseVNode("p",null,"  ",-1)),o[42]||(o[42]=createBaseVNode("p",null,"   ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("E23A3B6E-E659-4225-AD92-E3B174F381B4.png"),alt:"E23A3B6E-E659-4225-AD92-E3B174F381B4",style:{zoom:"50%"}},null,8,_hoisted_13)]),o[43]||(o[43]=createBaseVNode("p",null,"",-1)),o[44]||(o[44]=createBaseVNode("p",null,"  P  ",-1)),o[45]||(o[45]=createBaseVNode("p",null,"  ",-1)),o[46]||(o[46]=createBaseVNode("p",null,"  BM  2023  TDH  BM  ",-1)),o[47]||(o[47]=createBaseVNode("p",null,"",-1)),o[48]||(o[48]=createBaseVNode("h2",null,"2022.5.4 ",-1)),o[49]||(o[49]=createBaseVNode("p",null,"  ",-1)),o[50]||(o[50]=createBaseVNode("p",null,"   ",-1)),o[51]||(o[51]=createBaseVNode("p",null,"  ",-1)),o[52]||(o[52]=createBaseVNode("p",null,"   ",-1)),o[53]||(o[53]=createBaseVNode("p",null,"  ",-1)),o[54]||(o[54]=createBaseVNode("p",null,"  ",-1)),o[55]||(o[55]=createBaseVNode("p",null,"  ",-1)),o[56]||(o[56]=createBaseVNode("p",null,"  ",-1)),o[57]||(o[57]=createBaseVNode("p",null,'""',-1)),o[58]||(o[58]=createBaseVNode("p",null,' "" ',-1)),o[59]||(o[59]=createBaseVNode("p",null,' "" ',-1)),o[60]||(o[60]=createBaseVNode("p",null,"  ",-1)),o[61]||(o[61]=createBaseVNode("p",null,"",-1)),o[62]||(o[62]=createBaseVNode("p",null,"",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("IMG_6335.PNG"),referrerpolicy:"no-referrer",alt:"IMG_6335"},null,8,_hoisted_14)]),o[63]||(o[63]=createBaseVNode("p",null,"",-1)),o[64]||(o[64]=createBaseVNode("h2",null,"2022.5.20 ",-1)),o[65]||(o[65]=createBaseVNode("p",null,' 2022"" ',-1)),o[66]||(o[66]=createBaseVNode("p",null,"  ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("IMG_6327.JPG"),referrerpolicy:"no-referrer",alt:"IMG_6327"},null,8,_hoisted_15)]),o[67]||(o[67]=createBaseVNode("p",null,"",-1)),o[68]||(o[68]=createBaseVNode("h2",null,"2022.5.30 ",-1)),o[69]||(o[69]=createBaseVNode("p",null,"   ",-1)),createBaseVNode("p",null,[createBaseVNode("img",{src:unref(useAssetsMarkdownImage)("IMG_6331.JPG"),referrerpolicy:"no-referrer",alt:"IMG_6331"},null,8,_hoisted_16)]),o[70]||(o[70]=createBaseVNode("p",null,"",-1)),o[71]||(o[71]=createBaseVNode("h2",null,"2022.12 ",-1)),o[72]||(o[72]=createBaseVNode("p",null,"  ",-1)),o[73]||(o[73]=createBaseVNode("p",null,"    ",-1)),o[74]||(o[74]=createBaseVNode("p",null,"",-1)),o[75]||(o[75]=createBaseVNode("p",null,"",-1)),o[76]||(o[76]=createBaseVNode("p",null,"  ",-1)),o[77]||(o[77]=createBaseVNode("p",null,"   ",-1)),o[78]||(o[78]=createBaseVNode("p",null,"",-1)),o[79]||(o[79]=createBaseVNode("h2",null,"2023 ",-1)),o[80]||(o[80]=createBaseVNode("p",null,"  2023  ",-1)),o[81]||(o[81]=createBaseVNode("p",null,"  ",-1)),o[82]||(o[82]=createBaseVNode("p",null,"  ",-1)),o[83]||(o[83]=createBaseVNode("p",null,"   ",-1)),o[84]||(o[84]=createBaseVNode("p",null,"      ",-1)),o[85]||(o[85]=createBaseVNode("p",null,"   ",-1)),o[86]||(o[86]=createBaseVNode("p",null,"   ",-1)),o[87]||(o[87]=createBaseVNode("p",null,"",-1)),o[88]||(o[88]=createBaseVNode("h2",null,"2023.6.6 ",-1)),o[89]||(o[89]=createBaseVNode("p",null,"    S60 - 698WG ",-1)),o[90]||(o[90]=createBaseVNode("p",null,"  ",-1)),o[91]||(o[91]=createBaseVNode("p",null,"  ",-1)),o[92]||(o[92]=createBaseVNode("p",null,"",-1)),o[93]||(o[93]=createBaseVNode("p",null,"  ",-1)),o[94]||(o[94]=createBaseVNode("p",null,"  ",-1)),o[95]||(o[95]=createBaseVNode("p",null,"  ",-1)),o[96]||(o[96]=createBaseVNode("p",null,"  ",-1)),o[97]||(o[97]=createBaseVNode("p",null,"  ",-1)),createBaseVNode("video",{src:unref(useAssetsMarkdownImage)("IMG_0951.MOV"),controls:""},null,8,_hoisted_17),o[98]||(o[98]=createBaseVNode("p",null,"  ",-1)),o[99]||(o[99]=createBaseVNode("p",null,"  ",-1)),o[100]||(o[100]=createBaseVNode("p",null,"    360UI   ",-1)),o[101]||(o[101]=createBaseVNode("p",null,"  ",-1)),o[102]||(o[102]=createBaseVNode("p",null,"   ",-1)),o[103]||(o[103]=createBaseVNode("p",null,"",-1)),o[104]||(o[104]=createBaseVNode("h2",null,"2023.6.18 ",-1)),o[105]||(o[105]=createBaseVNode("p",null,"",-1)),o[106]||(o[106]=createBaseVNode("p",null,"  10    100  ",-1)),o[107]||(o[107]=createBaseVNode("p",null,"  B ",-1)),o[108]||(o[108]=createBaseVNode("p",null,"  ",-1)),o[109]||(o[109]=createBaseVNode("p",null," ",-1)),o[110]||(o[110]=createBaseVNode("p",null,"",-1)),o[111]||(o[111]=createBaseVNode("p",null,"  ",-1)),o[112]||(o[112]=createBaseVNode("p",null,"  ",-1)),o[113]||(o[113]=createBaseVNode("p",null,"  ",-1)),o[114]||(o[114]=createBaseVNode("p",null,"  ",-1)),o[115]||(o[115]=createBaseVNode("p",null,"     ",-1)),o[116]||(o[116]=createBaseVNode("p",null,"  ",-1)),o[117]||(o[117]=createBaseVNode("p",null,"   ",-1)),o[118]||(o[118]=createBaseVNode("p",null,"      ",-1)),o[119]||(o[119]=createBaseVNode("p",null,"  ",-1)),o[120]||(o[120]=createBaseVNode("p",null,"  ",-1)),o[121]||(o[121]=createBaseVNode("p",null,"   ",-1)),o[122]||(o[122]=createBaseVNode("p",null,"   ",-1)),o[123]||(o[123]=createBaseVNode("p",null,"  1 ",-1)),o[124]||(o[124]=createBaseVNode("p",null,"",-1)),o[125]||(o[125]=createBaseVNode("p",null,"",-1)),o[126]||(o[126]=createBaseVNode("p",null,"",-1)),o[127]||(o[127]=createBaseVNode("p",null,"  ",-1)),o[128]||(o[128]=createBaseVNode("p",null,"  100   ",-1)),o[129]||(o[129]=createBaseVNode("p",null," 95  200   ",-1)),o[130]||(o[130]=createBaseVNode("p",null,"     ",-1)),o[131]||(o[131]=createBaseVNode("p",null,"  ",-1)),o[132]||(o[132]=createBaseVNode("p",null,"  ",-1)),o[133]||(o[133]=createBaseVNode("p",null,"  ",-1)),o[134]||(o[134]=createBaseVNode("p",null,"   ",-1)),o[135]||(o[135]=createBaseVNode("p",null,"   ",-1)),o[136]||(o[136]=createBaseVNode("p",null,"  ",-1)),o[137]||(o[137]=createBaseVNode("p",null,"   ",-1)),o[138]||(o[138]=createBaseVNode("p",null,"    ",-1)),o[139]||(o[139]=createBaseVNode("p",null,"   ",-1)),o[140]||(o[140]=createBaseVNode("p",null,"  9    ",-1)),o[141]||(o[141]=createBaseVNode("p",null,"   ",-1)),o[142]||(o[142]=createBaseVNode("p",null,"",-1)),o[143]||(o[143]=createBaseVNode("h2",null,"2023.6.19-7.13 ",-1)),o[144]||(o[144]=createBaseVNode("p",null,"  ",-1)),o[145]||(o[145]=createBaseVNode("p",null,"  ",-1)),o[146]||(o[146]=createBaseVNode("p",null,"   ",-1)),o[147]||(o[147]=createBaseVNode("p",null,"   ",-1)),o[148]||(o[148]=createBaseVNode("p",null,"  ",-1)),o[149]||(o[149]=createBaseVNode("p",null,"  ",-1)),o[150]||(o[150]=createBaseVNode("p",null,"   ",-1)),o[151]||(o[151]=createBaseVNode("p",null,"    ",-1)),o[152]||(o[152]=createBaseVNode("p",null,"    ",-1)),o[153]||(o[153]=createBaseVNode("p",null,"   ",-1)),o[154]||(o[154]=createBaseVNode("p",null,"  5  ",-1)),o[155]||(o[155]=createBaseVNode("p",null,"   ",-1)),o[156]||(o[156]=createBaseVNode("p",null,"   ",-1)),o[157]||(o[157]=createBaseVNode("p",null,"  ",-1)),o[158]||(o[158]=createBaseVNode("p",null,"      ",-1)),o[159]||(o[159]=createBaseVNode("p",null,"  ",-1)),o[160]||(o[160]=createBaseVNode("p",null,"  ",-1)),o[161]||(o[161]=createBaseVNode("p",null,"   ",-1)),o[162]||(o[162]=createBaseVNode("p",null,"",-1)),o[163]||(o[163]=createBaseVNode("h2",null,"2023.7.14 ",-1)),o[164]||(o[164]=createBaseVNode("p",null,"  ",-1)),o[165]||(o[165]=createBaseVNode("p",null,"    ",-1)),o[166]||(o[166]=createBaseVNode("p",null,"  9  ",-1)),o[167]||(o[167]=createBaseVNode("p",null," 605   ",-1)),o[168]||(o[168]=createBaseVNode("p",null,"    ",-1)),o[169]||(o[169]=createBaseVNode("p",null,"  ",-1)),o[170]||(o[170]=createBaseVNode("p",null,"    11  ",-1)),o[171]||(o[171]=createBaseVNode("p",null,"  1  ",-1)),o[172]||(o[172]=createBaseVNode("p",null,"  ",-1)),o[173]||(o[173]=createBaseVNode("p",null,"  TDH  ",-1)),o[174]||(o[174]=createBaseVNode("p",null,"  ",-1)),o[175]||(o[175]=createBaseVNode("p",null,"",-1)),o[176]||(o[176]=createBaseVNode("p",null,"  4  ",-1)),o[177]||(o[177]=createBaseVNode("p",null," 4    360  ",-1)),o[178]||(o[178]=createBaseVNode("p",null,"   100 ",-1)),o[179]||(o[179]=createBaseVNode("p",null,"  ",-1)),o[180]||(o[180]=createBaseVNode("p",null,"   ",-1)),o[181]||(o[181]=createBaseVNode("p",null,"  ",-1)),o[182]||(o[182]=createBaseVNode("p",null,"     ",-1)),o[183]||(o[183]=createBaseVNode("p",null,"  ",-1)),o[184]||(o[184]=createBaseVNode("p",null,"   ",-1)),o[185]||(o[185]=createBaseVNode("p",null,"  ",-1)),o[186]||(o[186]=createBaseVNode("p",null,"  2 ",-1)),o[187]||(o[187]=createBaseVNode("p",null,"  100  ",-1)),o[188]||(o[188]=createBaseVNode("p",null,"  ",-1)),o[189]||(o[189]=createBaseVNode("p",null,"  ",-1)),o[190]||(o[190]=createBaseVNode("p",null,"  2021    ",-1)),o[191]||(o[191]=createBaseVNode("p",null,"   ",-1)),o[192]||(o[192]=createBaseVNode("p",null,"  ",-1)),o[193]||(o[193]=createBaseVNode("p",null,"    ",-1)),o[194]||(o[194]=createBaseVNode("p",null,"  ",-1)),o[195]||(o[195]=createBaseVNode("p",null,"  ",-1)),o[196]||(o[196]=createBaseVNode("p",null,"",-1)),o[197]||(o[197]=createBaseVNode("p",null,"  ",-1)),o[198]||(o[198]=createBaseVNode("p",null,"  ",-1)),o[199]||(o[199]=createBaseVNode("p",null,"    ",-1)),o[200]||(o[200]=createBaseVNode("p",null,"  7  14   ",-1)),o[201]||(o[201]=createBaseVNode("p",null,"  ",-1)),o[202]||(o[202]=createBaseVNode("p",null,"  ",-1)),o[203]||(o[203]=createBaseVNode("p",null,"  ",-1)),o[204]||(o[204]=createBaseVNode("p",null,"",-1)),o[205]||(o[205]=createBaseVNode("h2",null,"2023.8.11 ",-1)),o[206]||(o[206]=createBaseVNode("p",null,"  ",-1)),o[207]||(o[207]=createBaseVNode("p",null,"  ",-1)),o[208]||(o[208]=createBaseVNode("p",null,"   ",-1)),o[209]||(o[209]=createBaseVNode("p",null,"   ",-1)),o[210]||(o[210]=createBaseVNode("p",null,"  ",-1)),o[211]||(o[211]=createBaseVNode("p",null," Fairy Tale  ",-1)),o[212]||(o[212]=createBaseVNode("p",null,"  ",-1)),o[213]||(o[213]=createBaseVNode("p",null,"",-1)),o[214]||(o[214]=createBaseVNode("p",null,"  ",-1)),o[215]||(o[215]=createBaseVNode("p",null,"  ",-1)),o[216]||(o[216]=createBaseVNode("p",null,"   ",-1)),o[217]||(o[217]=createBaseVNode("p",null,"   ",-1)),o[218]||(o[218]=createBaseVNode("p",null,"",-1)),o[219]||(o[219]=createBaseVNode("h2",null,"2023.8.29 ",-1)),o[220]||(o[220]=createBaseVNode("p",null,"  ",-1)),o[221]||(o[221]=createBaseVNode("p",null,"  ",-1)),o[222]||(o[222]=createBaseVNode("p",null,"  ",-1)),o[223]||(o[223]=createBaseVNode("p",null,"  ",-1)),o[224]||(o[224]=createBaseVNode("p",null,"  1      ",-1)),o[225]||(o[225]=createBaseVNode("p",null,"  ",-1)),o[226]||(o[226]=createBaseVNode("p",null,"  ",-1)),o[227]||(o[227]=createBaseVNode("p",null,"  ",-1)),o[228]||(o[228]=createBaseVNode("p",null,"    ",-1)),o[229]||(o[229]=createBaseVNode("p",null,"  ",-1)),o[230]||(o[230]=createBaseVNode("p",null,"  ",-1)),o[231]||(o[231]=createBaseVNode("p",null,"  ",-1)),o[232]||(o[232]=createBaseVNode("p",null,"  ",-1)),o[233]||(o[233]=createBaseVNode("p",null,"  ",-1)),o[234]||(o[234]=createBaseVNode("p",null,"    ",-1)),o[235]||(o[235]=createBaseVNode("p",null,"  TDH    ",-1)),o[236]||(o[236]=createBaseVNode("p",null,"    ",-1)),o[237]||(o[237]=createBaseVNode("p",null,"  2023   ",-1)),o[238]||(o[238]=createBaseVNode("p",null,"  ",-1)),o[239]||(o[239]=createBaseVNode("p",null,"   ",-1)),o[240]||(o[240]=createBaseVNode("p",null,"",-1)),o[241]||(o[241]=createBaseVNode("h2",null,"2024 ",-1)),o[242]||(o[242]=createBaseVNode("p",null,"  2024  ",-1)),o[243]||(o[243]=createBaseVNode("p",null,"  KFCKFC  ",-1)),o[244]||(o[244]=createBaseVNode("p",null,"  ",-1)),o[245]||(o[245]=createBaseVNode("p",null,"  KFC ",-1)),o[246]||(o[246]=createBaseVNode("p",null,"    ",-1)),o[247]||(o[247]=createBaseVNode("p",null,"",-1)),o[248]||(o[248]=createBaseVNode("p",null,"  ",-1)),o[249]||(o[249]=createBaseVNode("p",null,"  ",-1)),o[250]||(o[250]=createBaseVNode("p",null,"    ",-1)),o[251]||(o[251]=createBaseVNode("p",null,"  ",-1)),o[252]||(o[252]=createBaseVNode("p",null,"  ",-1)),o[253]||(o[253]=createBaseVNode("p",null,"  ",-1)),o[254]||(o[254]=createBaseVNode("p",null,"  ",-1)),o[255]||(o[255]=createBaseVNode("p",null,"  ",-1)),o[256]||(o[256]=createBaseVNode("p",null,"",-1)),o[257]||(o[257]=createBaseVNode("p",null,"  ",-1)),o[258]||(o[258]=createBaseVNode("p",null,"  ",-1)),o[259]||(o[259]=createBaseVNode("p",null,"  ",-1)),o[260]||(o[260]=createBaseVNode("p",null,"  ",-1)),o[261]||(o[261]=createBaseVNode("p",null,"   ",-1)),o[262]||(o[262]=createBaseVNode("p",null,"  ",-1)),o[263]||(o[263]=createBaseVNode("p",null,"  100   ",-1)),o[264]||(o[264]=createBaseVNode("p",null,"",-1)),o[265]||(o[265]=createBaseVNode("p",null,"  ",-1)),o[266]||(o[266]=createBaseVNode("p",null,"  lulu  ",-1)),o[267]||(o[267]=createBaseVNode("p",null,"  ",-1)),o[268]||(o[268]=createBaseVNode("p",null,"  ",-1)),o[269]||(o[269]=createBaseVNode("p",null,"",-1)),o[270]||(o[270]=createBaseVNode("h2",null,"2024.3.2 ",-1)),o[271]||(o[271]=createBaseVNode("p",null,"    ",-1)),o[272]||(o[272]=createBaseVNode("p",null,"  ",-1)),o[273]||(o[273]=createBaseVNode("p",null,"  ",-1)),o[274]||(o[274]=createBaseVNode("p",null,"  ",-1)),o[275]||(o[275]=createBaseVNode("p",null,"  ",-1)),o[276]||(o[276]=createBaseVNode("p",null,"  BM  ",-1)),o[277]||(o[277]=createBaseVNode("p",null,"  ",-1)),o[278]||(o[278]=createBaseVNode("p",null,"  ",-1)),o[279]||(o[279]=createBaseVNode("p",null,"  ",-1)),o[280]||(o[280]=createBaseVNode("p",null,"  ",-1)),o[281]||(o[281]=createBaseVNode("p",null,"      ",-1)),o[282]||(o[282]=createBaseVNode("p",null,"  ",-1)),o[283]||(o[283]=createBaseVNode("p",null,"  ",-1)),o[284]||(o[284]=createBaseVNode("p",null,"   ",-1)),o[285]||(o[285]=createBaseVNode("p",null,"   ",-1)),o[286]||(o[286]=createBaseVNode("p",null,"",-1)),o[287]||(o[287]=createBaseVNode("p",null,"  ",-1)),o[288]||(o[288]=createBaseVNode("p",null,"  RW  fly  RW  RW  RW fly  fly  RW   ",-1)),o[289]||(o[289]=createBaseVNode("p",null,"  ",-1)),o[290]||(o[290]=createBaseVNode("p",null,"     ",-1)),o[291]||(o[291]=createBaseVNode("p",null,"  9  ",-1)),o[292]||(o[292]=createBaseVNode("p",null,"  ",-1)),o[293]||(o[293]=createBaseVNode("p",null,"    ",-1)),o[294]||(o[294]=createBaseVNode("p",null,"  ",-1)),o[295]||(o[295]=createBaseVNode("p",null,"   ",-1)),o[296]||(o[296]=createBaseVNode("p",null,"    ",-1)),o[297]||(o[297]=createBaseVNode("p",null,"",-1)),o[298]||(o[298]=createBaseVNode("p",null,"",-1)),o[299]||(o[299]=createBaseVNode("h2",null,"2024.3.15 ",-1)),o[300]||(o[300]=createBaseVNode("p",null,"   ",-1)),o[301]||(o[301]=createBaseVNode("p",null,"   ",-1)),o[302]||(o[302]=createBaseVNode("p",null,"  ",-1)),o[303]||(o[303]=createBaseVNode("p",null,"   ",-1)),o[304]||(o[304]=createBaseVNode("p",null,"  ",-1)),o[305]||(o[305]=createBaseVNode("p",null,"   ",-1)),o[306]||(o[306]=createBaseVNode("p",null,"   ",-1)),o[307]||(o[307]=createBaseVNode("p",null,"  ",-1)),o[308]||(o[308]=createBaseVNode("p",null,"     ",-1)),o[309]||(o[309]=createBaseVNode("p",null,"     ",-1)),o[310]||(o[310]=createBaseVNode("p",null,"   ",-1)),o[311]||(o[311]=createBaseVNode("p",null,"  MBTI   ",-1)),o[312]||(o[312]=createBaseVNode("p",null,"     ",-1)),o[313]||(o[313]=createBaseVNode("p",null,"    ",-1)),o[314]||(o[314]=createBaseVNode("p",null,"  ",-1)),o[315]||(o[315]=createBaseVNode("p",null," 2024  3  20      ",-1)),o[316]||(o[316]=createBaseVNode("p",null,"",-1)),o[317]||(o[317]=createBaseVNode("p",null,"  ",-1)),o[318]||(o[318]=createBaseVNode("p",null,"",-1)),o[319]||(o[319]=createBaseVNode("p",null," 2024     ",-1)),o[320]||(o[320]=createBaseVNode("p",null,"",-1)),o[321]||(o[321]=createBaseVNode("h2",null,"2024.5.27 ",-1)),o[322]||(o[322]=createBaseVNode("p",null,"  2.74  32.88  142.86  1000  24000  1440000  86400000  ",-1)),o[323]||(o[323]=createBaseVNode("p",null,"  110  ",-1)),o[324]||(o[324]=createBaseVNode("p",null,"  ",-1)),o[325]||(o[325]=createBaseVNode("p",null,"  ",-1)),o[326]||(o[326]=createBaseVNode("p",null,"   ",-1)),o[327]||(o[327]=createBaseVNode("p",null,"  BM       ",-1)),o[328]||(o[328]=createBaseVNode("p",null,"     ",-1)),o[329]||(o[329]=createBaseVNode("p",null,"   ",-1)),o[330]||(o[330]=createBaseVNode("p",null,"",-1)),o[331]||(o[331]=createBaseVNode("p",null,"  ",-1)),o[332]||(o[332]=createBaseVNode("p",null,"",-1)),o[333]||(o[333]=createBaseVNode("p",null,"",-1)),o[334]||(o[334]=createBaseVNode("p",null,"    ",-1)),o[335]||(o[335]=createBaseVNode("p",null,"",-1)),o[336]||(o[336]=createBaseVNode("p",null,"",-1)),o[337]||(o[337]=createBaseVNode("p",null,"  BM  BM 996  ",-1)),o[338]||(o[338]=createBaseVNode("p",null,"  ",-1)),o[339]||(o[339]=createBaseVNode("p",null,"  ",-1)),o[340]||(o[340]=createBaseVNode("p",null,"    ",-1)),o[341]||(o[341]=createBaseVNode("p",null,"  ",-1)),o[342]||(o[342]=createBaseVNode("p",null,"  ",-1)),o[343]||(o[343]=createBaseVNode("p",null,"  ",-1)),o[344]||(o[344]=createBaseVNode("p",null,"  ",-1)),o[345]||(o[345]=createBaseVNode("p",null,"  ",-1)),o[346]||(o[346]=createBaseVNode("p",null,"   ",-1)),o[347]||(o[347]=createBaseVNode("p",null,"   BM  ",-1)),o[348]||(o[348]=createBaseVNode("p",null,"   ",-1)),o[349]||(o[349]=createBaseVNode("p",null,"  ",-1)),o[350]||(o[350]=createBaseVNode("p",null,"   ",-1)),o[351]||(o[351]=createBaseVNode("p",null,"  2025  1  30  ",-1)),o[352]||(o[352]=createBaseVNode("p",null,"",-1)),o[353]||(o[353]=createBaseVNode("h2",null,"",-1)),o[354]||(o[354]=createBaseVNode("p",null,"",-1)),o[355]||(o[355]=createBaseVNode("p",null,"",-1)),o[356]||(o[356]=createBaseVNode("p",null,"",-1)),o[357]||(o[357]=createBaseVNode("p",null,"",-1)),o[358]||(o[358]=createBaseVNode("p",null,"",-1)),o[359]||(o[359]=createBaseVNode("p",null,"",-1)),o[360]||(o[360]=createBaseVNode("p",null,"",-1)),o[361]||(o[361]=createBaseVNode("p",null,"",-1)),o[362]||(o[362]=createBaseVNode("p",null,"",-1)),o[363]||(o[363]=createBaseVNode("p",null,"",-1)),o[364]||(o[364]=createBaseVNode("p",null,"",-1))])])])]),_:1})]))}}),LetterView=_export_sfc(_sfc_main$3,[["__scopeId","data-v-5fe14665"]]),_sfc_main$2=defineComponent({__name:"BlurReveal",props:{duration:{default:1},delay:{default:2},blur:{default:"20px"},yOffset:{default:20},class:{}},setup(a){const t=a,n=ref(null),o=ref([]),s=useSlots(),l=ref([]);onMounted(()=>{watchEffect(()=>{l.value=s.default?s.default():[]})});function u(){return{opacity:0,filter:`blur(${t.blur})`,y:t.yOffset}}function c(){return{opacity:1,filter:"blur(0px)",y:0}}return(f,d)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:n,class:normalizeClass(t.class)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(g,y)=>(openBlock(),createBlock(unref(Motion),{key:y,ref_for:!0,ref_key:"childElements",ref:o,as:"div",initial:u(),"in-view":c(),transition:{duration:t.duration,easing:"easeInOut",delay:t.delay*y}},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g)))]),_:2},1032,["initial","in-view","transition"]))),128))],2))}}),_hoisted_1$1=["src","alt"],_sfc_main$1=defineComponent({__name:"ExpandableGallery",props:{images:{},class:{}},setup(a){const t=a;return(n,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex h-96 w-full gap-2",t.class))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.images,s=>(openBlock(),createElementBlock("div",{key:s,class:"relative flex h-full flex-1 cursor-pointer overflow-hidden rounded-xl transition-all duration-500 ease-in-out hover:flex-[3]"},[createBaseVNode("img",{class:"relative h-full object-cover",src:s,alt:s},null,8,_hoisted_1$1)]))),128))],2))}}),_hoisted_1={class:"p-4"},_hoisted_2={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_3={class:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300"},_hoisted_4={class:"text-lg italic mb-4"},_hoisted_5={class:"flex justify-between items-center"},_hoisted_6={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_7={class:"text-sm font-medium text-primary"},_sfc_main=defineComponent({__name:"MiaoView",setup(a){const t=[{content:"",date:"2025-03-15",category:""},{content:"",date:"2025-03-20",category:""},{content:"",date:"2025-04-01",category:""},{content:"",date:"2025-04-05",category:""},{content:"",date:"2025-04-08",category:""},{content:"",date:"2025-04-10",category:""}],n=[useAssetsAvatar("1"),useAssetsAvatar("2"),useAssetsAvatar("3"),useAssetsAvatar("4","jpeg"),useAssetsAvatar("5","jpeg"),useAssetsAvatar("6","jpeg"),useAssetsAvatar("7"),useAssetsAvatar("8","jpg"),useAssetsAvatar("9","jpg"),useAssetsAvatar("10","jpg"),useAssetsAvatar("11","jpg")];return(o,s)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode$1(_sfc_main$2,{delay:.2,duration:.75},{default:withCtx(()=>s[0]||(s[0]=[createBaseVNode("h1",{class:"text-2xl font-bold mb-6"},"",-1),createBaseVNode("p",{class:"mb-6 text-base"},"  ",-1)])),_:1}),createBaseVNode("div",_hoisted_2,[(openBlock(),createElementBlock(Fragment,null,renderList(t,(l,u)=>createBaseVNode("div",{key:u,class:"quote-card"},[createBaseVNode("div",_hoisted_3,[createBaseVNode("p",_hoisted_4,toDisplayString(l.content),1),createBaseVNode("div",_hoisted_5,[createBaseVNode("span",_hoisted_6,toDisplayString(l.date),1),createBaseVNode("span",_hoisted_7,toDisplayString(l.category),1)])])])),64))]),createVNode$1(_sfc_main$1,{images:n,class:"p-4"})]))}}),MiaoView=_export_sfc(_sfc_main,[["__scopeId","data-v-cce3cd28"]]),router=createRouter({history:createWebHistory("/BelatedVoice"),routes:[{path:"/",redirect:"/psych-activity"},{path:"/psych-activity",name:"psych-activity",component:PsychActivityView},{path:"/timeline",name:"timeline",component:_sfc_main$6},{path:"/countdown",name:"countdown",component:CountdownView},{path:"/letter",name:"letter",component:LetterView},{path:"/miao",name:"miao",component:MiaoView}]}),app=createApp(_sfc_main$g);app.use(createPinia());app.use(router);app.mount("#app");
